/*! Copyright (c) 2022 WhatsApp Inc. All Rights Reserved. */
(self.webpackChunkwhatsapp_web_client = self.webpackChunkwhatsapp_web_client || []).push([
    [275], {
        1737: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                e.cartItemCollection.reset(), e.set("message", void 0), e.trigger("change:cartItemCollection"), (0, r.default)(e)
            };
            var r = a(n(9477))
        },
        16670: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e, t) {
                var n = r.CartCollection.findCart(e);
                return n.cartItemCollection.remove(t), n.trigger("change:cartItemCollection"), (0, i.default)(n), n.itemCount
            };
            var r = n(2133),
                i = a(n(9477))
        },
        12096: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.createProductFromRefreshCartItem = C, t.isPriceMatch = x, t.matchCartItemsToProducts = function(e, t) {
                var n = u.CatalogCollection.get((0, o.createWid)(e.id)),
                    a = [],
                    r = [],
                    f = !0;
                n && e.cartItemCollection.forEach((function(o) {
                    var l = n.productCollection.get(o.id),
                        u = t && t.products.find((function(e) {
                            return e.id === o.id
                        }));
                    if (u = function(e, t) {
                            if (e && "deleted" === e.status) return void t.productCollection.remove(e.id);
                            return e
                        }(u, n), !t && l) {
                        var s = function(e, t) {
                            var n = function(e, t) {
                                return e.priceAmount1000 === (0, h.getActivePrice)(t) && e.currency === t.currency && e.name === t.name && e.imageHash === t.imageHash
                            }(e, t);
                            n || e.set({
                                priceAmount1000: (0, h.getActivePrice)(t),
                                currency: t.currency,
                                name: t.name,
                                imageHash: t.imageHash
                            }, {
                                silent: !0
                            });
                            return n
                        }(o, l);
                        f = f && s, a.push({
                            product: l,
                            cartItem: o
                        })
                    } else if (u) {
                        var d = function(e, t) {
                            var n = !t || function(e, t) {
                                var n, a, r = (0, h.getActivePrice)(g(t));
                                return x(e.priceAmount1000, r) && (!(0, i.isString)(e.currency) && !(0, i.isString)(t.currency) || e.currency === t.currency) && e.name === t.name && e.imageHash === (null === (n = t.media) || void 0 === n || null === (a = n.image) || void 0 === a ? void 0 : a.id)
                            }(e, t);
                            if (!n && t) {
                                var a = g(t);
                                e.set({
                                    priceAmount1000: (0, h.getActivePrice)(a),
                                    currency: a.currency,
                                    name: a.name,
                                    imageHash: a.imageHash
                                }, {
                                    silent: !0
                                })
                            }
                            return n
                        }(o, u);
                        f = f && d, a.push({
                            product: C(u, e.id),
                            cartItem: o
                        })
                    } else f = !1, r.push(o.id)
                })), n || (0, s.default)(e);
                f || (r.length && e.cartItemCollection.remove(r), e.trigger("change:cartItemCollection"), d.Cmd.openModal((0, v.jsx)(c.default, {
                    onOK: function() {
                        d.Cmd.closeModal()
                    },
                    children: l.fbt._("One or more items in your cart have been updated", null, {
                        hk: "1jr9xE"
                    })
                })));
                return (0, m.default)(e), a
            }, t.parsePrice = _;
            var r = a(n(81109)),
                i = n(43393),
                o = n(84460),
                l = n(48360),
                u = n(72743),
                s = a(n(1737)),
                d = n(65901),
                c = a(n(86777)),
                f = n(3544),
                p = n(8842),
                h = n(56712),
                m = a(n(9477)),
                v = n(85893);

            function g(e) {
                var t, n, a, r, i, o, l, u;
                return {
                    id: e.id,
                    name: null !== (t = e.name) && void 0 !== t ? t : "",
                    imageCdnUrl: null === (n = e.media) || void 0 === n || null === (a = n.image) || void 0 === a ? void 0 : a.request_image_url,
                    imageHash: null === (r = e.media) || void 0 === r || null === (i = r.image) || void 0 === i ? void 0 : i.id,
                    currency: e.currency,
                    priceAmount1000: _(e.price),
                    salePriceAmount1000: _(null === (o = e.sale_price) || void 0 === o ? void 0 : o.price),
                    salePriceStartDate: (0, p.parseDateValue)(null === (l = e.sale_price) || void 0 === l ? void 0 : l.start_date),
                    salePriceEndDate: (0, p.parseDateValue)(null === (u = e.sale_price) || void 0 === u ? void 0 : u.end_date)
                }
            }

            function _(e) {
                return "string" == typeof e ? e.length > 0 ? parseInt(e, 10) : null : e
            }

            function x(e, t) {
                var n = _(e),
                    a = _(t);
                return (0, i.isNumber)(n) && (0, i.isNumber)(a) ? n === a : !(0, i.isNumber)(n) && !(0, i.isNumber)(a)
            }

            function C(e, t) {
                return new f.Product((0, r.default)((0, r.default)({}, g(e)), {}, {
                    catalogWid: (0, o.createWid)(t),
                    productMsgMediaData: null,
                    imageCount: 1,
                    fetchedFromServer: !0,
                    t: Date.now() / 1e3,
                    old: !1
                }))
            }
        },
        53205: (e, t, n) => {
            "use strict";
            var a = n(21314).default;
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e, t) {
                if (0 === e.cartItemCollection.length) return a.resolve({
                    products: [],
                    price: {}
                });
                var n = e.cartItemCollection.map((function(e) {
                    return e.id
                }));
                return (0, i.refreshCart)((0, r.createWid)(e.id), n, o.CartCollection.imageWidth, o.CartCollection.imageHeight, t)
            };
            var r = n(84460),
                i = n(86548),
                o = n(2133)
        },
        28217: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function() {
                return p.apply(this, arguments)
            };
            var r = a(n(87757)),
                i = a(n(48926)),
                o = n(84460),
                l = n(72743),
                u = a(n(57393)),
                s = n(62356),
                d = a(n(98576)),
                c = a(n(9477));

            function f(e) {
                var t, n, a = e.cartItemCollection.at(0);
                if (null == a) return "";
                var r = l.CatalogCollection.get((0, o.createWid)(e.id)),
                    i = null == r ? void 0 : r.productCollection.get(a.id),
                    s = null == i || null === (t = i.getProductImageCollectionHead()) || void 0 === t ? void 0 : t.mediaData;
                return null == s ? "" : s.preview instanceof u.default && null !== (n = s.preview.getBase64()) && void 0 !== n ? n : ""
            }

            function p() {
                return (p = (0, i.default)(r.default.mark((function e(t, n) {
                    var a;
                    return r.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2, (0, s.createOrder)(n.id, t.cartItemCollection.toArray());
                            case 2:
                                return a = e.sent, e.next = 5, (0, d.default)(n, a, t.itemCount, f(t), t.message);
                            case 5:
                                return (0, c.default)(t), e.abrupt("return", a.id);
                            case 7:
                            case "end":
                                return e.stop()
                        }
                    }), e)
                })))).apply(this, arguments)
            }
        },
        50882: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e, t) {
                e.set("message", t), (0, r.default)(e)
            };
            var r = a(n(9477))
        },
        78107: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e, t, n) {
                var a = r.CartCollection.findCart(e),
                    o = a.cartItemCollection.get(t.id);
                null == o || o.set("quantity", n), a.trigger("change:cartItemCollection"), (0, i.default)(a)
            };
            var r = n(2133),
                i = a(n(9477))
        },
        98576: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function() {
                return p.apply(this, arguments)
            };
            var r = a(n(87757)),
                i = a(n(48926)),
                o = n(14585),
                l = n(73466),
                u = a(n(90797)),
                s = a(n(67082)),
                d = n(1577),
                c = n(78383),
                f = n(26237);

            function p() {
                return (p = (0, i.default)(r.default.mark((function e(t, n, a, i, o) {
                    var l, u, p;
                    return r.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                if (l = (0, d.getMaybeMeUser)(), u = h(t, n, a, i, o), !s.default.equals(t.id, l)) {
                                    e.next = 4;
                                    break
                                }
                                return e.abrupt("return", (0, c.addAndSendMsgToChat)(t, u)[0].then((function() {})).catch((function(e) {
                                    throw __LOG__(3)`Order message send to chat failure: ${e}`, e
                                })));
                            case 4:
                                return e.prev = 4, e.next = 7, (0, c.addAndSendMsgToChat)(t, u)[1];
                            case 7:
                                if ((p = e.sent) && p === f.SendMsgResult.OK) {
                                    e.next = 10;
                                    break
                                }
                                throw new Error("Order message SendMsgResult failure status");
                            case 10:
                                e.next = 16;
                                break;
                            case 12:
                                throw e.prev = 12, e.t0 = e.catch(4), __LOG__(3)`Order message send to chat failure: ${e.t0}`, e.t0;
                            case 16:
                            case "end":
                                return e.stop()
                        }
                    }), e, null, [
                        [4, 12]
                    ])
                })))).apply(this, arguments)
            }

            function h(e, t, n, a, r) {
                var i = (0, d.getMaybeMeUser)(),
                    s = {
                        type: "order",
                        ack: o.ACK.CLOCK,
                        from: i,
                        id: new u.default({
                            from: i,
                            to: e.id,
                            id: u.default.newId(),
                            participant: void 0,
                            selfDir: "out"
                        }),
                        local: !0,
                        isNewMsg: !0,
                        self: "out",
                        t: l.Clock.globalUnixTime(),
                        to: e.id,
                        orderId: t.id,
                        token: t.token,
                        orderTitle: e.name || e.formattedTitle,
                        sellerJid: e.id.toString({
                            legacy: !0
                        }),
                        thumbnail: a,
                        itemCount: n,
                        message: r
                    },
                    c = t.price.total;
                return c && c.length > 0 && (s.totalAmount1000 = parseInt(c, 10)), t.price.currency && t.price.currency.length > 0 && (s.totalCurrencyCode = t.price.currency), s
            }
        },
        94751: (e, t, n) => {
            "use strict";
            var a = n(21314).default,
                r = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function() {
                return g.apply(this, arguments)
            };
            var i = r(n(87757)),
                o = r(n(48926)),
                l = n(15586),
                u = n(73435),
                s = n(48360),
                d = n(24224),
                c = n(65901),
                f = n(4450),
                p = n(94520),
                h = n(50214),
                m = n(30194),
                v = n(85893);

            function g() {
                return (g = (0, o.default)(i.default.mark((function e(t) {
                    var n, r, g, _, x, C, y, b, S, j, k, E;
                    return i.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                return n = t.name, r = t.desc, g = t.icon, _ = t.existingGroups, x = t.newGroups, C = (0, f.sendCreateCommunity)({
                                    name: n,
                                    desc: r
                                }), y = (0, o.default)(i.default.mark((function e() {
                                    return i.default.wrap((function(e) {
                                        for (;;) switch (e.prev = e.next) {
                                            case 0:
                                                return e.next = 2, C;
                                            case 2:
                                                return e.abrupt("return", new d.ActionType(s.fbt._("", null, {
                                                    hk: "2NkvWT"
                                                })));
                                            case 3:
                                            case "end":
                                                return e.stop()
                                        }
                                    }), e)
                                })))(), b = new d.ActionType(s.fbt._("", null, {
                                    hk: "YrkdK"
                                })), c.Cmd.openToast((0, v.jsx)(d.ActionToast, {
                                    id: (0, d.genId)(),
                                    initialAction: b,
                                    pendingAction: y
                                })), e.prev = 5, e.next = 8, C;
                            case 8:
                                if (S = e.sent, j = S.wid, null == g) {
                                    e.next = 14;
                                    break
                                }
                                return k = m.ProfilePicThumbCollection.gadd(j), e.next = 14, (0, h.setProfilePic)(k, g, g);
                            case 14:
                                return E = [], x.length > 0 && (E = x.map((function(e) {
                                    var t = e.subject,
                                        n = e.icon,
                                        a = e.ephemeralDuration;
                                    return (0, p.createGroup)(t, n, n, [], a, j)
                                }))), _.length && E.push((0, f.sendLinkSubgroups)({
                                    parentGroupId: j,
                                    subgroupIds: _.map((function(e) {
                                        return e.id
                                    }))
                                })), e.next = 19, a.all(E);
                            case 19:
                                e.next = 24;
                                break;
                            case 21:
                                e.prev = 21, e.t0 = e.catch(5), (0, l.filteredCatch)(u.ServerStatusCodeError, (function() {}))(e.t0);
                            case 24:
                            case "end":
                                return e.stop()
                        }
                    }), e, null, [
                        [5, 21]
                    ])
                })))).apply(this, arguments)
            }
        },
        84868: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function() {
                return p.apply(this, arguments)
            };
            var r = a(n(87757)),
                i = a(n(48926)),
                o = n(15586),
                l = n(73435),
                u = n(48360),
                s = n(24224),
                d = n(65901),
                c = n(4450),
                f = n(85893);

            function p() {
                return (p = (0, i.default)(r.default.mark((function e(t, n) {
                    var a, p, h;
                    return r.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                return a = (0, c.sendLinkSubgroups)({
                                    parentGroupId: t,
                                    subgroupIds: n
                                }), p = (0, i.default)(r.default.mark((function e() {
                                    return r.default.wrap((function(e) {
                                        for (;;) switch (e.prev = e.next) {
                                            case 0:
                                                return e.next = 2, a;
                                            case 2:
                                                return e.abrupt("return", new s.ActionType(u.fbt._("", null, {
                                                    hk: "1DLGEO"
                                                })));
                                            case 3:
                                            case "end":
                                                return e.stop()
                                        }
                                    }), e)
                                })))(), h = new s.ActionType(u.fbt._("", null, {
                                    hk: "3H04jH"
                                })), d.Cmd.openToast((0, f.jsx)(s.ActionToast, {
                                    id: (0, s.genId)(),
                                    initialAction: h,
                                    pendingAction: p
                                })), e.prev = 4, e.next = 7, a;
                            case 7:
                                e.next = 12;
                                break;
                            case 9:
                                e.prev = 9, e.t0 = e.catch(4), (0, o.filteredCatch)(l.ServerStatusCodeError, (function() {}))(e.t0);
                            case 12:
                            case "end":
                                return e.stop()
                        }
                    }), e, null, [
                        [4, 9]
                    ])
                })))).apply(this, arguments)
            }
        },
        7080: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.setPushname = function(e) {
                return m(e)
            };
            var r = a(n(87757)),
                i = a(n(48926)),
                o = n(15586),
                l = n(73435),
                u = n(24224),
                s = n(65901),
                d = n(73929),
                c = a(n(9844)),
                f = a(n(19472)),
                p = n(95521),
                h = n(85893);

            function m() {
                return v.apply(this, arguments)
            }

            function v() {
                return (v = (0, i.default)(r.default.mark((function e(t) {
                    var n, a, i, v, g, _, x = arguments;
                    return r.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                return n = x.length > 1 && void 0 !== x[1] ? x[1] : (0, u.genId)(), a = x.length > 2 && void 0 !== x[2] && x[2], i = (0, f.default)(t), v = new u.ActionType(c.default.t(121)), g = d.Conn.pushname, _ = i.then((function() {
                                    var e = a ? void 0 : {
                                        actionText: c.default.t(133),
                                        actionHandler: function() {
                                            return m(g, n, !0)
                                        }
                                    };
                                    return new u.ActionType(c.default.t(119), e)
                                })).catch((0, o.filteredCatch)(l.ServerStatusCodeError, (function(e) {
                                    if (e.status >= 400) return new u.ActionType(c.default.t(120))
                                }))).catch((function() {
                                    throw __LOG__(3)`models:conn:setPushname dropped`, new u.ActionType(c.default.t(120), {
                                        actionText: c.default.t(129),
                                        actionHandler: function() {
                                            return m(status, n)
                                        }
                                    })
                                })), s.Cmd.openToast((0, h.jsx)(u.ActionToast, {
                                    id: n,
                                    initialAction: v,
                                    pendingAction: _
                                })), e.next = 9, i;
                            case 9:
                                e.sent._duplicate || (0, p.setPushnameLocally)(t);
                            case 11:
                            case "end":
                                return e.stop()
                        }
                    }), e)
                })))).apply(this, arguments)
            }
        },
        97469: (e, t, n) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function() {
                r.Cmd.openToast((0, o.jsx)(i.Toast, {
                    msg: a.fbt._("Something went wrong", null, {
                        hk: "2TMztB"
                    }),
                    duration: 6e3,
                    id: (0, i.genId)()
                }))
            };
            var a = n(48360),
                r = n(65901),
                i = n(92428),
                o = n(85893)
        },
        12036: (e, t, n) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.useGdprDelete = function() {
                return (0, r.useSendIq)((0, a.wap)("iq", {
                    xmlns: "urn:xmpp:whatsapp:account",
                    to: a.S_WHATSAPP_NET,
                    type: "get",
                    id: (0, a.generateId)()
                }, (0, a.wap)("gdpr", {
                    action: "delete"
                })), i.GdprStatusWapParser)
            };
            var a = n(78363),
                r = n(78620),
                i = n(25678)
        },
        90960: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.useGdprDownload = function() {
                var e = (0, s.useState)(!1),
                    t = (0, r.default)(e, 2),
                    n = t[0],
                    a = t[1];
                return [n, function(e) {
                    a(!0), (0, d.gdprDownloadMedia)(e).then((function(e) {
                        return o.FileSaver.downloadData((0, i.default)(e.mediaBlob, "mediaObject.mediaBlob").formData(), String(u.fbt._("My Account Info", null, {
                            hk: "IqRu3"
                        })), l.AllowedFileExtensions.ZIP)
                    })).finally((function() {
                        return a(!1)
                    }))
                }]
            };
            var r = a(n(63038)),
                i = a(n(272)),
                o = n(55080),
                l = n(28085),
                u = n(48360),
                s = n(67294),
                d = n(35465)
        },
        6015: (e, t, n) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.useGdprRequest = function() {
                return (0, r.useSendIq)((0, a.wap)("iq", {
                    xmlns: "urn:xmpp:whatsapp:account",
                    to: a.S_WHATSAPP_NET,
                    type: "get",
                    id: (0, a.generateId)()
                }, (0, a.wap)("gdpr", {
                    action: "request"
                })), i.GdprStatusWapParser)
            };
            var a = n(78363),
                r = n(78620),
                i = n(25678)
        },
        25678: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.GdprStatusWapParser = void 0, t.useGdprStatus = function() {
                var e = function(e) {
                        (0, d.default)((function() {
                            h = (0, o.generateId)()
                        }));
                        var t = (0, s.useState)(h),
                            n = (0, r.default)(t, 2),
                            a = n[0],
                            i = n[1],
                            l = (0, s.useMemo)((function() {
                                return e(a)
                            }), [e, a]);
                        return [(0, f.sendSuspensefulIq)(l, p), function() {
                            return i((0, o.generateId)())
                        }]
                    }((function(e) {
                        return (0, o.wap)("iq", {
                            xmlns: "urn:xmpp:whatsapp:account",
                            to: o.S_WHATSAPP_NET,
                            type: "get",
                            id: e
                        }, (0, o.wap)("gdpr", {
                            action: "status"
                        }))
                    })),
                    t = (0, r.default)(e, 2),
                    n = t[0],
                    a = t[1];
                return [n.result, a]
            };
            var r = a(n(63038)),
                i = a(n(272)),
                o = n(78363),
                l = n(84470),
                u = n(26845),
                s = n(67294),
                d = a(n(9378)),
                c = n(28568),
                f = n(55318),
                p = new l.WapParser("parseStatus", (function(e) {
                    if (!e.hasChild("gdpr")) return null;
                    var t = e.child("gdpr");
                    if (t.hasChild("document")) {
                        var n = t.child("document");
                        return {
                            creation: n.attrTime("creation"),
                            documentMessage: (0, i.default)((0, u.decodeProtobuf)(c.MessageSpec, n.contentBytes()).documentMessage, "decodeProtobuf(MessageSpec, document.contentBytes()).documentMessage"),
                            expiration: n.attrTime("expiration"),
                            type: "GdprAvailableStatusResponse"
                        }
                    }
                    return {
                        timestamp: t.attrTime("timestamp"),
                        type: "GdprPendingStatusResponse"
                    }
                }));
            t.GdprStatusWapParser = p;
            var h = (0, o.generateId)()
        },
        44851: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.syncAllSubgroups = void 0, t.syncAndGetAdminedGroups = function() {
                return d.apply(this, arguments)
            };
            var r = a(n(87757)),
                i = a(n(48926)),
                o = n(4481),
                l = n(20050),
                u = n(85660),
                s = u.restoreGroupParticipants;

            function d() {
                return (d = (0, i.default)(r.default.mark((function e() {
                    var t, n;
                    return r.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                return e.prev = 0, e.next = 3, (0, u.restoreGroupParticipants)();
                            case 3:
                                return t = l.ContactCollection.getGroupContacts(), n = t.filter((function(e) {
                                    var t, n, a = null === (t = o.ChatCollection.get(e.id.toString())) || void 0 === t || null === (n = t.groupMetadata) || void 0 === n ? void 0 : n.participants;
                                    return null != a && a.iAmAdmin()
                                })), e.abrupt("return", n);
                            case 8:
                                return e.prev = 8, e.t0 = e.catch(0), __LOG__(3)`Failed to sync group metadata`, e.abrupt("return", []);
                            case 12:
                            case "end":
                                return e.stop()
                        }
                    }), e, null, [
                        [0, 8]
                    ])
                })))).apply(this, arguments)
            }
            t.syncAllSubgroups = s
        },
        10066: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.privacyWebNameToServerName = function(e) {
                switch (e) {
                    case "readReceipts":
                        return "readreceipts";
                    case "groupAdd":
                        return "groupadd";
                    case "profilePicture":
                        return "profile";
                    case "about":
                        return "status";
                    case "lastSeen":
                        return "last"
                }
            }, t.setPrivacyForOneCategory = function() {
                return v.apply(this, arguments)
            };
            var r = a(n(87757)),
                i = a(n(59713)),
                o = a(n(81109)),
                l = a(n(48926)),
                u = a(n(272)),
                s = n(73435),
                d = n(1577),
                c = n(87957),
                f = n(54226),
                p = n(73160);

            function h(e) {
                switch (e) {
                    case "readreceipts":
                        return "readReceipts";
                    case "groupadd":
                        return "groupAdd";
                    case "profile":
                        return "profilePicture";
                    case "status":
                        return "about";
                    case "last":
                        return "lastSeen"
                }
            }

            function m(e) {
                switch (e) {
                    case "status":
                        return c.PrivacyDisallowedListType.About;
                    case "groupadd":
                        return c.PrivacyDisallowedListType.GroupAdd;
                    case "last":
                        return c.PrivacyDisallowedListType.LastSeen;
                    case "profile":
                        return c.PrivacyDisallowedListType.ProfilePicture;
                    default:
                        throw new Error("castToPrivacyDisallowedListType: invalid name")
                }
            }

            function v() {
                return (v = (0, l.default)(r.default.mark((function e(t, n) {
                    var a, l, v, g, _, x;
                    return r.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2, (0, f.setPrivacy)([t]);
                            case 2:
                                if (1 === (a = e.sent).length) {
                                    e.next = 5;
                                    break
                                }
                                throw new Error("setPrivacy should return one response");
                            case 5:
                                if (!((l = a[0]) instanceof s.ServerStatusCodeError)) {
                                    e.next = 11;
                                    break
                                }
                                if (409 !== l.statusCode || "contact_blacklist" !== t.value) {
                                    e.next = 10;
                                    break
                                }
                                return e.next = 10, (0, p.syncSinglePrivacyDisallowedList)(m(t.name));
                            case 10:
                                throw l;
                            case 11:
                                if (v = t.name, g = t.value, _ = h(v), (0, d.setUserPrivacySettings)((0, o.default)((0, o.default)({}, (0, d.getUserPrivacySettings)()), {}, (0, i.default)({}, _, g))), "contact_blacklist" !== g) {
                                    e.next = 18;
                                    break
                                }
                                return x = {
                                    id: m(v),
                                    disallowedList: (0, u.default)(n, "contactExceptList").map((function(e) {
                                        return e.toString()
                                    })),
                                    dhash: (0, u.default)(l.dhash, "response.dhash")
                                }, e.next = 18, (0, c.getTable)().createOrReplace(x);
                            case 18:
                            case "end":
                                return e.stop()
                        }
                    }), e)
                })))).apply(this, arguments)
            }
        },
        72676: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.getTwoFactor = function() {
                return u.apply(this, arguments)
            }, t.setTwoFactor = function() {
                return s.apply(this, arguments)
            };
            var r = a(n(87757)),
                i = a(n(48926)),
                o = n(57687),
                l = a(n(32316));

            function u() {
                return (u = (0, i.default)(r.default.mark((function e() {
                    var t, n, a;
                    return r.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                return e.prev = 0, e.next = 3, (0, o.getTwoFactor)();
                            case 3:
                                return a = e.sent, e.abrupt("return", {
                                    code: null !== (t = null == a ? void 0 : a.code) && void 0 !== t && t,
                                    email: null !== (n = null == a ? void 0 : a.email) && void 0 !== n && n
                                });
                            case 7:
                                return e.prev = 7, e.t0 = e.catch(0), __LOG__(3, !0, void 0, !0)`get2FA failed - ${e.t0}`, SEND_LOGS("get-2FA-failed"), e.abrupt("return", {
                                    code: !1,
                                    email: !1
                                });
                            case 11:
                            case "end":
                                return e.stop()
                        }
                    }), e, null, [
                        [0, 7]
                    ])
                })))).apply(this, arguments)
            }

            function s() {
                return (s = (0, i.default)(r.default.mark((function e(t, n) {
                    return r.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                return e.prev = 0, e.next = 3, (0, l.default)(t, n);
                            case 3:
                                e.next = 9;
                                break;
                            case 5:
                                throw e.prev = 5, e.t0 = e.catch(0), __LOG__(3, !0, void 0, !0)`set2FA failed -${e.t0}`, SEND_LOGS("set-2FA-failed"), e.t0;
                            case 9:
                            case "end":
                                return e.stop()
                        }
                    }), e, null, [
                        [0, 5]
                    ])
                })))).apply(this, arguments)
            }
        },
        55318: (e, t, n) => {
            "use strict";
            var a = n(21314).default;
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.sendSuspensefulIq = function(e, t) {
                var n = e.attrs.id;
                if (i.has(n)) {
                    var o = i.get(n);
                    if (o instanceof a) throw o;
                    return o
                }
                var l = (0, r.sendIq)(e, t);
                throw i.set(n, l), l.then((function(e) {
                    return i.set(n, e)
                })), l
            };
            var r = n(34733),
                i = new Map
        },
        57687: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.getTwoFactor = function() {
                return f.apply(this, arguments)
            };
            var r = a(n(87757)),
                i = a(n(48926)),
                o = n(47006),
                l = n(78363),
                u = n(84470),
                s = n(73435),
                d = n(34733),
                c = new u.WapParser("getTwoFactor", (function(e) {
                    if (e.hasChild("2fa")) return {
                        code: e.child("2fa").hasChild("code"),
                        email: e.child("2fa").hasChild("email")
                    }
                }));

            function f() {
                return (f = (0, i.default)(r.default.mark((function e(t) {
                    var n;
                    return r.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2, (0, d.sendIq)(p(t), c);
                            case 2:
                                if ((n = e.sent).success) {
                                    e.next = 5;
                                    break
                                }
                                throw new s.ServerStatusCodeError(n.errorCode, n.errorText);
                            case 5:
                                return e.abrupt("return", n.result);
                            case 6:
                            case "end":
                                return e.stop()
                        }
                    }), e)
                })))).apply(this, arguments)
            }

            function p(e) {
                var t = [];
                return null != e && t.push(new l.WapNode("code", void 0, o.Binary.build(e).readByteArray())), (0, l.wap)("iq", {
                    to: l.S_WHATSAPP_NET,
                    type: "get",
                    xmlns: "urn:xmpp:whatsapp:account",
                    id: (0, l.generateId)()
                }, new l.WapNode("2fa", void 0, t))
            }
        },
        4450: (e, t, n) => {
            "use strict";
            var a = n(21314).default,
                r = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.sendCreateCommunity = function() {
                return v.apply(this, arguments)
            }, t.sendLinkSubgroups = function() {
                return _.apply(this, arguments)
            };
            var i = r(n(87757)),
                o = r(n(48926)),
                l = n(56985),
                u = n(78363),
                s = n(84470),
                d = n(73435),
                c = n(90089),
                f = n(84460),
                p = n(34733),
                h = n(15824),
                m = new s.WapParser("createCommunityReplyParser", (function(e) {
                    var t = e.child("group"),
                        n = (0, f.createWid)(`${t.attrString("id")}@g.us`);
                    if (!n.isGroup()) throw Error("createGroupReplyParser: invalid group id");
                    return {
                        wid: n,
                        subject: t.attrString("subject"),
                        creator: (0, c.userJidToUserWid)(t.attrUserJid("creator")),
                        ts: t.attrTime("creation")
                    }
                }));

            function v() {
                return (v = (0, o.default)(i.default.mark((function e(t) {
                    var n, r, o, s, c;
                    return i.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                return n = t.name, r = t.desc, o = (0, l.randomHex)(8), s = (0, u.wap)("iq", {
                                    to: u.G_US,
                                    type: "set",
                                    xmlns: "w:g2",
                                    id: (0, u.generateId)()
                                }, (0, u.wap)("create", {
                                    subject: (0, u.CUSTOM_STRING)(n),
                                    key: (0, u.CUSTOM_STRING)(o)
                                }, (0, u.wap)("parent", null), null != r && r.length > 0 ? (0, u.wap)("description", {
                                    id: (0, u.generateId)()
                                }, (0, u.wap)("body", null, r)) : null)), e.next = 5, (0, p.sendIq)(s, m);
                            case 5:
                                if (!(c = e.sent).success) {
                                    e.next = 8;
                                    break
                                }
                                return e.abrupt("return", c.result);
                            case 8:
                                return __LOG__(2)`sendCreateCommunity failed: ${c.errorCode}:${c.errorType}`, e.abrupt("return", a.reject(new d.ServerStatusCodeError(c.errorCode, c.errorText)));
                            case 10:
                            case "end":
                                return e.stop()
                        }
                    }), e)
                })))).apply(this, arguments)
            }
            var g = new s.WapParser("linkSubgroupsReplyParser", (function(e) {
                return e.assertTag("iq"), e.assertAttr("type", "result"), {
                    id: e.attrString("id"),
                    linkedGroupJids: e.child("links").child("link").mapChildren((function(e) {
                        return e.attrGroupJid("jid")
                    }))
                }
            }));

            function _() {
                return (_ = (0, o.default)(i.default.mark((function e(t) {
                    var n, r, o, l, s;
                    return i.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                return n = t.parentGroupId, r = t.subgroupIds, o = r.map((function(e) {
                                    return (0, u.wap)("group", {
                                        jid: (0, h.JID)(e)
                                    })
                                })), l = (0, u.wap)("iq", {
                                    to: (0, h.JID)(n),
                                    type: "set",
                                    xmlns: "w:g2",
                                    id: (0, u.generateId)()
                                }, (0, u.wap)("links", null, (0, u.wap)("link", {
                                    link_type: "sub_group"
                                }, o))), e.next = 5, (0, p.sendIq)(l, g);
                            case 5:
                                if (!(s = e.sent).success) {
                                    e.next = 8;
                                    break
                                }
                                return e.abrupt("return", s.result);
                            case 8:
                                return __LOG__(2)`sendLinkSubgroups failed: ${s.errorCode}:${s.errorType}`, e.abrupt("return", a.reject(new d.ServerStatusCodeError(s.errorCode, s.errorText)));
                            case 10:
                            case "end":
                                return e.stop()
                        }
                    }), e)
                })))).apply(this, arguments)
            }
        },
        77225: (e, t, n) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.getIdentityVerificationDataJob = function(e) {
                return (0, i.NonPersistJob)("getIdentityVerificationData", (function(e) {
                    return (0, r.getIdentityVerificationData)(e)
                }), {
                    priority: a.JOB_PRIORITY.SKIP
                }).waitUntilCompleted({
                    jid: e
                })
            };
            var a = n(66066),
                r = n(32126),
                i = n(81484)
        },
        32316: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function() {
                return f.apply(this, arguments)
            };
            var r = a(n(87757)),
                i = a(n(48926)),
                o = n(47006),
                l = n(78363),
                u = n(84470),
                s = n(73435),
                d = n(34733),
                c = new u.WapParser("set2FA", (function(e) {
                    return {
                        stanzaId: e.attrString("id")
                    }
                }));

            function f() {
                return (f = (0, i.default)(r.default.mark((function e(t, n) {
                    var a, i;
                    return r.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                return a = [new l.WapNode("code", void 0, o.Binary.build(t).readByteArray())], null != n && a.push(new l.WapNode("email", void 0, o.Binary.build(n).readByteArray())), e.next = 4, (0, d.sendIq)((0, l.wap)("iq", {
                                    to: l.S_WHATSAPP_NET,
                                    type: "set",
                                    xmlns: "urn:xmpp:whatsapp:account",
                                    id: (0, l.generateId)()
                                }, new l.WapNode("2fa", void 0, a)), c);
                            case 4:
                                if ((i = e.sent).success) {
                                    e.next = 7;
                                    break
                                }
                                throw new s.ServerStatusCodeError(i.errorCode, i.errorText);
                            case 7:
                            case "end":
                                return e.stop()
                        }
                    }), e)
                })))).apply(this, arguments)
            }
        },
        54226: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.PrivacyUserAction = void 0, t.setPrivacy = function() {
                return p.apply(this, arguments)
            };
            var r = a(n(87757)),
                i = a(n(48926)),
                o = n(78363),
                l = n(84470),
                u = n(73435),
                s = n(34733),
                d = n(15824),
                c = new l.WapParser("setPrivacyParser", (function(e) {
                    return e.child("privacy").mapChildrenWithTag("category", (function(e) {
                        if ("error" === e.attrString("value")) {
                            var t = e.child("error");
                            return new u.ServerStatusCodeError(t.attrInt("code"), t.attrString("text"))
                        }
                        return {
                            name: e.attrString("name"),
                            value: e.attrString("value"),
                            dhash: e.maybeAttrString("dhash")
                        }
                    }))
                })),
                f = n(76672)({
                    Add: "add",
                    Remove: "remove"
                });

            function p() {
                return (p = (0, i.default)(r.default.mark((function e(t) {
                    var n, a;
                    return r.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                return n = t.map((function(e) {
                                    var t = e.name,
                                        n = e.value,
                                        a = e.users,
                                        r = e.dhash;
                                    return (0, o.wap)("category", {
                                        name: (0, o.CUSTOM_STRING)(t),
                                        value: (0, o.CUSTOM_STRING)(n),
                                        dhash: null == a ? o.DROP_ATTR : (0, o.CUSTOM_STRING)(null != r ? r : "none")
                                    }, null == a ? null : a.map((function(e) {
                                        var t = e.action,
                                            n = e.wid;
                                        return (0, o.wap)("user", {
                                            action: (0, o.CUSTOM_STRING)(t),
                                            jid: (0, d.JID)(n)
                                        })
                                    })))
                                })), e.next = 3, (0, s.sendIq)((0, o.wap)("iq", {
                                    to: o.S_WHATSAPP_NET,
                                    type: "set",
                                    xmlns: "privacy",
                                    id: (0, o.generateId)()
                                }, (0, o.wap)("privacy", null, n)), c);
                            case 3:
                                if (!0 !== (a = e.sent).success) {
                                    e.next = 6;
                                    break
                                }
                                return e.abrupt("return", a.result);
                            case 6:
                                throw new u.ServerStatusCodeError(a.errorCode, a.errorText);
                            case 7:
                            case "end":
                                return e.stop()
                        }
                    }), e)
                })))).apply(this, arguments)
            }
            t.PrivacyUserAction = f
        },
        4049: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.sendSupportRequest = function() {
                return h.apply(this, arguments)
            };
            var r = a(n(87757)),
                i = a(n(48926)),
                o = n(78363),
                l = n(84470),
                u = n(41197),
                s = n(34733),
                d = n(1577),
                c = n(15824);

            function f(e, t) {
                __LOG__(3, void 0, void 0, !0)`supportRequest error: code=${e} message=${null!=t?t:""}`, SEND_LOGS("supportRequest")
            }
            var p = new l.WapParser("supportResponse", (function(e) {
                var t = e.child("response");
                return t.hasAttr("error_code") ? {
                    type: "error",
                    errorCode: t.attrInt("error_code", 0, 1e3)
                } : (t.assertAttr("status", "ok"), {
                    type: "success",
                    message: t.child("message").contentString(),
                    ticketId: t.child("ticket_id").contentString()
                })
            }));

            function h() {
                return (h = (0, i.default)(r.default.mark((function e(t, n) {
                    var a, i, l, h, m;
                    return r.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                return a = (0, o.wap)("iq", {
                                    from: (0, c.USER_JID)((0, d.getMeUser)()),
                                    id: (0, o.generateId)(),
                                    smax_id: "3",
                                    to: o.S_WHATSAPP_NET,
                                    type: "set",
                                    xmlns: "fb:thrift_iq"
                                }, (0, o.wap)("description", null, t), null != n ? (0, o.wap)("debug_information_json", null, n) : null), e.next = 3, (0, s.sendIq)(a, p);
                            case 3:
                                if (!(i = e.sent).success) {
                                    e.next = 12;
                                    break
                                }
                                if ("success" !== (m = i.result).type) {
                                    e.next = 9;
                                    break
                                }
                                return null != n && (__LOG__(2)`InAppSupport: Uploading logs for ticketId=${m.ticketId}`, (0, u.upload)({
                                    reason: "user-report",
                                    immediate: !0,
                                    force: !0,
                                    persist: !0,
                                    ticketId: m.ticketId
                                }).then((function(e) {
                                    __LOG__(2)`InAppSupport: Logs upload complete for ticketId=${m.ticketId}, logsId=${e}`
                                }))), e.abrupt("return", {
                                    type: "success",
                                    message: m.message,
                                    ticketId: m.ticketId
                                });
                            case 9:
                                return f(l = null !== (h = m.errorCode) && void 0 !== h ? h : 400), e.abrupt("return", {
                                    type: "error",
                                    errorCode: l
                                });
                            case 12:
                                return f(i.errorCode, i.errorText), e.abrupt("return", {
                                    type: "error",
                                    errorCode: i.errorCode
                                });
                            case 14:
                            case "end":
                                return e.stop()
                        }
                    }), e)
                })))).apply(this, arguments)
            }
        },
        32126: (e, t, n) => {
            "use strict";
            var a = n(21314).default,
                r = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.getIdentityVerificationData = function() {
                return j.apply(this, arguments)
            };
            var i = r(n(63038)),
                o = r(n(87757)),
                l = r(n(48926)),
                u = n(47006),
                s = n(32559),
                d = n(75544),
                c = n(953),
                f = n(1577),
                p = n(21283),
                h = r(n(36512)),
                m = n(77251);
            var v = /^([17]|2[07]|3[0123469]|4[013456789]|5[12345678]|6[0123456]|8[1246]|9[0123458]|\d{3})\d*?(\d{4,6})$/;

            function g(e) {
                var t = v.exec(function(e) {
                    return e.user.split("@")[0]
                }(e));
                return u.Binary.build(t ? t[1] + t[2] : e.toString()).readByteArray()
            }

            function _(e, t) {
                return `00000${256*e.getUint32(t,!1)+e.getUint8(t+4)}`.slice(-5)
            }

            function x() {
                return C.apply(this, arguments)
            }

            function C() {
                return (C = (0, l.default)(o.default.mark((function e(t, n) {
                    var r, i, l, s;
                    return o.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                for (r = a.resolve(u.Binary.build(0, 0, n, t).readByteArray()), i = 0; i < 5200; i++) r = r.then((function(e) {
                                    return self.crypto.subtle.digest({
                                        name: "SHA-512"
                                    }, u.Binary.build(e, n).readByteArray())
                                }));
                                return e.next = 4, r;
                            case 4:
                                return l = e.sent, s = new DataView(l instanceof ArrayBuffer ? l.slice(0, 30) : l.slice(0, 30).buffer), e.abrupt("return", [_(s, 0), _(s, 5), _(s, 10), _(s, 15), _(s, 20), _(s, 25)].join(""));
                            case 7:
                            case "end":
                                return e.stop()
                        }
                    }), e)
                })))).apply(this, arguments)
            }

            function y() {
                return b.apply(this, arguments)
            }

            function b() {
                return (b = (0, l.default)(o.default.mark((function e(t, n, r, i) {
                    var l;
                    return o.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2, a.all([x(t, n), x(r, i)]);
                            case 2:
                                return l = e.sent, e.abrupt("return", l.sort().join(""));
                            case 4:
                            case "end":
                                return e.stop()
                        }
                    }), e)
                })))).apply(this, arguments)
            }

            function S(e, t, n, a) {
                var r = new u.Binary;
                return (0, s.encodeProtobuf)(c.CombinedFingerprintSpec, {
                    version: 0,
                    localFingerprint: {
                        publicKey: t,
                        identifier: e
                    },
                    remoteFingerprint: {
                        publicKey: a,
                        identifier: n
                    }
                }, r), r.readBuffer()
            }

            function j() {
                return (j = (0, l.default)(o.default.mark((function e(t) {
                    var n, r, l, u, s, c, v, _, x, C, b, j, k, E, w, T;
                    return o.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                return n = t.jid, r = (0, f.assertGetMe)(), e.next = 4, (0, d.getFanOutListJob)([n, r]);
                            case 4:
                                return l = e.sent, e.prev = 5, e.next = 8, (0, p.ensureE2ESessions)(l);
                            case 8:
                                e.next = 13;
                                break;
                            case 10:
                                e.prev = 10, e.t0 = e.catch(5), __LOG__(4, void 0, new Error)`ensureE2ESessions with error`;
                            case 13:
                                return u = [], s = [], l.forEach((function(e) {
                                    e.user === r.user ? s.push(e) : u.push(e)
                                })), e.prev = 16, e.next = 19, (0, m.getAllIdentityKeysBytesOrThrow)(u);
                            case 19:
                                return c = e.sent, e.next = 22, (0, m.getAllIdentityKeysBytesOrThrow)(s);
                            case 22:
                                return v = e.sent, e.next = 25, h.default.getIdentityKeyPair();
                            case 25:
                                if (_ = e.sent) {
                                    e.next = 29;
                                    break
                                }
                                return __LOG__(3)`getIdentityVerificationData: missing identity for device verification`, e.abrupt("return", null);
                            case 29:
                                return v.push(new Uint8Array(_.pubKey)), x = (0, m.identityKeysToBinary)(v), C = (0, m.identityKeysToBinary)(c), b = g((0, f.getMeUser)()), j = g(n), e.next = 36, a.all([y(b, x, j, C), S(b, x, j, C)]);
                            case 36:
                                if (null != (k = e.sent)) {
                                    e.next = 39;
                                    break
                                }
                                return e.abrupt("return", null);
                            case 39:
                                return E = (0, i.default)(k, 2), w = E[0], T = E[1], e.abrupt("return", {
                                    binary: T,
                                    string: w
                                });
                            case 43:
                                return e.prev = 43, e.t1 = e.catch(16), __LOG__(3)`getIdentityVerificationData: error ${e.t1} when trying to generate identtiy QR code`, e.abrupt("return", null);
                            case 47:
                            case "end":
                                return e.stop()
                        }
                    }), e, null, [
                        [5, 10],
                        [16, 43]
                    ])
                })))).apply(this, arguments)
            }
        },
        16419: (e, t, n) => {
            "use strict";
            var a = n(21314).default,
                r = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.editBusinessProfile = t.editBusinessCompliance = void 0;
            var i = n(78577),
                o = n(18889),
                l = n(9513),
                u = n(35519),
                s = n(24036),
                d = r(n(54270));
            t.editBusinessProfile = function(e) {
                var t;
                return (0, l.qplPointProfileSave)("datasource_start"), (t = (0, i.isMDBackend)() ? (0, o.editBusinessProfile)(e) : (0, s.editBusinessProfile)(e)).then((function() {
                    (0, l.qplPointProfileSave)("datasource_end")
                })), t
            };
            t.editBusinessCompliance = function(e) {
                var t;
                return (0, i.isMDBackend)() ? (t = (0, u.setMerchantCompliance)(e)) || (t = a.reject(new Error("md business compliance profile called from a non-md build"))) : t = d.default.editBusinessComplianceWebd(e), t
            }
        },
        24036: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.editBusinessProfile = t.convertProfileToRequestData = void 0;
            var r = a(n(87757)),
                i = a(n(81109)),
                o = a(n(48926)),
                l = a(n(63038)),
                u = a(n(43269)),
                s = n(73435),
                d = a(n(35719)),
                c = n(74950),
                f = function(e) {
                    return e >= 200 && e <= 299
                },
                p = function(e) {
                    if (e) return {
                        category: e.map((function(e) {
                            return {
                                id: e.id
                            }
                        }))
                    }
                },
                h = function(e) {
                    if (e) {
                        var t = e.note,
                            n = e.timezone,
                            a = e.config,
                            r = [];
                        for (var i in a) {
                            var o = a[i],
                                s = o.mode,
                                d = o.hours;
                            if (d) {
                                var c, f = (0, u.default)(d);
                                try {
                                    for (f.s(); !(c = f.n()).done;) {
                                        var p = (0, l.default)(c.value, 2),
                                            h = p[0],
                                            m = p[1];
                                        r.push({
                                            day_of_week: i,
                                            mode: s,
                                            open_time: h,
                                            close_time: m
                                        })
                                    }
                                } catch (e) {
                                    f.e(e)
                                } finally {
                                    f.f()
                                }
                            } else r.push({
                                day_of_week: i,
                                mode: s
                            })
                        }
                        return {
                            timezone: n,
                            business_hours_note: t,
                            business_hours_config: r
                        }
                    }
                },
                m = function(e) {
                    var t = e.address,
                        n = e.description,
                        a = e.email,
                        r = e.website,
                        i = e.businessHours,
                        o = e.categories,
                        l = (0, d.default)({
                            address: t,
                            description: n,
                            email: a,
                            website: r,
                            business_hours: h(i),
                            categories: p(o)
                        });
                    return Object.keys(l).length > 0 ? l : void 0
                };
            t.convertProfileToRequestData = m;
            var v = function() {
                var e = (0, o.default)(r.default.mark((function e(t) {
                    var n, a, o, l, u;
                    return r.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                if (n = m(t)) {
                                    e.next = 4;
                                    break
                                }
                                return __LOG__(3)`empty profile received, ignoring save`, e.abrupt("return");
                            case 4:
                                return a = (0, i.default)({
                                    v: 2
                                }, n), e.prev = 5, e.next = 8, c.Socket.send2({
                                    data: ["action", "editBusinessProfile", a],
                                    retryOn5xx: !0
                                });
                            case 8:
                                if (o = e.sent, l = o.status, !f(l)) {
                                    e.next = 13;
                                    break
                                }
                                return e.abrupt("return");
                            case 13:
                                throw __LOG__(3)`error editing business profile webd: ${l}`, new s.ServerStatusCodeError(l, "edit business profile");
                            case 17:
                                throw e.prev = 17, e.t0 = e.catch(5), u = e.t0, __LOG__(3)`error editing business profile: ${u}`, u;
                            case 22:
                            case "end":
                                return e.stop()
                        }
                    }), e, null, [
                        [5, 17]
                    ])
                })));
                return function() {
                    return e.apply(this, arguments)
                }
            }();
            t.editBusinessProfile = v
        },
        19472: (e, t, n) => {
            "use strict";
            var a = n(21314).default,
                r = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function() {
                return h.apply(this, arguments)
            };
            var i = r(n(87757)),
                o = r(n(48926)),
                l = n(79746),
                u = n(73435),
                s = n(78577),
                d = r(n(58603)),
                c = r(n(15224)),
                f = n(43163),
                p = r(n(54270));

            function h() {
                return (h = (0, o.default)(i.default.mark((function e(t) {
                    var n, r, o;
                    return i.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                if (!(0, s.isMDBackend)() || !t) {
                                    e.next = 5;
                                    break
                                }
                                return n = (0, l.unixTimeMs)(), r = d.default.getPushnameMutation(n, t), (0, c.default)(t), e.abrupt("return", (0, f.lockForSync)([], [r], (function() {
                                    return a.resolve()
                                })).then((function() {
                                    return {
                                        _duplicate: null
                                    }
                                })));
                            case 5:
                                return e.next = 7, p.default.setPushname(t);
                            case 7:
                                if (!(o = e.sent).status || 200 === o.status) {
                                    e.next = 10;
                                    break
                                }
                                throw new u.ServerStatusCodeError(o.status);
                            case 10:
                                return e.abrupt("return", {
                                    _duplicate: o._duplicate
                                });
                            case 11:
                            case "end":
                                return e.stop()
                        }
                    }), e)
                })))).apply(this, arguments)
            }
        },
        35465: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.gdprDownloadMedia = function(e) {
                var t = (0, u.getOrCreateMediaObject)((0, i.encodeB64)((0, o.default)(e.fileSha256, "documentMessage.fileSha256"))),
                    n = {
                        debugHint: "setMediaObjectValues",
                        deprecatedMms3Url: (0, o.default)(e.directPath, "documentMessage.directPath"),
                        encFilehash: (0, i.encodeB64)((0, o.default)(e.fileEncSha256, "documentMessage.fileEncSha256")),
                        mediaKey: (0, i.encodeB64)((0, o.default)(e.mediaKey, "documentMessage.mediaKey")),
                        mediaKeyTimestamp: (0, l.unixTime)(),
                        type: d.MEDIA_TYPES.DOCUMENT
                    };
                return t.entries.addEntry(n), t.consolidate((0, r.default)((0, r.default)({}, n), {}, {
                    filehash: (0, i.encodeB64)((0, o.default)(e.fileSha256, "documentMessage.fileSha256")),
                    type: s.TYPE.DOCUMENT
                })), (0, f.downloadMedia)({
                    downloadEvenIfExpensive: !0,
                    downloadOrigin: c.default.DOWNLOAD_ORIGIN_TYPE.GDPR,
                    mediaObject: t,
                    mediaType: d.MEDIA_TYPES.DOCUMENT,
                    mimetype: "application/zip",
                    rmrReason: c.default.WEBC_RMR_REASON_CODE.DOCUMENT_DOWNLOAD
                }).then((function() {
                    return t
                }))
            };
            var r = a(n(81109)),
                i = n(18135),
                o = a(n(272)),
                l = n(79746),
                u = (n(40922), n(73998)),
                s = n(41655),
                d = n(57412),
                c = a(n(50507)),
                f = n(79651)
        },
        953: (e, t, n) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.FingerprintDataSpec = t.CombinedFingerprintSpec = void 0;
            var a = n(2309),
                r = {};
            t.FingerprintDataSpec = r;
            var i = {};
            t.CombinedFingerprintSpec = i, r.internalSpec = {
                publicKey: [1, a.TYPES.BYTES],
                identifier: [2, a.TYPES.BYTES]
            }, i.internalSpec = {
                version: [1, a.TYPES.UINT32],
                localFingerprint: [2, a.TYPES.MESSAGE, r],
                remoteFingerprint: [3, a.TYPES.MESSAGE, r]
            }
        },
        37616: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.OrderStatusLabels = void 0;
            var r, i = a(n(59713)),
                o = n(48360),
                l = n(45311),
                u = (r = {}, (0, i.default)(r, String(l.OrderStatus.Pending), o.fbt._("Pending", null, {
                    hk: "4GysRv"
                })), (0, i.default)(r, String(l.OrderStatus.Processing), o.fbt._("Processing", null, {
                    hk: "42EV23"
                })), (0, i.default)(r, String(l.OrderStatus.PartiallyShipped), o.fbt._("Partially shipped", null, {
                    hk: "2GgHwQ"
                })), (0, i.default)(r, String(l.OrderStatus.Shipped), o.fbt._("Shipped", null, {
                    hk: "30IDPY"
                })), (0, i.default)(r, String(l.OrderStatus.Complete), o.fbt._("Completed", null, {
                    hk: "1e4PVy"
                })), (0, i.default)(r, String(l.OrderStatus.Canceled), o.fbt._("Cancel", null, {
                    hk: "2TY0Hb"
                })), r);
            t.OrderStatusLabels = u
        },
        240: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.validateURL = t.validateEmail = t.EMAIL_REGEX = void 0;
            var r = a(n(10646)),
                i = new RegExp(/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/);
            t.EMAIL_REGEX = i;
            t.validateEmail = function(e) {
                return !e || i.test(e)
            };
            t.validateURL = function(e) {
                return !e || r.default.URL_REGEX.test(e)
            }
        },
        88768: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.BusinessAddressField = function(e) {
                var t = e.businessProfile,
                    n = e.activeField,
                    a = e.rawBusinessProfile,
                    i = e.sessionId,
                    u = e.value,
                    c = e.validate,
                    f = e.error,
                    p = e.lowProfile,
                    m = void 0 === p || p,
                    v = e.onActive,
                    g = e.onChange,
                    _ = e.onSaveBusinessProfile,
                    x = e.onError,
                    C = e.onCancel,
                    y = (0, d.jsx)(o.BusinessProfileFormField, {
                        activeField: n,
                        fieldKey: "address",
                        fieldMetric: s.default.BUSINESS_PROFILE_FIELD.ADDRESS,
                        formatForSave: function() {
                            return {
                                address: u
                            }
                        },
                        lowProfile: m,
                        originalValue: t.address,
                        placeholder: r.fbt._("Business Address", null, {
                            hk: "HF4CB"
                        }),
                        rawBusinessProfile: a,
                        sessionId: i,
                        textFieldConfig: {
                            maxLength: l.BUSINESS_PROFILE_FIELDS_LENGTH.ADDRESS
                        },
                        value: u,
                        validate: c,
                        error: f,
                        onActive: v,
                        onChange: g,
                        onSaveBusinessProfile: _,
                        onError: x,
                        onCancel: C
                    }),
                    b = t.latitude,
                    S = t.longitude,
                    j = null != b && null != S ? (0, d.jsx)(h, {
                        activeField: n,
                        value: u,
                        latitude: b,
                        longitude: S
                    }) : null;
                return (0, d.jsxs)(d.Fragment, {
                    children: [y, j]
                })
            };
            var r = n(48360),
                i = a(n(56720)),
                o = n(56300),
                l = n(96127),
                u = a(n(83719)),
                s = a(n(50507)),
                d = n(85893),
                c = {
                    position: "g0rxnol2",
                    display: "p357zi0d",
                    alignItems: "gndfcl4n",
                    justifyContent: "ac2vgrno",
                    paddingTop: "ppypbuwx",
                    paddingEnd: "fhfm09ip",
                    paddingBottom: "s8gyl5p1",
                    paddingStart: "mjn2akup",
                    marginTop: "c6axuxzh",
                    marginEnd: "jnwc1y2a",
                    marginBottom: "mpdn4nr2",
                    marginStart: "svoq16ka"
                },
                f = {
                    position: "lhggkp7q",
                    top: "qq0sjtgm",
                    right: "grt5ktjy",
                    bottom: "jxacihee",
                    left: "tukmaf4q",
                    display: "p357zi0d",
                    alignItems: "gndfcl4n",
                    justifyContent: "ac2vgrno"
                },
                p = {
                    paddingTop: "fbgy3m38",
                    paddingEnd: "bcymb0na",
                    paddingBottom: "oq31bsqd",
                    paddingStart: "e8k79tju",
                    fontSize: "f8jlpxt4",
                    color: "o4oavg8t",
                    textTransform: "ofejerhi",
                    backgroundColor: "o8fg3bdd",
                    borderTop: "dl47i6rc",
                    borderEnd: "pdo9fnbd",
                    borderBottom: "n8n2xqzm",
                    borderStart: "hqx4twni",
                    borderTopStartRadius: "g1jn521u",
                    borderTopEndRadius: "mrnekr2l",
                    borderBottomEndRadius: "wu0i2wpa",
                    borderBottomStartRadius: "bbs9k8l5"
                };

            function h(e) {
                var t = e.activeField,
                    n = e.latitude,
                    a = e.longitude,
                    o = e.value,
                    l = "address" === (null == t ? void 0 : t.fieldKey) ? (0, d.jsx)("div", {
                        className: (0, i.default)(f),
                        children: (0, d.jsx)("div", {
                            className: (0, i.default)(p),
                            children: r.fbt._("Edit map on mobile", null, {
                                hk: "3AK8Fa"
                            })
                        })
                    }) : null;
                return (0, d.jsxs)("div", {
                    style: {
                        height: 96
                    },
                    className: (0, i.default)(c),
                    children: [l, (0, d.jsx)(u.default, {
                        lat: n,
                        lng: a,
                        name: o,
                        width: 312,
                        height: 96
                    })]
                })
            }
        },
        82728: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.businessHours,
                    n = t.note,
                    a = t.timezone,
                    m = (0, f.useState)(e.businessHours.mode || w),
                    v = (0, d.default)(m, 2),
                    g = v[0],
                    C = v[1],
                    y = (0, f.useState)((function() {
                        var t, n = e.businessHours.days,
                            a = {},
                            r = (0, s.default)(n);
                        try {
                            for (r.s(); !(t = r.n()).done;) {
                                var i = t.value,
                                    o = i.dayKey,
                                    l = i.closed,
                                    u = i.hours,
                                    d = i.dayName;
                                a[o] = {
                                    closed: l,
                                    hours: u || [T()],
                                    dayKey: o,
                                    dayName: d
                                }
                            }
                        } catch (e) {
                            r.e(e)
                        } finally {
                            r.f()
                        }
                        return a
                    })),
                    L = (0, d.default)(y, 2),
                    D = L[0],
                    N = L[1],
                    R = function(e, t) {
                        var n = D[e];
                        N((0, u.default)((0, u.default)({}, D), {}, (0, l.default)({}, e, (0, u.default)((0, u.default)({}, n), t))))
                    },
                    F = function(e, t, n, a) {
                        var r = (0, o.default)(e),
                            i = n === E.START ? 0 : 1,
                            l = (0, o.default)(r[a]);
                        return l[i] = t, r[a] = l, r
                    },
                    B = function(e, t, n, a) {
                        var r = (0, j.isValidTime)(t) ? null : " ";
                        return (0, k.jsx)("div", {
                            className: p.default.timeWrapper,
                            children: (0, k.jsx)(b.TextInput, {
                                managed: !0,
                                value: t,
                                theme: "small",
                                maxLength: 15,
                                customStyleThemes: ["desaturated", "noErrorInfo"],
                                error: r,
                                onChange: function(t) {
                                    var r = D[e].hours;
                                    R(e, {
                                        hours: F(r, t, n, a)
                                    })
                                },
                                onBlur: function() {
                                    ! function(e, t, n) {
                                        var a = D[e].hours,
                                            r = t === E.START ? 0 : 1,
                                            i = a[n][r],
                                            o = (0, S.timeStringToMinutes)(i);
                                        void 0 !== o && R(e, {
                                            hours: F(a, (0, S.minutesToTime)(o), t, n)
                                        })
                                    }(e, n, a)
                                }
                            })
                        }, `${e}-${n}-${a}`)
                    },
                    U = function(e) {
                        var t = e.dayKey,
                            n = e.hours,
                            a = [],
                            r = n.length >= 2 ? (0, k.jsx)(M, {
                                onClick: function() {
                                    ! function(e) {
                                        var t = D[e].hours,
                                            n = (0, o.default)(t);
                                        n.pop(), R(e, {
                                            hours: n
                                        })
                                    }(t)
                                }
                            }) : (0, k.jsx)(O, {
                                onClick: function() {
                                    ! function(e) {
                                        var t = D[e].hours;
                                        R(e, {
                                            hours: [].concat((0, o.default)(t), [T()])
                                        })
                                    }(t)
                                }
                            });
                        return n.forEach((function(e, n) {
                            var r = (0, d.default)(e, 2),
                                i = r[0],
                                o = r[1];
                            n > 0 && a.push((0, k.jsx)("div", {
                                className: p.default.hoursAnd,
                                children: c.fbt._("and", null, {
                                    hk: "280Z25"
                                })
                            })), a.push(B(t, i, E.START, n), B(t, o, E.END, n))
                        })), (0, k.jsxs)("div", {
                            className: p.default.hoursMain,
                            children: [a, r]
                        })
                    },
                    G = function(e) {
                        var t;
                        return e.closed ? t = c.fbt._("Closed", null, {
                            hk: "3IRgct"
                        }) : g === h.BUSINESS_HOUR_MODES.APPOINTMENT_ONLY ? t = c.fbt._("By appointment only", null, {
                            hk: "e1vew"
                        }) : g === h.BUSINESS_HOUR_MODES.OPEN_24H && (t = c.fbt._("Open 24 hours", null, {
                            hk: "1AlfF5"
                        })), t ? (0, k.jsx)("div", {
                            className: p.default.dayInfoText,
                            children: t
                        }) : h.BUSINESS_HOUR_MODES.SPECIFIC_HOURS && !e.closed ? U(e) : null
                    },
                    H = function(e) {
                        var t = e.dayName,
                            n = I(e);
                        return (0, k.jsxs)("div", {
                            className: p.default.dayInfo,
                            children: [(0, k.jsx)("label", {
                                htmlFor: n,
                                children: t
                            }), G(e)]
                        })
                    },
                    W = (V = e.businessHours.days, (0, k.jsxs)("div", {
                        children: [(0, k.jsx)(A, {
                            selectedMode: g,
                            onSelect: function(e) {
                                C(e);
                                var t = {};
                                if (g === h.BUSINESS_HOUR_MODES.OPEN_24H) {
                                    var n, a = (0, s.default)(h.DAYS_OF_WEEK);
                                    try {
                                        for (a.s(); !(n = a.n()).done;) {
                                            var r = n.value;
                                            t[r] = (0, u.default)((0, u.default)({}, D[r]), {}, {
                                                closed: !1
                                            })
                                        }
                                    } catch (e) {
                                        a.e(e)
                                    } finally {
                                        a.f()
                                    }
                                    N(t)
                                }
                            }
                        }), (0, k.jsx)("div", {
                            className: p.default.editMain,
                            children: V.map((function(e) {
                                var t, n = e.dayKey,
                                    a = D[n];
                                return t = a, (0, k.jsxs)("div", {
                                    className: p.default.dayMain,
                                    children: [(0, k.jsx)(P, {
                                        day: t,
                                        onChange: function() {
                                            var e = t.dayKey,
                                                n = D[e];
                                            R(e, {
                                                closed: !n.closed
                                            })
                                        }
                                    }), H(t)]
                                }, `day-${t.dayKey}`)
                            }))
                        })]
                    }));
                var V;
                return (0, k.jsx)(x.default, {
                    title: c.fbt._("Edit Business Hours", null, {
                        hk: "2zl0Ai"
                    }),
                    isValid: (0, j.isValidBusinessHours)(g, D),
                    doSave: (0, i.default)(r.default.mark((function t() {
                        return r.default.wrap((function(t) {
                            for (;;) switch (t.prev = t.next) {
                                case 0:
                                    return (0, _.qplStartProfileSave)("bizHours"), t.next = 3, e.saveBusinessProfile((0, j.convertToRawBusinessProfile)({
                                        mode: g,
                                        dayValues: D,
                                        note: n,
                                        timezone: a
                                    }));
                                case 3:
                                case "end":
                                    return t.stop()
                            }
                        }), t)
                    }))),
                    afterSave: e.afterSave,
                    onCancel: e.onCancel,
                    children: W
                })
            };
            var r = a(n(87757)),
                i = a(n(48926)),
                o = a(n(319)),
                l = a(n(59713)),
                u = a(n(81109)),
                s = a(n(43269)),
                d = a(n(63038)),
                c = n(48360),
                f = n(67294),
                p = a(n(6846)),
                h = n(96127),
                m = n(91404),
                v = a(n(8352)),
                g = a(n(9844)),
                _ = n(56003),
                x = a(n(6393)),
                C = a(n(28706)),
                y = a(n(14536)),
                b = n(68544),
                S = n(47713),
                j = n(59141),
                k = n(85893),
                E = n(76672).Mirrored(["START", "END"]),
                w = h.BUSINESS_HOUR_MODES.SPECIFIC_HOURS,
                T = function() {
                    return [(0, S.minutesToTime)(540), (0, S.minutesToTime)(1080)]
                },
                I = function(e) {
                    return `${e.dayKey}_business_hours`
                };

            function P(e) {
                var t = e.day,
                    n = e.onChange,
                    a = t.closed,
                    r = I(t);
                return (0, k.jsx)("div", {
                    className: p.default.dayCheckbox,
                    children: (0, k.jsx)(m.CheckBox, {
                        id: r,
                        checked: !a,
                        onChange: n
                    })
                })
            }

            function M(e) {
                var t = e.onClick;
                return (0, k.jsx)("div", {
                    className: p.default.timeWrapper,
                    children: (0, k.jsx)(C.default, {
                        title: g.default.t(710),
                        "aria-label": g.default.t(710),
                        name: "x-alt",
                        onClick: t
                    })
                })
            }

            function O(e) {
                var t = e.onClick;
                return (0, k.jsx)("div", {
                    className: p.default.timeWrapper,
                    children: (0, k.jsx)(v.default, {
                        "aria-label": c.fbt._("Add additional hours", null, {
                            hk: "1RUQxq"
                        }),
                        label: c.fbt._("Add set of hours", null, {
                            hk: "XYa8r"
                        }),
                        onClick: t,
                        prefixIcon: "status-ciphertext",
                        iconTheme: "padded-svg"
                    })
                })
            }

            function A(e) {
                var t = e.selectedMode,
                    n = e.onSelect;
                return (0, k.jsx)(y.default, {
                    onSelect: n,
                    selectedId: t,
                    tabConfigs: [{
                        title: c.fbt._("Selected Hours", null, {
                            hk: "1EI8CI"
                        }),
                        id: h.BUSINESS_HOUR_MODES.SPECIFIC_HOURS
                    }, {
                        title: c.fbt._("Always Open", null, {
                            hk: "W2gxH"
                        }),
                        id: h.BUSINESS_HOUR_MODES.OPEN_24H
                    }, {
                        title: c.fbt._("By Appointment", null, {
                            hk: "nN1q9"
                        }),
                        id: h.BUSINESS_HOUR_MODES.APPOINTMENT_ONLY
                    }]
                })
            }
        },
        59141: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.isValidTime = t.isValidBusinessHours = t.convertToRawBusinessProfile = void 0;
            var r = a(n(63038)),
                i = a(n(43269)),
                o = n(96127),
                l = n(47713),
                u = function(e) {
                    return void 0 !== (0, l.timeStringToMinutes)(e)
                };
            t.isValidTime = u;
            t.isValidBusinessHours = function(e, t) {
                if (e === o.BUSINESS_HOUR_MODES.SPECIFIC_HOURS)
                    for (var n in t) {
                        var a = t[n],
                            l = a.closed,
                            s = a.hours;
                        if (!l) {
                            var d, c = (0, i.default)(s);
                            try {
                                for (c.s(); !(d = c.n()).done;) {
                                    var f = (0, r.default)(d.value, 2),
                                        p = f[0],
                                        h = f[1];
                                    if (!u(p) || !u(h)) return !1
                                }
                            } catch (e) {
                                c.e(e)
                            } finally {
                                c.f()
                            }
                        }
                    }
                return !0
            };
            t.convertToRawBusinessProfile = function(e) {
                var t = e.mode,
                    n = e.dayValues,
                    a = e.note,
                    i = e.timezone,
                    u = {};
                for (var s in n) {
                    var d = n[s],
                        c = d.closed,
                        f = d.hours;
                    if (!c) {
                        var p = {
                            mode: t
                        };
                        t === o.BUSINESS_HOUR_MODES.SPECIFIC_HOURS && (p.hours = f.map((function(e) {
                            var t = (0, r.default)(e, 2),
                                n = t[0],
                                a = t[1];
                            return [(0, l.timeStringToMinutes)(n) || 0, (0, l.timeStringToMinutes)(a) || 0]
                        }))), u[s] = p
                    }
                }
                return {
                    businessHours: {
                        config: u,
                        note: a,
                        timezone: i || Intl.DateTimeFormat().resolvedOptions().timeZone
                    }
                }
            }
        },
        56300: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.BusinessProfileFormField = function(e) {
                var t = e.activeField,
                    n = e.error,
                    a = e.fieldKey,
                    d = e.fieldMetric,
                    c = e.formatForSave,
                    f = e.lowProfile,
                    p = e.originalValue,
                    h = e.placeholder,
                    m = e.rawBusinessProfile,
                    v = e.sessionId,
                    g = e.startActive,
                    _ = e.textFieldConfig,
                    x = e.validate,
                    C = e.value,
                    y = e.onActive,
                    b = e.onChange,
                    S = e.onError,
                    j = e.onSaveBusinessProfile,
                    k = e.onCancel,
                    E = (null == t ? void 0 : t.fieldKey) === a,
                    w = C ? void 0 : h;
                return (0, s.jsx)(u.TextInput, (0, r.default)({
                    value: C,
                    editable: !t || E,
                    pending: E && (null == t ? void 0 : t.editType) === i.EditType.PENDING,
                    showRemaining: !0,
                    onBeginEdit: function() {
                        null != v && (0, o.logProfileFieldOpen)(d, m, v), y({
                            fieldKey: a,
                            editType: i.EditType.EDITING
                        })
                    },
                    onChange: b,
                    onSave: function() {
                        (0, l.qplStartProfileSave)(a), null != v && (0, o.logProfileFieldSave)(d, m, v), y({
                            fieldKey: a,
                            editType: i.EditType.PENDING
                        }), j(c()).then((function() {
                            y()
                        }), (function() {
                            y()
                        }))
                    },
                    onCancel: function() {
                        null != v && (0, o.logProfileFieldDiscard)(d, m, v), b(p), y(), null == k || k()
                    },
                    lockable: !0,
                    lowProfile: f,
                    multiline: !0,
                    inputPlaceholder: w,
                    theme: "text-input",
                    validate: x,
                    onError: S,
                    error: n,
                    a8n: `biz-profile-${a}-input`,
                    fieldName: h,
                    startActive: g
                }, _))
            };
            var r = a(n(81109)),
                i = n(73009),
                o = n(47994),
                l = n(56003),
                u = (a(n(50507)), n(68544)),
                s = n(85893)
        },
        52323: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = (0, p.useState)(e.initialCategories),
                    n = (0, s.default)(t, 2),
                    a = n[0],
                    r = n[1],
                    i = (0, p.useState)(!1),
                    d = (0, s.default)(i, 2),
                    c = d[0],
                    h = d[1],
                    _ = (0, p.useState)(!1),
                    y = (0, s.default)(_, 2),
                    b = y[0],
                    S = y[1],
                    T = (0, p.useState)([]),
                    M = (0, s.default)(T, 2),
                    O = M[0],
                    L = M[1],
                    D = (0, p.useState)(""),
                    N = (0, s.default)(D, 2),
                    R = N[0],
                    F = N[1],
                    B = function() {
                        C.Cmd.openToast((0, P.jsx)(I.Toast, {
                            id: (0, I.genId)(),
                            msg: f.fbt._('You cannot select categories when you have selected "Not a Business"', null, {
                                hk: "12A4L0"
                            })
                        }))
                    },
                    U = function(e) {
                        for (var t = 0; t < a.length; t++)
                            if (a[t].id === e) return !0;
                        return !1
                    },
                    G = function(e) {
                        var t = a.find((function(e) {
                                return e.id === R
                            })),
                            n = a;
                        a.length > 0 && (e.not_a_biz && !t ? (n = [], B()) : !e.not_a_biz && t && (n = a.filter((function(e) {
                            return e.id !== t.id
                        })), B())), U(e.id) ? r(n.filter((function(t) {
                            return t.id !== e.id
                        }))) : r([].concat((0, u.default)(n), [e]))
                    },
                    H = function(t) {
                        S(!0), e.searchCategories(t || m.BUSINESS_CATEGORY_EMPTY_STR_ID).then((function(e) {
                            var n = e.categories;
                            "" !== t && (n = n.filter((function(e) {
                                return !e.not_a_biz
                            }))), S(!1), L(n), F(e.notABizId), (0, k.qplAnnotateProfileCatsView)(n.length), (0, k.qplEndProfileCatsView)(E.QuickLogActionType.SUCCESS)
                        })).catch((function() {
                            C.Cmd.openToast((0, P.jsx)(I.Toast, {
                                id: (0, I.genId)(),
                                msg: f.fbt._("Something went wrong.", null, {
                                    hk: "2Cx5Nt"
                                })
                            })), S(!1), L([]), F(""), (0, k.qplEndProfileCatsView)(E.QuickLogActionType.FAIL)
                        }))
                    };
                return (0, p.useEffect)((function() {
                    H("")
                }), []), (0, P.jsxs)(w.default, {
                    title: f.fbt._("Choose up to three categories", null, {
                        hk: "17Tmht"
                    }),
                    isValid: a.length > 0,
                    doSave: (0, l.default)(o.default.mark((function t() {
                        return o.default.wrap((function(t) {
                            for (;;) switch (t.prev = t.next) {
                                case 0:
                                    return (0, k.qplStartProfileSave)("categories"), t.next = 3, e.saveBusinessProfile({
                                        categories: a
                                    });
                                case 3:
                                case "end":
                                    return t.stop()
                            }
                        }), t)
                    }))),
                    afterSave: function() {
                        h(!0), e.afterSave()
                    },
                    onCancel: function() {
                        h(!0), e.onCancel()
                    },
                    children: [(0, P.jsx)("div", {
                        className: g.default.searchBackground,
                        children: (0, P.jsx)(j.default, {
                            onSearch: function(e) {
                                b || c || ((0, k.qplStartProfileCatsView)("Search"), H(e))
                            },
                            placeholder: f.fbt._("Search categories", null, {
                                hk: "4zfNoj"
                            })
                        })
                    }), (0, P.jsxs)("div", {
                        className: g.default.editMain,
                        children: [(0, P.jsx)("div", {
                            className: g.default.list,
                            children: (0, P.jsx)(A, {
                                isLoading: b,
                                results: O,
                                isSelected: U,
                                isDisabled: function(e) {
                                    return !e.not_a_biz && !U(e.id) && a.length >= v.MAX_BUSINESS_CATEGORIES
                                },
                                toggleResultById: function(e) {
                                    var t = O.filter((function(t) {
                                        return t.id === e
                                    }))[0];
                                    t && G(t)
                                }
                            })
                        }), a && (0, P.jsx)(x.default, {
                            categories: a,
                            onRemoveItem: function(e) {
                                var t = a.filter((function(t) {
                                    return t.id === e
                                }))[0];
                                t && G(t)
                            }
                        })]
                    })]
                })
            };
            var r = a(n(81109)),
                i = a(n(59713)),
                o = a(n(87757)),
                l = a(n(48926)),
                u = a(n(319)),
                s = a(n(63038)),
                d = a(n(84646)),
                c = a(n(94184)),
                f = n(48360),
                p = n(67294),
                h = a(n(62905)),
                m = n(7869),
                v = n(23143),
                g = a(n(88712)),
                _ = n(91404),
                x = a(n(6862)),
                C = n(65901),
                y = n(73568),
                b = a(n(23803)),
                S = a(n(92546)),
                j = a(n(17094)),
                k = n(56003),
                E = n(3298),
                w = a(n(6393)),
                T = n(85651),
                I = n(92428),
                P = n(85893);

            function M(e) {
                var t = e.category,
                    n = e.toggleResultById;
                return (0, P.jsxs)("div", {
                    className: g.default.rowMain,
                    children: [(0, P.jsx)("div", {
                        className: g.default.rowCheckbox,
                        children: (0, P.jsx)(_.CheckBox, {
                            id: `${t.id}`,
                            onChange: function() {
                                !t.disabled && n(t.id)
                            },
                            checked: t.selected,
                            disabled: t.disabled
                        })
                    }), (0, P.jsx)("label", {
                        "data-a8n": d.default.key("category-list-item"),
                        className: (0, c.default)(g.default.rowLabel, (0, i.default)({}, g.default.disabled, t.disabled)),
                        htmlFor: t.id,
                        children: t.localized_display_name
                    })]
                })
            }

            function O(e) {
                var t = e.label;
                return (0, P.jsxs)("div", {
                    className: g.default.rowMain,
                    children: [(0, P.jsx)("div", {
                        className: g.default.rowCheckbox
                    }), t]
                })
            }

            function A(e) {
                var t = e.isLoading,
                    n = e.results,
                    a = e.isSelected,
                    i = e.isDisabled,
                    o = e.toggleResultById,
                    l = (0, h.default)((function() {
                        return new S.default
                    }));
                if (t) return (0, P.jsx)("div", {
                    className: g.default.loadingSpinner,
                    children: (0, P.jsx)(T.Spinner, {
                        color: "highlight",
                        size: 44,
                        stroke: 6
                    })
                });
                if (!n || 0 === n.length) return (0, P.jsx)(O, {
                    label: f.fbt._("No categories found", null, {
                        hk: "2xfbJX"
                    })
                });
                var u = n.map((function(e) {
                    return (0, r.default)((0, r.default)({}, e), {}, {
                        id: e.id,
                        itemKey: e.id.toString(),
                        disabled: i(e),
                        selected: a(e.id)
                    })
                }));
                return (0, P.jsx)(b.default, {
                    flatListControllers: [l.current],
                    children: (0, P.jsx)(y.FlatList, {
                        data: u,
                        flatListController: l.current,
                        direction: "vertical",
                        renderItem: function(e) {
                            return (0, P.jsx)(M, {
                                category: e,
                                toggleResultById: o
                            })
                        },
                        defaultItemHeight: 48
                    })
                })
            }
        },
        36727: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.businessProfile,
                    n = e.saveBusinessProfile,
                    a = e.sessionId,
                    r = e.verifiedName,
                    o = (0, c.useState)(),
                    l = (0, i.default)(o, 2),
                    w = l[0],
                    L = l[1],
                    D = (0, c.useState)(),
                    N = (0, i.default)(D, 2),
                    R = N[0],
                    B = N[1],
                    W = (0, c.useState)(),
                    V = (0, i.default)(W, 2),
                    z = V[0],
                    q = V[1],
                    K = (0, c.useState)(),
                    Y = (0, i.default)(K, 2),
                    Q = Y[0],
                    X = Y[1],
                    Z = (0, c.useState)(),
                    J = (0, i.default)(Z, 2),
                    $ = J[0],
                    ee = J[1],
                    te = (0, c.useState)(),
                    ne = (0, i.default)(te, 2),
                    ae = ne[0],
                    re = ne[1],
                    ie = (0, c.useState)(),
                    oe = (0, i.default)(ie, 2),
                    le = oe[0],
                    ue = oe[1],
                    se = (0, c.useState)(),
                    de = (0, i.default)(se, 2),
                    ce = de[0],
                    fe = de[1],
                    pe = (0, c.useState)(),
                    he = (0, i.default)(pe, 2),
                    me = he[0],
                    ve = he[1],
                    ge = (0, c.useState)(!1),
                    _e = (0, i.default)(ge, 2),
                    xe = _e[0],
                    Ce = _e[1],
                    ye = (0, j.getMeUser)(),
                    be = (0, k.canSeeECommerceComplianceIndiaHardEnforcementBusinessJourney)(ye.user),
                    Se = (0, c.useState)(),
                    je = (0, i.default)(Se, 2),
                    ke = je[0],
                    Ee = je[1];
                (0, c.useEffect)((function() {
                    var e = (0, M.convertRawBusinessProfile)(t);
                    L(e.description), q(e.email), B(e.address), X(e.primaryWebsite), ee(e.secondaryWebsite), re(Boolean(e.primaryWebsite && !e.secondaryWebsite))
                }), [t]), (0, c.useEffect)((function() {
                    (0, s.validateEmail)(z) && ue(null)
                }), [z]), (0, c.useEffect)((function() {
                    (0, s.validateURL)(Q) && fe(null)
                }), [Q]), (0, c.useEffect)((function() {
                    (0, s.validateURL)($) && ve(null)
                }), [$]);
                var we = function() {
                        var e = [];
                        return Q && e.push(Q), $ && e.push($), {
                            website: e.map((function(e, t) {
                                if (!u.default.isHttps(e) && !u.default.isHttp(e)) {
                                    var n = `https://${e}`;
                                    return 0 === t ? X(n) : ee(n), n
                                }
                                return e
                            }))
                        }
                    },
                    Te = (0, c.useCallback)((function() {
                        return be ? (0, m.default)() : void 0
                    }), [be]),
                    Ie = (0, M.convertRawBusinessProfile)(t),
                    Pe = d.fbt._("Business Information", null, {
                        hk: "36RGyI"
                    }),
                    Me = void 0;
                (0, k.canSeeBizProfileV3)() && (Pe = null, Me = S.default.noPaddingTop);
                return (0, O.jsxs)(b.default, {
                    title: Pe,
                    theme: "refresh",
                    className: Me,
                    children: [(0, O.jsx)(H, {
                        name: r,
                        activeField: ke
                    }), (0, O.jsx)(G, {
                        config: {
                            icon: "business-description",
                            content: (0, O.jsx)(g.BusinessProfileFormField, {
                                activeField: ke,
                                fieldKey: "description",
                                fieldMetric: P.default.BUSINESS_PROFILE_FIELD.DESCRIPTION,
                                formatForSave: function() {
                                    return {
                                        description: w
                                    }
                                },
                                lowProfile: !0,
                                originalValue: Ie.description,
                                placeholder: d.fbt._("Business Description", null, {
                                    hk: "2Q2DP8"
                                }),
                                rawBusinessProfile: t,
                                sessionId: a,
                                textFieldConfig: {
                                    maxLength: _.BUSINESS_PROFILE_FIELDS_LENGTH.DESCRIPTION,
                                    supportsEmoji: !0
                                },
                                value: w,
                                onActive: Ee,
                                onChange: L,
                                onSaveBusinessProfile: n
                            })
                        },
                        activeField: ke
                    }), (0, O.jsx)(G, {
                        config: {
                            icon: "business-category",
                            type: "container",
                            emptyText: d.fbt._("Categories", null, {
                                hk: "2YgYDL"
                            }),
                            content: (0, O.jsx)(U, {
                                categories: Ie.categories
                            }),
                            fieldName: d.fbt._("Categories", null, {
                                hk: "2YgYDL"
                            }),
                            onEdit: function() {
                                (0, I.qplStartProfileCatsView)("Profile"), (0, T.logProfileFieldOpen)(P.default.BUSINESS_PROFILE_FIELD.CATEGORY, t, a), C.Cmd.openModal((0, O.jsx)(x.default, {
                                    initialCategories: Ie.categories,
                                    saveBusinessProfile: n,
                                    searchCategories: function(e) {
                                        return h.BusinessCategoriesResultCollection.find(e)
                                    },
                                    afterSave: function() {
                                        return (0, T.logProfileFieldSave)(P.default.BUSINESS_PROFILE_FIELD.CATEGORY, t, a)
                                    },
                                    onCancel: function() {
                                        (0, T.logProfileFieldDiscard)(P.default.BUSINESS_PROFILE_FIELD.CATEGORY, t, a)
                                    }
                                }))
                            }
                        },
                        activeField: ke
                    }), (0, O.jsx)(G, {
                        config: {
                            icon: "business-address",
                            content: (0, O.jsx)(p.BusinessAddressField, {
                                businessProfile: Ie,
                                activeField: ke,
                                rawBusinessProfile: t,
                                sessionId: a,
                                value: R,
                                onActive: Ee,
                                onChange: B,
                                onSaveBusinessProfile: n,
                                validate: function(e) {
                                    return (0, y.existsField)(e, ye)
                                },
                                onError: Te
                            })
                        },
                        activeField: ke
                    }), (0, O.jsx)(G, {
                        config: {
                            icon: "business-hours",
                            type: "container",
                            emptyText: d.fbt._("Business Hours", null, {
                                hk: "1bV20v"
                            }),
                            content: (0, O.jsx)(F, {
                                hours: Ie.hours
                            }),
                            fieldName: d.fbt._("Business Hours", null, {
                                hk: "1bV20v"
                            }),
                            onEdit: function() {
                                (0, T.logProfileFieldOpen)(P.default.BUSINESS_PROFILE_FIELD.HOURS, t, a), C.Cmd.openModal((0, O.jsx)(v.default, {
                                    businessHours: Ie.hours,
                                    saveBusinessProfile: n,
                                    onCancel: function() {
                                        (0, T.logProfileFieldDiscard)(P.default.BUSINESS_PROFILE_FIELD.HOURS, t, a)
                                    },
                                    afterSave: function() {
                                        return (0, T.logProfileFieldSave)(P.default.BUSINESS_PROFILE_FIELD.HOURS, t, a)
                                    }
                                }))
                            }
                        },
                        activeField: ke
                    }), (0, O.jsx)(G, {
                        config: {
                            icon: "business-email",
                            content: (0, O.jsx)(g.BusinessProfileFormField, {
                                activeField: ke,
                                error: le,
                                fieldKey: "email",
                                fieldMetric: P.default.BUSINESS_PROFILE_FIELD.EMAIL,
                                formatForSave: function() {
                                    return {
                                        email: z
                                    }
                                },
                                lowProfile: !1,
                                originalValue: Ie.email,
                                placeholder: d.fbt._("Email Address", null, {
                                    hk: "5tSKT"
                                }),
                                rawBusinessProfile: t,
                                sessionId: a,
                                textFieldConfig: {
                                    maxLength: _.BUSINESS_PROFILE_FIELDS_LENGTH.EMAIL
                                },
                                validate: function(e) {
                                    return (0, s.validateEmail)(e)
                                },
                                value: z,
                                onActive: Ee,
                                onChange: q,
                                onError: function() {
                                    ue(d.fbt._("Incorrect email address format", null, {
                                        hk: "1KuwvT"
                                    }))
                                },
                                onSaveBusinessProfile: n
                            })
                        },
                        activeField: ke
                    }), function(e) {
                        var r = (0, O.jsx)(g.BusinessProfileFormField, {
                            activeField: ke,
                            error: ce,
                            fieldKey: "primaryWebsite",
                            fieldMetric: P.default.BUSINESS_PROFILE_FIELD.WEBSITE,
                            formatForSave: we,
                            lowProfile: !1,
                            originalValue: e.primaryWebsite,
                            placeholder: d.fbt._("Website", null, {
                                hk: "2HRvqj"
                            }),
                            rawBusinessProfile: t,
                            sessionId: a,
                            textFieldConfig: {
                                maxLength: _.BUSINESS_PROFILE_FIELDS_LENGTH.WEBSITE
                            },
                            validate: s.validateURL,
                            value: Q,
                            onActive: Ee,
                            onChange: X,
                            onError: function() {
                                fe(d.fbt._("URL is incorrect", null, {
                                    hk: "xiOtm"
                                }))
                            },
                            onSaveBusinessProfile: n
                        });
                        return (0, O.jsx)(G, {
                            config: {
                                icon: "business-website",
                                theme: E.IconSectionTheme.SmallMargin,
                                content: (0, O.jsx)("div", {
                                    children: r
                                })
                            },
                            activeField: ke
                        })
                    }(Ie), function(e) {
                        if (!e.primaryWebsite) return null;
                        if ($ || !ae) {
                            var r = (0, O.jsx)(g.BusinessProfileFormField, {
                                activeField: ke,
                                error: me,
                                fieldKey: "secondaryWebsite",
                                fieldMetric: P.default.BUSINESS_PROFILE_FIELD.WEBSITE,
                                formatForSave: we,
                                lowProfile: !1,
                                originalValue: e.secondaryWebsite,
                                placeholder: d.fbt._("Website", null, {
                                    hk: "2HRvqj"
                                }),
                                rawBusinessProfile: t,
                                sessionId: a,
                                startActive: xe,
                                textFieldConfig: {
                                    maxLength: _.BUSINESS_PROFILE_FIELDS_LENGTH.WEBSITE
                                },
                                validate: s.validateURL,
                                value: $,
                                onActive: Ee,
                                onChange: ee,
                                onError: function() {
                                    ve(d.fbt._("URL is incorrect", null, {
                                        hk: "xiOtm"
                                    }))
                                },
                                onSaveBusinessProfile: n
                            });
                            return (0, O.jsx)(G, {
                                config: {
                                    icon: "business-website",
                                    theme: E.IconSectionTheme.NoMargin,
                                    content: (0, O.jsx)("div", {
                                        children: r
                                    })
                                },
                                activeField: ke
                            })
                        }
                        var i = (0, O.jsx)("button", {
                            className: (0, f.default)(A),
                            onClick: function() {
                                re(!1), Ce(!0)
                            },
                            children: d.fbt._("Add another website", null, {
                                hk: "1HOyZt"
                            })
                        });
                        return (0, O.jsx)(G, {
                            config: {
                                theme: E.IconSectionTheme.NoMargin,
                                content: (0, O.jsx)("div", {
                                    children: i
                                })
                            },
                            activeField: ke
                        })
                    }(Ie)]
                })
            };
            var r = a(n(81109)),
                i = a(n(63038)),
                o = a(n(84646)),
                l = n(71091),
                u = a(n(10646)),
                s = n(240),
                d = n(48360),
                c = n(67294),
                f = a(n(56720)),
                p = n(88768),
                h = n(64055),
                m = a(n(38174)),
                v = a(n(82728)),
                g = n(56300),
                _ = n(96127),
                x = a(n(52323)),
                C = n(65901),
                y = n(55869),
                b = a(n(46821)),
                S = a(n(17)),
                j = n(1577),
                k = n(2629),
                E = n(58771),
                w = a(n(9844)),
                T = n(47994),
                I = n(56003),
                P = a(n(50507)),
                M = n(11585),
                O = n(85893),
                A = {
                    color: "ky3f94nk",
                    fontSize: "f8jlpxt4",
                    textTransform: "ofejerhi"
                },
                L = {
                    flexGrow: "gj6qtt9u",
                    flexShrink: "m0h2a7mj",
                    flexBasis: "rjo8vgbg",
                    textTransform: "aprpv14t"
                },
                D = {
                    display: "p357zi0d"
                },
                N = {
                    flexGrow: "a6lcuizr",
                    flexShrink: "m0h2a7mj",
                    flexBasis: "rjo8vgbg"
                },
                R = {
                    color: "t35qvd06",
                    fontSize: "dsh4tgtl",
                    lineHeight: "jgi8eev7",
                    marginTop: "dkeqio29"
                };

            function F(e) {
                var t = e.hours,
                    n = t.mode,
                    a = t.days;
                return null == n ? null : (0, O.jsx)("div", {
                    children: a.map((function(e, t) {
                        var a = e.dayName,
                            r = e.dayKey,
                            i = e.closed,
                            u = e.hours;
                        return (0, O.jsxs)("div", {
                            className: (0, f.default)(D, 0 !== t && l.uiMargin.top28),
                            "data-a8n": o.default.key("business-hours-section-row"),
                            children: [(0, O.jsx)("div", {
                                className: (0, f.default)(L),
                                children: a
                            }), (0, O.jsxs)("div", {
                                className: (0, f.default)(N),
                                children: [(0, O.jsx)(B, {
                                    mode: n,
                                    closed: i,
                                    hours: u
                                }), ")}"]
                            })]
                        }, r)
                    }))
                })
            }

            function B(e) {
                var t = e.mode,
                    n = e.closed,
                    a = e.hours;
                if (n) return d.fbt._("Closed", null, {
                    hk: "3IRgct"
                });
                switch (t) {
                    case _.BUSINESS_HOUR_MODES.SPECIFIC_HOURS:
                        return (0, O.jsx)(O.Fragment, {
                            children: a && a.map((function(e, t) {
                                var n = (0, i.default)(e, 2),
                                    a = n[0],
                                    r = n[1];
                                return (0, O.jsxs)("div", {
                                    className: (0, f.default)(0 !== t && l.uiMargin.top16),
                                    "data-a8n": o.default.key("business-hours-time"),
                                    children: [a, " - ", r]
                                }, t)
                            }))
                        });
                    case _.BUSINESS_HOUR_MODES.APPOINTMENT_ONLY:
                        return d.fbt._("By appointment only", null, {
                            hk: "e1vew"
                        });
                    case _.BUSINESS_HOUR_MODES.OPEN_24H:
                        return d.fbt._("Open 24 hours", null, {
                            hk: "1AlfF5"
                        });
                    default:
                        return null
                }
            }

            function U(e) {
                var t = e.categories;
                return 0 === t.length ? null : (0, O.jsx)("div", {
                    "data-a8n": o.default.key("biz-profile-category-input"),
                    children: t.map((function(e) {
                        return e.localized_display_name
                    })).join(w.default.t(407))
                })
            }

            function G(e) {
                var t = e.config,
                    n = e.activeField;
                return (0, O.jsx)(E.IconSection, (0, r.default)((0, r.default)({}, t), {}, {
                    hideEditIcon: Boolean(n)
                }))
            }

            function H(e) {
                var t = e.name,
                    n = e.activeField;
                if (!t) return null;
                var a = (0, k.canSeeBizProfileV3)() ? E.IconSectionTheme.NoMargin : void 0;
                return (0, O.jsx)(G, {
                    config: {
                        theme: a,
                        icon: "account-box",
                        iconClass: S.default.verifiedNameIcon,
                        content: (0, O.jsxs)("div", {
                            children: [(0, O.jsx)("div", {
                                children: t
                            }), (0, O.jsx)("div", {
                                className: (0, f.default)(R),
                                children: d.fbt._("This name will be visible to your WhatsApp customers and can be edited from the app on your mobile device.", null, {
                                    hk: "1y9lc"
                                })
                            })]
                        })
                    },
                    activeField: n
                })
            }
        },
        73009: (e, t, n) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.LoadType = t.EditType = void 0;
            var a = n(76672).Mirrored(["EDITING", "PENDING", "DONE", "ERROR"]);
            t.EditType = a;
            var r = n(76672).Mirrored(["PENDING", "DONE", "ERROR"]);
            t.LoadType = r
        },
        69337: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function() {
                var e = (0, u.useState)(v.LoadType.PENDING),
                    t = (0, r.default)(e, 2),
                    n = t[0],
                    a = t[1],
                    s = (0, u.useState)(),
                    x = (0, r.default)(s, 2),
                    P = x[0],
                    M = x[1],
                    O = (0, u.useRef)(Math.floor(2147483648 * Math.random()).toString()),
                    A = function() {
                        var e = (0, o.default)(i.default.mark((function e() {
                            var t;
                            return i.default.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        return a(v.LoadType.PENDING), e.prev = 1, e.next = 4, T();
                                    case 4:
                                        t = e.sent, M(t), a(v.LoadType.DONE), (0, y.logProfileOpen)(t, O.current), e.next = 13;
                                        break;
                                    case 10:
                                        e.prev = 10, e.t0 = e.catch(1), a(v.LoadType.ERROR);
                                    case 13:
                                    case "end":
                                        return e.stop()
                                }
                            }), e, null, [
                                [1, 10]
                            ])
                        })));
                        return function() {
                            return e.apply(this, arguments)
                        }
                    }();
                if ((0, u.useEffect)((function() {
                        A()
                    }), []), n === v.LoadType.PENDING) return (0, E.jsx)("div", {
                    className: m.default.loadingSpinner,
                    children: (0, E.jsx)(j.Spinner, {
                        color: "default",
                        size: 24,
                        stroke: 6
                    })
                });
                if (n === v.LoadType.ERROR) return (0, E.jsx)(p.default, {
                    title: l.fbt._("Business Information", null, {
                        hk: "36RGyI"
                    }),
                    theme: "refresh",
                    children: (0, E.jsxs)(g.FlexRow, {
                        align: "center",
                        justify: "center",
                        children: [(0, E.jsx)(_.default, {
                            children: C.default.t(250)
                        }), (0, E.jsx)(_.default, {
                            xstyle: w.retryButton,
                            children: (0, E.jsx)(c.default, {
                                onClick: function() {
                                    A()
                                },
                                type: "simplified",
                                children: l.fbt._("Retry", null, {
                                    hk: "2jS9Tg"
                                })
                            })
                        })]
                    })
                });
                if (n === v.LoadType.DONE && P) return (0, E.jsx)(h.default, {
                    verifiedName: f.Conn.pushname || void 0,
                    sessionId: O.current,
                    businessProfile: P,
                    saveBusinessProfile: function() {
                        var e = (0, o.default)(i.default.mark((function e(t) {
                            var n;
                            return i.default.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        return e.prev = 0, e.next = 3, (0, d.editBusinessProfile)(t);
                                    case 3:
                                        e.next = 11;
                                        break;
                                    case 5:
                                        throw e.prev = 5, e.t0 = e.catch(0), (0, k.showError)(C.default.t(251)), (0, b.qplEndProfileSave)(S.QuickLogActionType.FAIL), __LOG__(3, void 0, void 0, !0)`business_profile:edit_form save failed`, SEND_LOGS(`businessProfile edit handled server error - ${e.t0.status}`), e.t0;
                                    case 11:
                                        return e.prev = 11, e.next = 14, I();
                                    case 14:
                                        return n = e.sent, M(n), (0, b.qplEndProfileSave)(S.QuickLogActionType.SUCCESS), e.abrupt("return", n);
                                    case 20:
                                        throw e.prev = 20, e.t1 = e.catch(11), (0, k.showError)(C.default.t(250)), (0, b.qplEndProfileSave)(S.QuickLogActionType.FAIL), e.t1;
                                    case 25:
                                    case "end":
                                        return e.stop()
                                }
                            }), e, null, [
                                [0, 5],
                                [11, 20]
                            ])
                        })));
                        return function() {
                            return e.apply(this, arguments)
                        }
                    }()
                });
                return null
            };
            var r = a(n(63038)),
                i = a(n(87757)),
                o = a(n(48926)),
                l = n(48360),
                u = n(67294),
                s = (a(n(56720)), n(26141)),
                d = n(16419),
                c = a(n(51599)),
                f = n(73929),
                p = a(n(46821)),
                h = a(n(36727)),
                m = a(n(38968)),
                v = n(73009),
                g = n(27968),
                _ = a(n(69520)),
                x = n(1577),
                C = a(n(9844)),
                y = n(47994),
                b = n(56003),
                S = n(3298),
                j = n(85651),
                k = n(30368),
                E = n(85893),
                w = {
                    retryButton: {
                        height: "epwkujcx",
                        marginStart: "nzcjdldu"
                    }
                },
                T = function() {
                    var e = (0, o.default)(i.default.mark((function e() {
                        var t, n, a;
                        return i.default.wrap((function(e) {
                            for (;;) switch (e.prev = e.next) {
                                case 0:
                                    return t = (0, x.getMeUser)(), (n = s.BusinessProfileCollection.get(t)) && n.markStale(), e.next = 5, s.BusinessProfileCollection.find(t);
                                case 5:
                                    return a = e.sent, e.abrupt("return", a.serialize());
                                case 7:
                                case "end":
                                    return e.stop()
                            }
                        }), e)
                    })));
                    return function() {
                        return e.apply(this, arguments)
                    }
                }(),
                I = function() {
                    var e = (0, o.default)(i.default.mark((function e() {
                        var t, n, a;
                        return i.default.wrap((function(e) {
                            for (;;) switch (e.prev = e.next) {
                                case 0:
                                    return t = (0, x.getMeUser)(), e.next = 3, s.BusinessProfileCollection.update(t);
                                case 3:
                                    return n = e.sent, a = Array.isArray(n) ? n[0] : n, e.abrupt("return", a.serialize());
                                case 6:
                                case "end":
                                    return e.stop()
                            }
                        }), e)
                    })));
                    return function() {
                        return e.apply(this, arguments)
                    }
                }()
        },
        47994: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.getProfilePopulatedFields = o, t.logProfileFieldDiscard = function(e, t, n) {
                var a = new i.default.EditBusinessProfile((0, r.default)({
                    editProfileAction: i.default.EDIT_PROFILE_ACTION.ACTION_PROFILE_FIELD_DISCARD,
                    businessProfileEntryPoint: i.default.BUSINESS_PROFILE_ENTRY_POINT.SETTINGS,
                    editProfileActionField: e,
                    editBusinessProfileSessionId: n
                }, o(t)));
                a && a.commit()
            }, t.logProfileFieldOpen = function(e, t, n) {
                var a = new i.default.EditBusinessProfile((0, r.default)({
                    editProfileAction: i.default.EDIT_PROFILE_ACTION.ACTION_PROFILE_FIELD_OPEN,
                    businessProfileEntryPoint: i.default.BUSINESS_PROFILE_ENTRY_POINT.SETTINGS,
                    editProfileActionField: e,
                    editBusinessProfileSessionId: n
                }, o(t)));
                a && a.commit()
            }, t.logProfileFieldSave = function(e, t, n) {
                var a = new i.default.EditBusinessProfile((0, r.default)({
                    editProfileAction: i.default.EDIT_PROFILE_ACTION.ACTION_PROFILE_FIELD_SAVE,
                    businessProfileEntryPoint: i.default.BUSINESS_PROFILE_ENTRY_POINT.SETTINGS,
                    editProfileActionField: e,
                    editBusinessProfileSessionId: n
                }, o(t)));
                a && a.commit()
            }, t.logProfileOpen = function(e, t) {
                var n = new i.default.EditBusinessProfile((0, r.default)({
                    editProfileAction: i.default.EDIT_PROFILE_ACTION.ACTION_OPEN,
                    businessProfileEntryPoint: i.default.BUSINESS_PROFILE_ENTRY_POINT.SETTINGS,
                    editBusinessProfileSessionId: t
                }, o(e)));
                n && n.commit()
            };
            var r = a(n(81109)),
                i = a(n(50507));

            function o(e) {
                var t;
                return {
                    hasDescription: null != e.description,
                    hasCategory: !!(e.categories && e.categories.length > 0),
                    hasHours: null != (null === (t = e.businessHours) || void 0 === t ? void 0 : t.config),
                    hasEmail: null != e.email,
                    hasAddress: null != e.address,
                    hasWebsite: null != e.website
                }
            }
        },
        11585: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.convertRawBusinessProfile = void 0;
            var r = a(n(63038)),
                i = n(26180);
            t.convertRawBusinessProfile = function(e) {
                var t = e.description,
                    n = e.email,
                    a = e.address,
                    o = e.website,
                    l = e.categories,
                    u = e.businessHours,
                    s = e.latitude,
                    d = e.longitude,
                    c = (0, r.default)(o || [], 2);
                return {
                    description: t,
                    email: n,
                    address: a,
                    primaryWebsite: c[0],
                    secondaryWebsite: c[1],
                    hours: (0, i.getBusinessHoursForEdit)(u),
                    categories: l || [],
                    latitude: s,
                    longitude: d
                }
            }
        },
        30368: (e, t, n) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.showError = void 0;
            var a = n(65901),
                r = n(92428),
                i = n(85893);
            t.showError = function(e) {
                a.Cmd.openToast((0, i.jsx)(r.Toast, {
                    msg: e,
                    duration: 6e3,
                    id: (0, r.genId)()
                }))
            }
        },
        78708: (e, t, n) => {
            "use strict";
            var a = n(21314).default,
                r = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.CartDetailDrawer = function(e) {
                var t = e.onBack,
                    n = e.sellerJid,
                    r = e.chat,
                    Z = e.closeDrawerRightOnSend,
                    J = e.onProductCatalog,
                    $ = e.onProductDetail,
                    ee = e.isPushed,
                    te = void 0 === ee || ee,
                    ne = (0, h.useContext)(P.DrawerContext),
                    ae = (0, h.useMemo)((function() {
                        return C.CartCollection.findCart(n)
                    }), [n]),
                    re = (0, h.useRef)(null),
                    ie = (0, h.useRef)(null),
                    oe = (0, m.default)((function() {
                        return new u.PromiseQueue
                    })),
                    le = (0, m.default)((function() {
                        return new O.default
                    })),
                    ue = (0, h.useState)(!0),
                    se = (0, l.default)(ue, 2),
                    de = se[0],
                    ce = se[1],
                    fe = (0, h.useState)(void 0),
                    pe = (0, l.default)(fe, 2),
                    he = pe[0],
                    me = pe[1],
                    ve = (0, h.useState)([]),
                    ge = (0, l.default)(ve, 2),
                    _e = ge[0],
                    xe = ge[1],
                    Ce = (0, h.useState)(ae.message),
                    ye = (0, l.default)(Ce, 2),
                    be = ye[0],
                    Se = ye[1],
                    je = function() {
                        var e = (0, o.default)(i.default.mark((function e(t) {
                            var n, o, u, s, d;
                            return i.default.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        return e.next = 2, a.all([t ? (0, H.default)(ae, te) : a.resolve(), g.BusinessProfileCollection.find(r.id)]);
                                    case 2:
                                        n = e.sent, o = (0, l.default)(n, 2), u = o[0], s = o[1], u && (ie.current = u), d = (0, B.matchCartItemsToProducts)(ae, ie.current), ce(!1), me(s), xe(d);
                                    case 11:
                                    case "end":
                                        return e.stop()
                                }
                            }), e)
                        })));
                        return function() {
                            return e.apply(this, arguments)
                        }
                    }();
                (0, v.useListener)(ae, "change:cartItemCollection", (function() {
                    oe.current.enqueue((function() {
                        return je()
                    }))
                })), (0, h.useEffect)((function() {
                    var e = !0;
                    te && (0, F.qplAnnotateCartView)(ae.id.toString() !== n, ae.itemCount), je(!0, te).then((function() {
                        e = !1, te && (0, F.qplEndCartView)(W.QuickLogActionType.SUCCESS), (0, R.logCartListImpression)(ae.id.toString(), (0, G.getProductCatalogContext)(ne))
                    })).catch((function() {
                        __LOG__(4, !0, new Error, !0)`Unable to open the cart`, SEND_LOGS("openCart: failed to open the cart"), (0, z.default)(), (0, j.default)(ae)
                    })).finally((function() {
                        e && te && (0, F.qplEndCartView)(W.QuickLogActionType.FAIL), ce(!1)
                    }))
                }), []);
                var ke = function() {
                        ce(!0), (0, F.qplStartOrderCreate)(_e.length), (0, q.default)(ae, r).then((function(e) {
                            var n = Boolean(ae.message);
                            (0, N.logSendOrderMessage)({
                                orderId: e,
                                catalogOwnerJid: ae.id,
                                catalogContext: (0, G.getProductCatalogContext)(ne),
                                isOrderMsgAttached: n,
                                quantity: ae.itemCount
                            }), (0, L.commerceThreadsLoggingEnabled)() && (0, S.addChatThreadLoggingActivities)([{
                                activityType: "ordersSent",
                                ts: (0, s.unixTime)(),
                                chatId: r.id
                            }]), t(), (0, j.default)(ae), ae.message = void 0, Z && k.Cmd.existsDrawerRight((function(e) {
                                e && k.Cmd.closeDrawerRight()
                            })), (0, F.qplEndOrderCreate)(W.QuickLogActionType.SUCCESS)
                        })).catch((function() {
                            __LOG__(4, !0, new Error, !0)`Unable to create catalog order`, SEND_LOGS("submitOrder: order creation or order message send error"), (0, z.default)(), je(!0), (0, F.qplEndOrderCreate)(W.QuickLogActionType.FAIL)
                        })).finally((function() {
                            ce(!1)
                        }))
                    },
                    Ee = function(e) {
                        Se(e), (0, Q.default)(ae, e)
                    },
                    we = function() {
                        k.Cmd.openModal((0, X.jsx)(E.default, {
                            title: p.fbt._("Message Too Long", null, {
                                hk: "3CMbLA"
                            }),
                            onOK: function() {
                                k.Cmd.closeModal()
                            },
                            okText: p.fbt._("OK", null, {
                                hk: "2KEeHb"
                            }),
                            children: p.fbt._("The message youre pasting is too long. Try shortening it or sending it as a separate message.", null, {
                                hk: "9VR0L"
                            })
                        }))
                    };
                return (0, X.jsxs)(T.default, {
                    onDrop: t,
                    theme: "striped",
                    children: [(0, X.jsx)(M.DrawerHeader, {
                        title: p.fbt._("Your cart", null, {
                            hk: "Sn66V"
                        }),
                        type: M.DRAWER_HEADER_TYPE.SMALL,
                        onBack: t
                    }), (0, X.jsx)(I.default, {
                        flatListControllers: [le.current],
                        children: function() {
                            if (de) return (0, X.jsx)(A.default, {});
                            var e, t, a = ae.itemCount,
                                i = a > 0;
                            if (i) {
                                var o = D.default.t(545, {
                                    count: a,
                                    _plural: a
                                });
                                e = (0, X.jsx)(Y.TextDiv, {
                                    theme: "title",
                                    children: o
                                })
                            }
                            null != ae.total && null != ae.currency ? t = (0, X.jsx)(Y.TextDiv, {
                                theme: "muted-small",
                                children: D.default.t(690, {
                                    subtotal: w.formatAmount1000(ae.currency, ae.total)
                                })
                            }) : a > 0 && (t = (0, X.jsx)(Y.TextDiv, {
                                theme: "muted-small",
                                children: p.fbt._("Ask for total", null, {
                                    hk: "3qm9mR"
                                })
                            }));
                            var l = (0, X.jsx)(f.default, {
                                    transitionName: "media-caption",
                                    className: y.default.cartMessage,
                                    children: (0, X.jsx)(U.default, {
                                        ref: re,
                                        chat: r,
                                        maxLength: c.default.MAX_CART_MESSAGE_LENGTH,
                                        multiline: !0,
                                        onEnter: ke,
                                        onChange: Ee,
                                        onMaxPasteExceeded: we,
                                        placeholder: p.fbt._("Add a message", null, {
                                            hk: "4drJT1"
                                        }),
                                        showRemaining: !0,
                                        spellCheck: !0,
                                        supportsEmoji: !0,
                                        value: be
                                    })
                                }),
                                u = (0, X.jsx)("button", {
                                    "data-a8n": d.default.key("cart-send-button"),
                                    className: y.default.btnSend,
                                    tabIndex: "-1",
                                    onClick: ke,
                                    title: p.fbt._("Send a cart", null, {
                                        hk: "37qP8u"
                                    }),
                                    children: (0, X.jsx)(V.Round, {
                                        large: !0,
                                        children: (0, X.jsx)(K.default, {
                                            name: "send",
                                            directional: !0
                                        })
                                    })
                                });
                            return (0, X.jsxs)(X.Fragment, {
                                children: [!i && (0, X.jsxs)("div", {
                                    className: y.default.emptyCartContainer,
                                    children: [(0, X.jsx)(K.default, {
                                        name: "shopping-cart-empty"
                                    }), (0, X.jsx)(Y.TextDiv, {
                                        className: y.default.emptyCardHeader,
                                        theme: "large",
                                        children: p.fbt._("Add items to your cart", null, {
                                            hk: "411bLF"
                                        })
                                    }), (0, X.jsx)(Y.TextDiv, {
                                        className: y.default.emptyCardText,
                                        theme: "plain",
                                        children: p.fbt._("Collect all the items you're interested in here and then send them to the business. Use your cart to ask about buying, customizing, delivery, or anything you want.", null, {
                                            hk: "2L1JTk"
                                        })
                                    }), (0, _.hasCatalog)(he) && (0, X.jsx)(x.default, {
                                        onClick: J,
                                        type: "primary",
                                        children: p.fbt._("View catalog", null, {
                                            hk: "1bDXja"
                                        })
                                    })]
                                }), (0, X.jsxs)("div", {
                                    className: y.default.info,
                                    children: [e, t]
                                }), (0, X.jsx)(b.default, {
                                    flatListController: le.current,
                                    onProductDetail: $,
                                    cart: ae,
                                    sellerJid: n,
                                    cartProductItems: _e
                                }), i && (0, X.jsxs)("div", {
                                    className: y.default.footer,
                                    children: [l, (0, X.jsx)(f.default, {
                                        transitionAppear: !0,
                                        transitionName: "btn",
                                        children: u
                                    })]
                                })]
                            })
                        }()
                    })]
                })
            };
            var i = r(n(87757)),
                o = r(n(48926)),
                l = r(n(63038)),
                u = n(80895),
                s = n(79746),
                d = r(n(84646)),
                c = r(n(3208)),
                f = r(n(65668)),
                p = n(48360),
                h = n(67294),
                m = r(n(62905)),
                v = n(91285),
                g = n(26141),
                _ = n(79614),
                x = r(n(51599)),
                C = n(2133),
                y = r(n(28759)),
                b = r(n(46048)),
                S = n(40123),
                j = r(n(1737)),
                k = n(65901),
                E = r(n(86777)),
                w = function(e, t) {
                    if (!t && e && e.__esModule) return e;
                    if (null === e || "object" != typeof e && "function" != typeof e) return {
                        default: e
                    };
                    var n = Z(t);
                    if (n && n.has(e)) return n.get(e);
                    var a = {},
                        r = Object.defineProperty && Object.getOwnPropertyDescriptor;
                    for (var i in e)
                        if ("default" !== i && Object.prototype.hasOwnProperty.call(e, i)) {
                            var o = r ? Object.getOwnPropertyDescriptor(e, i) : null;
                            o && (o.get || o.set) ? Object.defineProperty(a, i, o) : a[i] = e[i]
                        } a.default = e, n && n.set(e, a);
                    return a
                }(n(86018)),
                T = r(n(53187)),
                I = r(n(18345)),
                P = n(96706),
                M = n(19288),
                O = r(n(92546)),
                A = r(n(5029)),
                L = n(2629),
                D = r(n(9844)),
                N = n(98808),
                R = n(71072),
                F = n(56003),
                B = n(12096),
                U = r(n(61640)),
                G = n(52867),
                H = r(n(53205)),
                W = n(3298),
                V = n(80385),
                z = r(n(97469)),
                q = r(n(28217)),
                K = r(n(7665)),
                Y = n(22552),
                Q = r(n(50882)),
                X = n(85893);

            function Z(e) {
                if ("function" != typeof WeakMap) return null;
                var t = new WeakMap,
                    n = new WeakMap;
                return (Z = function(e) {
                    return e ? n : t
                })(e)
            }
        },
        46048: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.cartProductItems,
                    n = e.onProductDetail,
                    a = e.sellerJid;
                return (0, s.jsx)(u.default, {
                    flatListControllers: [e.flatListController],
                    children: (0, s.jsx)(l.FlatList, {
                        flatListController: e.flatListController,
                        direction: "vertical",
                        forceConsistentRenderCount: !1,
                        data: t.map((function(e) {
                            return {
                                itemKey: e.cartItem.id,
                                contentKey: (0, r.default)("cartItem"),
                                product: e.product,
                                cartItem: e.cartItem
                            }
                        })),
                        renderItem: function(e) {
                            return (0, s.jsx)(i.default, {
                                cartId: a,
                                product: e.product,
                                quantity: e.cartItem.quantity,
                                onClick: function() {
                                    return n({
                                        productId: e.cartItem.id,
                                        businessOwnerJid: a
                                    })
                                }
                            })
                        },
                        defaultItemHeight: o.PRODUCT_LIST_ITEM_HEIGHT
                    })
                })
            };
            var r = a(n(73955)),
                i = a(n(79941)),
                o = n(66419),
                l = n(73568),
                u = a(n(23803)),
                s = n(85893)
        },
        79941: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, n, a = e.cartId,
                    o = e.product,
                    u = e.quantity,
                    s = e.onClick,
                    d = (0, g.jsx)(c.EmojiText, {
                        text: o.name,
                        ellipsify: !0,
                        titlify: !0
                    }),
                    f = null === (t = o.getPreviewImage()) || void 0 === t ? void 0 : t.mediaData;
                n = f ? (0, g.jsx)(m.ProductThumb, {
                    theme: "list",
                    mediaData: f
                }) : (0, g.jsx)(g.Fragment, {});
                var p = (0, g.jsx)(h.default, {
                    className: i.default.price,
                    product: o,
                    fallback: r.fbt._("Ask for price", null, {
                        hk: "2Rtbeg"
                    })
                });
                return (0, g.jsx)(l.default, {
                    image: n,
                    customImage: !0,
                    primary: d,
                    secondary: p,
                    theme: "cart-product",
                    onClick: s,
                    detail: (0, g.jsx)(_, {
                        cartId: a,
                        cartProduct: o,
                        quantity: u
                    }),
                    className: i.default.cartListItem
                }, o.id.toString())
            };
            var r = n(48360),
                i = a(n(86766)),
                o = a(n(31527)),
                l = a(n(88186)),
                u = a(n(38275)),
                s = a(n(16670)),
                d = n(96706),
                c = n(73008),
                f = n(71072),
                p = n(52867),
                h = a(n(84754)),
                m = n(47576),
                v = a(n(78107)),
                g = n(85893);

            function _(e) {
                var t = e.cartId,
                    n = e.cartProduct,
                    a = e.quantity;
                return (0, g.jsx)(d.DrawerContext.Consumer, {
                    children: function(e) {
                        return (0, g.jsxs)("div", {
                            className: i.default.actions,
                            children: [(0, g.jsx)(o.default, {
                                quantity: a,
                                onChange: function(a) {
                                    return function(e, a) {
                                        (0, v.default)(t, n, e), (0, f.logEditProduct)(n, a, e)
                                    }(a, (0, p.getProductCatalogContext)(e))
                                }
                            }), (0, g.jsx)("div", {
                                className: i.default.deleteIcon,
                                children: (0, g.jsx)(u.default, {
                                    onClick: function(a) {
                                        return function(e, a) {
                                            var r = (0, s.default)(t, n.id.toString());
                                            (0, s.default)(t, n.id.toString()), (0, f.logDeleteProduct)(n, a), 0 === r && (0, f.logCartAbandon)(n.catalogWid.toString(), a),
                                                function(e) {
                                                    e.preventDefault(), e.stopPropagation()
                                                }(e)
                                        }(a, (0, p.getProductCatalogContext)(e))
                                    }
                                })
                            })]
                        })
                    }
                })
            }
        },
        27275: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.label,
                    n = e.label,
                    a = (0, r.default)();
                (0, i.useListener)(d.LabelCollection, `label_updated_${n}`, (function() {
                    a()
                }));
                var p = d.LabelCollection.get(t);
                if (!p || !p.name) return null;
                if ("label-list" === e.theme) {
                    var h = (0, f.jsx)(c.Labels, {
                            renderAsCircle: "label-list" === e.theme,
                            theme: e.theme,
                            labels: [t]
                        }),
                        m = (0, f.jsx)(l.EmojiText, {
                            text: p.name,
                            ellipsify: !0,
                            titlify: !0
                        });
                    return (0, f.jsx)(o.default, {
                        theme: (0, u.canEditLabel)() ? "chat-checkbox" : void 0,
                        image: h,
                        primary: m,
                        secondary: s.default.t(545, {
                            count: parseInt(p.count || 0, 10),
                            _plural: parseInt(p.count || 0, 10)
                        })
                    })
                }
                var v = (0, c.renderLabelSvg)(p.hexColor),
                    g = (0, f.jsx)(l.EmojiText, {
                        text: p.name,
                        ellipsify: !0,
                        titlify: !0
                    });
                return (0, f.jsx)(o.default, {
                    theme: "label-selection",
                    image: v,
                    primary: g
                })
            };
            var r = a(n(45764)),
                i = n(91285),
                o = a(n(88186)),
                l = n(73008),
                u = n(2629),
                s = a(n(9844)),
                d = n(14093),
                c = n(4267),
                f = n(85893)
        },
        79236: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.shouldScrollIntoViewAndSelect,
                    n = e.selectedLabels,
                    a = e.onMultiSelect,
                    s = e.renderContext,
                    d = e.onLabelClick,
                    f = e.initialLabelState,
                    v = void 0 === f ? {} : f,
                    g = (0, l.useState)((function() {
                        return c.LabelCollection.toArray()
                    })),
                    _ = (0, i.default)(g, 2),
                    x = _[0],
                    C = _[1],
                    y = (0, l.useRef)(null),
                    b = function(e, t, r) {
                        null == n || n.setVal(e, t, r), null == a || a(e.id)
                    };
                (0, u.useListener)(c.LabelCollection, "add remove", (function(e, n, a) {
                    if (C(c.LabelCollection.toArray()), a.add && t) {
                        var r, i = t(e.name),
                            o = i.shouldScrollIntoView,
                            l = i.shouldSelect;
                        o && (null === (r = y.current) || void 0 === r || r.scrollIntoView({
                            behavior: "smooth"
                        })), l && b(e, !0, !1)
                    }
                }));
                var S = (0, l.useMemo)((function() {
                    return (0, o.isMDBackend)() ? (0, r.default)(x).sort((function(e, t) {
                        var n = parseInt(e.id, 10),
                            a = parseInt(t.id, 10);
                        return isNaN(n) || isNaN(a) ? 0 : n - a
                    })) : x
                }), [x]);
                return (0, h.jsx)("div", {
                    children: S.map((function(t, a) {
                        return (0, h.jsx)(m, {
                            selectedLabels: n,
                            renderContext: s,
                            onLabelClick: d,
                            initialLabelState: v,
                            onMultiSelect: b,
                            label: t,
                            selectableState: e.SelectableState || new p.default(!0),
                            ref: function(e) {
                                a === x.length - 1 && (y.current = e)
                            }
                        }, t.id)
                    }))
                })
            };
            var r = a(n(319)),
                i = a(n(63038)),
                o = n(78577),
                l = n(67294),
                u = n(91285),
                s = a(n(75474)),
                d = n(2629),
                c = n(14093),
                f = a(n(27275)),
                p = a(n(59279)),
                h = n(85893),
                m = (0, l.forwardRef)((function(e, t) {
                    var n = e.label,
                        a = e.selectedLabels,
                        r = e.renderContext,
                        i = e.onLabelClick,
                        o = e.initialLabelState,
                        l = e.onMultiSelect,
                        u = e.selectableState;
                    if (!n.name) return null;
                    var p = c.LabelCollection.assertGet(n.id),
                        m = "label-selection" === r || (0, d.canEditLabel)() ? (0, h.jsx)(s.default, {
                            theme: r,
                            model: p,
                            initialSelection: o[n.id] || 0,
                            multiSelection: a,
                            selectableState: u,
                            onSelect: l,
                            children: (0, h.jsx)(f.default, {
                                label: n.id
                            })
                        }) : (0, h.jsx)(f.default, {
                            label: n.id,
                            theme: r
                        });
                    return (0, h.jsx)("div", {
                        ref: t,
                        onClick: i ? i.bind(null, n.id) : void 0,
                        children: m
                    }, `label_item_${n.id}`)
                }));
            m.displayName = "LabelRow"
        },
        20385: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.userIsCartOwner,
                    n = e.orderId,
                    a = e.token,
                    d = e.sellerJid,
                    C = e.onProductDetail,
                    k = e.onOrderCreate,
                    M = e.ownerHasReviewed,
                    R = e.chat,
                    G = e.orderMessage,
                    H = e.onOrderCancel,
                    W = e.isPushed,
                    V = void 0 === W || W,
                    z = (0, f.useState)(!0),
                    q = (0, r.default)(z, 2),
                    K = q[0],
                    Y = q[1],
                    Q = (0, f.useState)("PENDING"),
                    X = (0, r.default)(Q, 2),
                    Z = X[0],
                    J = X[1],
                    $ = (0, f.useState)(null),
                    ee = (0, r.default)($, 2),
                    te = ee[0],
                    ne = ee[1],
                    ae = (0, f.useState)(""),
                    re = (0, r.default)(ae, 2),
                    ie = re[0],
                    oe = re[1],
                    le = (0, h.default)((function() {
                        return new j.default
                    }));
                (0, f.useEffect)((function() {
                    P.OrderCollection.findOrder(n, d, a).then((function(e) {
                        Y(!1), J("SUCCESS"), ne(e), V && ((0, T.qplAnnotateOrderView)((null == e ? void 0 : e.products.length) || 0), (0, T.qplEndOrderView)(A.QuickLogActionType.SUCCESS))
                    })).catch((0, i.filteredCatch)(l.E404, (function() {
                        m.Cmd.openModal((0, N.jsx)(v.default, {
                            onOK: function() {
                                m.Cmd.closeModal()
                            },
                            okText: c.fbt._("OK", null, {
                                hk: "2KEeHb"
                            }),
                            children: c.fbt._("The seller has deleted your sent cart. Contact the seller for more information.", null, {
                                hk: "3f21OJ"
                            })
                        })), Y(!1), J("ERROR"), (0, T.qplDropOrderView)()
                    }))).catch((function() {
                        Y(!1), J("ERROR"), __LOG__(4, !0, new Error, !0)`Catalog Order Display failed`, SEND_LOGS("OrderDetails: failed to display"), V && (0, T.qplEndOrderView)(A.QuickLogActionType.FAIL)
                    }))
                }), []);
                var ue = function() {
                        m.Cmd.closeDrawerRight()
                    },
                    se = function() {
                        if (ue(), null != G) {
                            var e = c.fbt._("We have canceled your order.", null, {
                                hk: "4glubN"
                            }).toString() + "\n" + ie;
                            (0, L.sendTextMsgToChat)(R, e, {
                                quotedMsg: new I.Msg(G)
                            })
                        }
                        m.Cmd.openChatFromUnread(R)
                    };
                return (0, N.jsxs)(_.default, {
                    theme: "striped",
                    onDrop: ue,
                    children: [(0, N.jsx)(y.DrawerHeader, {
                        title: t ? c.fbt._("Your sent cart", null, {
                            hk: "2NjAs4"
                        }) : w.default.t(261),
                        type: y.DRAWER_HEADER_TYPE.SMALL,
                        onBack: ue
                    }), (0, N.jsx)(x.default, {
                        flatListControllers: [le.current],
                        children: function() {
                            if (K || null == te) return (0, N.jsx)(S.default, {
                                fetchState: Z
                            });
                            var e = "";
                            e = te.products.length > 0 ? w.default.t(545, {
                                count: te.totalItemCount || 0,
                                _plural: te.totalItemCount || 0
                            }) : c.fbt._("No Items", null, {
                                hk: "49qWfy"
                            });
                            var t = (0, N.jsx)(D.TextDiv, {
                                    theme: "title",
                                    children: e
                                }),
                                n = null;
                            n = null != te.total && 0 !== te.total ? w.default.t(690, {
                                subtotal: g.formatAmount1000(te.currency, te.total)
                            }) : c.fbt._("Ask for total", null, {
                                hk: "3qm9mR"
                            });
                            var a = (0, N.jsx)(D.TextDiv, {
                                    theme: "muted-small",
                                    children: n
                                }),
                                r = null;
                            if (null != te.createdAt) {
                                var i = u.Clock.timeStr(te.createdAt);
                                r = (0, N.jsx)(D.TextSpan, {
                                    theme: "muted-small",
                                    children: `${i}`
                                })
                            }
                            return (0, N.jsxs)(N.Fragment, {
                                children: [(0, N.jsxs)(b.default, {
                                    children: [(0, N.jsx)(S.default, {
                                        fetchState: Z
                                    }), (0, N.jsxs)("div", {
                                        className: (0, p.default)(F, s.uiPadding.all18),
                                        children: [t, a]
                                    }), (0, N.jsx)(O.default, {
                                        flatListController: le.current,
                                        onProductDetail: C,
                                        order: te,
                                        sellerJid: d
                                    }), (0, N.jsx)("div", {
                                        className: (0, p.default)(F, s.uiPadding.all18),
                                        children: r
                                    }), M ? (0, N.jsx)(B, {
                                        chat: R,
                                        value: ie,
                                        onSubmit: se,
                                        onChange: oe
                                    }) : null]
                                }), (0, E.orderDetailsFromCartEnabled)() && !M ? (0, N.jsx)(U, {
                                    sellerJid: d,
                                    order: te,
                                    onCreateOrderClick: function() {
                                        return k((0, o.default)(te, "order"))
                                    },
                                    onDeclineOrderClick: H
                                }) : null]
                            })
                        }()
                    })]
                })
            };
            var r = a(n(63038)),
                i = n(15586),
                o = a(n(272)),
                l = n(73435),
                u = n(73466),
                s = n(71091),
                d = n(84460),
                c = n(48360),
                f = n(67294),
                p = a(n(56720)),
                h = a(n(62905)),
                m = n(65901),
                v = a(n(86777)),
                g = function(e, t) {
                    if (!t && e && e.__esModule) return e;
                    if (null === e || "object" != typeof e && "function" != typeof e) return {
                        default: e
                    };
                    var n = R(t);
                    if (n && n.has(e)) return n.get(e);
                    var a = {},
                        r = Object.defineProperty && Object.getOwnPropertyDescriptor;
                    for (var i in e)
                        if ("default" !== i && Object.prototype.hasOwnProperty.call(e, i)) {
                            var o = r ? Object.getOwnPropertyDescriptor(e, i) : null;
                            o && (o.get || o.set) ? Object.defineProperty(a, i, o) : a[i] = e[i]
                        } a.default = e, n && n.set(e, a);
                    return a
                }(n(86018)),
                _ = a(n(53187)),
                x = a(n(18345)),
                C = a(n(61876)),
                y = n(19288),
                b = a(n(46821)),
                S = a(n(22426)),
                j = a(n(92546)),
                k = n(1577),
                E = n(2629),
                w = a(n(9844)),
                T = n(56003),
                I = n(82380),
                P = n(11467),
                M = a(n(64689)),
                O = a(n(7374)),
                A = n(3298),
                L = n(43966),
                D = n(22552),
                N = n(85893);

            function R(e) {
                if ("function" != typeof WeakMap) return null;
                var t = new WeakMap,
                    n = new WeakMap;
                return (R = function(e) {
                    return e ? n : t
                })(e)
            }
            var F = {
                backgroundColor: "ihvf49ua"
            };

            function B(e) {
                var t = e.chat,
                    n = e.value,
                    a = e.onSubmit,
                    r = e.onChange;
                return (0, N.jsx)("div", {
                    className: (0, p.default)(s.uiPadding.vert0, s.uiPadding.horiz18),
                    children: (0, N.jsx)(M.default, {
                        chat: t,
                        onChange: r,
                        onSubmit: a,
                        value: n,
                        placeholder: c.fbt._("Add a cancelation note", null, {
                            hk: "22DPGj"
                        })
                    })
                })
            }

            function U(e) {
                var t = e.sellerJid,
                    n = (e.order, e.onCreateOrderClick),
                    a = e.onDeclineOrderClick;
                return (0, d.createUserWid)(t).equals((0, k.getMaybeMeUser)()) ? (0, N.jsxs)(N.Fragment, {
                    children: [(0, N.jsx)(b.default, {
                        children: (0, N.jsx)(C.default, {
                            a8nText: "order-create",
                            color: "dark",
                            onClick: n,
                            children: c.fbt._("Create order", null, {
                                hk: "4Fn7Vw"
                            })
                        })
                    }), (0, N.jsx)(b.default, {
                        children: (0, N.jsx)(C.default, {
                            a8nText: "order-decline",
                            color: "dark",
                            onClick: a,
                            children: c.fbt._("Decline order", null, {
                                hk: "3y5T6d"
                            })
                        })
                    })]
                }) : null
            }
        },
        22459: (e, t, n) => {
            "use strict";
            var a = n(21314).default,
                r = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.useGetOrders = function() {
                var e = (0, u.useState)({
                        contactAndOrderInfoMap: {},
                        orderStatusInfoMap: {}
                    }),
                    t = (0, l.default)(e, 2),
                    n = t[0],
                    r = t[1],
                    f = (0, u.useState)(!0),
                    p = (0, l.default)(f, 2),
                    h = p[0],
                    m = p[1],
                    v = (0, u.useCallback)((function(e) {
                        r((function(t) {
                            var n = t.contactAndOrderInfoMap,
                                a = t.orderStatusInfoMap,
                                r = e.contactsAndOrdersInfo,
                                i = e.ordersStatusInfo;
                            return {
                                contactAndOrderInfoMap: (0, c.getMergedContactAndOrderInfoMap)(n, r),
                                orderStatusInfoMap: (0, c.getMergedOrderStatusInfoMap)(a, i)
                            }
                        }))
                    }), []);
                return (0, s.useListener)(d.ChatCollection, "add", function() {
                    var e = (0, o.default)(i.default.mark((function e(t) {
                        var n, a, r;
                        return i.default.wrap((function(e) {
                            for (;;) switch (e.prev = e.next) {
                                case 0:
                                    return n = (0, c.getCachedOrdersInfoFromChat)(t), a = n.fetcher, e.next = 3, a;
                                case 3:
                                    r = e.sent, v(r);
                                case 5:
                                case "end":
                                    return e.stop()
                            }
                        }), e)
                    })));
                    return function() {
                        return e.apply(this, arguments)
                    }
                }()), (0, s.useListeners)(d.ChatCollection.toArray().map((function(e) {
                    return {
                        source: e.msgs,
                        eventOrEvents: "add",
                        callback: function(t) {
                            var n = (0, c.getOrdersInfoFromMsgs)([t], e.contact);
                            v(n)
                        }
                    }
                }))), (0, u.useEffect)((function() {
                    var e = [],
                        t = [];
                    return d.ChatCollection.toArray().forEach((function(n) {
                            var a = (n.msgs.msgLoadState.noEarlierMsgs ? c.getCachedOrdersInfoFromChat : c.getNotCachedOrdersInfoFromChat)(n),
                                r = a.fetcher,
                                i = a.unsubscribe;
                            r.then(v), e.push(r), t.push(i)
                        })), a.all(e).finally((function() {
                            return m(!1)
                        })),
                        function() {
                            t.forEach((function(e) {
                                return e()
                            }))
                        }
                }), [v]), {
                    ordersInfoMap: n,
                    isLoading: h
                }
            };
            var i = r(n(87757)),
                o = r(n(48926)),
                l = r(n(63038)),
                u = n(67294),
                s = n(91285),
                d = n(4481),
                c = n(23526)
        },
        11519: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(59713)),
                i = a(n(81109)),
                o = n(71091),
                l = n(48360),
                u = n(67294),
                s = function(e, t) {
                    if (!t && e && e.__esModule) return e;
                    if (null === e || "object" != typeof e && "function" != typeof e) return {
                        default: e
                    };
                    var n = w(t);
                    if (n && n.has(e)) return n.get(e);
                    var a = {},
                        r = Object.defineProperty && Object.getOwnPropertyDescriptor;
                    for (var i in e)
                        if ("default" !== i && Object.prototype.hasOwnProperty.call(e, i)) {
                            var o = r ? Object.getOwnPropertyDescriptor(e, i) : null;
                            o && (o.get || o.set) ? Object.defineProperty(a, i, o) : a[i] = e[i]
                        } a.default = e, n && n.set(e, a);
                    return a
                }(n(86018)),
                d = a(n(53187)),
                c = a(n(18345)),
                f = a(n(61876)),
                p = n(19288),
                h = a(n(46821)),
                m = n(27968),
                v = n(89846),
                g = a(n(58636)),
                _ = a(n(73715)),
                x = a(n(76834)),
                C = a(n(40972)),
                y = n(45311),
                b = n(87855),
                S = a(n(7665)),
                j = n(22552),
                k = a(n(47066)),
                E = n(85893);

            function w(e) {
                if ("function" != typeof WeakMap) return null;
                var t = new WeakMap,
                    n = new WeakMap;
                return (w = function(e) {
                    return e ? n : t
                })(e)
            }

            function T(e, t) {
                var n = e.chat,
                    a = e.orderInfo,
                    w = e.sellerWid,
                    T = a.referenceId,
                    I = a.discount,
                    P = a.tax,
                    M = a.shipping,
                    O = a.subtotal,
                    A = a.totalAmount,
                    L = (0, k.default)(w),
                    D = (0, u.useMemo)((function() {
                        return (0, y.findOrderStatus)(n, T)
                    }), [n, T]);
                if (null == L || null == O) return null;
                var N = L.productCollection.getProductModels().reduce((function(e, t) {
                        var n;
                        return (0, i.default)((0, i.default)({}, e), {}, (0, r.default)({}, t.id.toString(), (0, i.default)((0, i.default)({}, t), {}, {
                            mediaUrl: null === (n = t.getPreviewImage()) || void 0 === n ? void 0 : n.mediaUrl
                        })))
                    }), {}),
                    R = a.items.reduce((function(e, t) {
                        var n, r, o, l = null !== (n = null === (r = N[t.id]) || void 0 === r ? void 0 : r.mediaUrl) && void 0 !== n ? n : "",
                            u = new C.default((0, i.default)((0, i.default)({}, t), {}, {
                                price: (null !== (o = t.amount) && void 0 !== o ? o : 0) * v.DEFAULT_OFFSET,
                                currency: a.currency,
                                thumbnailUrl: l
                            }));
                        return e.push(u), e
                    }), []);
                return (0, E.jsxs)(d.default, {
                    onDrop: e.onBack,
                    ref: t,
                    children: [(0, E.jsx)(p.DrawerHeader, {
                        title: l.fbt._("Order details", null, {
                            hk: "2HeBLz"
                        }),
                        onBack: e.onBack,
                        type: p.DRAWER_HEADER_TYPE.SMALL
                    }), (0, E.jsxs)(c.default, {
                        children: [(0, E.jsx)(h.default, {
                            xstyle: [o.uiPadding.top20, o.uiPadding.horiz16, o.uiPadding.bottom15],
                            children: (0, E.jsxs)(g.default, {
                                children: [(0, E.jsx)(_.default, {
                                    orderId: a.referenceId,
                                    sellerWid: w,
                                    orderStatus: (0, E.jsx)(x.default, {
                                        orderStatus: D
                                    })
                                }), (0, E.jsx)(b.OrderItems, {
                                    details: !0,
                                    currency: a.currency,
                                    items: R
                                }), (0, E.jsx)(b.OrderValues, {
                                    tax: null != P ? P * v.DEFAULT_OFFSET : null,
                                    discount: null != I ? I * v.DEFAULT_OFFSET : null,
                                    shipping: null != M ? M * v.DEFAULT_OFFSET : null,
                                    subtotal: O * v.DEFAULT_OFFSET,
                                    currency: a.currency
                                }), (0, E.jsxs)(m.FlexRow, {
                                    justify: "all",
                                    children: [(0, E.jsx)(j.TextSpan, {
                                        theme: "title",
                                        children: l.fbt._("Total", null, {
                                            hk: "7xRrT"
                                        })
                                    }), (0, E.jsx)(j.TextSpan, {
                                        theme: "title",
                                        children: s.formatAmount(a.currency, A)
                                    })]
                                })]
                            })
                        }), [y.OrderStatus.Canceled, y.OrderStatus.Complete].every((function(e) {
                            return D !== e
                        })) && (0, E.jsx)(h.default, {
                            children: (0, E.jsx)(f.default, {
                                icon: (0, E.jsx)(S.default, {
                                    color: "teal",
                                    width: 20,
                                    name: "status-ciphertext"
                                }),
                                a8nText: "order-status-update",
                                color: "dark",
                                onClick: function() {
                                    var t;
                                    null === (t = e.onOrderStatusUpdateClick) || void 0 === t || t.call(e)
                                },
                                children: l.fbt._("Update order status", null, {
                                    hk: "BQwg8"
                                })
                            })
                        })]
                    })]
                })
            }
            var I = (0, u.forwardRef)(T);
            t.default = I
        },
        62537: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.productItems.map((function(e) {
                    return {
                        itemKey: e.id.toString(),
                        product: e
                    }
                }));
                return (0, l.jsx)(i.default, {
                    flatListControllers: [e.flatListController],
                    children: (0, l.jsx)(r.FlatList, {
                        a8nKey: "order-detail-product-list",
                        flatListController: e.flatListController,
                        direction: "vertical",
                        forceConsistentRenderCount: !1,
                        data: t,
                        renderItem: function(e) {
                            var t = e.product;
                            return (0, l.jsx)(o.default, {
                                product: t
                            })
                        },
                        defaultItemHeight: 60
                    })
                })
            };
            var r = n(73568),
                i = a(n(23803)),
                o = a(n(50700)),
                l = n(85893)
        },
        96663: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(48360),
                i = n(67294),
                o = (a(n(56720)), a(n(62905))),
                l = a(n(53187)),
                u = a(n(18345)),
                s = n(19288),
                d = a(n(46821)),
                c = a(n(92546)),
                f = a(n(62537)),
                p = n(85893),
                h = {
                    container: {
                        paddingTop: "emrlamx0",
                        paddingEnd: "folpon7g",
                        paddingBottom: "aiput80m",
                        paddingStart: "lyvj5e2u"
                    }
                };

            function m(e, t) {
                var n = e.productItems,
                    a = (0, o.default)((function() {
                        return new c.default
                    }));
                return (0, p.jsxs)(l.default, {
                    onDrop: e.onBack,
                    ref: t,
                    children: [(0, p.jsx)(s.DrawerHeader, {
                        title: r.fbt._("Items", null, {
                            hk: "3B8pMI"
                        }),
                        onBack: e.onBack,
                        type: s.DRAWER_HEADER_TYPE.SMALL
                    }), (0, p.jsx)(u.default, {
                        flatListControllers: [a.current],
                        children: (0, p.jsx)(d.default, {
                            xstyle: h.container,
                            theme: "refresh-padding-title",
                            children: (0, p.jsx)(f.default, {
                                flatListController: a.current,
                                productItems: n
                            })
                        })
                    })]
                })
            }
            var v = (0, i.forwardRef)(m);
            t.default = v
        },
        50700: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, n = e.product,
                    a = (0, f.jsx)(u.EmojiText, {
                        text: n.name,
                        ellipsify: !0,
                        titlify: !0
                    }),
                    p = (0, f.jsx)(d.OrderItemIcon, {
                        useCustomIcon: !1 === Boolean(n.mediaData),
                        mediaData: null !== (t = n.mediaData) && void 0 !== t ? t : null
                    }),
                    h = null;
                if (n.quantity) {
                    var m = s.default.t(691, {
                        quantity: n.quantity.toString()
                    });
                    h = (0, f.jsx)(c.TextSpan, {
                        children: m
                    })
                }
                var v = null;
                v = (0, i.isNonZeroNumber)(n.price) ? l.formatAmount1000(n.currency, n.price) : r.fbt._("Ask for price", null, {
                    hk: "2Rtbeg"
                });
                var g = (0, f.jsx)(c.TextSpan, {
                    children: v
                });
                return (0, f.jsx)(o.default, {
                    image: p,
                    customImage: !0,
                    primary: a,
                    secondary: h,
                    detail: g,
                    theme: "media"
                })
            };
            var r = n(48360),
                i = n(8587),
                o = a(n(88186)),
                l = function(e, t) {
                    if (!t && e && e.__esModule) return e;
                    if (null === e || "object" != typeof e && "function" != typeof e) return {
                        default: e
                    };
                    var n = p(t);
                    if (n && n.has(e)) return n.get(e);
                    var a = {},
                        r = Object.defineProperty && Object.getOwnPropertyDescriptor;
                    for (var i in e)
                        if ("default" !== i && Object.prototype.hasOwnProperty.call(e, i)) {
                            var o = r ? Object.getOwnPropertyDescriptor(e, i) : null;
                            o && (o.get || o.set) ? Object.defineProperty(a, i, o) : a[i] = e[i]
                        } a.default = e, n && n.set(e, a);
                    return a
                }(n(86018)),
                u = n(73008),
                s = a(n(9844)),
                d = n(25267),
                c = n(22552),
                f = n(85893);

            function p(e) {
                if ("function" != typeof WeakMap) return null;
                var t = new WeakMap,
                    n = new WeakMap;
                return (p = function(e) {
                    return e ? n : t
                })(e)
            }
        },
        15213: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.label,
                    n = e.isCanceled,
                    a = e.checked,
                    c = e.onClick;
                return (0, s.jsx)(u.default, {
                    onClick: c,
                    children: (0, s.jsxs)(l.FlexRow, {
                        children: [(0, s.jsx)(l.FlexColumn, {
                            xstyle: r.uiPadding.horiz24,
                            children: (0, s.jsx)(o.default, {
                                checked: a,
                                radio: !0,
                                hover: !1,
                                systemUncheckedColor: !0,
                                onChange: function() {
                                    c()
                                }
                            })
                        }), (0, s.jsx)("div", {
                            className: n ? (0, i.default)(d) : null,
                            children: t
                        })]
                    })
                })
            };
            var r = n(71091),
                i = a(n(56720)),
                o = a(n(22630)),
                l = n(27968),
                u = a(n(76080)),
                s = n(85893),
                d = {
                    color: "mvxzr2tb"
                }
        },
        64689: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                return (0, c.jsxs)(c.Fragment, {
                    children: [(0, c.jsx)(o.default, {
                        transitionName: "media-caption",
                        className: (0, l.default)(f),
                        children: (0, c.jsx)(u.default, {
                            chat: e.chat,
                            maxLength: i.default.MAX_CART_MESSAGE_LENGTH,
                            placeholder: e.placeholder,
                            value: e.value,
                            onEnter: function() {
                                !0 !== e.disabled && e.onSubmit()
                            },
                            onChange: function(t) {
                                e.onChange(t)
                            },
                            multiline: !0,
                            showRemaining: !0,
                            spellCheck: !0,
                            supportsEmoji: !0
                        })
                    }), (0, c.jsx)(o.default, {
                        transitionAppear: !0,
                        transitionName: "btn",
                        children: (0, c.jsx)("button", {
                            disabled: e.disabled,
                            "data-a8n": r.default.key(e.a8nTextButton),
                            className: (0, l.default)(p),
                            tabIndex: "-1",
                            onClick: function() {
                                return e.onSubmit()
                            },
                            title: e.buttonTitle,
                            children: (0, c.jsx)(s.Round, {
                                disabled: e.disabled,
                                children: (0, c.jsx)(d.default, {
                                    width: 18,
                                    name: "send",
                                    directional: !0
                                })
                            })
                        })
                    })]
                })
            };
            var r = a(n(84646)),
                i = a(n(3208)),
                o = a(n(65668)),
                l = a(n(56720)),
                u = a(n(61640)),
                s = n(80385),
                d = a(n(7665)),
                c = n(85893),
                f = {
                    display: "p357zi0d",
                    flexDirection: "f8m0rgwh",
                    width: "ln8gz9je",
                    zIndex: "mb8var44",
                    position: "g0rxnol2",
                    marginBottom: "mggyuyyy"
                },
                p = {
                    color: "svlsagor",
                    marginTop: "tt8xd2xn",
                    marginEnd: "jnwc1y2a",
                    marginBottom: "mpdn4nr2",
                    marginStart: "svoq16ka",
                    opacity: "axi1ht8l",
                    paddingTop: "i5tg98hk",
                    paddingEnd: "f9ovudaz",
                    paddingBottom: "przvwfww",
                    paddingStart: "gx1rr48f",
                    position: "lhggkp7q",
                    right: "q82cfhbg",
                    bottom: "efio351b",
                    textAlign: "qfejxiq4"
                }
        },
        7374: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.order,
                    n = e.onProductDetail,
                    a = e.sellerJid,
                    p = function(e) {
                        var n = t.orderItemCollection.toArray();
                        return (0, u.logOrderListImpression)({
                            catalogContext: e,
                            orderId: t.id,
                            productCount: n.length,
                            catalogOwnerJid: a
                        }), n.map((function(e) {
                            return {
                                itemKey: e.id.toString(),
                                product: e
                            }
                        }))
                    };
                return (0, f.jsx)(i.DrawerContext.Consumer, {
                    children: function(t) {
                        var i = (0, c.getProductCatalogContext)(t);
                        return (0, f.jsx)(l.default, {
                            flatListControllers: [e.flatListController],
                            children: (0, f.jsx)(o.FlatList, {
                                a8nKey: "order-product-list",
                                flatListController: e.flatListController,
                                direction: "vertical",
                                forceConsistentRenderCount: !1,
                                data: p(i),
                                renderItem: function(t) {
                                    return (0, f.jsx)(d.default, {
                                        product: t.product,
                                        onClick: function() {
                                            return function(t, r) {
                                                var i = {
                                                    productId: t.product.id,
                                                    businessOwnerJid: a
                                                };
                                                (0, s.qplStartProductView)("Order"), (0, u.logOrderListItemClick)({
                                                    catalogContext: r,
                                                    orderId: e.order.id,
                                                    catalogOwnerJid: a
                                                }), n(i)
                                            }(t, i)
                                        }
                                    })
                                },
                                defaultItemHeight: r.PRODUCT_LIST_ITEM_HEIGHT
                            })
                        })
                    }
                })
            };
            var r = n(66419),
                i = n(96706),
                o = n(73568),
                l = a(n(23803)),
                u = n(98808),
                s = n(56003),
                d = a(n(74926)),
                c = n(52867),
                f = n(85893)
        },
        74926: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.product,
                    n = e.onClick,
                    a = (0, h.jsx)(d.EmojiText, {
                        text: t.name,
                        ellipsify: !0,
                        titlify: !0
                    }),
                    m = (0, h.jsx)(f.ProductThumb, {
                        mediaData: t.mediaData,
                        theme: "list"
                    }),
                    v = c.default.t(691, {
                        quantity: t.quantity.toString()
                    }),
                    g = null;
                t.quantity && (g = (0, h.jsx)(p.TextSpan, {
                    className: (0, l.default)(r.uiMargin.vert0, r.uiMargin.start0, r.uiMargin.end6),
                    children: v
                }));
                var _ = null;
                _ = (0, o.isNonZeroNumber)(t.price) ? s.formatAmount1000(t.currency, t.price) : i.fbt._("Ask for price", null, {
                    hk: "2Rtbeg"
                });
                var x = (0, h.jsx)(p.TextSpan, {
                        className: (0, l.default)(r.uiMargin.vert0, r.uiMargin.start0, r.uiMargin.end6),
                        children: _
                    }),
                    C = null;
                null != g && (C = (0, h.jsx)("span", {
                    className: (0, l.default)(r.uiMargin.vert0, r.uiMargin.start0, r.uiMargin.end6),
                    children: ""
                }));
                var y = (0, h.jsxs)("div", {
                    children: [x, C, g]
                });
                return (0, h.jsx)(u.default, {
                    image: m,
                    customImage: !0,
                    primary: a,
                    secondary: y,
                    theme: "order-product",
                    onClick: n
                }, t.id.toString())
            };
            var r = n(71091),
                i = n(48360),
                o = n(8587),
                l = a(n(56720)),
                u = a(n(88186)),
                s = function(e, t) {
                    if (!t && e && e.__esModule) return e;
                    if (null === e || "object" != typeof e && "function" != typeof e) return {
                        default: e
                    };
                    var n = m(t);
                    if (n && n.has(e)) return n.get(e);
                    var a = {},
                        r = Object.defineProperty && Object.getOwnPropertyDescriptor;
                    for (var i in e)
                        if ("default" !== i && Object.prototype.hasOwnProperty.call(e, i)) {
                            var o = r ? Object.getOwnPropertyDescriptor(e, i) : null;
                            o && (o.get || o.set) ? Object.defineProperty(a, i, o) : a[i] = e[i]
                        } a.default = e, n && n.set(e, a);
                    return a
                }(n(86018)),
                d = n(73008),
                c = a(n(9844)),
                f = n(47576),
                p = n(22552),
                h = n(85893);

            function m(e) {
                if ("function" != typeof WeakMap) return null;
                var t = new WeakMap,
                    n = new WeakMap;
                return (m = function(e) {
                    return e ? n : t
                })(e)
            }
        },
        60581: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(63038)),
                i = n(71091),
                o = n(48360),
                l = n(67294),
                u = (a(n(56720)), n(65901)),
                s = a(n(53187)),
                d = a(n(18345)),
                c = n(19288),
                f = a(n(46821)),
                p = n(27968),
                h = n(89846),
                m = a(n(15213)),
                v = a(n(64689)),
                g = n(45311),
                _ = n(37616),
                x = n(97629),
                C = n(85893),
                y = [g.OrderStatus.Processing, g.OrderStatus.Shipped, g.OrderStatus.Complete, g.OrderStatus.Canceled],
                b = {
                    checkboxContainer: {
                        gap: "n8lfltvd"
                    }
                };

            function S(e, t) {
                var n = (0, l.useState)(""),
                    a = (0, r.default)(n, 2),
                    S = a[0],
                    j = a[1],
                    k = (0, l.useMemo)((function() {
                        return (0, g.findOrderStatus)(e.chat, e.orderInfo.referenceId)
                    }), [e.chat, e.orderInfo.referenceId]),
                    E = (0, l.useState)(k),
                    w = (0, r.default)(E, 2),
                    T = w[0],
                    I = w[1],
                    P = e.chat,
                    M = e.sellerJid,
                    O = e.orderInfo,
                    A = o.fbt._("Add a note", null, {
                        hk: "1bEnPm"
                    });
                return (0, C.jsxs)(s.default, {
                    onDrop: e.onBack,
                    ref: t,
                    children: [(0, C.jsx)(c.DrawerHeader, {
                        title: o.fbt._("Update order status", null, {
                            hk: "Zrpil"
                        }),
                        onBack: e.onBack,
                        type: c.DRAWER_HEADER_TYPE.SMALL
                    }), (0, C.jsxs)(d.default, {
                        children: [(0, C.jsx)(f.default, {
                            xstyle: [i.uiPadding.vert20, i.uiPadding.horiz16],
                            theme: "refresh-padding-title",
                            children: (0, C.jsx)(p.FlexColumn, {
                                xstyle: b.checkboxContainer,
                                children: y.map((function(e) {
                                    return (0, C.jsx)(m.default, {
                                        label: _.OrderStatusLabels[e],
                                        isCanceled: e === g.OrderStatus.Canceled,
                                        checked: T === e,
                                        onClick: function() {
                                            I(e)
                                        }
                                    }, e)
                                }))
                            })
                        }), (0, C.jsx)(f.default, {
                            xstyle: [i.uiPadding.top8, i.uiPadding.horiz16],
                            theme: "refresh-padding-title",
                            children: (0, C.jsx)(v.default, {
                                chat: e.chat,
                                placeholder: A,
                                value: S,
                                onChange: j,
                                onSubmit: function() {
                                    u.Cmd.closeDrawerRight(), (0, x.sendOrderStatusMessageAsMerchant)({
                                        chat: P,
                                        sellerJid: M,
                                        orderInfo: O,
                                        orderNote: S,
                                        orderStatus: T,
                                        offset: h.DEFAULT_OFFSET
                                    }), u.Cmd.openChatFromUnread(P)
                                },
                                buttonTitle: A,
                                disabled: T === k,
                                a8nTextButton: "order-status-update-button"
                            })
                        })]
                    })]
                })
            }
            var j = (0, l.forwardRef)(S);
            t.default = j
        },
        49110: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.CatalogSettingsDrawer = function(e) {
                var t = e.onBack,
                    n = (0, s.useState)(!0),
                    a = (0, r.default)(n, 2),
                    l = a[0],
                    c = a[1],
                    h = (0, s.useState)(!1),
                    x = (0, r.default)(h, 2),
                    C = x[0],
                    b = x[1],
                    S = (0, d.default)();
                return (0, s.useEffect)((function() {
                    (0, o.default)(f.BusinessProfileCollection.fetchBizProfile((0, y.getMeUser)()), S).then((function(e) {
                        var t = e.profileOptions;
                        c(!1), b(null != t && t.cartEnabled)
                    })).catch((0, i.catchAbort)((function() {}))).catch((function() {
                        __LOG__(4, !0, new Error)`Error fetching the business profile.`, m.Cmd.openToast((0, T.jsx)(w.Toast, {
                            msg: u.fbt._("Failed to load catalog settings.", null, {
                                hk: "2UxoQh"
                            }),
                            duration: 6e3,
                            id: (0, w.genId)()
                        })), t()
                    }))
                }), []), (0, T.jsxs)(v.default, {
                    theme: "catalog",
                    onDrop: e.onBack,
                    children: [(0, T.jsx)(_.DrawerHeader, {
                        title: u.fbt._("Settings", null, {
                            hk: "2RmHUB"
                        }),
                        type: _.DRAWER_HEADER_TYPE.LARGE,
                        onBack: e.onBack
                    }), (0, T.jsx)(g.default, {
                        children: l ? (0, T.jsx)("div", {
                            className: p.default.loadingSpinner,
                            children: (0, T.jsx)(k.Spinner, {})
                        }) : (0, T.jsx)(I, {
                            cartEnabled: C,
                            setCartEnabled: function(e) {
                                b(e)
                            }
                        })
                    })]
                })
            };
            var r = a(n(63038)),
                i = n(396),
                o = a(n(15584)),
                l = n(8917),
                u = n(48360),
                s = n(67294),
                d = a(n(22190)),
                c = n(88684),
                f = n(26141),
                p = a(n(36825)),
                h = a(n(81288)),
                m = n(65901),
                v = a(n(53187)),
                g = a(n(18345)),
                _ = n(19288),
                x = a(n(46821)),
                C = n(49012),
                y = n(1577),
                b = a(n(9844)),
                S = a(n(62848)),
                j = a(n(85492)),
                k = n(85651),
                E = n(22552),
                w = n(92428),
                T = n(85893);

            function I(e) {
                var t = e.cartEnabled,
                    n = e.setCartEnabled,
                    a = function(e) {
                        n(e), (0, c.updateCartEnabled)(e).catch((function() {
                            __LOG__(4, !0, new Error, !0)`Failed to update cartEnabled value`, SEND_LOGS("updateCartEnabled: cartEnabled toggle error"), m.Cmd.openToast((0, T.jsx)(w.Toast, {
                                msg: u.fbt._("Failed to update the setting.", null, {
                                    hk: "RZBg9"
                                }),
                                duration: 6e3,
                                id: (0, w.genId)()
                            })), n(t)
                        }))
                    },
                    r = (0, l.getCatalogCartOnOffFaqUrl)(),
                    i = (0, T.jsx)(h.default, {
                        href: r,
                        onClick: function(e) {
                            e.preventDefault(), (0, C.openExternalLink)(r)
                        },
                        children: b.default.t(547)
                    }),
                    o = (0, T.jsx)(S.default, {
                        id: 269,
                        params: {
                            learn_more_link: i
                        }
                    });
                return (0, T.jsxs)(T.Fragment, {
                    children: [(0, T.jsxs)(x.default, {
                        title: u.fbt._("Add to cart", null, {
                            hk: "1mbCt1"
                        }),
                        theme: "title-larger",
                        animation: !1,
                        children: [(0, T.jsx)(j.default, {
                            isChosen: t,
                            onChoose: function() {
                                a(!0)
                            },
                            choiceText: u.fbt._("On", null, {
                                hk: "2m7e5W"
                            })
                        }), (0, T.jsx)(j.default, {
                            isChosen: !t,
                            onChoose: function() {
                                a(!1)
                            },
                            choiceText: u.fbt._("Off", null, {
                                hk: "1l0P5X"
                            })
                        })]
                    }), (0, T.jsx)(E.TextDiv, {
                        theme: "plain",
                        className: p.default.descriptionText,
                        children: o
                    })]
                })
            }
        },
        47066: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = (0, l.useState)((function() {
                        return s.CatalogCollection.get(e)
                    })),
                    n = (0, o.default)(t, 2),
                    a = n[0],
                    d = n[1],
                    c = (0, u.default)();
                return (0, l.useEffect)((function() {
                    var t = s.CatalogCollection.get(e);
                    t !== a && (null != t ? d(t) : (0, i.default)(r.default.mark((function t() {
                        var n;
                        return r.default.wrap((function(t) {
                            for (;;) switch (t.prev = t.next) {
                                case 0:
                                    return t.next = 2, s.CatalogCollection.find(e);
                                case 2:
                                    n = t.sent, c() && d(n);
                                case 4:
                                case "end":
                                    return t.stop()
                            }
                        }), t)
                    })))())
                }), [e, a, c]), a
            };
            var r = a(n(87757)),
                i = a(n(48926)),
                o = a(n(63038)),
                l = n(67294),
                u = a(n(80564)),
                s = n(72743)
        },
        15199: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.selections,
                    n = e.active,
                    a = e.onSelectionChanged,
                    s = e.catalog,
                    d = function(e) {
                        ! function(e, r, i) {
                            t.setVal(e, r, i), n.setVal(e, i), a()
                        }(e, !t.isSelected(e), !1)
                    };
                return (0, u.jsx)(o.default, {
                    flatListControllers: [e.flatListController],
                    children: (0, u.jsx)(i.FlatList, {
                        flatListController: e.flatListController,
                        direction: "vertical",
                        forceConsistentRenderCount: !1,
                        data: s.productCollection.getProductModels(!0).map((function(e) {
                            return {
                                itemKey: e.id.toString(),
                                product: e
                            }
                        })),
                        renderItem: function(e) {
                            var a = e.product;
                            return (0, u.jsx)(l.default, {
                                product: a,
                                selections: t,
                                onClick: function() {
                                    return d(a)
                                },
                                active: n
                            }, a.id.toString())
                        },
                        defaultItemHeight: r.PRODUCT_LIST_ITEM_HEIGHT
                    })
                })
            };
            var r = n(66419),
                i = n(73568),
                o = a(n(23803)),
                l = a(n(90202)),
                u = n(85893)
        },
        7779: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, n = e.catalog,
                    a = e.collection,
                    T = e.onBack,
                    A = (0, h.default)((function() {
                        return new L.default([], (function(e) {
                            return e.id.toString()
                        }))
                    })),
                    R = (0, h.default)((function() {
                        return new s.default([], (function(e) {
                            return e.id.toString()
                        }))
                    })),
                    G = (0, h.default)((function() {
                        return new E.default
                    })),
                    H = (0, p.default)(),
                    W = (0, v.default)(),
                    V = (0, f.useState)(null),
                    z = (0, l.default)(V, 2),
                    q = (z[0], z[1]),
                    K = (0, f.useState)(null),
                    Y = (0, l.default)(K, 2),
                    Q = Y[0],
                    X = Y[1],
                    Z = (0, f.useState)(null == a ? void 0 : a.name),
                    J = (0, l.default)(Z, 2),
                    $ = J[0],
                    ee = J[1],
                    te = (0, f.useState)(null == a ? void 0 : a.name),
                    ne = (0, l.default)(te, 2),
                    ae = ne[0],
                    re = ne[1],
                    ie = (0, f.useState)(null),
                    oe = (0, l.default)(ie, 2),
                    le = oe[0],
                    ue = oe[1],
                    se = (0, f.useState)(!1),
                    de = (0, l.default)(se, 2),
                    ce = de[0],
                    fe = de[1],
                    pe = (0, f.useState)(!0),
                    he = (0, l.default)(pe, 2),
                    me = he[0],
                    ve = he[1];
                (0, f.useEffect)((function() {
                    var e, t;
                    e = new x.CollectionsContentDataSource(n, _.PRODUCT_LIST_ITEM_HEIGHT, null == a ? void 0 : a.id), t = new x.CatalogListItemScrollHelper(e), q(e), X(t), e.loadInitialItems().then((function() {
                        if (W.aborted) throw new u.AbortError;
                        ve(!1), H()
                    })).catch((0, u.catchAbort)((function() {})))
                }), []);
                var ge = function(e) {
                        ee(e), ue(le && e ? null : le)
                    },
                    _e = (0, m.default)((function(e) {
                        var t = e.currentTarget;
                        (null == Q ? void 0 : Q.willLoadMore(t)) && ve(!0), null == Q || Q.onScroll(e, t).then((function(e) {
                            ve(!1), e && ve(!1)
                        })).catch((function(e) {
                            throw ve(!1), e
                        }))
                    }), 100),
                    xe = function() {
                        var e = n.productCollection.getProductModels(!0),
                            t = [],
                            a = [];
                        return e.forEach((function(e) {
                            var n = R.current.isSelected(e);
                            e.checkmark !== n && (n ? a.push(e) : t.push(e))
                        })), {
                            added: a,
                            removed: t
                        }
                    },
                    Ce = function() {
                        var e = (0, o.default)(i.default.mark((function e(t) {
                            var r, o, l, u, s, d;
                            return i.default.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        if (r = (0, P.getProductCatalogContext)(t), $ && "" !== $.trim()) {
                                            e.next = 5;
                                            break
                                        }
                                        ue(c.fbt._("Name required", null, {
                                            hk: "1pvj2p"
                                        })), e.next = 22;
                                        break;
                                    case 5:
                                        return M.QPL.markerStart(O.QuickLogMarkerId.WHATSAPP_COLLECTION_EDIT), fe(!0), o = xe(), l = o.added, u = o.removed, s = $ !== ae, M.QPL.markerAnnotate(O.QuickLogMarkerId.WHATSAPP_COLLECTION_EDIT, {
                                            bool: {
                                                IsNew: !a
                                            },
                                            int: {
                                                ProductsAdded: l.length
                                            }
                                        }), a && M.QPL.markerAnnotate(O.QuickLogMarkerId.WHATSAPP_COLLECTION_EDIT, {
                                            bool: {
                                                Renamed: s
                                            },
                                            int: {
                                                ProductsDeleted: u.length
                                            }
                                        }), e.prev = 11, e.next = 14, (0, g.handleCollectionSave)(n, a, $ || "", l, u, r);
                                    case 14:
                                        e.sent ? (T(), (d = null == a ? void 0 : a.id) && s && ((0, I.logCollectionRenamed)({
                                            catalogContext: r,
                                            collectionId: d
                                        }), re($)), a && (0, I.logCollectionItemsAssignment)({
                                            collectionId: a.id,
                                            addedCount: l.length,
                                            removedCount: u.length,
                                            catalogContext: r
                                        }), M.QPL.markerEnd(O.QuickLogMarkerId.WHATSAPP_COLLECTION_EDIT, M.QuickLogActionType.SUCCESS)) : (fe(!1), M.QPL.markerDrop(O.QuickLogMarkerId.WHATSAPP_COLLECTION_EDIT)), e.next = 22;
                                        break;
                                    case 18:
                                        e.prev = 18, e.t0 = e.catch(11), fe(!1), M.QPL.markerEnd(O.QuickLogMarkerId.WHATSAPP_COLLECTION_EDIT, M.QuickLogActionType.FAIL);
                                    case 22:
                                    case "end":
                                        return e.stop()
                                }
                            }), e, null, [
                                [11, 18]
                            ])
                        })));
                        return function() {
                            return e.apply(this, arguments)
                        }
                    }(),
                    ye = (0, d.default)(k.default.container, (0, r.default)({}, k.default.isSending, ce)),
                    be = (null === (t = e.collection) || void 0 === t ? void 0 : t.name) || c.fbt._("New collection", null, {
                        hk: "4dusPd"
                    });
                return (0, F.jsxs)(y.default, {
                    theme: "products",
                    onDrop: e.onBack,
                    children: [(0, F.jsx)(j.DrawerHeader, {
                        title: be,
                        type: j.DRAWER_HEADER_TYPE.LARGE,
                        onBack: e.onBack,
                        menu: (0, F.jsx)(F.Fragment, {})
                    }), (0, F.jsx)(b.default, {
                        className: ye,
                        flatListControllers: [G.current],
                        onScroll: _e,
                        children: (ke = ce ? (0, F.jsx)("div", {
                            className: k.default.spinner,
                            children: (0, F.jsx)(D.Spinner, {
                                size: 50,
                                stroke: 3
                            })
                        }) : null, Se = n.productCollection.getProductModels(!0), je = 0, Se.forEach((function(e) {
                            R.current.isInList(e) ? e.checkmark !== R.current.isSelected(e) && je++ : R.current.setVal(e, e.checkmark)
                        })), Ee = je, (0, F.jsx)(S.DrawerContext.Consumer, {
                            children: function(e) {
                                var t = (0, P.getProductCatalogContext)(e);
                                return (0, F.jsxs)(F.Fragment, {
                                    children: [ke, (0, F.jsxs)("div", {
                                        className: k.default.nameContainer,
                                        children: [(0, F.jsx)("span", {
                                            className: k.default.nameIcon,
                                            children: (0, F.jsx)(N.default, {
                                                name: "collections_folder"
                                            })
                                        }), (0, F.jsx)("span", {
                                            className: k.default.nameEdit,
                                            children: (0, F.jsx)(B, {
                                                onChange: ge,
                                                value: $,
                                                errorName: le
                                            })
                                        })]
                                    }), (0, F.jsx)("div", {
                                        className: k.default.operation,
                                        children: a ? c.fbt._("Update Items", null, {
                                            hk: "2dT3Pu"
                                        }) : c.fbt._("Add Items", null, {
                                            hk: "3NRr27"
                                        })
                                    }), (0, F.jsxs)("div", {
                                        className: k.default.listContainer,
                                        children: [(0, F.jsx)(C.default, {
                                            catalog: n,
                                            flatListController: G.current,
                                            active: A.current,
                                            selections: R.current,
                                            onSelectionChanged: function() {
                                                return H()
                                            }
                                        }), me && (0, F.jsx)("div", {
                                            className: k.default.loadingSpinner,
                                            children: (0, F.jsx)(w.default, {})
                                        })]
                                    }), Ee > 0 || a && $ !== a.name ? (0, F.jsx)(U, {
                                        updated: Ee,
                                        onClick: function() {
                                            Ce(t)
                                        }
                                    }) : null]
                                })
                            }
                        }))
                    })]
                });
                var Se, je, ke, Ee
            };
            var r = a(n(59713)),
                i = a(n(87757)),
                o = a(n(48926)),
                l = a(n(63038)),
                u = n(396),
                s = a(n(64709)),
                d = a(n(94184)),
                c = n(48360),
                f = n(67294),
                p = a(n(45764)),
                h = a(n(62905)),
                m = a(n(75967)),
                v = a(n(22190)),
                g = n(56734),
                _ = n(66419),
                x = n(46321),
                C = a(n(15199)),
                y = a(n(53187)),
                b = a(n(18345)),
                S = n(96706),
                j = n(19288),
                k = a(n(45231)),
                E = a(n(92546)),
                w = a(n(5029)),
                T = a(n(9844)),
                I = n(32065),
                P = n(52867),
                M = n(3298),
                O = n(4099),
                A = n(80385),
                L = a(n(18894)),
                D = n(85651),
                N = a(n(7665)),
                R = n(68544),
                F = n(85893);

            function B(e) {
                var t = e.value,
                    n = e.errorName,
                    a = e.onChange;
                return (0, F.jsx)(R.TextInput, {
                    editable: !0,
                    focusOnMount: !0,
                    showRemaining: !0,
                    value: t,
                    onChange: a,
                    inputPlaceholder: c.fbt._("New collection", null, {
                        hk: "2NAI33"
                    }),
                    theme: "text-input",
                    error: n,
                    maxLength: 30
                })
            }

            function U(e) {
                var t = e.onClick,
                    n = e.updated,
                    a = T.default.t(262, {
                        updated: n,
                        _plural: n
                    });
                return (0, F.jsxs)("div", {
                    className: k.default.footer,
                    children: [a, (0, F.jsx)("div", {
                        className: k.default.saveButton,
                        children: (0, F.jsx)(A.Round, {
                            large: !0,
                            onClick: t,
                            children: (0, F.jsx)(N.default, {
                                name: "checkmark-medium"
                            })
                        })
                    })]
                })
            }
        },
        5839: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.ComplianceInfoFields = ue, t.EditProductDrawerImpl = t.EditProductDrawer = void 0;
            var r = a(n(63038)),
                i = a(n(59713)),
                o = a(n(87757)),
                l = a(n(81109)),
                u = a(n(48926)),
                s = a(n(34575)),
                d = a(n(93913)),
                c = a(n(2205)),
                f = a(n(99842)),
                p = n(15586),
                h = a(n(272)),
                m = n(73435),
                v = a(n(10646)),
                g = a(n(94184)),
                _ = n(48360),
                x = n(67294),
                C = (a(n(56720)), n(18297)),
                y = n(56734),
                b = a(n(51599)),
                S = n(72743),
                j = n(91404),
                k = n(65901),
                E = n(48953),
                w = n(65971),
                T = n(55869),
                I = n(60543),
                P = n(73804),
                M = function(e, t) {
                    if (!t && e && e.__esModule) return e;
                    if (null === e || "object" != typeof e && "function" != typeof e) return {
                        default: e
                    };
                    var n = ie(t);
                    if (n && n.has(e)) return n.get(e);
                    var a = {},
                        r = Object.defineProperty && Object.getOwnPropertyDescriptor;
                    for (var i in e)
                        if ("default" !== i && Object.prototype.hasOwnProperty.call(e, i)) {
                            var o = r ? Object.getOwnPropertyDescriptor(e, i) : null;
                            o && (o.get || o.set) ? Object.defineProperty(a, i, o) : a[i] = e[i]
                        } a.default = e, n && n.set(e, a);
                    return a
                }(n(86018)),
                O = a(n(19868)),
                A = a(n(53187)),
                L = a(n(18345)),
                D = n(96706),
                N = n(19288),
                R = a(n(30806)),
                F = n(27968),
                B = a(n(69520)),
                U = n(1577),
                G = n(38032),
                H = n(2629),
                W = a(n(93531)),
                V = a(n(9844)),
                z = n(63641),
                q = n(56264),
                K = n(3544),
                Y = n(8842),
                Q = n(52867),
                X = a(n(62340)),
                Z = n(3298),
                J = n(4099),
                $ = n(85651),
                ee = a(n(61897)),
                te = n(22552),
                ne = n(68544),
                ae = n(92428),
                re = n(85893);

            function ie(e) {
                if ("function" != typeof WeakMap) return null;
                var t = new WeakMap,
                    n = new WeakMap;
                return (ie = function(e) {
                    return e ? n : t
                })(e)
            }
            var oe = {
                    complianceInfoHelpCenterBanner: {
                        paddingTop: "nlnf8xo7",
                        paddingEnd: "f9ovudaz",
                        paddingBottom: "jzp2c175",
                        paddingStart: "gx1rr48f"
                    }
                },
                le = function(e) {
                    (0, c.default)(a, e);
                    var t, n = (0, f.default)(a);

                    function a(e) {
                        var t;
                        (0, s.default)(this, a), (t = n.call(this, e))._imagePanelRef = (0, x.createRef)(), t._handleNameChange = function(e) {
                            t.setState({
                                name: e,
                                nameError: "" === e.trim() ? _.fbt._("Add a title", null, {
                                    hk: "3QauyV"
                                }) : "",
                                isModified: !0
                            })
                        }, t._handlePriceChange = function(e) {
                            var n = M.valueFromString(t.state.currency, e),
                                a = "";
                            "" === e || M.validatePriceString(t.state.currency, e, K.MIN_PRICE, K.MAX_PRICE) || (a = _.fbt._("Enter a valid price", null, {
                                hk: "3JgcXg"
                            })), t.setState({
                                priceAmount1000: "" === e ? null : n,
                                priceStr: `${e}`,
                                priceError: a,
                                isModified: !0
                            })
                        }, t._handleDescriptionChange = function(e) {
                            t.setState({
                                description: e,
                                isModified: !0
                            })
                        }, t._handleUrlChange = function(e) {
                            var n = "";
                            "" === e || v.default.isValid(e) || (n = _.fbt._("URL is incorrect", null, {
                                hk: "xiOtm"
                            })), t.setState({
                                url: e,
                                urlError: n,
                                isModified: !0
                            })
                        }, t._handleUrlBlur = function() {
                            var e = t.state.url;
                            "" === e || v.default.isHttps(e) || v.default.isHttp(e) || t.setState({
                                url: `https://${e}`
                            })
                        }, t._handleRetailerIdChange = function(e) {
                            t.setState({
                                retailerId: e,
                                retailerIdError: "",
                                isModified: !0
                            })
                        }, t._showComplianceInfoImporterAddress = function() {
                            var e, n = null === (e = t.state.complianceInfo) || void 0 === e ? void 0 : e.countryCodeOrigin;
                            return !!n && ![E.COMPLIANCE_INFO_CODES.INDIA, I.SyntheticCountryCode.NotApplicable].includes(n)
                        }, t._handleComplianceInfoChange = function() {
                            var e = (0, u.default)(o.default.mark((function e(n, a) {
                                var r, i, u;
                                return o.default.wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                        case 0:
                                            if (u = (0, l.default)((0, l.default)({}, t.state.complianceInfo), {}, {
                                                    importerAddress: (0, l.default)({}, null === (r = t.state.complianceInfo) || void 0 === r ? void 0 : r.importerAddress)
                                                }), "countryCodeOrigin" !== n) {
                                                e.next = 12;
                                                break
                                            }
                                            if (a !== String(I.SyntheticCountryCode.NotApplicable)) {
                                                e.next = 6;
                                                break
                                            }
                                            e.t0 = _.fbt._("Not Applicable", null, {
                                                hk: "2k1klN"
                                            }).toString(), e.next = 9;
                                            break;
                                        case 6:
                                            return e.next = 8, (0, I.getCountryName)(a);
                                        case 8:
                                            e.t0 = e.sent;
                                        case 9:
                                            i = e.t0, u.countryNameOrigin = i, u.countryCodeOriginError = "";
                                        case 12:
                                            "importerName" === n && (u.importerNameError = (0, T.existsField)(a, (0, U.getMeUser)()) || !t.shouldComplianceBeHardEnforced() ? "" : _.fbt._("Add an importer name", null, {
                                                hk: "3UwP1T"
                                            })), u[n] = a || void 0, t.setState({
                                                complianceInfo: u,
                                                isModified: !0
                                            });
                                        case 15:
                                        case "end":
                                            return e.stop()
                                    }
                                }), e)
                            })));
                            return function() {
                                return e.apply(this, arguments)
                            }
                        }(), t._getImporterAddressFieldValueOnChange = function(e, n, a) {
                            var r = (t.state.complianceInfo || {}).importerAddress;
                            return n === e ? a : r[e]
                        }, t._handleComplianceInfoImporterAddressChange = function() {
                            var e = (0, u.default)(o.default.mark((function e(n, a) {
                                var r, i, u, s, d, c, f, p, h;
                                return o.default.wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                        case 0:
                                            if (i = t._getImporterAddressFieldValueOnChange("street1", n, a), u = t._getImporterAddressFieldValueOnChange("street2", n, a), s = t._getImporterAddressFieldValueOnChange("postalCode", n, a), d = t._getImporterAddressFieldValueOnChange("city", n, a), c = t._getImporterAddressFieldValueOnChange("region", n, a), f = t._getImporterAddressFieldValueOnChange("countryCode", n, a), p = [i, u, s, d, c, f].some((function(e) {
                                                    return e
                                                })) || t.shouldComplianceBeHardEnforced(), h = (0, l.default)((0, l.default)({}, t.state.complianceInfo), {}, {
                                                    importerAddress: (0, l.default)({}, null === (r = t.state.complianceInfo) || void 0 === r ? void 0 : r.importerAddress)
                                                }), "countryCode" !== n) {
                                                e.next = 15;
                                                break
                                            }
                                            return e.next = 11, (0, I.getCountryName)(a);
                                        case 11:
                                            if (e.t0 = e.sent, e.t0) {
                                                e.next = 14;
                                                break
                                            }
                                            e.t0 = void 0;
                                        case 14:
                                            h.importerAddress.countryName = e.t0;
                                        case 15:
                                            h.importerAddress[n] = a || void 0, h.importerAddress.street1Error = p && !(0, T.existsFieldIgnoreHardEnforcement)(i) ? _.fbt._("Add an importer address line 1", null, {
                                                hk: "3HSMmN"
                                            }) : "", h.importerAddress.cityError = p && !(0, T.existsFieldIgnoreHardEnforcement)(d) ? _.fbt._("Add an importer city", null, {
                                                hk: "1nq7dA"
                                            }) : "", h.importerAddress.countryCodeError = p && !(0, T.existsFieldIgnoreHardEnforcement)(f) ? _.fbt._("Add an importer country", null, {
                                                hk: "3VmDTh"
                                            }) : "", t.setState({
                                                complianceInfo: h,
                                                isModified: !0
                                            });
                                        case 20:
                                        case "end":
                                            return e.stop()
                                    }
                                }), e)
                            })));
                            return function() {
                                return e.apply(this, arguments)
                            }
                        }(), t._handleHiddenChange = function() {
                            t.setState({
                                isHidden: !t.state.isHidden
                            })
                        }, t._getProductChanges = function() {
                            var e = t.props,
                                n = e.catalog,
                                a = e.product,
                                r = t.state,
                                i = r.name,
                                o = r.priceAmount1000,
                                l = r.currency,
                                u = r.description,
                                s = r.url,
                                d = r.retailerId,
                                c = r.complianceInfo,
                                f = r.isHidden;
                            return new K.Product({
                                id: a.id,
                                priceAmount1000: o,
                                currency: l,
                                description: u || "",
                                imageCdnUrl: a.imageCdnUrl,
                                additionalImageCdnUrl: a.additionalImageCdnUrl,
                                name: i,
                                retailerId: d,
                                url: s,
                                isHidden: f,
                                complianceInfo: (0, H.canSeeECommerceComplianceIndiaSoftEnforcement)(n.id.user) ? {
                                    countryCodeOrigin: null == c ? void 0 : c.countryCodeOrigin,
                                    importerName: null == c ? void 0 : c.importerName,
                                    importerAddress: {
                                        street1: null == c ? void 0 : c.importerAddress.street1,
                                        street2: null == c ? void 0 : c.importerAddress.street2,
                                        postalCode: null == c ? void 0 : c.importerAddress.postalCode,
                                        city: null == c ? void 0 : c.importerAddress.city,
                                        region: null == c ? void 0 : c.importerAddress.region,
                                        countryCode: null == c ? void 0 : c.importerAddress.countryCode
                                    }
                                } : void 0
                            })
                        }, t._handleEditSuccess = function(e) {
                            var n = t.props,
                                a = n.catalog,
                                r = n.onEditSuccess,
                                i = n.newProduct,
                                o = n.onCreate;
                            a.productCollection.add(e, {
                                merge: !0
                            }), t.props.newProduct ? (0, q.logAddProductSuccess)((0, Q.getProductCatalogContext)(t.context)) : (0, q.logEditProductSuccess)(t.props.product, (0, Q.getProductCatalogContext)(t.context)), k.Cmd.openToast((0, re.jsx)(ae.Toast, {
                                msg: _.fbt._("Changes saved", null, {
                                    hk: "fmK60"
                                }),
                                id: (0, ae.genId)("catalog_item_saved")
                            })), r(e), null != i && o && o()
                        }, t._handleDeleteItem = function() {
                            var e = t.props,
                                n = e.catalog,
                                a = e.product,
                                r = e.onDelete;
                            (0, y.handleProductDelete)(n, a, (0, Q.getProductCatalogContext)(t.context), "Product").then((function(e) {
                                e && (k.Cmd.closeDrawerMid(), null == r || r(a))
                            }))
                        }, t._handleEditError = function(e, n) {
                            t.props.newProduct ? (0, q.logAddProductFailed)((0, Q.getProductCatalogContext)(t.context)) : (0, q.logEditProductFailed)(t.props.product, (0, Q.getProductCatalogContext)(t.context), e.statusCode);
                            var a = _.fbt._("Failed to save changes", null, {
                                hk: "1rgjJH"
                            });
                            null != e.errors && (e.errors.filter((function(e) {
                                return "duplicate" === e.reason
                            })).length > 0 ? Z.QPL.markerDrop(n) : Z.QPL.markerEnd(n, Z.QuickLogActionType.FAIL), e.errors.map((function(e) {
                                "media" === e.name && "duplicate" === e.reason && t.setState({
                                    imageError: _.fbt._("Two or more images are the same. Delete any duplicates and try again.", null, {
                                        hk: "3qIMS6"
                                    })
                                }), "retailer_id" !== e.name && "retailer-id" !== e.name || "duplicate" !== e.reason || t.setState({
                                    retailerIdError: _.fbt._("Item code must be unique.", null, {
                                        hk: "2T0KbL"
                                    })
                                }), (0, H.hideUnsupportedCurrency)() && "currency" === e.name && "invalid-data" === e.reason && (a = _.fbt._("Price cant be shown in your country. Delete the price you entered.", null, {
                                    hk: "R4VXy"
                                }))
                            }))), k.Cmd.openToast((0, re.jsx)(ae.Toast, {
                                msg: a,
                                id: (0, ae.genId)("catalog_save_item_failed")
                            }))
                        }, t._handleSaveItem = function() {
                            var e, n = t.props,
                                a = n.catalog,
                                r = n.product,
                                i = n.newProduct,
                                o = !0,
                                l = t._getProductChanges();
                            t.errorsRevealed() || (i ? (0, q.logAddProductClick)((0, Q.getProductCatalogContext)(t.context)) : (0, q.logEditProductClick)(r, (0, Q.getProductCatalogContext)(t.context)), t.setState({
                                isUpdating: !0
                            }), i || t.state.isModified ? (Z.QPL.markerStart(J.QuickLogMarkerId.WHATSAPP_PRODUCT_SAVE, {
                                annotations: {
                                    bool: {
                                        IsNewProduct: !!i
                                    }
                                }
                            }), null === (e = t._imagePanelRef.current) || void 0 === e || e.uploadImages().then((function(e) {
                                l.imageCdnUrl = e[0], l.additionalImageCdnUrl = e.slice(1), (i ? a.addProduct : a.editProduct).call(a, l).then((function(e) {
                                    t._handleEditSuccess(e), o = !1, Z.QPL.markerEnd(J.QuickLogMarkerId.WHATSAPP_PRODUCT_SAVE, Z.QuickLogActionType.SUCCESS)
                                })).catch((0, p.filteredCatch)(m.CatalogEditServerError, (function(e) {
                                    o = !1, t._handleEditError(e, J.QuickLogMarkerId.WHATSAPP_PRODUCT_SAVE)
                                }))).finally((function() {
                                    o && Z.QPL.markerEnd(J.QuickLogMarkerId.WHATSAPP_PRODUCT_SAVE, Z.QuickLogActionType.FAIL), t.setState({
                                        isUpdating: !1
                                    })
                                }))
                            })).catch((function(e) {
                                throw Z.QPL.markerEnd(J.QuickLogMarkerId.WHATSAPP_PRODUCT_SAVE, Z.QuickLogActionType.FAIL), t.setState({
                                    isUpdating: !1
                                }), e
                            }))) : (Z.QPL.markerStart(J.QuickLogMarkerId.WHATSAPP_PRODUCT_SET_VISIBLE, {
                                annotations: {
                                    string: {
                                        EntryPoint: "Product"
                                    }
                                }
                            }), (0, Y.productVisibilitySet)([{
                                productId: r.id.toString(),
                                isHidden: l.isHidden
                            }]).then((function() {
                                r.isHidden = l.isHidden, t._handleEditSuccess(r), o = !1, Z.QPL.markerEnd(J.QuickLogMarkerId.WHATSAPP_PRODUCT_SET_VISIBLE, Z.QuickLogActionType.SUCCESS)
                            })).catch((0, p.filteredCatch)(m.CatalogEditServerError, (function(e) {
                                o = !1, t._handleEditError(e, J.QuickLogMarkerId.WHATSAPP_PRODUCT_SET_VISIBLE)
                            }))).finally((function() {
                                o && Z.QPL.markerEnd(J.QuickLogMarkerId.WHATSAPP_PRODUCT_SET_VISIBLE, Z.QuickLogActionType.FAIL), t.setState({
                                    isUpdating: !1
                                })
                            }))))
                        }, t._handleImageChange = function(e) {
                            var n = "";
                            0 === e.length && (n = _.fbt._("Add at least one image", null, {
                                hk: "4tbVYS"
                            })), t.setState({
                                imageError: n,
                                hasImages: e.length > 0,
                                isModified: !0
                            })
                        }, t._handleDrop = function(e) {
                            var n;
                            null === (n = t._imagePanelRef.current) || void 0 === n || n.handleFilePick(e)
                        }, t._handleDragChange = function(e) {
                            t.setState({
                                isDragging: e
                            })
                        }, t.getServerPrice = function(e) {
                            return parseInt(parseFloat(e).toFixed(2).toString().replace(/\.|,/g, ""), 10)
                        };
                        var r = t.props.product,
                            i = !1,
                            d = null != r.currency ? r.currency : M.currencyForCountryShortcode((0, P.getCountryShortcodeByPhone)((0, U.getMeUser)().user)),
                            c = null == r.priceAmount1000 ? null : r.priceAmount1000,
                            f = "";
                        if (null != c && null != r.currency) {
                            var h = M.formatAmount1000ToParts(r.currency, c);
                            f = `${h.integer}${h.decimal}`
                        }
                        return t.canDisplayPrice(d) || (f = "", d = "", c = null, i = !0), t.state = {
                            name: r.name || "",
                            priceAmount1000: c,
                            description: r.description || "",
                            url: r.url || "",
                            retailerId: r.retailerId || "",
                            priceStr: f,
                            currency: d,
                            isUpdating: !1,
                            nameError: "",
                            priceError: "",
                            urlError: "",
                            retailerIdError: "",
                            imageError: "",
                            hasImages: !!r.imageCdnUrl,
                            isDragging: !1,
                            isHidden: r.isHidden,
                            isModified: i,
                            isComplianceInfoAvailable: !1,
                            complianceInfo: void 0
                        }, t
                    }
                    return (0, d.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this,
                                t = this.props,
                                n = t.listeners,
                                a = t.catalog,
                                r = t.product;
                            (0, H.canSeeECommerceComplianceIndiaSoftEnforcement)(a.id.user) && this.setComplianceInfo(), n.add(r, "change:isHidden", (function() {
                                e.setState({
                                    isHidden: e.props.product.isHidden
                                })
                            }))
                        }
                    }, {
                        key: "canDisplayPrice",
                        value: function(e) {
                            return !(0, H.hideUnsupportedCurrency)() || M.isSupportedCurrency(e)
                        }
                    }, {
                        key: "shouldComplianceBeHardEnforced",
                        value: function() {
                            var e = this.props.catalog;
                            return (0, H.canSeeECommerceComplianceIndiaHardEnforcementBusinessJourney)(e.id.user)
                        }
                    }, {
                        key: "errorsRevealed",
                        value: function() {
                            var e, t = (0, U.getMeUser)(),
                                n = this.state.isComplianceInfoAvailable;
                            if (!this.shouldComplianceBeHardEnforced() || !n) return !1;
                            var a = (0, l.default)((0, l.default)({}, this.state.complianceInfo), {}, {
                                importerAddress: (0, l.default)({}, null === (e = this.state.complianceInfo) || void 0 === e ? void 0 : e.importerAddress)
                            });
                            if (!(0, T.existsField)(a.countryCodeOrigin, t)) return a.countryCodeOriginError = _.fbt._("Add a country of origin", null, {
                                hk: "3WA7X9"
                            }), this.setState({
                                complianceInfo: a
                            }), !0;
                            if (!this._showComplianceInfoImporterAddress()) return !1;
                            var r = a.importerName,
                                i = a.importerAddress,
                                o = i.street1,
                                u = i.city,
                                s = i.countryCode,
                                d = !1;
                            return (0, T.existsField)(r, t) || (a.importerNameError = _.fbt._("Add an importer name", null, {
                                hk: "3UwP1T"
                            }), d = !0), (0, T.existsFieldIgnoreHardEnforcement)(o) || (a.importerAddress.street1Error = _.fbt._("Add an importer address line 1", null, {
                                hk: "3HSMmN"
                            }), d = !0), (0, T.existsFieldIgnoreHardEnforcement)(u) || (a.importerAddress.cityError = _.fbt._("Add an importer city", null, {
                                hk: "1nq7dA"
                            }), d = !0), (0, T.existsFieldIgnoreHardEnforcement)(s) || (a.importerAddress.countryCodeError = _.fbt._("Add an importer country", null, {
                                hk: "3VmDTh"
                            }), d = !0), !!d && (this.setState({
                                complianceInfo: a
                            }), !0)
                        }
                    }, {
                        key: "setComplianceInfo",
                        value: (t = (0, u.default)(o.default.mark((function e() {
                            var t, n, a, r, i, l, u, s, d, c;
                            return o.default.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        if (t = this.props, n = t.product, a = t.catalog, !t.newProduct) {
                                            e.next = 5;
                                            break
                                        }
                                        this.setState({
                                            isComplianceInfoAvailable: !0
                                        }), e.next = 27;
                                        break;
                                    case 5:
                                        return e.next = 7, S.CatalogCollection.findProduct({
                                            catalogWid: a.id,
                                            productId: n.id.toString(),
                                            shouldFetchComplianceFields: !0
                                        });
                                    case 7:
                                        if (r = (0, h.default)(a, "catalog").productCollection.get(n.id), i = (null == r ? void 0 : r.complianceInfo) || {}, l = i.countryCodeOrigin, u = i.importerName, s = i.importerAddress, l !== String(I.SyntheticCountryCode.NotApplicable)) {
                                            e.next = 13;
                                            break
                                        }
                                        e.t0 = _.fbt._("Not Applicable", null, {
                                            hk: "2k1klN"
                                        }).toString(), e.next = 19;
                                        break;
                                    case 13:
                                        if (e.t1 = l, !e.t1) {
                                            e.next = 18;
                                            break
                                        }
                                        return e.next = 17, (0, I.getCountryName)(l);
                                    case 17:
                                        e.t1 = e.sent;
                                    case 18:
                                        e.t0 = e.t1;
                                    case 19:
                                        if (d = e.t0, e.t2 = null == s ? void 0 : s.countryCode, !e.t2) {
                                            e.next = 25;
                                            break
                                        }
                                        return e.next = 24, (0, I.getCountryName)(s.countryCode);
                                    case 24:
                                        e.t2 = e.sent;
                                    case 25:
                                        c = e.t2, this.setState({
                                            isComplianceInfoAvailable: !0,
                                            complianceInfo: {
                                                countryCodeOrigin: l,
                                                countryNameOrigin: d,
                                                countryCodeOriginError: "",
                                                importerName: u,
                                                importerNameError: "",
                                                importerAddress: {
                                                    street1: null == s ? void 0 : s.street1,
                                                    street1Error: "",
                                                    street2: null == s ? void 0 : s.street2,
                                                    postalCode: null == s ? void 0 : s.postalCode,
                                                    city: null == s ? void 0 : s.city,
                                                    cityError: "",
                                                    region: null == s ? void 0 : s.region,
                                                    countryCode: null == s ? void 0 : s.countryCode,
                                                    countryName: c,
                                                    countryCodeError: ""
                                                }
                                            }
                                        });
                                    case 27:
                                    case "end":
                                        return e.stop()
                                }
                            }), e, this)
                        }))), function() {
                            return t.apply(this, arguments)
                        })
                    }, {
                        key: "isValid",
                        value: function() {
                            var e = this.state,
                                t = e.name,
                                n = e.nameError,
                                a = e.priceError,
                                r = e.urlError,
                                i = e.retailerIdError,
                                o = e.imageError,
                                l = e.hasImages,
                                u = e.complianceInfo;
                            if ("" === t.trim() || !1 === l) return !1;
                            var s = [n, a, r, i, o];
                            return this._showComplianceInfoImporterAddress() && s.push(null == u ? void 0 : u.importerNameError, null == u ? void 0 : u.importerAddress.street1Error, null == u ? void 0 : u.importerAddress.cityError, null == u ? void 0 : u.importerAddress.countryCodeError), this.shouldComplianceBeHardEnforced() && s.push(null == u ? void 0 : u.countryCodeOriginError), s.every((function(e) {
                                return !e
                            }))
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e = this,
                                t = this.props,
                                n = t.catalog,
                                a = t.product,
                                r = t.onBack,
                                o = t.onCancel,
                                l = t.newProduct,
                                u = this.state,
                                s = u.isUpdating,
                                d = u.isDragging,
                                c = u.currency,
                                f = u.nameError,
                                p = u.priceError,
                                h = u.urlError,
                                m = u.retailerIdError,
                                v = u.imageError,
                                x = u.complianceInfo,
                                y = u.isComplianceInfoAvailable,
                                S = (0, re.jsx)(b.default, {
                                    type: "primary",
                                    onClick: this._handleSaveItem,
                                    disabled: !this.isValid(),
                                    a8nText: "product-edit-drawer-save-button",
                                    children: l ? _.fbt._("Add to catalog", null, {
                                        hk: "3Dku2o"
                                    }) : V.default.t(722)
                                }),
                                k = (0, re.jsxs)("div", {
                                    className: R.default.drawerHeader,
                                    children: [(0, re.jsx)(te.TextHeader, {
                                        level: "2",
                                        weight: "normal",
                                        customSize: "inherit",
                                        children: l ? _.fbt._("Add new item", null, {
                                            hk: "3DqBBM"
                                        }) : _.fbt._("Edit item", null, {
                                            hk: "2qzKLB"
                                        })
                                    }), (0, re.jsx)("div", {
                                        className: R.default.drawerHeaderButtonContainer,
                                        children: S
                                    })]
                                }),
                                E = l ? null : (0, re.jsx)("div", {
                                    className: R.default.deleteButtonContainer,
                                    children: (0, re.jsx)(b.default, {
                                        type: "warning",
                                        onClick: this._handleDeleteItem,
                                        a8nText: "product-edit-drawer-delete-button",
                                        children: _.fbt._("Delete Item", null, {
                                            hk: "Frzv9"
                                        })
                                    })
                                }),
                                w = (0, g.default)(R.default.productWrapper, (0, i.default)({}, R.default.isSending, s)),
                                T = d ? (0, re.jsx)(O.default, {}) : null,
                                I = s ? (0, re.jsx)("div", {
                                    className: R.default.spinner,
                                    children: (0, re.jsx)($.Spinner, {
                                        size: 50,
                                        stroke: 3
                                    })
                                }) : null,
                                P = (0, re.jsxs)("div", {
                                    className: R.default.hiddenContainer,
                                    children: [(0, re.jsx)(j.CheckBox, {
                                        id: "product-hidden-check",
                                        onChange: this._handleHiddenChange,
                                        checked: this.state.isHidden,
                                        disabled: !1
                                    }), (0, re.jsx)("label", {
                                        className: R.default.hiddenLabel,
                                        htmlFor: "product-hidden-check",
                                        children: _.fbt._("Hide item", null, {
                                            hk: "GjLlA"
                                        })
                                    }), (0, re.jsx)("div", {
                                        className: R.default.hiddenDescr,
                                        children: _.fbt._("When you hide an item, customers wont see it in your catalog.", null, {
                                            hk: "1crP8q"
                                        })
                                    })]
                                });
                            return (0, re.jsxs)(A.default, {
                                theme: "catalog",
                                onDrop: this._handleDrop,
                                onDragChange: this._handleDragChange,
                                children: [T, (0, re.jsx)(N.DrawerHeader, {
                                    a8n: "catalog-link-title",
                                    title: k,
                                    type: N.DRAWER_HEADER_TYPE.SMALL,
                                    onBack: r,
                                    onCancel: o,
                                    focusBackOrCancel: !0
                                }), (0, re.jsx)(L.default, {
                                    children: (0, re.jsxs)("div", {
                                        className: w,
                                        children: [I, (0, re.jsx)(X.default, {
                                            product: a,
                                            maxImageCount: K.MAX_PRODUCT_IMAGES,
                                            onChange: this._handleImageChange,
                                            ref: this._imagePanelRef,
                                            error: v
                                        }), (0, re.jsx)(ne.TextInput, {
                                            a8n: "product-edit-drawer-name-input",
                                            value: this.state.name,
                                            placeholder: _.fbt._("Name", null, {
                                                hk: "46mqET"
                                            }),
                                            onChange: this._handleNameChange,
                                            theme: "small",
                                            customStyleThemes: ["desaturated"],
                                            maxLength: 150,
                                            error: f,
                                            title: _.fbt._("Name", null, {
                                                hk: "47pzCN"
                                            })
                                        }), this.canDisplayPrice(this.state.currency) && (0, re.jsx)(ne.TextInput, {
                                            a8n: "product-edit-drawer-price-input",
                                            value: this.state.priceStr,
                                            placeholder: function() {
                                                var t = M.formatAmount1000ToParts(c, 0).symbol,
                                                    n = null != e.props.product.priceAmount1000,
                                                    a = _.fbt._("Price {currencySymbol} (Optional)", [_.fbt._param("currencySymbol", t)], {
                                                        hk: "3ag5UF"
                                                    });
                                                if (!G.GK.supportsFeature(G.GK.F.MD_BACKEND) || n) return a;
                                                var r = (0, C.getABPropConfigValue)("smb_product_price_label");
                                                return "test_recommended" === r ? _.fbt._("Price {currencySymbol} (Recommended)", [_.fbt._param("currencySymbol", t)], {
                                                    hk: "3kOjhT"
                                                }) : "test_empty" === r ? _.fbt._("Price {currencySymbol}", [_.fbt._param("currencySymbol", t)], {
                                                    hk: "2XAKA0"
                                                }) : a
                                            }(),
                                            onChange: this._handlePriceChange,
                                            theme: "small",
                                            maxLength: 30,
                                            customStyleThemes: ["desaturated"],
                                            error: p,
                                            title: _.fbt._("Price", null, {
                                                hk: "1q6KRK"
                                            })
                                        }), (0, re.jsx)(ne.TextInput, {
                                            a8n: "product-edit-drawer-description-input",
                                            value: this.state.description,
                                            placeholder: _.fbt._("Description (Optional)", null, {
                                                hk: "38PzGH"
                                            }),
                                            onChange: this._handleDescriptionChange,
                                            theme: "small",
                                            maxLength: 5e3,
                                            customStyleThemes: ["desaturated"],
                                            multiline: !0,
                                            title: _.fbt._("Description", null, {
                                                hk: "2sGitZ"
                                            })
                                        }), (0, re.jsx)(ne.TextInput, {
                                            a8n: "product-edit-drawer-link-input",
                                            value: this.state.url,
                                            placeholder: _.fbt._("Link (Optional)", null, {
                                                hk: "18F36s"
                                            }),
                                            onChange: this._handleUrlChange,
                                            onBlur: this._handleUrlBlur,
                                            theme: "small",
                                            customStyleThemes: ["desaturated"],
                                            maxLength: 75,
                                            error: h,
                                            managed: !0,
                                            title: _.fbt._("Link", null, {
                                                hk: "1yLSRM"
                                            })
                                        }), (0, re.jsx)(ne.TextInput, {
                                            a8n: "product-edit-drawer-retailer-id-input",
                                            value: this.state.retailerId,
                                            placeholder: _.fbt._("Item Code (Optional)", null, {
                                                hk: "MWG64"
                                            }),
                                            onChange: this._handleRetailerIdChange,
                                            theme: "small",
                                            customStyleThemes: ["desaturated"],
                                            maxLength: 100,
                                            error: m,
                                            title: _.fbt._("Item code", null, {
                                                hk: "6trPE"
                                            })
                                        }), (0, H.canSeeECommerceComplianceIndiaSoftEnforcement)(n.id.user) ? (0, re.jsx)(ue, {
                                            isComplianceHardEnforced: this.shouldComplianceBeHardEnforced(),
                                            isComplianceInfoAvailable: y,
                                            showComplianceInfoImporterAddress: this._showComplianceInfoImporterAddress(),
                                            complianceInfo: x,
                                            onComplianceInfoChange: this._handleComplianceInfoChange,
                                            onComplianceInfoImporterAddressChange: this._handleComplianceInfoImporterAddressChange
                                        }) : null, P, E]
                                    })
                                })]
                            }, "catalog-link-drawer")
                        }
                    }]), a
                }(x.Component);

            function ue(e) {
                var t = e.isComplianceInfoAvailable,
                    n = (e.isComplianceHardEnforced, e.showComplianceInfoImporterAddress),
                    a = e.complianceInfo,
                    i = e.onComplianceInfoChange,
                    l = e.onComplianceInfoImporterAddressChange,
                    s = (0, x.useState)([]),
                    d = (0, r.default)(s, 2),
                    c = d[0],
                    f = d[1],
                    p = (0, x.useMemo)((function() {
                        var e = (0, U.getMeUser)().user;
                        return c.length > 0 && (0, H.canSeeECommerceComplianceIndiaCountryOriginExemptBusinessJourney)(e) ? (0, I.bubbleCountryOnListOfCountries)(c, E.COMPLIANCE_INFO_CODES.INDIA, !0) : c
                    }), [c]),
                    h = (0, x.useMemo)((function() {
                        var e = (0, U.getMeUser)().user;
                        if (c.length > 0 && (0, H.canSeeECommerceComplianceIndiaCountryOriginExemptBusinessJourney)(e)) {
                            var t = E.COMPLIANCE_INFO_CODES.INDIA;
                            return "string" == typeof(null == a ? void 0 : a.countryCodeOrigin) && "" !== a.countryCodeOrigin && (t = a.countryCodeOrigin), (0, I.formatCountriesOfOrigin)(c, t)
                        }
                        return c
                    }), [c, null == a ? void 0 : a.countryCodeOrigin]),
                    m = function(e) {
                        return `${e.toString()} (${_.fbt._("Optional",null,{hk:"4vf9yI"}).toString()})`
                    },
                    v = function(e) {
                        return !a || Object.values(a.importerAddress).every((function(e) {
                            return !e
                        })) ? m(e) : e
                    };
                return (0, x.useEffect)((function() {
                    var e = !0;
                    return (0, u.default)(o.default.mark((function t() {
                            var n, a;
                            return o.default.wrap((function(t) {
                                for (;;) switch (t.prev = t.next) {
                                    case 0:
                                        if (n = (0, U.getMeUser)().user, !(0, H.canSeeECommerceComplianceIndiaSoftEnforcement)(n)) {
                                            t.next = 6;
                                            break
                                        }
                                        return t.next = 4, (0, I.getCountries)();
                                    case 4:
                                        a = t.sent, e && f(a);
                                    case 6:
                                    case "end":
                                        return t.stop()
                                }
                            }), t)
                        })))(),
                        function() {
                            e = !1
                        }
                }), []), t && c.length ? (0, re.jsxs)("div", {
                    a8n: "product-edit-drawer-compliance",
                    children: [(0, re.jsx)(ne.TextInput, {
                        a8n: "product-edit-drawer-compliance-country-of-origin-input",
                        value: null == a ? void 0 : a.countryNameOrigin,
                        placeholder: _.fbt._("Country of Origin", null, {
                            hk: "2yl0F7"
                        }),
                        onChange: function() {},
                        theme: "small",
                        customStyleThemes: ["desaturated"],
                        managed: !0,
                        onFocus: function() {
                            return k.Cmd.showCountrySelector(_.fbt._("Country of Origin", null, {
                                hk: "2yl0F7"
                            }), null == a ? void 0 : a.countryCodeOrigin, h, (function(e) {
                                i("countryCodeOrigin", e)
                            }))
                        },
                        error: null == a ? void 0 : a.countryCodeOriginError
                    }), n && (0, re.jsxs)(re.Fragment, {
                        children: [(0, re.jsx)(ne.TextInput, {
                            a8n: "product-edit-drawer-compliance-importer-name-input",
                            value: null == a ? void 0 : a.importerName,
                            placeholder: v(_.fbt._("Importer Name", null, {
                                hk: "3DW3Nn"
                            })),
                            onChange: function(e) {
                                i("importerName", e)
                            },
                            theme: "small",
                            customStyleThemes: ["desaturated"],
                            maxLength: E.COMPLIANCE_INFO_LENGTH.IMPORTER_NAME,
                            error: null == a ? void 0 : a.importerNameError
                        }), (0, re.jsx)(ne.TextInput, {
                            a8n: "product-edit-drawer-compliance-importer-address-street-1-input",
                            value: null == a ? void 0 : a.importerAddress.street1,
                            placeholder: v(_.fbt._("Importer Address Line 1", null, {
                                hk: "1ORfyh"
                            })),
                            onChange: function(e) {
                                l("street1", e)
                            },
                            theme: "small",
                            customStyleThemes: ["desaturated"],
                            maxLength: E.COMPLIANCE_INFO_LENGTH.STREET1,
                            error: null == a ? void 0 : a.importerAddress.street1Error
                        }), (0, re.jsx)(ne.TextInput, {
                            a8n: "product-edit-drawer-compliance-importer-address-street-2-input",
                            value: null == a ? void 0 : a.importerAddress.street2,
                            placeholder: m(_.fbt._("Importer Address Line 2", null, {
                                hk: "2pYt7Y"
                            })),
                            onChange: function(e) {
                                l("street2", e)
                            },
                            theme: "small",
                            customStyleThemes: ["desaturated"],
                            maxLength: E.COMPLIANCE_INFO_LENGTH.STREET2
                        }), (0, re.jsx)(ne.TextInput, {
                            a8n: "product-edit-drawer-compliance-importer-address-city-input",
                            value: null == a ? void 0 : a.importerAddress.city,
                            placeholder: v(_.fbt._("Importer City", null, {
                                hk: "4c06Q3"
                            })),
                            onChange: function(e) {
                                l("city", e)
                            },
                            theme: "small",
                            customStyleThemes: ["desaturated"],
                            maxLength: E.COMPLIANCE_INFO_LENGTH.CITY,
                            error: null == a ? void 0 : a.importerAddress.cityError
                        }), (0, re.jsx)(ne.TextInput, {
                            a8n: "product-edit-drawer-compliance-importer-address-region-input",
                            value: null == a ? void 0 : a.importerAddress.region,
                            placeholder: m(_.fbt._("Importer Region", null, {
                                hk: "3MkbQD"
                            })),
                            onChange: function(e) {
                                l("region", e)
                            },
                            theme: "small",
                            customStyleThemes: ["desaturated"],
                            maxLength: E.COMPLIANCE_INFO_LENGTH.REGION
                        }), (0, re.jsx)(ne.TextInput, {
                            a8n: "product-edit-drawer-compliance-importer-address-country-code-input",
                            value: null == a ? void 0 : a.importerAddress.countryName,
                            placeholder: v(_.fbt._("Importer Country", null, {
                                hk: "3ar6sr"
                            })),
                            onChange: function() {},
                            theme: "small",
                            customStyleThemes: ["desaturated"],
                            managed: !0,
                            onFocus: function() {
                                return k.Cmd.showCountrySelector(_.fbt._("Importer Country", null, {
                                    hk: "3ar6sr"
                                }), null == a ? void 0 : a.importerAddress.countryCode, p, (function(e) {
                                    l("countryCode", e)
                                }))
                            },
                            error: null == a ? void 0 : a.importerAddress.countryCodeError
                        }), (0, re.jsx)(ne.TextInput, {
                            a8n: "product-edit-drawer-compliance-importer-address-postal-code-input",
                            value: null == a ? void 0 : a.importerAddress.postalCode,
                            placeholder: m(_.fbt._("Importer Zip/Postal Code", null, {
                                hk: "Bbhqf"
                            })),
                            onChange: function(e) {
                                l("postalCode", e)
                            },
                            theme: "small",
                            customStyleThemes: ["desaturated"],
                            maxLength: E.COMPLIANCE_INFO_LENGTH.POSTAL_CODE
                        }), (0, re.jsx)(w.ComplianceInfoHelpCenterBanner, {
                            xstyle: oe.complianceInfoHelpCenterBanner
                        })]
                    })]
                }) : (0, re.jsx)(F.FlexRow, {
                    align: "center",
                    justify: "center",
                    children: (0, re.jsx)(B.default, {
                        children: (0, re.jsx)($.Spinner, {})
                    })
                })
            }
            t.EditProductDrawerImpl = le, le.contextType = D.DrawerContext, le.CONCERNS = {
                product: ["id", "additionalImageCdnUrl", "name", "priceAmount1000", "description", "productImageCollection", "reviewStatus", "url", "imageCdnUrl", "retailerId", "currency", "isHidden", "complianceInfo"]
            }, le.displayName = "EditProductDrawerImpl";
            var se = (0, W.default)((0, ee.default)((0, z.ListenerHOC)(le), le.CONCERNS));
            t.EditProductDrawer = se
        },
        57315: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.onBack,
                    n = e.onAddProductClick,
                    a = (0, e.isCreatingCatalogFn)(),
                    j = (0, y.jsx)("div", {
                        className: _.default.placeholderIcon
                    }),
                    k = (0, y.jsx)(d.default, {
                        href: b,
                        onClick: function(e) {
                            e.preventDefault(), (0, v.openExternalLink)(b)
                        },
                        children: l.fbt._("Facebook Product", null, {
                            hk: "3JyFEa"
                        })
                    }),
                    E = (0, y.jsx)(d.default, {
                        href: S,
                        onClick: function(e) {
                            e.preventDefault(), (0, v.openExternalLink)(S)
                        },
                        children: l.fbt._("Facebook Commercial Terms", null, {
                            hk: "3LS54M"
                        })
                    }),
                    w = (0, y.jsx)(d.default, {
                        href: i.default.WA_COMMERCE_POLICY_URL,
                        onClick: function(e) {
                            e.preventDefault(), (0, v.openExternalLink)(i.default.WA_COMMERCE_POLICY_URL)
                        },
                        children: l.fbt._("WhatsApp Commerce Policies", null, {
                            hk: "2wf95I"
                        })
                    }),
                    T = (0, y.jsx)(g.default, {
                        id: 263,
                        params: {
                            fb_product_link: k,
                            fb_commerce_link: E,
                            wa_commerce_policy_link: w
                        }
                    }),
                    I = (0, o.default)((0, r.default)({}, _.default.isLoading, a)),
                    P = a ? (0, y.jsx)("div", {
                        className: _.default.spinner,
                        children: (0, y.jsx)(x.Spinner, {
                            size: 50,
                            stroke: 3
                        })
                    }) : null,
                    M = a ? (0, y.jsx)(u.default, {
                        onClick: function() {},
                        theme: "default",
                        idle: !!a
                    }) : (0, y.jsx)(p.DrawerContext.Consumer, {
                        children: function() {
                            return (0, y.jsx)(u.default, {
                                onClick: function() {
                                    n()
                                },
                                theme: "default",
                                idle: !1
                            })
                        }
                    });
                return (0, y.jsxs)(c.default, {
                    children: [(0, y.jsx)(h.DrawerHeader, {
                        title: l.fbt._("Catalog", null, {
                            hk: "3YVOSV"
                        }),
                        type: h.DRAWER_HEADER_TYPE.LARGE,
                        onBack: t
                    }), (0, y.jsx)(f.default, {
                        className: I,
                        children: (0, y.jsxs)(m.default, {
                            theme: "padding-small",
                            animation: !1,
                            children: [P, (0, y.jsx)(C.TextDiv, {
                                theme: "title",
                                children: l.fbt._("Add items to your catalog so customers can see what you're offering", null, {
                                    hk: "3z35i1"
                                })
                            }), M, (0, y.jsx)(C.TextDiv, {
                                theme: "plain",
                                children: T
                            }), (0, y.jsxs)("div", {
                                className: _.default.placeholderContainer,
                                children: [(0, y.jsx)(s.default, {
                                    theme: "add-item-placeholder",
                                    image: j,
                                    customImage: !0,
                                    className: _.default.addItemPlaceholder,
                                    primary: "",
                                    secondary: "",
                                    idle: !0
                                }), (0, y.jsx)("div", {
                                    className: _.default.divider
                                }), (0, y.jsx)(s.default, {
                                    theme: "add-item-placeholder",
                                    image: j,
                                    customImage: !0,
                                    className: _.default.addItemPlaceholder,
                                    primary: "",
                                    secondary: "",
                                    idle: !0
                                }), (0, y.jsx)("div", {
                                    className: _.default.divider
                                })]
                            })]
                        })
                    })]
                }, "catalog-link-drawer")
            };
            var r = a(n(59713)),
                i = a(n(3208)),
                o = a(n(94184)),
                l = n(48360),
                u = a(n(66863)),
                s = a(n(88186)),
                d = a(n(81288)),
                c = a(n(53187)),
                f = a(n(18345)),
                p = n(96706),
                h = n(19288),
                m = a(n(46821)),
                v = n(49012),
                g = a(n(62848)),
                _ = a(n(12162)),
                x = n(85651),
                C = n(22552),
                y = n(85893),
                b = "https://www.facebook.com/legal/terms",
                S = "https://www.facebook.com/policies/commerce"
        },
        70047: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.ProductInfoDrawer = function(e) {
                var t = e.onCancel,
                    n = e.collectionId,
                    a = e.catalog,
                    M = e.onEditProduct,
                    O = e.onShareProduct,
                    A = e.isPushed,
                    L = void 0 === A || A,
                    D = (0, o.useContext)(c.DrawerContext),
                    N = (0, l.useModelValues)(e.product, ["id", "catalogWid", "name", "priceAmount1000", "description", "productImageCollection", "reviewStatus", "url", "canAppeal", "imageCdnUrl", "retailerId", "currency", "isHidden"]),
                    R = (0, o.useState)(!0),
                    F = (0, r.default)(R, 2),
                    B = F[0],
                    U = F[1];
                (0, o.useEffect)((function() {
                    var e = (0, m.getMaybeMeUser)();
                    L && (0, _.qplAnnotateProductView)(!(null == e ? void 0 : e.equals(N.catalogWid))), a.pullProduct(N.id.toString(), L).then((function() {
                        L && (0, _.qplEndProductView)(w.QuickLogActionType.SUCCESS)
                    })).catch((function() {
                        L && (0, _.qplEndProductView)(w.QuickLogActionType.FAIL)
                    })).finally((function() {
                        U(!1)
                    })), (0, g.logProductDetailView)({
                        product: N,
                        catalogContext: (0, C.getProductCatalogContext)(D),
                        collectionId: n
                    })
                }), []);
                var G = (0, m.getMaybeMeUser)(),
                    H = T.StatusCollection.get(G),
                    W = (0, P.jsx)(I.TextDiv, {
                        theme: "muted",
                        className: S.default.businessInfoTitle,
                        children: i.fbt._("Business Info", null, {
                            hk: "20HLtr"
                        })
                    }),
                    V = N.reviewStatus !== y.PRODUCT_REVIEW_STATUS.APPROVED || N.isHidden,
                    z = (0, P.jsxs)("div", {
                        children: [(0, P.jsx)("div", {
                            className: S.default.buttonSeparator,
                            children: (0, P.jsx)(u.default, {
                                type: "strong",
                                onClick: function() {
                                    M && M(N)
                                },
                                a8nText: "product-info-drawer edit-button",
                                children: v.default.t(402)
                            })
                        }), (0, P.jsx)(u.default, {
                            type: "strong-primary",
                            onClick: function() {
                                O && O(N)
                            },
                            disabled: V,
                            a8nText: "product-info-drawer share-button",
                            children: i.fbt._("Share", null, {
                                hk: "3RmUA"
                            })
                        })]
                    }),
                    q = (0, P.jsxs)("div", {
                        className: S.default.drawerHeader,
                        children: [(0, P.jsx)("div", {
                            className: S.default.productName,
                            children: N.name
                        }), (0, P.jsx)("div", {
                            className: S.default.drawerHeaderButtonContainer,
                            children: z
                        })]
                    }),
                    K = H ? (0, P.jsx)(p.default, {
                        title: W,
                        theme: "no-padding",
                        children: (0, P.jsx)(E.default, {
                            status: H
                        })
                    }) : null,
                    Y = B ? (0, P.jsx)(h.default, {}) : (0, P.jsxs)(P.Fragment, {
                        children: [(0, P.jsx)(k.default, {
                            product: N,
                            isAvailable: !0,
                            fetching: !1
                        }), (0, P.jsx)(j.default, {
                            product: N
                        }), (0, P.jsx)(b.default, {
                            product: N,
                            collectionId: n,
                            onSendChat: function() {
                                t(), (0, x.sendProductToChat)(N, a), (0, g.logProductMessageBusinessClick)(N, (0, C.getProductCatalogContext)(D))
                            },
                            isAvailable: !0
                        })]
                    });
                return (0, P.jsxs)(s.default, {
                    theme: "catalog",
                    children: [(0, P.jsx)(f.DrawerHeader, {
                        a8n: "catalog-product-title",
                        title: q,
                        type: f.DRAWER_HEADER_TYPE.SMALL,
                        onCancel: t,
                        headingLevel: "2",
                        focusBackOrCancel: !0
                    }), (0, P.jsxs)(d.default, {
                        children: [(0, P.jsx)(p.default, {
                            theme: "center-column-fixed-width",
                            children: Y
                        }), (0, P.jsx)("div", {
                            className: S.default.productWrapper,
                            children: K
                        })]
                    })]
                }, "catalog-link-drawer")
            };
            var r = a(n(63038)),
                i = n(48360),
                o = n(67294),
                l = n(50857),
                u = a(n(51599)),
                s = a(n(53187)),
                d = a(n(18345)),
                c = n(96706),
                f = n(19288),
                p = a(n(46821)),
                h = a(n(5029)),
                m = n(1577),
                v = a(n(9844)),
                g = n(56264),
                _ = n(56003),
                x = n(36949),
                C = n(52867),
                y = n(46408),
                b = a(n(31529)),
                S = a(n(37870)),
                j = a(n(98082)),
                k = a(n(41756)),
                E = a(n(19203)),
                w = n(3298),
                T = n(48341),
                I = n(22552),
                P = n(85893)
        },
        98082: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.product;
                var n = (0, x.jsx)(u.default, {
                    href: i.default.WA_COMMERCE_POLICY_URL,
                    onClick: function(e) {
                        e.preventDefault(), (0, c.openExternalLink)(i.default.WA_COMMERCE_POLICY_URL)
                    },
                    children: f.default.t(547)
                });
                if (t.reviewStatus === m.PRODUCT_REVIEW_STATUS.APPROVED) return t.isHidden ? (0, x.jsxs)("div", {
                    className: v.default.root,
                    children: [(0, x.jsx)("div", {
                        className: v.default.icon,
                        children: (0, x.jsx)(g.default, {
                            name: "hide"
                        })
                    }), (0, x.jsx)("div", {
                        className: v.default.text,
                        children: (0, x.jsx)(_.TextDiv, {
                            children: o.fbt._("You hid this item. Your customers can't see it in your catalog", null, {
                                hk: "28Rw4y"
                            })
                        })
                    })]
                }) : null;
                if (t.reviewStatus === m.PRODUCT_REVIEW_STATUS.REJECTED) {
                    if (!0 === t.canAppeal) {
                        var a = (0, x.jsx)(p.default, {
                                id: 266,
                                params: {
                                    learn_more_link: n
                                }
                            }),
                            C = (0, x.jsx)(u.default, {
                                onClick: function() {
                                    s.Cmd.openModal((0, x.jsx)(d.DrawerContext.Consumer, {
                                        children: function(e) {
                                            return (0, x.jsx)(l.default, {
                                                product: t,
                                                sessionId: (0, h.getProductCatalogSessionId)(e)
                                            })
                                        }
                                    }))
                                },
                                a8n: "product-appeal-button",
                                children: o.fbt._("request another review", null, {
                                    hk: "1edAPz"
                                })
                            }),
                            y = (0, x.jsx)(p.default, {
                                id: 264,
                                params: {
                                    request_review_link: C
                                },
                                className: v.default.appealText,
                                tabIndex: "0"
                            });
                        return (0, x.jsxs)("div", {
                            className: v.default.root,
                            "data-a8n": r.default.key("product-appeal-rejected-initial-review"),
                            children: [(0, x.jsx)("div", {
                                className: v.default.icon,
                                children: (0, x.jsx)(g.default, {
                                    name: "info"
                                })
                            }), (0, x.jsxs)("div", {
                                className: v.default.text,
                                children: [a, y]
                            })]
                        })
                    }
                    var b = (0, x.jsx)(p.default, {
                        id: 265,
                        params: {
                            learn_more_link: n
                        }
                    });
                    return (0, x.jsx)("div", {
                        className: v.default.root,
                        "data-a8n": r.default.key("product-appeal-rejected-final"),
                        children: b
                    })
                }
                if (t.reviewStatus === m.PRODUCT_REVIEW_STATUS.NO_REVIEW || t.reviewStatus === m.PRODUCT_REVIEW_STATUS.OUTDATED) {
                    var S = t.isHidden ? (0, x.jsx)(p.default, {
                        id: 268,
                        params: {
                            learn_more_link: n
                        }
                    }) : (0, x.jsx)(p.default, {
                        id: 267,
                        params: {
                            learn_more_link: n
                        }
                    });
                    return (0, x.jsx)("div", {
                        className: v.default.root,
                        "data-a8n": r.default.key("product-appeal-pending-initial-review"),
                        children: S
                    })
                }
                if (!1 === t.canAppeal) {
                    var j = o.fbt._("Your appeal was submitted. If its approved, your item will be added to your catalog. If its not approved, youll be notified.", null, {
                        hk: "4aNdXt"
                    });
                    return (0, x.jsx)("div", {
                        className: v.default.root,
                        "data-a8n": r.default.key("product-appeal-pending-appeal"),
                        children: j
                    })
                }
                return null
            };
            var r = a(n(84646)),
                i = a(n(3208)),
                o = n(48360),
                l = a(n(74360)),
                u = a(n(81288)),
                s = n(65901),
                d = n(96706),
                c = n(49012),
                f = a(n(9844)),
                p = a(n(62848)),
                h = n(52867),
                m = n(46408),
                v = a(n(95959)),
                g = a(n(7665)),
                _ = n(22552),
                x = n(85893)
        },
        19203: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = (0, r.useModelValues)(e.status, ["status"]);
                return (0, s.jsx)(i.default, {
                    image: (0, s.jsx)(l.DetailImage, {
                        id: (0, u.getMaybeMeUser)()
                    }),
                    primary: o.Conn.pushname,
                    secondary: t.status,
                    idle: !0
                })
            };
            var r = n(50857),
                i = a(n(88186)),
                o = n(73929),
                l = n(66834),
                u = n(1577),
                s = n(85893)
        },
        32892: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.businessProfile,
                    n = e.catalog,
                    a = e.openCatalog,
                    u = void 0 === a ? m : a,
                    v = (0, o.hasShop)(t),
                    g = Boolean(v && f.ServerProps.shopsProductGrid);
                if ((0, i.useEffect)((function() {
                        (0, d.logShopsManagementEvent)(c.default.SHOPS_MANAGEMENT_ACTION.ACTION_SHOPS_PRODUCT_PREVIEW_VISIBLE, {
                            shouldLogJid: !1,
                            isShopsProductPreviewVisible: g
                        })
                    }), [g]), v) return g ? (0, h.jsx)(p.default, {
                    isEditMode: !0,
                    subtitle: s.default.t(584),
                    businessProfile: t,
                    catalog: n,
                    productsToShow: 3
                }) : null;
                return (0, h.jsx)(l.default, {
                    catalog: n,
                    onProductDetail: u,
                    onProductCatalog: function() {
                        u()
                    },
                    productsToShow: 3,
                    catalogEntryLabel: null == n ? r.fbt._("Add catalog", null, {
                        hk: "2iihM5"
                    }) : r.fbt._("View or edit catalog", null, {
                        hk: "354QjL"
                    }),
                    showProductPlaceholders: !0,
                    seeMoreOverlay: !0,
                    sectionTheme: "refresh"
                })
            };
            var r = n(48360),
                i = n(67294),
                o = n(79614),
                l = a(n(69286)),
                u = n(31098),
                s = a(n(9844)),
                d = n(40795),
                c = a(n(50507)),
                f = n(43890),
                p = a(n(60401)),
                h = n(85893);

            function m(e) {
                (0, u.openCatalogManagementFlow)(e, c.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_PROFILE)
            }
        },
        52788: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(63038)),
                i = n(48360),
                o = n(67294),
                l = a(n(27237)),
                u = a(n(62275)),
                s = n(94680),
                d = n(73008),
                c = a(n(7665)),
                f = n(16835),
                p = a(n(93820)),
                h = n(85893);

            function m(e) {
                var t, n = e.collection,
                    a = e.theme,
                    m = e.onDelete,
                    v = e.onEdit,
                    g = e.onSeeCollection,
                    _ = e.canManage,
                    x = (0, o.useState)(!1),
                    C = (0, r.default)(x, 1)[0],
                    y = (0, o.useState)(null),
                    b = (0, r.default)(y, 2),
                    S = b[0],
                    j = b[1],
                    k = function(e) {
                        e.preventDefault(), e.stopPropagation(), m && m(n)
                    },
                    E = function(e) {
                        e.preventDefault(), e.stopPropagation(), v && v(n)
                    },
                    w = (0, h.jsx)("div", {
                        className: u.default.collectionIcon,
                        children: (0, h.jsx)("div", {
                            className: u.default.iconContainer,
                            children: (0, h.jsx)(c.default, {
                                name: "collections_folder"
                            })
                        })
                    }),
                    T = (0, h.jsx)(d.EmojiText, {
                        text: n.name,
                        ellipsify: !0,
                        titlify: !0
                    });
                return S && (t = (0, h.jsx)(f.UIE, {
                    displayName: "CollectionContextMenu",
                    escapable: !0,
                    popable: !0,
                    requestDismiss: function() {
                        j(null)
                    },
                    children: (0, h.jsx)(p.default, {
                        contextMenu: S
                    })
                })), (0, h.jsxs)(h.Fragment, {
                    children: [(0, h.jsx)(l.default, {
                        customImage: !0,
                        image: w,
                        primary: T,
                        theme: a,
                        active: C,
                        contextEnabled: function() {
                            return e.canManage
                        },
                        onContext: function(e) {
                            if (S) j(null);
                            else {
                                var t = [];
                                _ && (t.push((0, h.jsx)(s.DropdownItem, {
                                    a8n: "mi-edit-collection",
                                    action: E,
                                    children: i.fbt._("Edit", null, {
                                        hk: "Xow6E"
                                    })
                                }, "EditLabel")), t.push((0, h.jsx)(s.DropdownItem, {
                                    a8n: "mi-delete-collection",
                                    action: k,
                                    children: i.fbt._("Delete", null, {
                                        hk: "1rLhBB"
                                    })
                                }, "DeleteLabel"))), j({
                                    menu: t,
                                    event: e.event,
                                    anchor: e.anchor
                                })
                            }
                        },
                        onClick: function(e) {
                            e.preventDefault(), e.stopPropagation(), g && g(n)
                        }
                    }, n.id.toString()), t]
                })
            }
            m.defaultProps = {
                theme: "collection-edit",
                isMuted: !1
            };
            var v = m;
            t.default = v
        },
        42425: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.data,
                    n = e.canManage,
                    a = e.onEditCollection,
                    h = e.onSeeCollection,
                    m = (0, r.useModelValues)(e.catalog, ["collections"]);
                return (0, p.jsx)(d.default, {
                    flatListControllers: [e.flatListController],
                    children: (0, p.jsx)(s.FlatList, {
                        flatListController: e.flatListController,
                        direction: "vertical",
                        forceConsistentRenderCount: !1,
                        data: (v = [], t.forEach((function(e) {
                            e.collection && v.push({
                                itemKey: e.collection.id,
                                collection: e.collection
                            })
                        })), v),
                        renderItem: function(e) {
                            var t = e.collection;
                            return (0, p.jsx)(u.DrawerContext.Consumer, {
                                children: function(e) {
                                    return (0, p.jsx)(l.default, {
                                        collection: t,
                                        canManage: n,
                                        onDelete: function() {
                                            return function(e, t) {
                                                (0, i.handleCollectionDelete)((0, f.unproxy)(m), e, t)
                                            }(t, (0, c.getProductCatalogContext)(e))
                                        },
                                        onEdit: a,
                                        onSeeCollection: h
                                    })
                                }
                            })
                        },
                        defaultItemHeight: o.PRODUCT_LIST_ITEM_HEIGHT
                    })
                });
                var v
            };
            var r = n(50857),
                i = n(56734),
                o = n(66419),
                l = a(n(52788)),
                u = n(96706),
                s = n(73568),
                d = a(n(23803)),
                c = n(52867),
                f = n(68220),
                p = n(85893)
        },
        65589: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.setScrollOffset,
                    n = e.editCollection,
                    a = e.onSeeCollection,
                    E = (0, u.default)(),
                    w = (0, l.default)((function() {
                        return E()
                    }), 100),
                    T = (0, s.default)((function() {
                        return new C.default
                    })),
                    I = (0, o.useState)(!0),
                    P = (0, r.default)(I, 2),
                    M = P[0],
                    O = P[1],
                    A = (0, o.useState)(null),
                    L = (0, r.default)(A, 2),
                    D = L[0],
                    N = L[1],
                    R = (0, o.useState)(null),
                    F = (0, r.default)(R, 2),
                    B = F[0],
                    U = F[1],
                    G = (0, o.useMemo)((function() {
                        var e = (0, b.getMeUser)();
                        return f.CatalogCollection.get(e)
                    }), []);
                (0, o.useEffect)((function() {
                    var t = e.isPushed,
                        n = void 0 === t || t;
                    if (G) {
                        var a = new h.CollectionsDataSource(G, !0, p.PRODUCT_LIST_ITEM_HEIGHT, n);
                        G.collections.on("add remove", w);
                        var r = new h.CatalogListItemScrollHelper(a);
                        N(a), U(r), a.loadInitialItems().then((function() {
                            O(!1), n && S.QPL.markerEnd(j.QuickLogMarkerId.WHATSAPP_COLLECTIONS_MANAGEMENT_VIEW, S.QuickLogActionType.SUCCESS)
                        })).catch((function() {
                            n && S.QPL.markerEnd(j.QuickLogMarkerId.WHATSAPP_COLLECTIONS_MANAGEMENT_VIEW, S.QuickLogActionType.FAIL)
                        }))
                    }
                }), []);
                var H = (0, d.default)((function(e) {
                    var n = e.currentTarget;
                    t && t(n.scrollTop), (null == B ? void 0 : B.willLoadMore(n)) && O(!0), null == B || B.onScroll(e, n).then((function(e) {
                        e && O(!1)
                    })).catch((function(e) {
                        throw O(!1), e
                    }))
                }), 100);
                return (0, k.jsxs)(g.default, {
                    theme: "products",
                    onDrop: e.onBack,
                    children: [(0, k.jsx)(x.DrawerHeader, {
                        title: i.fbt._("Collections", null, {
                            hk: "I9pEH"
                        }),
                        type: x.DRAWER_HEADER_TYPE.LARGE,
                        onBack: e.onBack,
                        menu: (0, k.jsx)(k.Fragment, {})
                    }), (0, k.jsx)(_.default, {
                        onScroll: H,
                        flatListControllers: [T.current],
                        scrollOffset: e.scrollOffset,
                        children: G && D ? (0, k.jsxs)("div", {
                            children: [(0, k.jsx)(c.default, {
                                onClick: function() {
                                    n(null)
                                },
                                theme: "collections",
                                title: i.fbt._("New collection", null, {
                                    hk: "2Q4UnS"
                                })
                            }), (0, k.jsx)(m.default, {
                                canManage: !0,
                                catalog: G,
                                onEditCollection: n,
                                data: D.getData(),
                                flatListController: T.current,
                                onSeeCollection: a
                            }), M && (0, k.jsx)("div", {
                                className: v.default.loadingSpinner,
                                children: (0, k.jsx)(y.default, {})
                            })]
                        }) : null
                    })]
                })
            };
            var r = a(n(63038)),
                i = n(48360),
                o = n(67294),
                l = a(n(1323)),
                u = a(n(45764)),
                s = a(n(62905)),
                d = a(n(75967)),
                c = a(n(66863)),
                f = n(72743),
                p = n(66419),
                h = n(46321),
                m = a(n(42425)),
                v = a(n(41171)),
                g = a(n(53187)),
                _ = a(n(18345)),
                x = n(19288),
                C = a(n(92546)),
                y = a(n(5029)),
                b = n(1577),
                S = n(3298),
                j = n(4099),
                k = n(85893)
        },
        62340: (e, t, n) => {
            "use strict";
            var a = n(21314).default,
                r = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(n(319)),
                o = r(n(63038)),
                l = n(79367),
                u = n(40787),
                s = r(n(65668)),
                d = n(48360),
                c = n(67294),
                f = (r(n(56720)), n(71988)),
                p = n(65901),
                h = n(18070),
                m = n(41655),
                v = n(45438),
                g = r(n(57393)),
                _ = r(n(63077)),
                x = n(47576),
                C = n(3298),
                y = n(4099),
                b = r(n(7665)),
                S = n(92428),
                j = r(n(76080)),
                k = n(85893),
                E = {
                    btnDelete: {
                        position: "lhggkp7q",
                        top: "hdpg1tjz",
                        end: "ltcz4qz9",
                        zIndex: "mb8var44",
                        color: "k17s6i4e",
                        filter: "rhe1kc9j"
                    },
                    btnAdd: {
                        display: "p357zi0d",
                        flexDirection: "f8m0rgwh",
                        alignItems: "gndfcl4n",
                        justifyContent: "ac2vgrno",
                        width: "jkv2xdwy",
                        height: "sptw4ec9",
                        fontSize: "lak21jic",
                        fontWeight: "hnx8ox4h",
                        lineHeight: "gz7w46tb",
                        letterSpacing: "hql59cr1"
                    }
                };

            function w(e) {
                var t = e.images,
                    n = e.deleteImage;
                return t.filter((function(e) {
                    return e.mediaData
                })).map((function(e, t) {
                    return (0, k.jsxs)("div", {
                        className: _.default.imageTile,
                        children: [(0, k.jsx)(j.default, {
                            xstyle: E.btnDelete,
                            "aria-label": d.fbt._("Remove image number {imageNumber}", [d.fbt._param("imageNumber", t + 1)], {
                                hk: "11vQtK"
                            }),
                            a8nText: "delete-image",
                            onClick: function() {
                                return n(e)
                            },
                            children: (0, k.jsx)(b.default, {
                                className: _.default.deleteIcon,
                                name: "x-alt"
                            })
                        }), (0, k.jsx)(x.ProductThumb, {
                            mediaData: e.mediaData,
                            className: _.default.imageThumb
                        })]
                    }, e.mediaData.filehash)
                }))
            }

            function T(e) {
                var t = e.inputRef,
                    n = e.handleFilePick;
                return (0, k.jsx)("input", {
                    ref: t,
                    type: "file",
                    accept: v.IMAGE_MIMES,
                    style: {
                        display: "none"
                    },
                    onChange: n,
                    multiple: !0
                })
            }

            function I(e) {
                var t = e.onAddFileClick;
                return (0, k.jsx)("div", {
                    className: _.default.btnAddContainer,
                    children: (0, k.jsxs)(j.default, {
                        xstyle: E.btnAdd,
                        "aria-label": d.fbt._("Add additional image", null, {
                            hk: "1zIuu3"
                        }),
                        onClick: t,
                        a8nText: "add-image",
                        children: [(0, k.jsx)(b.default, {
                            name: "camera"
                        }), (0, k.jsx)("div", {
                            className: _.default.btnAddText,
                            children: d.fbt._("Add Images", null, {
                                hk: "3yrGBr"
                            })
                        })]
                    })
                })
            }

            function P(e) {
                var t = e.error;
                return (0, k.jsx)("div", {
                    className: _.default.errorMessage,
                    role: "alert",
                    children: t
                })
            }

            function M(e, t) {
                var n = e.maxImageCount,
                    r = e.onChange,
                    x = e.error,
                    b = e.product,
                    j = (0, c.useRef)(null),
                    E = (0, c.useState)((function() {
                        return b.productImageCollection.filter((function(e) {
                            return !e.old
                        })).map((function(e) {
                            return {
                                url: e.mediaUrl,
                                mediaData: e.mediaData
                            }
                        }))
                    })),
                    M = (0, o.default)(E, 2),
                    O = M[0],
                    A = M[1],
                    L = function(e) {
                        e.mediaPrep.waitForPrep().then((function(t) {
                            if (function(e) {
                                    return !(O.filter((function(t) {
                                        return t.mediaData.filehash === e.filehash
                                    })).length > 0 && (p.Cmd.openToast((0, k.jsx)(S.Toast, {
                                        id: (0, S.genId)(),
                                        msg: d.fbt._("Two or more images are the same. Delete any duplicates and try again.", null, {
                                            hk: "3qIMS6"
                                        })
                                    })), 1))
                                }(t)) {
                                t.mediaStage = m.MEDIA_DATA_STAGE.RESOLVED, t.renderableUrl = e.fullPreview;
                                var n = t.mediaBlob;
                                !n || n instanceof g.default || g.default.createFromData(n, n.type).then((function(e) {
                                    t.mediaBlob = e
                                }));
                                var a = [].concat((0, i.default)(O), [{
                                    url: null,
                                    mediaData: t
                                }]);
                                A(a), null == r || r(a)
                            }
                        }))
                    },
                    D = function(e) {
                        (0, l.getFiles)(e, v.IMAGE_MIMES).then((function(e) {
                            var t = n - O.length;
                            e.length > t && p.Cmd.openToast((0, k.jsx)(S.Toast, {
                                msg: d.fbt._("You've reached the maximum number of images to add.", null, {
                                    hk: "2ra3Nx"
                                }),
                                duration: 6e3,
                                action: {
                                    onAction: function() {},
                                    actionText: d.fbt._("GOT IT", null, {
                                        hk: "175geM"
                                    }),
                                    dismiss: !0,
                                    theme: "success"
                                },
                                id: (0, S.genId)()
                            })), e.slice(0, n - O.length).map((function(e) {
                                return {
                                    file: e,
                                    filename: e.name,
                                    mimetype: e.type,
                                    type: u.MSG_TYPE.PRODUCT
                                }
                            })).map((function(e) {
                                var t, n = new f.AttachMedia({
                                    file: a.resolve(e)
                                });
                                return null === (t = n.processPromise) || void 0 === t ? void 0 : t.then((function() {
                                    L(n)
                                }))
                            }))
                        })), e.target.value && (e.target.value = "")
                    },
                    N = function() {
                        var e = O.filter((function(e) {
                            return null == e.url
                        })).length;
                        C.QPL.markerAnnotate(y.QuickLogMarkerId.WHATSAPP_PRODUCT_SAVE, {
                            int: {
                                ImagesCount: e
                            }
                        }), C.QPL.markerPoint(y.QuickLogMarkerId.WHATSAPP_PRODUCT_SAVE, "images_upload_start");
                        var t = O.filter((function(e) {
                            return null == e.url
                        })).map((function(e) {
                            var t = e.mediaData,
                                n = t.mediaBlob,
                                a = t.filehash;
                            return n instanceof g.default ? (0, h.uploadProductImage)(n, a).then((function(t) {
                                e.url = t
                            })) : null
                        })).filter(Boolean);
                        return a.all(t).then((function() {
                            return C.QPL.markerPoint(y.QuickLogMarkerId.WHATSAPP_PRODUCT_SAVE, "images_upload_end"), O.map((function(e) {
                                return e.url || ""
                            }))
                        }))
                    };
                return (0, c.useImperativeHandle)(t, (function() {
                    return {
                        uploadImages: N,
                        handleFilePick: D
                    }
                })), (0, k.jsxs)("div", {
                    className: _.default.panel,
                    children: [(0, k.jsxs)("div", {
                        className: _.default.tileContainer,
                        children: [(0, k.jsxs)(s.default, {
                            transitionAppear: !0,
                            transitionName: "thumb-scale-flex",
                            children: [(0, k.jsx)(w, {
                                images: O,
                                deleteImage: function(e) {
                                    var t = O.filter((function(t) {
                                        return t !== e
                                    }));
                                    A(t), null == r || r(t)
                                }
                            }), O.length < n ? (0, k.jsx)(I, {
                                onAddFileClick: function() {
                                    j.current && j.current.click()
                                }
                            }) : null]
                        }), (0, k.jsx)(T, {
                            inputRef: j,
                            handleFilePick: D
                        })]
                    }), (0, k.jsx)(P, {
                        error: x
                    })]
                })
            }
            var O = (0, c.forwardRef)(M);
            t.default = O
        },
        80567: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, n = e.flatListController,
                    a = e.onProductDetail,
                    s = e.productMessageList,
                    f = s.productCollection.getProductModels(),
                    p = s.getSections(),
                    h = s.getSectionsCount() > 0,
                    m = s.getTotalProductsFetchedOrFailed(),
                    _ = s.getProductSize() === m && 0 === f.length,
                    x = [];
                return p.forEach((function(e, t) {
                    var n = e.title,
                        a = e.products,
                        r = [];
                    a.forEach((function(e) {
                        var n = e.productId,
                            a = f.find((function(e) {
                                return e.id === n
                            }));
                        null != a && r.push({
                            itemKey: `section-${t}-${a.id.toString()}`,
                            product: a,
                            type: "product",
                            height: l.PRODUCT_LIST_ITEM_HEIGHT
                        })
                    })), r.length > 0 && (null != n && "" !== n && x.push({
                        itemKey: `header-${t}-${n}`,
                        label: n,
                        type: "section",
                        height: 72
                    }), x.push.apply(x, r))
                })), (0, o.useEffect)((function() {
                    _ && u.Cmd.openModal((0, C.jsx)(g.default, {
                        onConfirm: function() {
                            u.Cmd.closeDrawerRight(), u.Cmd.closeModal()
                        }
                    }))
                }), [_]), (0, C.jsx)("div", {
                    className: (0, i.default)((t = {}, (0, r.default)(t, v.default.list, !0), (0, r.default)(t, v.default.noSections, !h), t)),
                    children: (0, C.jsx)(c.default, {
                        flatListControllers: [n],
                        children: (0, C.jsx)(d.FlatList, {
                            flatListController: n,
                            direction: "vertical",
                            forceConsistentRenderCount: !1,
                            data: x,
                            renderItem: function(e) {
                                return (0, C.jsx)(y, {
                                    item: e,
                                    onProductDetail: a
                                })
                            },
                            itemEnterAnimationsEnabled: !0
                        })
                    })
                })
            };
            var r = a(n(59713)),
                i = a(n(94184)),
                o = n(67294),
                l = n(66419),
                u = n(65901),
                s = n(96706),
                d = n(73568),
                c = a(n(23803)),
                f = n(56264),
                p = n(56003),
                h = n(52867),
                m = a(n(99262)),
                v = a(n(60197)),
                g = a(n(19655)),
                _ = a(n(44533)),
                x = n(68220),
                C = n(85893);

            function y(e) {
                var t = e.item,
                    n = e.onProductDetail,
                    a = (0, o.useCallback)((function(e, t) {
                        return (0, f.logCatalogListDetailClick)({
                            product: (0, x.unproxy)(e),
                            catalogContext: t
                        }), (0, p.qplStartProductView)("PLM"), n(e)
                    }), [n]),
                    r = null;
                switch (t.type) {
                    case "section":
                        var i = t.label;
                        r = (0, C.jsx)(_.default, {
                            header: i
                        });
                        break;
                    case "product":
                        var l = t.product;
                        r = (0, C.jsx)(s.DrawerContext.Consumer, {
                            children: function(e) {
                                return (0, C.jsx)(m.default, {
                                    product: l,
                                    onClick: function() {
                                        return a(l, (0, h.getProductCatalogContext)(e))
                                    },
                                    canManageCatalog: !1
                                })
                            }
                        })
                }
                return r
            }
        },
        80270: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.ProductMessageListDrawer = function(e) {
                var t = e.productListId,
                    n = e.setScrollOffset,
                    a = e.onCartClick,
                    l = e.onProductDetail,
                    s = (0, h.default)(),
                    v = (0, c.default)((function() {
                        return new E.default
                    })),
                    y = (0, p.useModelValues)(e.contact, ["id"]),
                    T = (0, d.useState)(!1),
                    P = (0, o.default)(T, 2),
                    M = P[0],
                    B = P[1],
                    U = (0, d.useState)(0),
                    G = (0, o.default)(U, 2),
                    H = G[0],
                    W = G[1],
                    V = (0, d.useState)(!1),
                    z = (0, o.default)(V, 2),
                    q = z[0],
                    K = z[1],
                    Y = (0, d.useState)((function() {
                        return A.ProductMessageListCollection.get(t)
                    })),
                    Q = (0, o.default)(Y, 2),
                    X = Q[0],
                    Z = Q[1],
                    J = (0, d.useState)((function() {
                        return m.CartCollection.findCart(y.id.toString())
                    })),
                    $ = (0, o.default)(J, 1)[0],
                    ee = (0, d.useState)($.itemCount),
                    te = (0, o.default)(ee, 2),
                    ne = te[0],
                    ae = te[1],
                    re = (0, d.useState)(!1),
                    ie = (0, o.default)(re, 2),
                    oe = ie[0],
                    le = ie[1],
                    ue = (0, d.useState)(X ? "SUCCESS" : "NONE"),
                    se = (0, o.default)(ue, 2),
                    de = se[0],
                    ce = se[1],
                    fe = function(n) {
                        var a = e.isPushed,
                            r = (void 0 === a || a) && !0 === n,
                            i = A.ProductMessageListCollection.assertGet(t),
                            o = i.getTotalProductsFetchedOrFailed(),
                            l = i.getProductSize();
                        if (q || o === l) return r && (D.QPL.markerAnnotate(N.QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW, {
                            int: {
                                ProductsCount: o
                            }
                        }), D.QPL.markerEnd(N.QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW, D.QuickLogActionType.SUCCESS)), void K(!0);
                        B(!0), W(o);
                        var u = r ? N.QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW : void 0;
                        A.ProductMessageListCollection.update(t, {
                            markerId: u
                        }).then((function(e) {
                            if (s.aborted) r && D.QPL.markerDrop(N.QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW);
                            else {
                                B(!1);
                                var t = (Array.isArray(e) ? e[0] : e).getTotalProductsFetchedOrFailed();
                                t === H && K(!0), r && (D.QPL.markerAnnotate(N.QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW, {
                                    int: {
                                        ProductsCount: t
                                    }
                                }), D.QPL.markerEnd(N.QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW, D.QuickLogActionType.SUCCESS)), o * g.PRODUCT_LIST_ITEM_HEIGHT < window.innerHeight && fe()
                            }
                        })).catch((function() {
                            B(!1), K(!0), r && D.QPL.markerEnd(N.QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW, D.QuickLogActionType.FAIL)
                        }))
                    },
                    pe = function() {
                        var n = (0, i.default)(r.default.mark((function n() {
                            var a, i, o;
                            return r.default.wrap((function(n) {
                                for (;;) switch (n.prev = n.next) {
                                    case 0:
                                        return a = e.isPushed, i = void 0 === a || a, n.prev = 1, n.next = 4, A.ProductMessageListCollection.find(t);
                                    case 4:
                                        if (o = n.sent, !s.aborted) {
                                            n.next = 8;
                                            break
                                        }
                                        return i && D.QPL.markerDrop(N.QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW), n.abrupt("return");
                                    case 8:
                                        Z(o), ce("SUCCESS"), fe(!0), n.next = 17;
                                        break;
                                    case 13:
                                        n.prev = 13, n.t0 = n.catch(1), (0, j.parseErrorState)(n.t0, (function(e) {
                                            return ce(e)
                                        })), i && D.QPL.markerEnd(N.QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW, D.QuickLogActionType.FAIL);
                                    case 17:
                                    case "end":
                                        return n.stop()
                                }
                            }), n, null, [
                                [1, 13]
                            ])
                        })));
                        return function() {
                            return n.apply(this, arguments)
                        }
                    }();
                (0, d.useEffect)((function() {
                    X ? fe() : pe(), (0, _.default)(y.id).then((function(e) {
                        s.aborted || le(e)
                    }))
                }), []), (0, f.useListener)($, "all", (function() {
                    ae($.itemCount)
                }));
                return (0, R.jsxs)(x.default, {
                    theme: "products",
                    onDrop: e.onBack,
                    children: [(0, R.jsx)(b.DrawerHeader, {
                        title: (0, R.jsx)("div", {
                            className: L.default.title,
                            children: (0, R.jsx)(S.EmojiText, {
                                text: null == X ? void 0 : X.title,
                                ellipsify: !0
                            })
                        }),
                        type: b.DRAWER_HEADER_TYPE.SMALL,
                        onBack: e.onBack,
                        menu: null != a && oe ? (0, R.jsx)(F, {
                            cartCount: ne,
                            contact: y,
                            onClick: function() {
                                (0, I.qplStartCartView)("PLM"), null == a || a(y.id.toString())
                            }
                        }) : null
                    }), (0, R.jsx)(C.default, {
                        onScroll: function(e) {
                            var t;
                            t = e.currentTarget, M || t.scrollTop + u.SCROLL_FUDGE > t.scrollHeight - t.clientHeight && fe(), null == n || n(e.currentTarget.scrollTop)
                        },
                        flatListControllers: [v.current],
                        scrollOffset: e.scrollOffset,
                        children: X ? (0, R.jsx)(R.Fragment, {
                            children: (0, R.jsxs)("div", {
                                children: [(0, R.jsx)(O.default, {
                                    productMessageList: X,
                                    flatListController: v.current,
                                    onProductDetail: l
                                }), M && (0, R.jsx)(w.default, {})]
                            })
                        }) : (0, R.jsx)(k.default, {
                            fetchState: de
                        })
                    })]
                })
            };
            var r = a(n(87757)),
                i = a(n(48926)),
                o = a(n(63038)),
                l = n(43393),
                u = n(80965),
                s = n(48360),
                d = n(67294),
                c = a(n(62905)),
                f = n(91285),
                p = n(50857),
                h = a(n(22190)),
                m = n(2133),
                v = a(n(18496)),
                g = n(66419),
                _ = a(n(38345)),
                x = a(n(53187)),
                C = a(n(18345)),
                y = n(96706),
                b = n(19288),
                S = n(73008),
                j = n(23519),
                k = a(n(22426)),
                E = a(n(92546)),
                w = a(n(5029)),
                T = n(71072),
                I = n(56003),
                P = n(91823),
                M = n(52867),
                O = a(n(80567)),
                A = n(31204),
                L = a(n(76624)),
                D = n(3298),
                N = n(4099),
                R = n(85893);

            function F(e) {
                var t = e.cartCount,
                    n = e.contact,
                    a = e.onClick,
                    r = (0, l.isNumber)(t) && t > 0 ? t.toString() : void 0,
                    i = (0, d.useContext)(y.DrawerContext);
                return (0, R.jsx)(P.MenuBarItem, {
                    a8nText: "menu-bar-cart-link",
                    icon: (0, R.jsx)(v.default, {
                        theme: "inherit-color"
                    }),
                    text: r,
                    title: s.fbt._("Your cart", null, {
                        hk: "Sn66V"
                    }),
                    onClick: (0, T.getOnCartClickWithLog)(a, n.id.toString(), (0, M.getProductCatalogContext)(i))
                })
            }
        },
        19655: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.onConfirm;
                return (0, l.jsx)(i.default, {
                    onOK: t,
                    okText: r.fbt._("OK", null, {
                        hk: "2KEeHb"
                    }),
                    children: (0, l.jsx)(o.EmojiText, {
                        text: r.fbt._("Items in this message are no longer available", null, {
                            hk: "1MclQl"
                        })
                    })
                })
            };
            var r = n(48360),
                i = a(n(86777)),
                o = n(73008),
                l = n(85893)
        },
        5457: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(63038)),
                i = a(n(272)),
                o = n(48360),
                l = n(67294),
                u = n(72743),
                s = n(64803),
                d = a(n(9451)),
                c = n(85893),
                f = function(e, t) {
                    var n = (0, l.useState)(!1),
                        a = (0, r.default)(n, 2),
                        f = a[0],
                        p = a[1],
                        h = (0, l.useState)([]),
                        m = (0, r.default)(h, 2),
                        v = m[0],
                        g = m[1],
                        _ = (0, c.jsx)(d.default, {
                            disabled: !f,
                            onClick: function() {
                                var t, n = (0, i.default)(null === (t = v[0]) || void 0 === t ? void 0 : t.catalogWid, "products[0]?.catalogWid"),
                                    a = (0, i.default)(u.CatalogCollection.get(n), "CatalogCollection.get(catalogWid)");
                                e.onShare(a)
                            }
                        });
                    return (0, c.jsx)(s.SelectModal, {
                        ref: t,
                        title: o.fbt._("Send products", null, {
                            hk: "3C7pQj"
                        }),
                        onCancel: e.onCancel,
                        onConfirm: e.onConfirm,
                        listType: s.ListType.PRODUCT_SELECT_MODAL,
                        enableSearchBox: !1,
                        customHeader: _,
                        onSelectionChanged: function(e, t, n) {
                            p(0 === n.length)
                        },
                        onDataLoaded: function(e) {
                            var t = e;
                            g(t), p(t.length > 0)
                        }
                    })
                },
                p = (0, l.forwardRef)(f);
            t.default = p
        },
        9451: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.disabled ? l.default.disabled : "",
                    n = e.disabled ? null : e.onClick,
                    a = (0, s.jsx)("span", {
                        className: l.default.title,
                        children: r.fbt._("Send catalog", null, {
                            hk: "BiYcl"
                        })
                    }),
                    d = (0, s.jsx)(o.default, {
                        theme: "compact",
                        disabled: e.disabled,
                        children: (0, s.jsx)(u.default, {
                            name: "catalog"
                        })
                    });
                return (0, s.jsx)(i.default, {
                    image: d,
                    onClick: n,
                    primary: a,
                    theme: "list-button-compact",
                    className: t
                })
            };
            var r = n(48360),
                i = a(n(88186)),
                o = a(n(84287)),
                l = a(n(40249)),
                u = a(n(7665)),
                s = n(85893)
        },
        91884: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(84646)),
                i = n(73466),
                o = a(n(88186)),
                l = a(n(72430)),
                u = n(85893);
            t.default = function(e) {
                var t = e.title,
                    n = e.icon,
                    a = e.t,
                    s = null != a ? i.Clock.relativeDateAndTimeStr(a) : "-",
                    d = (0, u.jsxs)("div", {
                        className: l.default.title,
                        "data-a8n": r.default.key("msg-info-title"),
                        children: [n, t]
                    });
                return (0, u.jsx)(o.default, {
                    primary: d,
                    secondary: s,
                    theme: "plain",
                    idle: !0
                })
            }
        },
        76997: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = (0, r.useModelValues)(e.msg, ["numTimesForwarded", "isFrequentlyForwarded"]),
                    n = t.numTimesForwarded,
                    a = t.isFrequentlyForwarded;
                if (n <= 0 || a) return null;
                var d = (0, s.jsx)(l.default, {
                        name: "forwarded",
                        display: "inline",
                        className: o.default.icon
                    }),
                    c = i.default.t(470, {
                        count: n,
                        _plural: n
                    });
                return (0, s.jsxs)("div", {
                    className: o.default.title,
                    children: [d, (0, s.jsx)(u.TextSpan, {
                        theme: "title",
                        className: o.default.text,
                        children: c
                    })]
                })
            };
            var r = n(50857),
                i = a(n(9844)),
                o = a(n(52904)),
                l = a(n(7665)),
                u = n(22552),
                s = n(85893)
        },
        6080: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(319)),
                i = n(71857),
                o = n(48360),
                l = n(67294),
                u = a(n(56720)),
                s = a(n(62905)),
                d = a(n(44588)),
                c = a(n(23734)),
                f = n(97397),
                p = n(4481),
                h = n(65002),
                m = n(73568),
                v = n(32012),
                g = a(n(9844)),
                _ = a(n(44533)),
                x = a(n(18894)),
                C = n(85893),
                y = {
                    height: "ttegvvei",
                    overflowX: "gfz4du6o",
                    overflowY: "r7fjleex",
                    backgroundColor: "ihvf49ua"
                };

            function b(e, t) {
                var n = e.contacts,
                    a = e.frequentContacts,
                    u = e.onFocusSearch,
                    c = e.onClick,
                    f = e.showPersonGroupDivisionHeader,
                    g = e.disabled,
                    _ = (0, l.useRef)(null),
                    y = (0, s.default)((function() {
                        return new x.default([], (function(e) {
                            return e.id.toString()
                        }))
                    })),
                    b = function() {
                        y.current.setFirst(!0)
                    };
                (0, l.useImperativeHandle)(t, (function() {
                    return {
                        focusFirst: b
                    }
                }));
                var S, k, E = function(e, t) {
                        var n = (t ? h.FREQUENT_PREFIX : "") + e.id.toString();
                        if (e.isGroup) {
                            var a = p.ChatCollection.get(e.id);
                            return a ? {
                                itemKey: n,
                                data: a,
                                type: 3,
                                frequent: t
                            } : null
                        }
                        return {
                            itemKey: n,
                            data: e,
                            type: 2,
                            frequent: t
                        }
                    },
                    w = (0, l.useMemo)((function() {
                        var e = [];
                        return null == a || a.forEach((function(t) {
                            var n = E(t, !0);
                            n && e.push(n)
                        })), e
                    }), [a]),
                    T = (0, d.default)((function(e) {
                        if (0 === e.length) return [];
                        for (var t = e[0].isGroup ? "group" : "contact", n = [], a = e.length > 10, r = "XXX", i = 0; i < e.length; i++) {
                            var o = e[i];
                            if (a && o.header) {
                                var l = o.header;
                                if (l !== r) {
                                    var u = i < e.length - 1 && l !== e[i + 1].header;
                                    n.push({
                                        itemKey: `header-${t}-${l}`,
                                        data: l,
                                        separator: u,
                                        type: 1
                                    }), r = l
                                }
                            }
                            var s = E(o);
                            s && n.push(s)
                        }
                        return n
                    })),
                    I = (0, l.useMemo)((function() {
                        var t = [],
                            a = [],
                            i = [];
                        w.length && (t.push({
                            itemKey: "frequent-contacts-header",
                            type: 0
                        }), t.push.apply(t, (0, r.default)(w))), n.forEach((function(e) {
                            e.isGroup ? i.push(e) : a.push(e)
                        }));
                        var l, u = T(a),
                            s = T(i);
                        if (f && u.length > 0) {
                            var d = o.fbt._("Contacts", null, {
                                hk: "2jWpt9"
                            });
                            t.push({
                                itemKey: `header-${d.toString()}`,
                                data: d.toString(),
                                separator: !0,
                                type: 1
                            })
                        }(t.push.apply(t, (0, r.default)(u)), f && s.length > 0) && (l = !0 === e.isCommunityCreation ? o.fbt._("Groups you're an admin of", null, {
                            hk: "YrVyI"
                        }).toString() : o.fbt._("Groups", null, {
                            hk: "4bUoVs"
                        }).toString(), t.push({
                            itemKey: `header-${l}`,
                            data: l,
                            separator: !0,
                            type: 1
                        }));
                        return t.push.apply(t, (0, r.default)(s)), t
                    }), [n, w, T, f, e.isCommunityCreation]);
                return y.current.init((S = [], k = [], n.forEach((function(e) {
                    if (e.isGroup) {
                        var t = p.ChatCollection.get(e.id);
                        t && k.push(t)
                    } else S.push(e)
                })), (a || []).concat(S).concat(k))), (0, C.jsx)(v.HotKeys, {
                    ref: _,
                    handlers: {
                        down: function(e) {
                            e.preventDefault(), e.stopPropagation(), y.current.setNext(!0)
                        },
                        up: function(e) {
                            e.preventDefault(), e.stopPropagation();
                            var t = y.current;
                            t.prev() > -1 ? t.setPrev(!0) : (t.unset(), u(e))
                        }
                    },
                    onFocus: function(e) {
                        if (e.target === _.current) {
                            var t = y.current;
                            t.index < 0 ? b() : t.reset(!0)
                        }
                    },
                    "data-tab": i.TAB_ORDER.CHAT_CONTACT_LIST,
                    "data-testid": "contact-list-key",
                    children: (0, C.jsx)(m.FlatList, {
                        data: I,
                        renderItem: function(e) {
                            return (0, C.jsx)(j, {
                                data: e,
                                disabled: g,
                                active: y.current,
                                onClick: c
                            })
                        },
                        flatListController: e.flatListController,
                        direction: "vertical"
                    })
                })
            }
            var S = (0, l.forwardRef)(b);

            function j(e) {
                var t = e.data,
                    n = e.disabled,
                    a = e.active,
                    r = e.onClick;
                switch (t.type) {
                    case 0:
                        return (0, C.jsx)(_.default, {
                            header: g.default.t(876)
                        }, "frequent-contacts-header");
                    case 3:
                        var i = t.data,
                            l = t.frequent;
                        return !0 === n ? (0, C.jsx)(f.Chat, {
                            chat: i,
                            mode: f.Mode.INFO,
                            noContext: !0,
                            frequent: l,
                            theme: "disabled"
                        }) : (0, C.jsx)(f.Chat, {
                            active: a,
                            chat: i,
                            mode: f.Mode.INFO,
                            noContext: !0,
                            onClick: r,
                            frequent: l
                        });
                    case 2:
                        var s = t.data,
                            d = t.frequent;
                        return (0, C.jsx)(h.Contact, {
                            active: a,
                            contact: s,
                            onClick: r,
                            secondary: s.isBlocked() ? o.fbt._("Contact is blocked", null, {
                                hk: "284Coh"
                            }) : void 0,
                            frequent: d,
                            waitIdle: !0
                        });
                    case 1:
                        var p = t.data,
                            v = t.separator;
                        return (0, C.jsxs)("div", {
                            className: (0, u.default)(y),
                            children: [v ? (0, C.jsx)(c.default, {}, `separator-${p}`) : null, (0, C.jsx)(_.default, {
                                header: p
                            })]
                        });
                    default:
                        throw new m.UnknownDataError(t)
                }
            }
            t.default = S
        },
        98755: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(35161)),
                i = n(67294),
                o = a(n(62905)),
                l = n(65002),
                u = n(32012),
                s = a(n(9844)),
                d = a(n(18894)),
                c = n(85893);

            function f(e, t) {
                var n = e.contacts,
                    a = e.onFocusSearch,
                    f = e.onDelete,
                    p = (0, o.default)((function() {
                        return new d.default(n, (function(e) {
                            return e.id.toString()
                        }))
                    })),
                    h = function() {
                        (null == n ? void 0 : n.length) && p.current.setLast(!0)
                    },
                    m = function(e) {
                        e.preventDefault(), e.stopPropagation(), p.current.prev() > -1 && p.current.setPrev(!0)
                    },
                    v = function(e) {
                        e.preventDefault(), e.stopPropagation();
                        var t = p.current.next();
                        p.current.index === t ? (p.current.unset(), a && a(e)) : p.current.setNext(!0)
                    },
                    g = function(e, t) {
                        p.current.setVal(t)
                    };
                if ((0, i.useEffect)((function() {
                        p.current.init(n, !0)
                    }), [n, p]), (0, i.useImperativeHandle)(t, (function() {
                        return {
                            focusLast: h
                        }
                    })), !n) return null;
                var _ = n.length ? (0, r.default)(n, (function(t) {
                        return (0, c.jsx)(l.Contact, {
                            contact: t,
                            active: p.current,
                            onDelete: e.onDelete,
                            onClick: g,
                            type: l.Type.SMALL,
                            theme: e.theme,
                            waitIdle: !0
                        }, t.id.toString())
                    })) : null,
                    x = {
                        up: m,
                        down: v
                    };
                e.onDelete && (x[s.default.LR("left", "right")] = m, x[s.default.LR("right", "left")] = v, x.backspace = function(e) {
                    e.preventDefault(), e.stopPropagation();
                    var t = p.current.getVal();
                    if (t) {
                        var a = n.find((function(e) {
                            return e === t
                        }));
                        a && f && f(e, a)
                    }
                });
                var C = (0, c.jsx)("ul", {
                    children: _
                });
                return (0, c.jsx)(u.HotKeys, {
                    handlers: x,
                    children: C
                })
            }
            var p = (0, i.forwardRef)(f);
            t.default = p
        },
        99633: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, n, a = e.ids,
                    s = e.size,
                    d = e.onClick,
                    c = e.showCount,
                    f = e.shape,
                    p = e.border,
                    h = a.length;
                if (0 === h) return null;
                if (1 === h) return (0, u.jsx)(l.DetailImage, {
                    id: a[0],
                    size: 40,
                    onClick: d,
                    border: p
                });
                var m = a.slice(0, 4).map((function(e, t) {
                        var n;
                        return (0, u.jsx)("div", {
                            className: (0, i.default)(o.default.avatar, (n = {}, (0, r.default)(n, o.default.first, 0 === t), (0, r.default)(n, o.default.second, 1 === t), (0, r.default)(n, o.default.third, 2 === t), (0, r.default)(n, o.default.fourth, 3 === t), n)),
                            children: (0, u.jsx)(l.DetailImage, {
                                id: e,
                                size: s,
                                shape: f
                            })
                        }, `avatar-combo-image-${t}`)
                    })),
                    v = (0, i.default)(o.default.container, (t = {}, (0, r.default)(t, o.default.square, f === l.DetailImageShape.Square), (0, r.default)(t, o.default.border, p), t), (n = {}, (0, r.default)(n, o.default.two, 2 === h), (0, r.default)(n, o.default.three, 3 === h), (0, r.default)(n, o.default.four, h >= 4), n)),
                    g = (0, l.getSize)(s),
                    _ = {
                        height: g,
                        width: g,
                        cursor: d ? "pointer" : void 0
                    },
                    x = c ? (0, u.jsx)("div", {
                        className: o.default.count,
                        style: _,
                        children: a.length
                    }) : null;
                return (0, u.jsxs)("div", {
                    className: v,
                    style: _,
                    onClick: d,
                    children: [m, x]
                })
            };
            var r = a(n(59713)),
                i = a(n(94184)),
                o = a(n(23167)),
                l = n(66834),
                u = n(85893)
        },
        2210: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.AvatarOverlay = function(e) {
                return (0, o.jsxs)("div", {
                    className: (0, i.default)([u.overlay, e.theme === l.COMMUNITY && u.noBorderRadius]),
                    children: [(0, o.jsx)("div", {
                        className: (0, i.default)(u.icon),
                        children: e.icon
                    }), (0, o.jsx)("div", {
                        "data-a8n": r.default.key("avatar-text"),
                        className: (0, i.default)(u.text),
                        children: e.text
                    })]
                }, "avatar-overlay")
            }, t.AvatarOverlayTheme = void 0;
            var r = a(n(84646)),
                i = a(n(56720)),
                o = n(85893),
                l = n(76672).Mirrored(["DEFAULT", "COMMUNITY"]);
            t.AvatarOverlayTheme = l;
            var u = {
                overlay: {
                    position: "lhggkp7q",
                    top: "qq0sjtgm",
                    start: "tkdu00h0",
                    zIndex: "ercejckq",
                    boxSizing: "cm280p3y",
                    display: "p357zi0d",
                    flexDirection: "f8m0rgwh",
                    alignItems: "gndfcl4n",
                    justifyContent: "ac2vgrno",
                    width: "ln8gz9je",
                    height: "ppled2lx",
                    paddingTop: "pxvlsfnc",
                    fontSize: "ovllcyds",
                    lineHeight: "tkq7s68q",
                    color: "k239c91b",
                    textTransform: "ofejerhi",
                    backgroundColor: "epdck8xl",
                    borderTopStartRadius: "g9p5wyxn",
                    borderTopEndRadius: "i0tg5vk9",
                    borderBottomEndRadius: "aoogvgrq",
                    borderBottomStartRadius: "o2zu3hjb"
                },
                noBorderRadius: {
                    borderTopStartRadius: "bi2mdrpt",
                    borderTopEndRadius: "hsk1pqkj",
                    borderBottomEndRadius: "e3yfz9gx",
                    borderBottomStartRadius: "a0vc5f8u"
                },
                icon: {
                    color: "k17s6i4e"
                },
                text: {
                    width: "gbtdc75f",
                    marginTop: "opp68qpq",
                    textAlign: "qfejxiq4",
                    overflowWrap: "fd365im1"
                }
            }
        },
        53473: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(81109)),
                i = a(n(6479)),
                o = n(67294),
                l = a(n(56720)),
                u = n(85893),
                s = ["breakpoint", "inverseToContainer", "maxWidth", "minWidth", "xstyle"],
                d = {
                    boxSizing: "cm280p3y",
                    flexShrink: "oq44ahr5",
                    position: "g0rxnol2"
                };

            function c(e, t) {
                var n = e.breakpoint,
                    a = e.inverseToContainer,
                    o = void 0 !== a && a,
                    c = e.maxWidth,
                    f = e.minWidth,
                    p = e.xstyle,
                    h = (0, i.default)(e, s);
                return (0, u.jsx)("div", (0, r.default)((0, r.default)({}, h), {}, {
                    className: (0, l.default)(d, p),
                    ref: t,
                    style: {
                        maxWidth: c,
                        minWidth: f,
                        width: o ? `calc((${n}px - 100%) * 9999)` : `calc((100% - ${n-.1}px) * 9999)`
                    }
                }))
            }
            var f = (0, o.forwardRef)(c);
            t.default = f
        },
        32784: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.children,
                    n = e.download,
                    a = e.file,
                    u = e.extension;
                return (0, o.jsx)(i.default, {
                    xstyle: l.button,
                    onClick: function() {
                        null != a && r.FileSaver.downloadData(a, n, u)
                    },
                    children: t
                })
            };
            var r = n(55080),
                i = (n(28085), a(n(56720)), a(n(76080))),
                o = n(85893),
                l = {
                    button: {
                        display: "f804f6gw"
                    }
                }
        },
        5282: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(59713)),
                i = a(n(63038)),
                o = a(n(35161)),
                l = a(n(272)),
                u = a(n(22060)),
                s = a(n(11845)),
                d = n(80965),
                c = n(71857),
                f = a(n(94184)),
                p = n(48360),
                h = n(67294),
                m = a(n(62905)),
                v = a(n(75967)),
                g = n(32012),
                _ = a(n(15922)),
                x = n(34238),
                C = a(n(49716)),
                y = a(n(18894)),
                b = n(85651),
                S = a(n(76080)),
                j = n(85893);

            function k(e, t) {
                var n = e.onImageClick,
                    a = e.isLoadingMore,
                    k = e.canLoadMore,
                    E = e.onRequestMoreImages,
                    w = e.onFocusPrev,
                    T = e.thumbnails,
                    I = (0, h.useRef)(null),
                    P = (0, m.default)((function() {
                        return new Map
                    })),
                    M = (0, h.useRef)(null),
                    O = (0, m.default)((function() {
                        return new y.default(T, (function(e) {
                            return e.id
                        }))
                    })),
                    A = (0, h.useState)(null),
                    L = (0, i.default)(A, 2),
                    D = L[0],
                    N = L[1],
                    R = (0, h.useCallback)((function() {
                        var e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
                            t = O.current,
                            n = t.getVal();
                        if (n && D !== n && (N(n), t.index > -1)) {
                            var a = P.current.get(`${t.index}`);
                            s.default.focus(a), e && a && (0, x.scrollIntoViewIfNeeded)(a, !1)
                        }
                    }), [P, D, O]),
                    F = new C.default((function(e, t) {
                        t ? P.current.set(e, t) : P.current.delete(e)
                    })),
                    B = function(e) {
                        var t = e.target;
                        n && 1 === t.nodeType && "IMG" === t.tagName && n(t.src)
                    },
                    U = (0, h.useCallback)((function() {
                        if (!a && k && E) {
                            if (!I.current) throw new Error("Requesting more images when body not rendered");
                            I.current.scrollTop + d.SCROLL_FUDGE > I.current.scrollHeight - I.current.clientHeight && E()
                        }
                    }), [k, a, E]),
                    G = (0, v.default)(U, 100),
                    H = function() {
                        O.current.unset(), N(void 0)
                    };
                (0, h.useEffect)((function() {
                    U(), O.current.init(T, !1), R()
                }), [U, O, T, R]);
                var W = function() {
                    M.current && M.current.focus()
                };
                (0, h.useImperativeHandle)(t, (function() {
                    return {
                        focus: W,
                        handleRequestDismiss: H
                    }
                }));
                var V = (0, o.default)(e.thumbnails, (function(e, t) {
                        var n = e.id,
                            a = e.name,
                            i = e.thumbUrl,
                            o = !!D && D.id === n,
                            l = (0, f.default)(_.default.imageGalleryItem, (0, r.default)({}, _.default.selected, o)),
                            u = (0, j.jsx)("div", {
                                className: _.default.imageGalleryItemOverlay
                            });
                        return (0, j.jsxs)("div", {
                            ref: F.getRefSetter(`${t}`),
                            className: l,
                            tabIndex: -1,
                            children: [u, (0, j.jsx)(S.default, {
                                onClick: B,
                                children: (0, j.jsx)("img", {
                                    alt: p.fbt._("Result: {name}", [p.fbt._param("name", a)], {
                                        hk: "1u9YJJ"
                                    }),
                                    className: _.default.imageGalleryItemImage,
                                    src: i
                                })
                            })]
                        }, n)
                    })),
                    z = e.isLoadingMore ? (0, j.jsx)("div", {
                        tabIndex: -1,
                        className: _.default.imageGalleryFooter,
                        children: (0, j.jsx)(b.Spinner, {
                            stroke: 6,
                            size: 24
                        })
                    }) : null;
                return (0, j.jsx)(g.HotKeys, {
                    className: _.default.imageGallery,
                    "data-tab": c.TAB_ORDER.CHAT_IMAGE_GALLERY,
                    handlers: {
                        down: function(e) {
                            e.preventDefault(), e.stopPropagation(), O.current.set(O.current.index + 3, !1, !1), R(!0, !0)
                        },
                        enter: function() {
                            var e = O.current.getVal();
                            e || (__LOG__(4, void 0, new Error, !0)`Assertion failed!`, SEND_LOGS("No value selected, but enter clicked")), n && e && n(e.thumbUrl)
                        },
                        left: function(e) {
                            e.preventDefault(), e.stopPropagation(), O.current.setPrev(!1), R(!0, !0)
                        },
                        right: function(e) {
                            e.preventDefault(), e.stopPropagation(), O.current.setNext(!1), R(!0, !0)
                        },
                        up: function(e) {
                            if (e.preventDefault(), e.stopPropagation(), 0 === O.current.index && w) w();
                            else {
                                var t = Math.max(O.current.index - 3, 0);
                                O.current.set(t, !1, !1), R(!0, !0)
                            }
                        }
                    },
                    onFocus: function(e) {
                        e.stopPropagation(), e.preventDefault(), (null == O.current.index || O.current.index < 0) && O.current.setFirst(!1), R(!0, !1);
                        var t = (0, l.default)(P.current.get(`${O.current.index}`), "imagesRef.current.get(`${selectionRef.current.index}`)").getElementsByClassName(_.default.imageGalleryItemOverlay);
                        if (1 !== t.length) throw new Error(`Unexpected number of overlay elements ${t.length}`);
                        u.default.maybeIndicateFocus(t[0], _.default.focusAnimation)
                    },
                    onMouseDown: function(e) {
                        e.preventDefault(), e.stopPropagation()
                    },
                    ref: M,
                    children: (0, j.jsxs)("div", {
                        ref: I,
                        className: _.default.imageGalleryList,
                        onScroll: G,
                        children: [V, (0, j.jsx)("div", {
                            tabIndex: -1,
                            className: _.default.imageGalleryItemSpacer
                        }), (0, j.jsx)("div", {
                            tabIndex: -1,
                            className: _.default.imageGalleryItemSpacer
                        }), (0, j.jsx)("div", {
                            tabIndex: -1,
                            className: _.default.imageGalleryItemSpacer
                        }), z]
                    })
                })
            }
            var E = (0, h.forwardRef)(k);
            t.default = E
        },
        14481: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.getAction = function(e) {
                var t = e.key,
                    n = e.ctrlKey,
                    a = e.metaKey,
                    r = e.altKey,
                    i = e.shiftKey;
                if ("Control" === t || "Meta" === t || "Alt" === t || "Shift" === t) return;
                return n && a || n && r ? u[function(e, t) {
                    if (t && ("Tab" === e || "Enter" === e || "Backspace" === e || " " === e)) return `Shift+${e}`;
                    return e
                }(t, i)] : void 0
            }, t.getAdditionalShortcuts = function() {
                var e = {};
                return Array.from(i.default.members()).forEach((function(t) {
                    var n = o(t);
                    n.length <= 1 || n.slice(1).forEach((function(n) {
                        var a = n.key,
                            r = n.nativeKey,
                            i = n.nativeModifier,
                            o = r || a;
                        o && (e[s(o, i)] = t)
                    }))
                })), e
            }, t.getKey = function(e) {
                var t = o(e);
                if (!t.length) return;
                var n = t[0],
                    a = n.key,
                    r = n.nativeKey,
                    i = n.nativeModifier,
                    l = r || a;
                return l ? s(l, i) : void 0
            }, t.getShortcutKey = function(e) {
                var t = o(e);
                if (t.length) {
                    var n = t[0],
                        a = n.key,
                        r = n.nativeKey;
                    n.webKey;
                    return r || a
                }
                return
            };
            var r = a(n(11700)),
                i = a(n(9747));

            function o(e) {
                switch (e) {
                    case i.default.CONTACT_US:
                        return [{
                            key: "H"
                        }];
                    case i.default.DELETE_OR_EXIT_CHAT:
                        return [{
                            key: "Backspace",
                            nativeKey: "D"
                        }];
                    case i.default.GO_TO_NEXT_CHAT:
                        return [{
                            key: "Tab",
                            nativeModifier: "Ctrl"
                        }, {
                            key: "}"
                        }];
                    case i.default.GO_TO_PREV_CHAT:
                        return [{
                            key: "Shift+Tab",
                            nativeModifier: "Ctrl"
                        }, {
                            key: "{"
                        }];
                    case i.default.LOGOUT:
                        return [];
                    case i.default.OPEN_NEW_CHAT:
                        return [{
                            key: "n"
                        }];
                    case i.default.OPEN_NEW_GROUP:
                        return [{
                            key: "N"
                        }];
                    case i.default.OPEN_PROFILE:
                        return [{
                            key: "p"
                        }];
                    case i.default.OPEN_SETTINGS:
                        return [{
                            key: ","
                        }];
                    case i.default.SEARCH:
                        return [{
                            webKey: "/",
                            nativeKey: "f"
                        }];
                    case i.default.SEARCH_IN_CHAT:
                        return [{
                            key: "F"
                        }];
                    case i.default.TOGGLE_ARCHIVE:
                        return [{
                            key: "E"
                        }];
                    case i.default.TOGGLE_MUTE:
                        return [{
                            key: "M"
                        }];
                    case i.default.TOGGLE_PIN:
                        return [{
                            key: "P"
                        }];
                    case i.default.TOGGLE_UNREAD:
                        return [{
                            key: "U"
                        }];
                    case i.default.ZOOM_IN:
                        return [{
                            key: "+"
                        }, {
                            key: "="
                        }];
                    case i.default.ZOOM_OUT:
                        return [{
                            key: "-"
                        }];
                    case i.default.ZOOM_RESET:
                        return [{
                            key: "0"
                        }];
                    case i.default.INCREASE_PTT_SPEED:
                        return [{
                            key: ">"
                        }];
                    case i.default.DECREASE_PTT_SPEED:
                        return [{
                            key: "<"
                        }];
                    case i.default.OPEN_EMOJI_PANEL:
                        return [{
                            key: "e"
                        }];
                    case i.default.OPEN_GIF_PANEL:
                        return [{
                            key: "g"
                        }];
                    case i.default.OPEN_STICKER_PANEL:
                        return [{
                            key: "s"
                        }];
                    case i.default.TOGGLE_STICKER_MAKER:
                        return [{
                            key: "S"
                        }];
                    default:
                        return []
                }
            }
            var l, u = (l = {}, Array.from(i.default.members()).forEach((function(e) {
                o(e).forEach((function(t) {
                    var n = t.key,
                        a = t.webKey || n;
                    a && (l[a] = e)
                }))
            })), l);

            function s(e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "CmdOrCtrl",
                    n = "+" !== e ? e : "Plus",
                    a = 1 === n.length && n.match(/[a-z]/i);
                if (!a) return `${t}+${(0,r.default)(n)}`;
                var i = n.match(/[a-z]/);
                return i ? `${t}+${(0,r.default)(n)}` : `Shift+${t}+${n}`
            }
        },
        88175: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.KeyboardShortcut = function(e) {
                var t = e.action,
                    n = e.addModifiers,
                    a = void 0 === n || n,
                    d = (0, o.getShortcutKey)(t);
                if (!d) return null;
                var c, f = s(d);
                c = -1 === f.indexOf(u) ? (0, l.jsx)("span", {
                    className: i.default.key,
                    children: f
                }) : (0, l.jsxs)(l.Fragment, {
                    children: [(0, l.jsx)("span", {
                        className: i.default.key,
                        children: "Shift"
                    }), (0, l.jsx)("span", {
                        className: i.default.key,
                        children: f.substr(u.length)
                    })]
                });
                var p = a ? [r.UA.os === r.OS_TYPE.MAC ? "Cmd" : "Ctrl"].map((function(e) {
                    return (0, l.jsx)("span", {
                        className: i.default.key,
                        children: e
                    }, e)
                })) : null;
                return (0, l.jsxs)(l.Fragment, {
                    children: [p, c]
                })
            }, t.expandRawShortcut = s;
            var r = n(10253),
                i = a(n(1906)),
                o = n(14481),
                l = n(85893),
                u = "Shift+";

            function s(e) {
                if (1 !== e.length) return e;
                switch (e) {
                    case ">":
                        return "Shift+.";
                    case "<":
                        return "Shift+,"
                }
                return e.toLowerCase() !== e ? `Shift+${e}` : e.toUpperCase()
            }
        },
        93646: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(63038)),
                i = n(67294),
                o = n(14154),
                l = function(e, t) {
                    var n = (0, o.useLottie)(e),
                        a = (0, r.default)(n, 2),
                        l = a[0],
                        u = a[1];
                    return (0, i.useImperativeHandle)(t, (function() {
                        return u
                    })), l
                },
                u = (0, i.forwardRef)(l);
            t.default = u
        },
        14154: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.Renderer = void 0, t.useLottie = function(e) {
                var t = e.autoplay,
                    n = void 0 !== t && t,
                    a = e.data,
                    c = e.direction,
                    f = void 0 === c ? 1 : c,
                    p = e.fallback,
                    h = void 0 === p ? null : p,
                    m = e.loop,
                    v = void 0 !== m && m,
                    g = e.path,
                    _ = e.placeholder,
                    x = void 0 === _ ? null : _,
                    C = e.renderer,
                    y = void 0 === C ? d.SVG : C,
                    b = e.speed,
                    S = void 0 === b ? 1 : b,
                    j = e.xstyle;
                (0, i.default)(null == a && null != g || null != a && null == g, "These opts are mutually exclusive");
                var k = (0, l.useRef)(),
                    E = (0, l.useRef)(),
                    w = (0, l.useState)(!0),
                    T = (0, r.default)(w, 2),
                    I = T[0],
                    P = T[1],
                    M = (0, l.useState)(!1),
                    O = (0, r.default)(M, 2),
                    A = O[0],
                    L = O[1],
                    D = (0, l.useCallback)((function() {
                        var e;
                        null === (e = k.current) || void 0 === e || e.play()
                    }), []),
                    N = (0, l.useCallback)((function() {
                        var e;
                        null === (e = k.current) || void 0 === e || e.stop()
                    }), []),
                    R = (0, l.useCallback)((function() {
                        var e;
                        null === (e = k.current) || void 0 === e || e.pause()
                    }), []),
                    F = (0, l.useCallback)((function(e, t) {
                        var n;
                        null === (n = k.current) || void 0 === n || n.goToAndPlay(e, t)
                    }), []),
                    B = (0, l.useCallback)((function(e, t) {
                        var n;
                        null === (n = k.current) || void 0 === n || n.goToAndStop(e, t)
                    }), []),
                    U = (0, l.useCallback)((function(e) {
                        var t;
                        null === (t = k.current) || void 0 === t || t.getDuration(e)
                    }), []);
                return (0, l.useEffect)((function() {
                    var e = o.default.loadAnimation({
                        container: E.current,
                        animationData: a,
                        path: g,
                        renderer: y,
                        loop: v,
                        autoplay: n
                    });
                    k.current = e;
                    var t = [{
                        name: "data_ready",
                        handler: function() {
                            return P(!1)
                        }
                    }, {
                        name: "data_failed",
                        handler: function() {
                            return L(!0)
                        }
                    }].map((function(t) {
                        return e.addEventListener(t.name, t.handler),
                            function() {
                                return e.removeEventListener(t.name, t.handler)
                            }
                    }));
                    return function() {
                        t.forEach((function(e) {
                            return e()
                        })), e.destroy()
                    }
                }), [a, g, y, v, n]), (0, l.useEffect)((function() {
                    var e;
                    null === (e = k.current) || void 0 === e || e.setSpeed(S)
                }), [S]), (0, l.useEffect)((function() {
                    var e;
                    null === (e = k.current) || void 0 === e || e.setDirection(f)
                }), [f]), [(0, s.jsxs)("div", {
                    className: (0, u.default)(j),
                    ref: E,
                    children: [I && !A ? x : null, A ? h : null]
                }), {
                    play: D,
                    stop: N,
                    pause: R,
                    goToAndPlay: F,
                    goToAndStop: B,
                    getDuration: U
                }]
            };
            var r = a(n(63038)),
                i = a(n(41143)),
                o = a(n(11248)),
                l = n(67294),
                u = a(n(56720)),
                s = n(85893),
                d = n(76672)({
                    SVG: "svg",
                    Canvas: "canvas"
                });
            t.Renderer = d
        },
        61640: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(63038)),
                i = n(27767),
                o = n(71091),
                l = a(n(65668)),
                u = n(48360),
                s = n(67294),
                d = a(n(56720)),
                c = n(65901),
                f = a(n(86777)),
                p = n(98169),
                h = n(10508),
                m = n(11125),
                v = n(32012),
                g = a(n(9844)),
                _ = a(n(4313)),
                x = n(23932),
                C = a(n(7665)),
                y = n(16835),
                b = a(n(93820)),
                S = n(85893),
                j = function() {
                    c.Cmd.openModal((0, S.jsx)(f.default, {
                        title: u.fbt._("Caption Too Long", null, {
                            hk: "2GOVgN"
                        }),
                        onOK: function() {
                            c.Cmd.closeModal()
                        },
                        okText: u.fbt._("OK", null, {
                            hk: "2KEeHb"
                        }),
                        children: u.fbt._("The caption youre pasting is too long. Try shortening it or sending it as a separate message.", null, {
                            hk: "4Br93m"
                        })
                    }))
                },
                k = {
                    wrapper: {
                        display: "p357zi0d",
                        alignItems: "r15c9g6i",
                        borderBottom: "tf4adjai"
                    },
                    activeWrapper: {
                        borderBottom: "ggdspdaz"
                    },
                    inputControls: {
                        position: "g0rxnol2",
                        flexGrow: "tvf2evcx",
                        flexShrink: "oq44ahr5",
                        flexBasis: "rjo8vgbg",
                        marginTop: "b9l0eqez"
                    },
                    buttonContainer: {
                        position: "g0rxnol2",
                        display: "l7jjieqr",
                        float: "ivui8b66",
                        width: "r0at9tra"
                    },
                    suggestionsPositioner: {
                        position: "lhggkp7q",
                        bottom: "c5zpj14d",
                        start: "dkaqw61n",
                        width: "ln8gz9je",
                        height: "smvc51u0",
                        overflowX: "gfz4du6o",
                        overflowY: "r7fjleex",
                        pointerEvents: "m62443ks"
                    },
                    spacer: {
                        position: "g0rxnol2",
                        height: "bmot90v7"
                    },
                    noPlaceholderSpacer: {
                        position: "g0rxnol2",
                        height: "bbl9m3t3"
                    },
                    textInput: {
                        position: "g0rxnol2",
                        flexGrow: "ggj6brxn",
                        wordWrap: "b6f1x6w7"
                    },
                    charCounter: {
                        position: "lhggkp7q",
                        top: "jgz0asyo",
                        width: "cxkis295",
                        fontSize: "bze30y65",
                        lineHeight: "iv396pab",
                        color: "t3rh7lfs",
                        textAlign: "e65innqk"
                    },
                    charCounterWithClearBtn: {
                        top: "qq0sjtgm",
                        end: "rezueyon"
                    },
                    labelText: {
                        position: "lhggkp7q",
                        width: "ln8gz9je",
                        fontSize: "enbbiyaj",
                        lineHeight: "q6wg26sa",
                        color: "hp667wtd",
                        transitionDuration: "p4t1lx4y",
                        transform: "e79a4tva"
                    },
                    labelTextFloat: {
                        fontSize: "dsh4tgtl",
                        lineHeight: "jgi8eev7",
                        transform: "qdd0en2n"
                    },
                    inputEmoji: {
                        position: "lhggkp7q",
                        top: "jgz0asyo",
                        end: "ebjesfe0",
                        color: "cs9t9or5"
                    },
                    clearInput: {
                        position: "lhggkp7q",
                        top: "mvf5n2qr",
                        end: "ia5k4ep2",
                        color: "s4k44ver"
                    },
                    suggestionsContainer: {
                        position: "lhggkp7q",
                        end: "citmgm7b",
                        bottom: "jxacihee",
                        start: "cheugonp"
                    }
                };

            function E(e, t) {
                var n = e.value,
                    a = e.focusOnMount,
                    c = e.onBlur,
                    f = e.onFocus,
                    E = e.maxLength,
                    w = void 0 === E ? 25 : E,
                    T = e.onMaxPasteExceeded,
                    I = void 0 === T ? j : T,
                    P = (0, s.useRef)(null),
                    M = (0, s.useRef)(null),
                    O = (0, s.useRef)(null),
                    A = (0, s.useState)(!1),
                    L = (0, r.default)(A, 2),
                    D = L[0],
                    N = L[1],
                    R = (0, s.useState)(null),
                    F = (0, r.default)(R, 2),
                    B = F[0],
                    U = F[1],
                    G = (0, i.numCodepoints)(e.value || ""),
                    H = function() {
                        var e;
                        null === (e = P.current) || void 0 === e || e.focus()
                    };
                (0, s.useEffect)((function() {
                    !0 === a && H()
                }), []);
                var W = function() {
                        U(null)
                    },
                    V = function(e) {
                        var t = P.current;
                        t && (t.focus(!1), t.replaceSelection(e)), W()
                    },
                    z = function(e) {
                        D && N(!1), c && c(e)
                    },
                    q = function(e) {
                        e.stopPropagation(), D || N(!0), f && f(e)
                    };
                (0, s.useImperativeHandle)(t, (function() {
                    return {
                        handleBlur: z,
                        handleFocus: q,
                        refInput: P.current
                    }
                }));
                var K, Y = e.supportsEmoji ? (0, S.jsx)("button", {
                    className: (0, d.default)(k.inputEmoji),
                    onClick: function(e) {
                        e && (e.preventDefault(), e.stopPropagation());
                        var t = (0, S.jsx)(h.EmojiPanel, {
                            ref: O,
                            onEmoji: V,
                            onFocusNext: H,
                            onFocusPrev: H
                        });
                        U({
                            menu: t,
                            dirY: p.DirY.TOP,
                            type: "emoji_picker",
                            anchor: e.target
                        }), H()
                    },
                    children: (0, S.jsx)(C.default, {
                        "aria-label": u.fbt._("Open emojis panel", null, {
                            hk: "3IEMY6"
                        }),
                        name: "emoji-input"
                    })
                }) : void 0;
                K = null != n && "" !== n ? (0, S.jsx)("button", {
                    className: (0, d.default)(k.clearInput),
                    onClick: function() {
                        var e;
                        null === (e = P.current) || void 0 === e || e.reset()
                    },
                    children: (0, S.jsx)(C.default, {
                        name: "x-alt"
                    })
                }) : null;
                var Q, X = !0 === e.showRemaining ? (0, S.jsx)("div", {
                    className: (0, d.default)(k.buttonContainer, o.uiMargin.horiz4, o.uiPadding.bottom20, k.charCounter, o.uiPadding.bottom0, null != K && k.charCounterWithClearBtn),
                    children: (0, S.jsx)("div", {
                        className: (0, d.default)(k.charCounter, o.uiPadding.bottom0),
                        children: w - G < 50 ? g.default.n(w - G) : null
                    })
                }) : null;
                B && (Q = (0, S.jsx)(y.UIE, {
                    displayName: "EmojiPicker",
                    escapable: !0,
                    popable: !0,
                    requestDismiss: W,
                    requestFocus: function() {
                        var e;
                        null === (e = O.current) || void 0 === e || e.restoreFocus()
                    },
                    children: (0, S.jsx)(b.default, {
                        contextMenu: B
                    })
                }));
                var Z = (0, d.default)(k.textInput),
                    J = (0, d.default)(k.labelText, o.uiPadding.top8, null != e.value && "" !== e.value && k.labelTextFloat);
                return (0, S.jsxs)(v.HotKeys, {
                    className: Z,
                    onFocus: H,
                    children: [(0, S.jsx)("span", {
                        className: J,
                        children: e.placeholder
                    }), (0, S.jsx)("div", {
                        className: (0, d.default)("" === e.placeholder ? k.noPlaceholderSpacer : k.spacer)
                    }), (0, S.jsx)("div", {
                        className: (0, d.default)(!g.default.isRTL() && [k.suggestionsPositioner, o.uiPadding.horiz10]),
                        children: (0, S.jsxs)("div", {
                            className: (0, d.default)(!g.default.isRTL() && k.suggestionsContainer),
                            children: [(0, S.jsx)(_.default.MentionSuggestions, {
                                chat: e.chat,
                                theme: x.ThemeOptions.MEDIA_CAPTION
                            }), (0, S.jsx)(_.default.EmojiSuggestions, {
                                chat: e.chat,
                                theme: m.ThemeOptions.MEDIA_CAPTION
                            })]
                        })
                    }), (0, S.jsxs)("div", {
                        className: (0, d.default)(k.wrapper, k.activeWrapper, D && o.uiPadding.bottom0),
                        children: [(0, S.jsx)(_.default, {
                            ref: P,
                            initialValue: e.value,
                            initialSelection: M.current,
                            readOnly: !1,
                            spellCheck: e.spellCheck,
                            multiline: e.multiline,
                            maxLength: e.maxLength,
                            onEnter: e.onEnter,
                            onMaxPasteExceeded: I,
                            onFiles: e.onFiles,
                            onChange: e.onChange,
                            onSelect: function(e) {
                                M.current = e
                            },
                            theme: "media-caption"
                        }), (0, S.jsxs)("div", {
                            className: (0, d.default)(k.inputControls),
                            children: [(0, S.jsxs)(l.default, {
                                transitionName: "pop",
                                component: "div",
                                className: (0, d.default)(k.buttonContainer, o.uiMargin.horiz4, o.uiPadding.bottom20),
                                children: [K, Y]
                            }), X]
                        })]
                    }), Q]
                })
            }
            var w = (0, s.forwardRef)(E);
            t.default = w
        },
        80233: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(67294),
                i = n(50857),
                o = a(n(90474)),
                l = a(n(73016)),
                u = n(23232),
                s = n(85893);

            function d(e, t) {
                var n = (0, r.useRef)(null),
                    a = (0, i.useModelValues)(e.chatPreference, ["wallpaperColor", "showDoodle"]);
                (0, r.useImperativeHandle)(t, (function() {
                    return {
                        get container() {
                            return n.current
                        }
                    }
                }));
                var d = a.wallpaperColor,
                    c = a.showDoodle,
                    f = {};
                return d !== u.DEFAULT_CHAT_WALLPAPER && (f = {
                    backgroundColor: d
                }), (0, s.jsx)("div", {
                    className: l.default.container,
                    ref: n,
                    children: (0, s.jsxs)("div", {
                        className: l.default.body,
                        style: f,
                        children: [(0, s.jsx)(o.default, {
                            wallpaperColor: d,
                            showDoodle: c
                        }), e.children]
                    })
                })
            }
            var c = (0, r.forwardRef)(d);
            t.default = c
        },
        94580: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(59713)),
                i = a(n(34575)),
                o = a(n(93913)),
                l = a(n(2205)),
                u = a(n(99842)),
                s = a(n(63105)),
                d = a(n(84646)),
                c = n(69202),
                f = a(n(11845)),
                p = n(10253),
                h = a(n(65668)),
                m = a(n(94184)),
                v = n(48360),
                g = n(67294),
                _ = n(2210),
                x = a(n(60256)),
                C = n(65901),
                y = a(n(86777)),
                b = n(20050),
                S = a(n(94513)),
                j = n(94680),
                k = a(n(60445)),
                E = a(n(96573)),
                w = a(n(93531)),
                T = n(32012),
                I = a(n(89902)),
                P = a(n(22935)),
                M = a(n(9844)),
                O = function(e, t) {
                    if (!t && e && e.__esModule) return e;
                    if (null === e || "object" != typeof e && "function" != typeof e) return {
                        default: e
                    };
                    var n = V(t);
                    if (n && n.has(e)) return n.get(e);
                    var a = {},
                        r = Object.defineProperty && Object.getOwnPropertyDescriptor;
                    for (var i in e)
                        if ("default" !== i && Object.prototype.hasOwnProperty.call(e, i)) {
                            var o = r ? Object.getOwnPropertyDescriptor(e, i) : null;
                            o && (o.get || o.set) ? Object.defineProperty(a, i, o) : a[i] = e[i]
                        } a.default = e, n && n.set(e, a);
                    return a
                }(n(31288)),
                A = n(73454),
                L = a(n(58497)),
                D = a(n(37743)),
                N = a(n(49309)),
                R = a(n(40071)),
                F = n(85493),
                B = a(n(7665)),
                U = a(n(89647)),
                G = n(16835),
                H = a(n(93820)),
                W = n(85893);

            function V(e) {
                if ("function" != typeof WeakMap) return null;
                var t = new WeakMap,
                    n = new WeakMap;
                return (V = function(e) {
                    return e ? n : t
                })(e)
            }
            var z = function(e) {
                (0, l.default)(n, e);
                var t = (0, u.default)(n);

                function n() {
                    var e;
                    (0, i.default)(this, n);
                    for (var a = arguments.length, r = new Array(a), o = 0; o < a; o++) r[o] = arguments[o];
                    return (e = t.call.apply(t, [this].concat(r))).state = {
                        img: e.props.startImage,
                        hover: !1,
                        imageSize: null
                    }, e._setRefImageContainer = function(t) {
                        e._refImageContainer = t
                    }, e._setRefImageInput = function(t) {
                        e._refImageInput = t
                    }, e._handleUpload = function() {
                        var t = e._refImageInput;
                        if (t) return t.click(), !0
                    }, e._removeImage = function() {
                        e.props.onImageSet(), C.Cmd.closeModal()
                    }, e._handleRemove = function() {
                        var t;
                        switch (e.props.type) {
                            case N.default.GROUP:
                                t = M.default.t(711);
                                break;
                            case N.default.COMMUNITY:
                                t = v.fbt._("", null, {
                                    hk: "1jy3zx"
                                });
                                break;
                            case N.default.PROFILE:
                                t = M.default.t(714);
                                break;
                            case N.default.DEFAULT_ANNOUNCEMENT_GROUP:
                        }
                        C.Cmd.openModal((0, W.jsx)(y.default, {
                            onOK: e._removeImage,
                            okText: M.default.t(710),
                            onCancel: function() {
                                return C.Cmd.closeModal()
                            },
                            cancelText: v.fbt._("Cancel", null, {
                                hk: "H0gNq"
                            }),
                            children: t
                        }))
                    }, e._handleView = function() {
                        var t = e._refImageContainer,
                            n = e.props,
                            a = n.id,
                            r = n.attachToChat;
                        if (t && a) {
                            var i = b.ContactCollection.assertGet(a),
                                o = {
                                    transition: "profile-viewer"
                                };
                            r && (o.uim = e.props.uim), C.Cmd.openModalMedia((0, W.jsx)(R.default, {
                                contact: i,
                                profilePicThumb: i.getProfilePicThumb(),
                                animateBorderRadius: !0,
                                getZoomNode: function(e) {
                                    e(t)
                                }
                            }), o)
                        }
                    }, e._handlePaste = function(t) {
                        if (e.state.contextMenu) {
                            var n = new S.default(t.clipboardData),
                                a = (0, s.default)(n.getFiles(), (function(e) {
                                    return "image" === (0, c.typeFromMimetype)(e.type)
                                }));
                            if (a.length) {
                                t.preventDefault(), t.stopPropagation(), e.closeContextMenu();
                                var r = a[0];
                                e._handleImagePick(r)
                            }
                        }
                    }, e._handleImageSelected = function(t) {
                        e.closeContextMenu();
                        var n = t.target.files[0];
                        if (!n) return !1;
                        e._handleImagePick(n), t.target.value = "", e._refImageContainer && f.default.focus(e._refImageContainer)
                    }, e._handleImageReceived = function(t, n) {
                        t ? O.loadImage(t).then((function() {
                            e.setState({
                                img: t
                            }), e.props.onImageSet(t, n)
                        })).catch((function(t) {
                            var n;
                            switch (__LOG__(3)`PhotoPicker:onImageReceived failed to load image: ${String(t)}`, e.props.type) {
                                case N.default.GROUP:
                                    n = M.default.t(62);
                                    break;
                                case N.default.COMMUNITY:
                                    n = v.fbt._("", null, {
                                        hk: "2CWmRt"
                                    });
                                    break;
                                case N.default.PROFILE:
                                    n = M.default.t(116);
                                    break;
                                case N.default.DEFAULT_ANNOUNCEMENT_GROUP:
                            }
                            C.Cmd.openModal((0, W.jsx)(y.default, {
                                onOK: function() {
                                    return C.Cmd.closeModal()
                                },
                                children: n
                            }))
                        })) : e.setState({
                            img: null,
                            imageSize: null
                        })
                    }, e._handleSearch = function() {
                        C.Cmd.openModal((0, W.jsx)(A.Modal, {
                            type: A.ModalTheme.Box,
                            children: (0, W.jsx)(I.default, {
                                onFinished: e._handleImageReceived
                            })
                        }))
                    }, e._handleImagePick = function(t) {
                        var n = URL.createObjectURL(t);
                        O.loadImage(n).then((function(n) {
                            n && (n.width < F.PROF_PIC_MIN_SIDE || n.height < F.PROF_PIC_MIN_SIDE) ? C.Cmd.openModal((0, W.jsx)(y.default, {
                                onOK: function() {
                                    return C.Cmd.closeModal()
                                },
                                children: M.default.t(702, {
                                    size: F.PROF_PIC_MIN_SIDE,
                                    _plural: F.PROF_PIC_MIN_SIDE
                                })
                            })) : C.Cmd.openModal((0, W.jsx)(A.Modal, {
                                type: A.ModalTheme.Box,
                                children: (0, W.jsx)(k.default, {
                                    img: t,
                                    onFinished: e._handleImageReceived,
                                    onRetake: e._handleUpload
                                })
                            }))
                        })).catch((function() {
                            var t;
                            switch (e.props.type) {
                                case N.default.GROUP:
                                    t = M.default.t(62);
                                    break;
                                case N.default.COMMUNITY:
                                    t = v.fbt._("", null, {
                                        hk: "2CWmRt"
                                    });
                                    break;
                                case N.default.PROFILE:
                                    t = M.default.t(116);
                                    break;
                                case N.default.DEFAULT_ANNOUNCEMENT_GROUP:
                            }
                            C.Cmd.openModal((0, W.jsx)(y.default, {
                                onOK: function() {
                                    return C.Cmd.closeModal()
                                },
                                children: t
                            }))
                        })).finally((function() {
                            URL.revokeObjectURL(n)
                        }))
                    }, e._createMenu = function() {
                        var t = [];
                        return e.props.id && e.state.img && t.push((0, W.jsx)(j.DropdownItem, {
                            a8n: "mi-view-photo",
                            action: e._handleView,
                            children: M.default.t(813)
                        }, "view")), E.default && t.push((0, W.jsx)(U.default, {
                            onImageTake: e._handleImageReceived
                        }, "take")), t.push((0, W.jsx)(j.DropdownItem, {
                            a8n: "mi-upload-photo",
                            action: e._handleUpload,
                            children: M.default.t(803)
                        }, "upload")), p.UA.isElectron && (e.props.type !== N.default.GROUP && e.props.type !== N.default.COMMUNITY || t.push((0, W.jsx)(j.DropdownItem, {
                            a8n: "mi-search-photo",
                            action: e._handleSearch,
                            children: v.fbt._("Web Search", null, {
                                hk: "3otQk8"
                            })
                        }, "search"))), e.state.img && t.push((0, W.jsx)(j.DropdownItem, {
                            a8n: "mi-remove-photo",
                            action: e._handleRemove,
                            children: M.default.t(713)
                        }, "remove")), t
                    }, e._handleImageKeypress = function() {
                        var t = e._createMenu();
                        e.setState({
                            contextMenu: {
                                menu: t,
                                anchor: e._refImageContainer
                            }
                        })
                    }, e._handleImageClick = function(t) {
                        if (e.props.readOnly) e.state.img && e._handleView();
                        else {
                            t.stopPropagation(), t.preventDefault();
                            var n = e._createMenu();
                            e.setState({
                                contextMenu: {
                                    menu: n,
                                    event: t
                                }
                            })
                        }
                    }, e.closeContextMenu = function() {
                        e.setState({
                            contextMenu: null
                        })
                    }, e._handleMouseOver = function() {
                        e.state.hover || e.setState({
                            hover: !0
                        })
                    }, e._handleMouseEnter = function() {
                        e.state.hover || e.setState({
                            hover: !0
                        })
                    }, e._handleMouseLeave = function() {
                        e.state.hover && e.setState({
                            hover: !1
                        })
                    }, e._handleLoad = function(t) {
                        var n = t.currentTarget.clientWidth,
                            a = t.currentTarget.clientHeight;
                        e.setState({
                            imageSize: {
                                width: n,
                                height: a
                            }
                        })
                    }, e
                }
                return (0, o.default)(n, [{
                    key: "_getContainerStyle",
                    value: function() {
                        return null != this.props.size ? {
                            width: this.props.size,
                            height: this.props.size
                        } : void 0
                    }
                }, {
                    key: "render",
                    value: function() {
                        var e, t;
                        this.state.img && (e = (0, W.jsx)(L.default, {
                            type: "cover",
                            size: this.state.imageSize,
                            children: (0, W.jsx)(P.default, {
                                src: this.state.img,
                                crossOrigin: !1,
                                style: {
                                    height: "100%",
                                    width: "100%"
                                },
                                onLoad: this._handleLoad
                            })
                        })), (this.props.pending || this.state.img && !this.state.imageSize) && (t = (0, W.jsx)(x.default, {}));
                        var n = null;
                        if (!this.props.pending && !this.props.readOnly && (!this.state.img || this.state.imageSize) && (!this.state.img || this.state.contextMenu || this.state.hover)) {
                            var a = "";
                            switch (this.props.type) {
                                case N.default.GROUP:
                                    a = this.state.img ? M.default.t(273) : M.default.t(138);
                                    break;
                                case N.default.COMMUNITY:
                                    a = this.state.img ? v.fbt._("", null, {
                                        hk: "2qce1Y"
                                    }) : v.fbt._("", null, {
                                        hk: "3suXp9"
                                    });
                                    break;
                                case N.default.PROFILE:
                                    a = this.state.img ? M.default.t(277) : M.default.t(139);
                                    break;
                                case N.default.DEFAULT_ANNOUNCEMENT_GROUP:
                            }
                            n = (0, W.jsx)(_.AvatarOverlay, {
                                icon: (0, W.jsx)(B.default, {
                                    name: "camera"
                                }),
                                text: a,
                                theme: this.props.type === N.default.COMMUNITY ? _.AvatarOverlayTheme.COMMUNITY : _.AvatarOverlayTheme.DEFAULT
                            })
                        }
                        var i, o, l = this.props.pending || !this.state.imageSize && this.state.img ? function() {} : this._handleImageClick;
                        if (this.state.contextMenu && (i = (0, W.jsx)(G.UIE, {
                                displayName: "PhotoPickerContextMenu",
                                escapable: !0,
                                popable: !0,
                                requestDismiss: this.closeContextMenu,
                                children: (0, W.jsx)(H.default, {
                                    contextMenu: this.state.contextMenu
                                })
                            })), this.props.pending || !this.state.img || this.state.img && !this.state.imageSize) {
                            var u;
                            switch (this.props.type) {
                                case N.default.PROFILE:
                                    u = "default-user";
                                    break;
                                case N.default.COMMUNITY:
                                    u = "community-squircle";
                                    break;
                                case N.default.DEFAULT_ANNOUNCEMENT_GROUP:
                                    u = "announcement-speaker";
                                    break;
                                default:
                                    u = "default-group"
                            }
                            o = (0, W.jsx)("div", {
                                className: (0, m.default)(D.default.defaultIcon, (0, r.default)({}, D.default.defaultAnnouncementGroupIcon, this.props.type === N.default.DEFAULT_ANNOUNCEMENT_GROUP)),
                                children: (0, W.jsx)(B.default, {
                                    name: u
                                })
                            })
                        }
                        return (0, W.jsxs)(T.HotKeys, {
                            className: D.default.container,
                            style: this._getContainerStyle(),
                            handlers: {
                                space: this._handleImageKeypress,
                                enter: this._handleImageKeypress
                            },
                            children: [(0, W.jsxs)("div", {
                                className: (0, m.default)(D.default.body, (0, r.default)({}, D.default.squircleBackground, this.props.type === N.default.COMMUNITY)),
                                onClick: l,
                                onMouseOver: this._handleMouseOver,
                                onMouseEnter: this._handleMouseEnter,
                                onMouseLeave: this._handleMouseLeave,
                                onPaste: this._handlePaste,
                                onFocus: this._handleMouseEnter,
                                onBlur: this._handleMouseLeave,
                                ref: this._setRefImageContainer,
                                title: v.fbt._("Photo Picker", null, {
                                    hk: "3TURye"
                                }),
                                dir: "ltr",
                                tabIndex: 0,
                                role: "button",
                                "data-a8n": d.default.key(this.props.a8nText),
                                children: [(0, W.jsxs)("div", {
                                    className: D.default.imageContainer,
                                    children: [e, o]
                                }), (0, W.jsxs)(h.default, {
                                    transitionName: "fade",
                                    children: [t, n]
                                })]
                            }), (0, W.jsx)("input", {
                                ref: this._setRefImageInput,
                                type: "file",
                                accept: "image/gif,image/jpeg,image/jpg,image/png",
                                style: {
                                    display: "none"
                                },
                                onChange: this._handleImageSelected
                            }), i]
                        })
                    }
                }], [{
                    key: "getDerivedStateFromProps",
                    value: function(e) {
                        return e.startImage ? {
                            img: e.startImage
                        } : {
                            img: e.startImage,
                            imageSize: null
                        }
                    }
                }]), n
            }(g.Component);
            z.displayName = "PhotoPicker";
            var q = (0, w.default)(z);
            t.default = q
        },
        28831: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.E2eSummarySecurityDrawer = t.E2eSummaryE2eInfoModal = void 0;
            var r = n(48360),
                i = a(n(56720)),
                o = a(n(7665)),
                l = n(85893),
                u = n(76672).Mirrored(["SecurityDrawer", "E2eInfoModal"]),
                s = {
                    boxSizing: "cm280p3y",
                    display: "p357zi0d",
                    flexDirection: "f8m0rgwh",
                    justifyContent: "ac2vgrno",
                    alignItems: "gndfcl4n"
                },
                d = {
                    width: "ln8gz9je",
                    borderBottom: "daad4uqs",
                    paddingBottom: "r219jyu0"
                },
                c = {
                    marginTop: "opp68qpq",
                    marginEnd: "mg7w9a8q",
                    marginBottom: "brac1wpa",
                    marginStart: "a6gmrtb7"
                },
                f = {
                    width: "ln8gz9je",
                    fontSize: "p9fp32ui",
                    marginTop: "fgtikrv0",
                    marginEnd: "jnwc1y2a",
                    marginBottom: "dblt22a0",
                    marginStart: "svoq16ka",
                    lineHeight: "l85iiqla",
                    letterSpacing: "dktwgxt5",
                    fontWeight: "hnx8ox4h",
                    color: "rbdaq05k"
                },
                p = {
                    fontSize: "f8jlpxt4",
                    marginBottom: "iyjcf3gk",
                    lineHeight: "a4ywakfo",
                    color: "hp667wtd"
                },
                h = {
                    color: "hp667wtd",
                    letterSpacing: "hscjuerc",
                    fontSize: "f8jlpxt4",
                    lineHeight: "e4qy2s3t"
                },
                m = {
                    display: "i86elurf",
                    justifyContent: "ac2vgrno",
                    alignItems: "gndfcl4n",
                    marginTop: "hymafltn",
                    marginEnd: "jnwc1y2a",
                    marginBottom: "g105fvfm",
                    marginStart: "svoq16ka"
                },
                v = {
                    paddingEnd: "kyc7k6mt"
                },
                g = {
                    textAlign: "ljrqcn24"
                },
                _ = {
                    textAlign: "qfejxiq4"
                },
                x = function(e) {
                    var t = e.icon,
                        n = e.children;
                    return (0, l.jsxs)("li", {
                        className: (0, i.default)(m),
                        children: [(0, l.jsx)(o.default, {
                            name: t,
                            className: (0, i.default)(v),
                            height: 25,
                            width: 25
                        }), (0, l.jsx)("span", {
                            children: n
                        })]
                    })
                },
                C = function(e) {
                    var t, n, a, m, v = e.theme,
                        C = [{
                            icon: "e2e-message",
                            text: r.fbt._("Text and voice messages", null, {
                                hk: "4lEA4f"
                            })
                        }, {
                            icon: "e2e-contact-info-call",
                            text: r.fbt._("Audio and video calls", null, {
                                hk: "2h2b8J"
                            })
                        }, {
                            icon: "e2e-attachment",
                            text: r.fbt._("Photos, videos and documents", null, {
                                hk: "46wemA"
                            })
                        }, {
                            icon: "e2e-status",
                            text: r.fbt._("Status updates", null, {
                                hk: "1YeLwD"
                            })
                        }].map((function(e) {
                            var t = e.icon,
                                n = e.text;
                            return (0, l.jsx)(x, {
                                icon: t,
                                children: n
                            }, t)
                        }));
                    return v === u.SecurityDrawer ? (t = "security-drawer-lock", n = 84, a = g, m = d) : (t = "e2e-illustration", n = 220, a = _, m = c), (0, l.jsxs)("div", {
                        className: (0, i.default)(s, m),
                        children: [(0, l.jsx)("div", {
                            children: (0, l.jsx)(o.default, {
                                name: t,
                                width: n
                            })
                        }), (0, l.jsx)("div", {
                            className: (0, i.default)(f, a),
                            children: r.fbt._("Your chats and calls are private", null, {
                                hk: "2ZLoAl"
                            })
                        }), (0, l.jsx)("div", {
                            className: (0, i.default)(p, a),
                            children: r.fbt._("End-to-end encryption keeps your personal messages and calls between you and the people you choose. Not even WhatsApp can access them. This includes your:", null, {
                                hk: "21Aecl"
                            })
                        }), (0, l.jsx)("div", {
                            className: (0, i.default)(h),
                            children: (0, l.jsx)("ul", {
                                children: C
                            })
                        })]
                    })
                };
            t.E2eSummarySecurityDrawer = function() {
                return (0, l.jsx)(C, {
                    theme: u.SecurityDrawer
                })
            };
            t.E2eSummaryE2eInfoModal = function() {
                return (0, l.jsx)(C, {
                    theme: u.E2eInfoModal
                })
            }
        },
        4313: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(34575)),
                i = a(n(2205)),
                o = a(n(99842)),
                l = a(n(73716)),
                u = n(71222),
                s = n(11125),
                d = a(n(90661)),
                c = n(18018),
                f = a(n(52186)),
                p = n(23932),
                h = a(n(57651)),
                m = new d.default,
                v = new l.default,
                g = function(e) {
                    (0, i.default)(n, e);
                    var t = (0, o.default)(n);

                    function n() {
                        return (0, r.default)(this, n), t.apply(this, arguments)
                    }
                    return n
                }((0, c.PluggableInput)([u.EmojiPlugin, v, m, f.default]));
            t.default = g, g.MentionSuggestions = (0, h.default)(p.Suggestions, {
                plugin: m
            }), g.EmojiSuggestions = (0, h.default)(s.EmojiSuggestions, {
                plugin: v
            })
        },
        2011: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(59713)),
                i = a(n(94184)),
                o = n(80385),
                l = a(n(31113)),
                u = n(85893),
                s = function(e) {
                    var t = e.ariaLabel,
                        n = e.large,
                        a = e.a8nText,
                        s = e.onClick,
                        d = e.icon,
                        c = e.count,
                        f = e.disabled;
                    return (0, u.jsxs)("div", {
                        className: (0, i.default)(l.default.container, (0, r.default)({}, l.default.disabled, f)),
                        children: [(0, u.jsx)(o.Round, {
                            label: t,
                            large: n,
                            a8nText: a,
                            onClick: s,
                            disabled: f,
                            children: d
                        }), null != c && (0, u.jsx)("div", {
                            className: (0, i.default)(l.default.count, (0, r.default)({}, l.default.large, n)),
                            children: (0, u.jsx)("span", {
                                children: c
                            })
                        })]
                    })
                };
            t.default = s
        },
        6393: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(81109)),
                i = a(n(63038)),
                o = n(67294),
                l = n(65901),
                u = a(n(86777)),
                s = n(19288),
                d = n(73009),
                c = a(n(9844)),
                f = n(73454),
                p = n(85893);
            t.default = function(e) {
                var t = e.doSave,
                    n = e.afterSave,
                    a = e.isValid,
                    h = e.children,
                    m = e.modalConfig,
                    v = e.onError,
                    g = e.title,
                    _ = e.onCancel,
                    x = (0, o.useState)(d.EditType.EDITING),
                    C = (0, i.default)(x, 2),
                    y = C[0],
                    b = C[1],
                    S = (0, p.jsx)(s.DrawerHeader, {
                        title: g,
                        type: s.DRAWER_HEADER_TYPE.POPUP,
                        onCancel: function() {
                            l.Cmd.closeModal(), _ && _()
                        }
                    });
                return (0, p.jsx)(u.default, (0, r.default)({
                    children: h,
                    okText: c.default.t(722),
                    type: f.ModalTheme.Auto,
                    onOK: function() {
                        b(d.EditType.PENDING), t().then((function() {
                            b(d.EditType.DONE), n && n(), l.Cmd.closeModal()
                        }), (function(e) {
                            b(d.EditType.ERROR), v && v(e)
                        }))
                    },
                    okSpinner: y === d.EditType.PENDING,
                    okDisabled: y === d.EditType.PENDING || !a,
                    title: S
                }, m))
            }
        },
        14536: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(63038)),
                i = n(67294),
                o = a(n(56720)),
                l = a(n(56523)),
                u = a(n(72127)),
                s = n(32012),
                d = n(85893),
                c = {
                    tabContainer: {
                        display: "p357zi0d",
                        backgroundColor: "rv6u8h8g"
                    },
                    tab: {
                        boxSizing: "cm280p3y",
                        display: "p357zi0d",
                        flexGrow: "ggj6brxn",
                        flexDirection: "f8m0rgwh",
                        alignItems: "gndfcl4n",
                        justifyContent: "ac2vgrno",
                        height: "qmp0wt83",
                        color: "a633jkfz",
                        textTransform: "ofejerhi"
                    },
                    focused: {
                        boxShadow: "lgn58c33"
                    },
                    selected: {
                        paddingTop: "eujn52yf",
                        color: "ky3f94nk",
                        borderBottom: "qldwl5fi"
                    }
                },
                f = function(e) {
                    var t = e.tabConfigs,
                        n = e.selectedId,
                        a = e.onSelect,
                        r = e.tabXstyle,
                        l = e.xstyle,
                        u = (0, i.useRef)(n),
                        f = (0, i.useRef)([]),
                        h = t.map((function(e) {
                            return e.id
                        })),
                        m = h.length - 1;
                    return (0, d.jsx)(s.HotKeys, {
                        handlers: {
                            right: function() {
                                var e = h.indexOf(u.current),
                                    t = e === m ? 0 : e + 1,
                                    n = f.current[t];
                                n && n.focus()
                            },
                            left: function() {
                                var e = h.indexOf(u.current),
                                    t = 0 === e ? m : e - 1,
                                    n = f.current[t];
                                n && n.focus()
                            }
                        },
                        children: (0, d.jsx)("div", {
                            role: "tablist",
                            className: (0, o.default)(c.tabContainer, l),
                            children: t.map((function(e, t) {
                                var i = e.title,
                                    o = e.id;
                                return (0, d.jsx)(p, {
                                    ref: function(e) {
                                        f.current[t] = e
                                    },
                                    selected: o === n,
                                    onSelect: function() {
                                        return a(o)
                                    },
                                    onFocus: function() {
                                        u.current = o
                                    },
                                    xstyle: r,
                                    children: i
                                }, i)
                            }))
                        })
                    })
                };
            t.default = f;
            var p = (0, i.forwardRef)((function(e, t) {
                var n = e.selected,
                    a = e.onSelect,
                    i = e.onFocus,
                    s = e.children,
                    f = e.xstyle,
                    p = (0, l.default)(),
                    h = (0, r.default)(p, 2),
                    m = h[0],
                    v = h[1],
                    g = (0, u.default)(t, m);
                return (0, d.jsx)("button", {
                    ref: g,
                    role: "tab",
                    tabIndex: n ? 0 : -1,
                    "aria-selected": Boolean(n),
                    title: s,
                    className: (0, o.default)(c.tab, v && c.focused, n && c.selected, f),
                    onClick: function() {
                        n || a()
                    },
                    onFocus: i,
                    children: s
                })
            }))
        },
        89647: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.onImageTake;
                return (0, u.jsx)(i.DropdownItem, {
                    action: function() {
                        r.Cmd.openModal((0, u.jsx)(o.EditCaptureFlowLoadable, {
                            onFinished: t
                        }))
                    },
                    a8n: "mi-take-photo",
                    disabled: e.disabled,
                    children: l.default.t(772)
                })
            };
            var r = n(65901),
                i = n(94680),
                o = n(10762),
                l = a(n(9844)),
                u = n(85893)
        },
        68605: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.className;
                return (0, s.jsxs)(l.SelectableDiv, {
                    "data-a8n": r.default.key("version"),
                    className: (0, i.default)(u.default.versionInfo, t),
                    selectable: !0,
                    children: [o.default.t(806, {
                        version: ""
                    }), (0, s.jsx)("span", {
                        dir: "LTR",
                        children: "2.2210.9"
                    }), null, null]
                })
            };
            var r = a(n(84646)),
                i = a(n(94184)),
                o = (a(n(30381)), n(49012), a(n(8584)), a(n(9844))),
                l = n(96197),
                u = a(n(11300)),
                s = n(85893)
        },
        1550: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(34575)),
                i = a(n(93913)),
                o = a(n(2205)),
                l = a(n(99842)),
                u = a(n(11845)),
                s = n(48360),
                d = n(4481),
                c = n(65901),
                f = a(n(86777)),
                p = n(73008),
                h = a(n(50177)),
                m = a(n(50504)),
                v = a(n(9844)),
                g = n(87547),
                _ = n(85893),
                x = function(e) {
                    (0, o.default)(n, e);
                    var t = (0, l.default)(n);

                    function n() {
                        var e;
                        (0, r.default)(this, n);
                        for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++) i[o] = arguments[o];
                        return (e = t.call.apply(t, [this].concat(i))).filter = function(t) {
                            var n = t.groupMetadata;
                            return !(!t.isGroup || t.isGroup && !(null == n ? void 0 : n.participants.iAmMember())) && ((null == n ? void 0 : n.participants.get(e.props.contact.id)) ? s.fbt._("Already added to group", null, {
                                hk: "4hdDHF"
                            }).toString() : !!(null == n ? void 0 : n.participants.iAmAdmin()) || v.default.t(280))
                        }, e._confirmAddToGroup = function(t) {
                            e.props.requestFocus && e.props.requestFocus(), e.push((0, _.jsx)(f.default, {
                                cancelText: s.fbt._("Cancel", null, {
                                    hk: "H0gNq"
                                }),
                                okText: s.fbt._("Add participant", null, {
                                    hk: "48ECfz"
                                }),
                                onOK: e._addToGroup.bind(null, t),
                                onCancel: e._pop,
                                children: (0, _.jsx)(p.EmojiText, {
                                    text: v.default.t(341, {
                                        participant: e.props.contact.formattedName,
                                        subject: t.contact.name
                                    })
                                })
                            }))
                        }, e.requestFocus = function() {
                            if (e.refUIE) {
                                var t = e.refUIE.getNode();
                                t && !t.contains(document.activeElement) && u.default.focus(t)
                            }
                        }, e._addToGroup = function(t) {
                            (0, g.addParticipants)(t, [e.props.contact]).then((function() {
                                c.Cmd.openChatFromUnread(t).then((function(e) {
                                    e && c.Cmd.focusChatTextInput(t)
                                }))
                            })).catch((function() {})), e.end()
                        }, e._pop = function() {
                            e.pop()
                        }, e
                    }
                    return (0, i.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            this.push((0, _.jsx)(m.default, {
                                chats: d.ChatCollection.filter((function(e) {
                                    return e.isGroup
                                })),
                                filter: this.filter,
                                onCancel: this._pop,
                                onGroup: this._confirmAddToGroup
                            }))
                        }
                    }]), n
                }(h.default);
            t.default = x
        },
        13118: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(34575)),
                i = a(n(93913)),
                o = a(n(81506)),
                l = a(n(2205)),
                u = a(n(99842)),
                s = a(n(16525)),
                d = a(n(29754)),
                c = a(n(81629)),
                f = a(n(51463)),
                p = n(78577),
                h = n(10253),
                m = n(71988),
                v = n(65901),
                g = n(8113),
                _ = a(n(50177)),
                x = a(n(37286)),
                C = n(59085),
                y = n(85893),
                b = function(e) {
                    (0, l.default)(n, e);
                    var t = (0, u.default)(n);

                    function n() {
                        var e, a;
                        (0, r.default)(this, n);
                        for (var i = arguments.length, l = new Array(i), u = 0; u < i; u++) l[u] = arguments[u];
                        return (a = t.call.apply(t, [this].concat(l)))._setRefMediaEditor = function(e) {
                            a._refMediaEditor = e
                        }, a._handleCancel = function() {
                            a.props.onComplete && a.props.onComplete(!1), a._clearAttachMedia(), a.props.mediaCollection.mediaPickerStatsLogger.logCancel(), a.end()
                        }, a._handleFailedMedias = function(e) {
                            var t = e.filter((function(e) {
                                return e.isGif
                            }));
                            if (t.length > 0) {
                                var n = t.map((function(e) {
                                    return e.filename
                                }));
                                v.Cmd.once("ui_idle", (function() {
                                    v.Cmd.pasteChatTextInput(a.props.chat, n.join(" "))
                                })), a.props.onComplete && a.props.onComplete(!1), a._clearAttachMedia(), a.props.mediaCollection.mediaPickerStatsLogger.logCancel(), a.end()
                            }
                        }, a._sendMediaWithMentions = function(e) {
                            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                                n = t.initCaptionUsed,
                                r = t.isViewOnce,
                                i = a.props.chat;
                            v.Cmd.once("ui_idle", (function() {
                                e.forEach((function(e, t) {
                                    var n, o = e.media,
                                        l = {};
                                    if (0 === t && (l.quotedMsg = i.composeQuotedMsg, i.composeQuotedMsg = null), l.isViewOnce = r, l.mentionedJidList = e.mentionedJidList, l.caption = o.caption, l.addEvenWhilePreparing = o.previewable && o.state === m.ATTACH_MEDIA_STATE.PROCESSING, null === (n = a.props.initCaption) || void 0 === n ? void 0 : n.ctwaContextLinkData) {
                                        var u = a.props.initCaption,
                                            s = u.ctwaContextLinkData,
                                            d = u.ctwaContext;
                                        l.ctwaContext = (0, C.prepareCtwaContextSend)(s, d)
                                    }
                                    o.sendToChat(i, l)
                                })), a._clearAttachMedia()
                            })), a.props.onComplete && a.props.onComplete(!0, {
                                initCaptionUsed: n
                            }), a.props.mediaCollection.mediaPickerStatsLogger.logSend({
                                isViewOnce: r
                            }), a.end()
                        }, a.setText = function(e) {
                            null != e && v.Cmd.once("ui_idle", (function() {
                                v.Cmd.pasteChatTextInput(a.props.chat, e)
                            })), a.end()
                        }, a._handleRequestDismiss = function(t) {
                            var r;
                            (null === (r = a._refMediaEditor) || void 0 === r ? void 0 : r.handleRequestDismiss()) && (!1 === t && a._handleCancel(), (0, s.default)((e = (0, o.default)(a), (0, d.default)(n.prototype)), "handleRequestDismiss", e).call(e))
                        }, a._clearAttachMedia = function() {
                            a.props.chat && a.props.chat.setAttachMediaContents(null)
                        }, a
                    }
                    return (0, i.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            v.Cmd.closeContextMenu(), v.Cmd.closeTooltip(), this.push((0, y.jsx)(x.default, {
                                theme: "attach",
                                ref: this._setRefMediaEditor,
                                chat: this.props.chat,
                                onClose: this._handleCancel,
                                initCaption: this.props.initCaption,
                                onSendMedia: (0, f.default)(this._sendMediaWithMentions),
                                mediaCollection: this.props.mediaCollection,
                                onDropText: (0, f.default)(this.setText),
                                sendAsSticker: this.props.sendAsSticker
                            })), (0, p.isMDBackend)() && (0, g.eagerlyEstablishE2EESessionForMedia)(this.props.chat)
                        }
                    }, {
                        key: "componentWillUnmount",
                        value: function() {
                            var e = this;
                            h.UA.isGecko ? (0, c.default)((function() {
                                return v.Cmd.focusChatTextInput(e.props.chat)
                            })) : v.Cmd.focusChatTextInput(this.props.chat)
                        }
                    }]), n
                }(_.default);
            t.default = b
        },
        80987: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(81109)),
                i = a(n(34575)),
                o = a(n(93913)),
                l = a(n(2205)),
                u = a(n(99842)),
                s = a(n(50177)),
                d = a(n(9844)),
                c = n(64803),
                f = a(n(76411)),
                p = n(43890),
                h = a(n(92717)),
                m = n(85893),
                v = function(e) {
                    (0, l.default)(n, e);
                    var t = (0, u.default)(n);

                    function n() {
                        var e;
                        (0, i.default)(this, n);
                        for (var a = arguments.length, r = new Array(a), o = 0; o < a; o++) r[o] = arguments[o];
                        return (e = t.call.apply(t, [this].concat(r)))._confirmSendContacts = function(t) {
                            e.push((0, m.jsx)(h.default, {
                                contactList: t,
                                onSend: function() {
                                    return e._sendContacts(t)
                                },
                                onBack: e._popNone,
                                chat: e.props.chat
                            }), "none"), e.contacts = t
                        }, e._sendContacts = function(t) {
                            var n = e.props.chat,
                                a = n.composeQuotedMsg,
                                r = n.getComposeContents().ctwaContext || void 0;
                            (0, f.default)(t, n, a, r), n.composeQuotedMsg = null, e.props.onContactsSent(), e.end()
                        }, e._getContacts = function() {
                            return e.contacts
                        }, e._pop = function() {
                            e.pop()
                        }, e._popNone = function() {
                            e.pop("none")
                        }, e
                    }
                    return (0, o.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this.props.serverProps.maxParticipants;
                            this.contacts = [], this.push((0, m.jsx)(c.SelectModal, {
                                title: d.default.t(744),
                                onCancel: this._pop,
                                onConfirm: this._confirmSendContacts,
                                getInitialItems: this._getContacts,
                                listType: c.ListType.CONTACT_SELECT_MODAL,
                                maxItems: e,
                                allowBlockedContacts: !0
                            }))
                        }
                    }]), n
                }(s.default);
            t.default = function(e) {
                return (0, m.jsx)(v, (0, r.default)((0, r.default)({}, e), {}, {
                    serverProps: p.ServerProps
                }))
            }
        },
        41271: (e, t, n) => {
            "use strict";
            var a = n(21314).default,
                r = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(n(34575)),
                o = r(n(93913)),
                l = r(n(2205)),
                u = r(n(99842)),
                s = n(48360),
                d = n(65901),
                c = r(n(50177)),
                f = n(56264),
                p = n(81310),
                h = r(n(5457)),
                m = n(37404),
                v = n(85893),
                g = function(e) {
                    (0, l.default)(n, e);
                    var t = (0, u.default)(n);

                    function n() {
                        var e;
                        (0, i.default)(this, n);
                        for (var r = arguments.length, o = new Array(r), l = 0; l < r; l++) o[l] = arguments[l];
                        return (e = t.call.apply(t, [this].concat(o))).requestFocus = function() {
                            var t, n = null === (t = e.refUIE) || void 0 === t ? void 0 : t.getRef();
                            null != n && (n instanceof HTMLElement || "function" != typeof n.onFocusList || n.onFocusList())
                        }, e._sendProducts = function(t) {
                            var n = e.props.chat;
                            (0, p.qplStartProductSendMessage)("Attachment", t.length);
                            var r = t.map((function(t, a) {
                                var r = 0 === a ? n.composeQuotedMsg : null;
                                return n.sendProductMessage(t, r).then((function() {
                                    (0, f.logProductMessageSent)({
                                        product: t,
                                        catalogSessionId: e.props.sessionId
                                    })
                                }))
                            }));
                            (0, p.qplEndProductMessageSend)(a.all(r)), n.composeQuotedMsg = null, e.end()
                        }, e._shareCatalog = function(t) {
                            var n = e.props.chat,
                                a = (0, m.createCatalogLink)(t.id.user),
                                r = `${s.fbt._("Follow this link to view our catalog on WhatsApp:",null,{hk:"1bmMoC"}).toString()} ${a}`;
                            d.Cmd.pasteChatTextInput(n, r), (0, f.logSendCatalogClick)({
                                catalogOwnerWid: t.id,
                                catalogSessionId: e.props.sessionId
                            }), e.end()
                        }, e._pop = function() {
                            e.pop()
                        }, e._popNone = function() {
                            e.pop("none")
                        }, e
                    }
                    return (0, o.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            this.push((0, v.jsx)(h.default, {
                                onCancel: this._pop,
                                onConfirm: this._sendProducts,
                                onShare: this._shareCatalog
                            }))
                        }
                    }]), n
                }(c.default);
            t.default = g
        },
        17274: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(34575)),
                i = a(n(93913)),
                o = a(n(2205)),
                l = a(n(99842)),
                u = n(78708),
                s = n(65901),
                d = n(96706),
                c = a(n(50177)),
                f = n(2629),
                p = n(56003),
                h = a(n(50507)),
                m = n(52867),
                v = n(51416),
                g = n(3298),
                _ = n(4099),
                x = n(85893),
                C = function(e) {
                    (0, o.default)(n, e);
                    var t = (0, l.default)(n);

                    function n() {
                        var e;
                        (0, r.default)(this, n);
                        for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++) i[o] = arguments[o];
                        return (e = t.call.apply(t, [this].concat(i)))._handleProductCatalog = function() {
                            var t = e.props,
                                n = t.sellerJid,
                                a = t.chat;
                            (0, f.canViewCollections)() && g.QPL.markerStart(_.QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW, {
                                annotations: {
                                    string: {
                                        EntryPoint: "Cart"
                                    }
                                }
                            }), e.push((0, x.jsx)(v.ProductDetailsFlowLoadable, {
                                chat: a,
                                catalogOwnerJid: n
                            }))
                        }, e._handleProductDetail = function(t) {
                            var n = e.props.chat;
                            (0, p.qplStartProductView)("Cart"), e.push((0, x.jsx)(v.ProductDetailsFlowLoadable, {
                                refreshCarousel: !0,
                                chat: n,
                                productInfo: t,
                                onEnd: e._pop
                            }))
                        }, e._end = function() {
                            e.end(!0)
                        }, e._pop = function() {
                            e.pop()
                        }, e
                    }
                    return (0, i.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this,
                                t = this.props,
                                n = t.sellerJid,
                                a = t.chat;
                            this.push((0, x.jsx)(d.DrawerContext.Consumer, {
                                children: function(t) {
                                    var r = (0, m.getProductCatalogContext)(t).entryPoint,
                                        i = e.state.isPushed;
                                    return (0, x.jsx)(u.CartDetailDrawer, {
                                        chat: a,
                                        sellerJid: n,
                                        onProductDetail: e._handleProductDetail,
                                        onProductCatalog: e._handleProductCatalog,
                                        onBack: e._end,
                                        closeDrawerRightOnSend: r === h.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_PRODUCT_LIST_MESSAGE,
                                        isPushed: i
                                    })
                                }
                            })), s.Cmd.existsDrawerLeft((function(e) {
                                e && s.Cmd.closeDrawerLeft()
                            })), s.Cmd.existsDrawerMid((function(e) {
                                e && s.Cmd.closeDrawerMid()
                            }))
                        }
                    }]), n
                }(c.default);
            t.default = C
        },
        47389: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = ee;
            var r = a(n(81109)),
                i = a(n(63038)),
                o = a(n(87757)),
                l = a(n(48926)),
                u = a(n(34575)),
                s = a(n(93913)),
                d = a(n(2205)),
                c = a(n(99842)),
                f = n(15586),
                p = n(73435),
                h = n(48360),
                m = n(67294),
                v = n(26141),
                g = n(72743),
                _ = a(n(20859)),
                x = n(49110),
                C = a(n(4988)),
                y = n(65901),
                b = n(39358),
                S = a(n(65589)),
                j = n(65971),
                k = n(55869),
                E = n(20050),
                w = a(n(53187)),
                T = a(n(18345)),
                I = n(96706),
                P = n(19288),
                M = a(n(7779)),
                O = a(n(62849)),
                A = a(n(50177)),
                L = n(1577),
                D = n(2629),
                N = n(56264),
                R = n(32065),
                F = n(56003),
                B = n(31779),
                U = a(n(57315)),
                G = n(3544),
                H = n(8842),
                W = n(52867),
                V = a(n(1270)),
                z = n(60425),
                q = n(3298),
                K = n(4099),
                Y = n(60649),
                Q = a(n(40290)),
                X = n(92428),
                Z = n(85893),
                J = n(76672).Mirrored(["YES", "NO", "PENDING"]),
                $ = function(e) {
                    (0, d.default)(n, e);
                    var t = (0, c.default)(n);

                    function n() {
                        var e;
                        (0, u.default)(this, n);
                        for (var a = arguments.length, r = new Array(a), i = 0; i < a; i++) r[i] = arguments[i];
                        return (e = t.call.apply(t, [this].concat(r)))._isComplianceFormVisible = !1, e._isProductListVisible = !1, e._blockCartInterstitial = function() {
                            return e.props.mustCompleteCompliance !== J.NO
                        }, e._isCreatingCatalog = function() {
                            return e.props.isCreatingCatalog
                        }, e._showProductList = function(t) {
                            var n = (0, D.canManageCollections)() ? (0, Z.jsx)(C.default, {
                                contact: e.props.contact,
                                onCatalogLinkClick: e._handleCatalogShare,
                                onProductShare: e._handleProductShare,
                                onProductDetail: e._handleEditProduct,
                                onAddProduct: e._handleAddProduct,
                                onRemoveProduct: e._handleRemoveProduct,
                                catalogId: e.props.catalogId,
                                onBack: e._end,
                                onCartClick: e._handleCartClick,
                                businessProfile: null,
                                headerType: P.DRAWER_HEADER_TYPE.LARGE,
                                onCollectionSeeAll: e._handleCollectionSeeAll,
                                canManageCatalog: !0,
                                autoUpdate: !0,
                                onOpenCollections: e._handleOpenCollections,
                                onOpenMerchantDetailsForm: e._handleOpenMerchantDetailsForm,
                                onEditCollection: e._handleEditCollection,
                                onOpenSettings: e._handleOpenSettings,
                                blockCartInterstitialFn: e._blockCartInterstitial,
                                canLogQpl: t
                            }) : (0, Z.jsx)(z.ProductListDrawer, {
                                contact: e.props.contact,
                                onCatalogLinkClick: e._handleCatalogShare,
                                onProductShare: e._handleProductShare,
                                onProductDetail: e._handleEditProduct,
                                onAddProduct: e._handleAddProduct,
                                onRemoveProduct: e._handleRemoveProduct,
                                catalogId: e.props.catalogId,
                                onBack: e._end,
                                onCartClick: e._handleCartClick,
                                businessProfile: null,
                                headerType: P.DRAWER_HEADER_TYPE.LARGE,
                                canManageCatalog: !0,
                                autoUpdate: !0,
                                onOpenSettings: e._handleOpenSettings,
                                blockCartInterstitialFn: e._blockCartInterstitial
                            });
                            e.push(n)
                        }, e._handleOpenMerchantDetailsForm = function() {
                            var t = (0, L.getMeUser)();
                            e.push((0, Z.jsx)(B.MerchantDetailsFormFlowLoadable, {
                                contactId: t,
                                onBack: e.pop
                            }))
                        }, e._handleEditProduct = function(t) {
                            var n = g.CatalogCollection.assertGet(e.props.catalogId);
                            y.Cmd.openDrawerMid((0, Z.jsx)(O.default, {
                                catalog: n,
                                product: t
                            }), "slide-left", void 0, void 0, e.props.context, Y.FocusType.TABBABLE)
                        }, e._handleCartClick = function(t) {
                            (0, Q.default)(t, void 0, e.props.context)
                        }, e._handleCollectionSeeAll = function(t) {
                            e.push((0, Z.jsx)(b.CollectionContentDrawer, {
                                contact: e.props.contact,
                                onProductDetail: e._handleEditProduct,
                                onProductShare: e._handleProductShare,
                                catalogId: e.props.catalogId,
                                onBack: e._pop,
                                onCatalogLinkClick: e._handleCatalogShare,
                                onCartClick: e._handleCartClick,
                                collection: t,
                                canManageCatalog: !0,
                                headerType: P.DRAWER_HEADER_TYPE.LARGE,
                                onEditCollection: e._handleEditCollection
                            }))
                        }, e._handleEditCollection = function(t) {
                            var n = g.CatalogCollection.get(e.props.catalogId);
                            t || (0, R.logCollectionCreateClicked)((0, W.getProductCatalogContext)(e.props.context)), n && e.push((0, Z.jsx)(M.default, {
                                onBack: e._pop,
                                collection: t,
                                catalog: n
                            }))
                        }, e._handleCatalogShare = function(t, n) {
                            y.Cmd.openDrawerMid((0, Z.jsx)(_.default, {
                                onCancel: function() {
                                    y.Cmd.closeDrawerMid()
                                },
                                catalog: t,
                                contact: n,
                                prompt: h.fbt._("Anyone with WhatsApp can follow this link to browse catalog", null, {
                                    hk: "1Lofnu"
                                }),
                                onSend: function() {
                                    return y.Cmd.closeDrawerMid()
                                },
                                centerDrawer: !0
                            }), "slide-left", void 0, void 0, e.props.context, Y.FocusType.TABBABLE)
                        }, e._handleProductShare = function(t) {
                            y.Cmd.openDrawerMid((0, Z.jsx)(V.default, {
                                onCancel: function() {
                                    y.Cmd.closeDrawerMid()
                                },
                                product: t,
                                prompt: h.fbt._("Anyone with WhatsApp can follow this link to browse catalog", null, {
                                    hk: "1Lofnu"
                                }),
                                onSend: function() {
                                    return y.Cmd.closeDrawerMid()
                                },
                                centerDrawer: !0,
                                sendProductMsg: !0
                            }), "slide-left", void 0, void 0, e.props.context, Y.FocusType.TABBABLE)
                        }, e._handleOpenCollections = function() {
                            q.QPL.markerStart(K.QuickLogMarkerId.WHATSAPP_COLLECTIONS_MANAGEMENT_VIEW), e.push((0, Z.jsx)(S.default, {
                                onBack: e._pop,
                                editCollection: e.editCollection,
                                onSeeCollection: e._handleSeeCollection
                            })), (0, R.logCollectionMenuClicked)((0, W.getProductCatalogContext)(e.props.context))
                        }, e._handleSeeCollection = function(t) {
                            (0, F.qplStartCollectionViewAll)("Collection"), e.push((0, Z.jsx)(ee, {
                                catalogId: e.props.catalogId,
                                collection: t,
                                product: null
                            }))
                        }, e.editCollection = function(t) {
                            var n = g.CatalogCollection.get(e.props.catalogId);
                            t || (0, R.logCollectionCreateClicked)((0, W.getProductCatalogContext)(e.props.context)), n && e.push((0, Z.jsx)(M.default, {
                                onBack: e._pop,
                                collection: t,
                                catalog: n
                            }))
                        }, e._handleOpenSettings = function() {
                            e.push((0, Z.jsx)(x.CatalogSettingsDrawer, {
                                onBack: e._pop
                            }))
                        }, e._handleAddProduct = function() {
                            return e.props.onAddProduct()
                        }, e._handleAddFirstProduct = function() {
                            return e.props.onAddFirstProduct()
                        }, e._handleRemoveProduct = function() {
                            return e.props.onRemoveProduct()
                        }, e._handleAddProductFromBusinessDetails = (0, l.default)(o.default.mark((function t() {
                            return o.default.wrap((function(t) {
                                for (;;) switch (t.prev = t.next) {
                                    case 0:
                                        return e._pop(), e._isComplianceFormVisible = !1, t.next = 4, e.props.onComplianceFormClosed();
                                    case 4:
                                        g.CatalogCollection.get(e.props.catalogId) ? e._handleAddProduct() : e._handleAddFirstProduct();
                                    case 6:
                                    case "end":
                                        return t.stop()
                                }
                            }), t)
                        }))), e._pop = function() {
                            e.pop(), y.Cmd.closeDrawerMid()
                        }, e._end = function() {
                            e.end(!0), y.Cmd.closeDrawerMid()
                        }, e
                    }
                    return (0, s.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            null != this.props.collection ? this._handleCollectionSeeAll(this.props.collection) : null != this.props.catalog ? (this._showProductList(!0), null != this.props.product && this._handleEditProduct(this.props.product)) : (q.QPL.markerDrop(K.QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW), this._showNewCatalog())
                        }
                    }, {
                        key: "componentDidUpdate",
                        value: function() {
                            this.props.showComplianceForm && !this._isComplianceFormVisible ? (this._isComplianceFormVisible = !0, this._showComplianceForm()) : this.props.showProductList && !this._isProductListVisible && (this._isProductListVisible = !0, this._showProductList(!1))
                        }
                    }, {
                        key: "_showNewCatalog",
                        value: function() {
                            this.push((0, Z.jsx)(U.default, {
                                isCreatingCatalogFn: this._isCreatingCatalog,
                                onBack: this._pop,
                                onAddProductClick: this._handleAddFirstProduct
                            }))
                        }
                    }, {
                        key: "_showComplianceForm",
                        value: function() {
                            var e = this;
                            this.push((0, Z.jsx)(B.MerchantDetailsFormFlowLoadable, {
                                contactId: this.props.contact.id,
                                enableCatalogCreationContext: !0,
                                enableBusinessProfileAddress: !0,
                                onAddProduct: this._handleAddProductFromBusinessDetails,
                                onBack: function() {
                                    e._pop(), e._isComplianceFormVisible = !1, e.props.onComplianceFormClosed()
                                },
                                onUnmount: function() {
                                    e._isComplianceFormVisible = !1, e.props.onComplianceFormClosed()
                                }
                            }))
                        }
                    }]), n
                }(A.default);

            function ee(e) {
                var t = (0, m.useContext)(I.DrawerContext),
                    n = (0, m.useState)(J.PENDING),
                    a = (0, i.default)(n, 2),
                    u = a[0],
                    s = a[1],
                    d = E.ContactCollection.get(e.catalogId),
                    c = (0, m.useState)(!1),
                    _ = (0, i.default)(c, 2),
                    x = _[0],
                    C = _[1],
                    b = (0, m.useState)(!1),
                    S = (0, i.default)(b, 2),
                    M = S[0],
                    A = S[1],
                    L = (0, m.useState)(!1),
                    R = (0, i.default)(L, 2),
                    F = R[0],
                    B = R[1],
                    U = (0, m.useState)(!1),
                    V = (0, i.default)(U, 2),
                    z = V[0],
                    Q = V[1],
                    ee = (0, m.useCallback)((function() {
                        return g.CatalogCollection.get(e.catalogId)
                    }), [e.catalogId]),
                    te = (0, m.useCallback)((0, l.default)(o.default.mark((function e() {
                        var t, n, a, r;
                        return o.default.wrap((function(e) {
                            for (;;) switch (e.prev = e.next) {
                                case 0:
                                    if (d) {
                                        e.next = 3;
                                        break
                                    }
                                    return __LOG__(4, void 0, new Error, !0)`Cannot update compliance for non existing user`, SEND_LOGS("catalog-management-flow-compliance-no-contact-error"), e.abrupt("return");
                                case 3:
                                    if (s(J.PENDING), n = null === (t = v.BusinessProfileCollection.get(d.id)) || void 0 === t ? void 0 : t.address, a = J.NO, r = ee(), e.t0 = (0, D.canSeeECommerceComplianceIndiaHardEnforcementBusinessJourney)(d.id.user) && (!r || !r.productCollection.length), !e.t0) {
                                        e.next = 16;
                                        break
                                    }
                                    return e.t1 = k.isBusinessCompliant, e.t2 = n, e.next = 13, (0, j.getLegalEntityDetails)(d.id);
                                case 13:
                                    e.t3 = e.sent, e.t4 = d.id, e.t0 = !(0, e.t1)(e.t2, e.t3, e.t4);
                                case 16:
                                    if (!e.t0) {
                                        e.next = 18;
                                        break
                                    }
                                    a = J.YES;
                                case 18:
                                    s(a);
                                case 19:
                                case "end":
                                    return e.stop()
                            }
                        }), e)
                    }))), [d, ee]),
                    ne = (0, m.useCallback)((function() {
                        var e = ee();
                        if (u === J.YES) C(!0);
                        else if (u === J.PENDING) B(!0);
                        else if (e) {
                            var n = new G.Product({
                                catalogWid: e.id,
                                additionalImageCdnUrl: []
                            });
                            y.Cmd.openDrawerMid((0, Z.jsx)(O.default, {
                                catalog: e,
                                product: n,
                                onCreate: function(n) {
                                    y.Cmd.openDrawerMid((0, Z.jsx)(O.default, {
                                        catalog: e,
                                        product: n
                                    }), "slide-left", void 0, void 0, t, Y.FocusType.TABBABLE)
                                },
                                newProduct: !0
                            }), "slide-left", void 0, void 0, t, Y.FocusType.TABBABLE)
                        }
                    }), [u, t, ee]),
                    ae = (0, m.useCallback)((0, l.default)(o.default.mark((function n() {
                        var a, r;
                        return o.default.wrap((function(n) {
                            for (;;) switch (n.prev = n.next) {
                                case 0:
                                    return Q(!0), a = (0, W.getProductCatalogContext)(t), (0, N.logCreateProductCatalogClick)(a), q.QPL.markerStart(K.QuickLogMarkerId.WHATSAPP_CATALOG_CREATE), r = !0, n.prev = 5, n.next = 8, (0, H.createCatalog)();
                                case 8:
                                    return (0, N.logCreateProductCatalogSuccess)(a), r = !1, q.QPL.markerEnd(K.QuickLogMarkerId.WHATSAPP_CATALOG_CREATE, q.QuickLogActionType.SUCCESS), n.prev = 11, n.next = 14, g.CatalogCollection.find(e.catalogId);
                                case 14:
                                    A(!0), ne(), n.next = 21;
                                    break;
                                case 18:
                                    n.prev = 18, n.t0 = n.catch(11), (0, f.filteredCatch)(p.ServerStatusCodeError, (function() {
                                        __LOG__(3)`Failed to fetch product catalog from server`
                                    }));
                                case 21:
                                    n.next = 26;
                                    break;
                                case 23:
                                    n.prev = 23, n.t1 = n.catch(5), (0, f.filteredCatch)(p.ServerStatusCodeError, (function(e) {
                                        (0, N.logCreateProductCatalogFailed)(a, e.statusCode), y.Cmd.openToast((0, Z.jsx)(X.Toast, {
                                            msg: h.fbt._("Catalog already created.", null, {
                                                hk: "1s2DFD"
                                            }),
                                            id: (0, X.genId)("err_catalog_already_created")
                                        })), A(!0)
                                    }));
                                case 26:
                                    return n.prev = 26, r && q.QPL.markerEnd(K.QuickLogMarkerId.WHATSAPP_CATALOG_CREATE, q.QuickLogActionType.FAIL), n.finish(26);
                                case 29:
                                    Q(!1);
                                case 30:
                                case "end":
                                    return n.stop()
                            }
                        }), n, null, [
                            [5, 23, 26, 29],
                            [11, 18]
                        ])
                    }))), [e.catalogId, t, ne]),
                    re = (0, m.useCallback)((0, l.default)(o.default.mark((function e() {
                        return o.default.wrap((function(e) {
                            for (;;) switch (e.prev = e.next) {
                                case 0:
                                    if (u !== J.YES) {
                                        e.next = 4;
                                        break
                                    }
                                    C(!0), e.next = 10;
                                    break;
                                case 4:
                                    if (u !== J.PENDING) {
                                        e.next = 8;
                                        break
                                    }
                                    B(!0), e.next = 10;
                                    break;
                                case 8:
                                    return e.next = 10, ae();
                                case 10:
                                case "end":
                                    return e.stop()
                            }
                        }), e)
                    }))), [u, ae]),
                    ie = (0, m.useCallback)((0, l.default)(o.default.mark((function e() {
                        return o.default.wrap((function(e) {
                            for (;;) switch (e.prev = e.next) {
                                case 0:
                                    return e.next = 2, te();
                                case 2:
                                case "end":
                                    return e.stop()
                            }
                        }), e)
                    }))), [te]);
                return (0, m.useEffect)((function() {
                    te()
                }), []), (0, m.useEffect)((function() {
                    var e = ee();
                    F && u !== J.PENDING && (B(!1), u === J.YES ? C(!0) : e ? ne() : ae()), u === J.YES && y.Cmd.closeDrawerMid()
                }), [F, u, ee, ae, ne]), d ? F ? (0, Z.jsxs)(w.default, {
                    children: [(0, Z.jsx)(P.DrawerHeader, {
                        title: h.fbt._("Add new item", null, {
                            hk: "2Tc6p3"
                        }),
                        onCancel: function() {
                            C(!1), B(!1)
                        },
                        type: P.DRAWER_HEADER_TYPE.LARGE
                    }), (0, Z.jsx)(T.default, {
                        theme: "center-content",
                        children: (0, Z.jsx)(j.ComplianceInfoLoading, {})
                    })]
                }) : (0, Z.jsx)(I.DrawerContext.Consumer, {
                    children: function(t) {
                        return (0, Z.jsx)($, (0, r.default)({
                            contact: d,
                            context: t,
                            mustCompleteCompliance: u,
                            showComplianceForm: x,
                            showProductList: M,
                            isCreatingCatalog: z,
                            onAddProduct: ne,
                            onAddFirstProduct: re,
                            onRemoveProduct: ie,
                            onComplianceFormClosed: function() {
                                return C(!1), te()
                            }
                        }, e))
                    }
                }) : null
            }
        },
        62849: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(34575)),
                i = a(n(93913)),
                o = a(n(2205)),
                l = a(n(99842)),
                u = n(48360),
                s = n(65901),
                d = n(5839),
                c = a(n(50177)),
                f = n(56003),
                p = n(70047),
                h = a(n(1270)),
                m = n(85893),
                v = function(e) {
                    (0, o.default)(n, e);
                    var t = (0, l.default)(n);

                    function n() {
                        var e;
                        (0, r.default)(this, n);
                        for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++) i[o] = arguments[o];
                        return (e = t.call.apply(t, [this].concat(i)))._handleEditSuccess = function(t) {
                            (0, f.qplStartProductView)("EditProduct"), e._showInfoDrawer(t)
                        }, e._showInfoDrawer = function(t) {
                            var n = e.props.catalog;
                            e.push((0, m.jsx)(p.ProductInfoDrawer, {
                                catalog: n,
                                product: t,
                                onCancel: e.end,
                                onEditProduct: e._handleProductEdit,
                                onShareProduct: e._handleShareProduct
                            }))
                        }, e._handleShareProduct = function(t) {
                            e.push((0, m.jsx)(h.default, {
                                onBack: e._pop,
                                product: t,
                                prompt: (0, m.jsx)("div", {
                                    children: u.fbt._("Anyone with WhatsApp can follow this link to browse catalog", null, {
                                        hk: "1Lofnu"
                                    })
                                }),
                                onSend: function() {
                                    return s.Cmd.closeDrawerMid()
                                },
                                centerDrawer: !0,
                                sendProductMsg: !0
                            }))
                        }, e._handleProductEdit = function(t) {
                            e.push((0, m.jsx)(d.EditProductDrawer, {
                                catalog: e.props.catalog,
                                onBack: e._pop,
                                onEditSuccess: e._handleEditSuccess,
                                product: t,
                                onDelete: e._handleDelete
                            }))
                        }, e._handleDelete = function(t) {
                            var n, a;
                            e.props.product.id === t.id && s.Cmd.closeDrawerMid(), null === (n = (a = e.props).onDelete) || void 0 === n || n.call(a)
                        }, e._pop = function() {
                            e.pop()
                        }, e._end = function() {
                            e.end(!0)
                        }, e
                    }
                    return (0, i.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this,
                                t = this.props,
                                n = t.catalog,
                                a = t.product,
                                r = t.onCreate,
                                i = t.newProduct;
                            n.productCollection.on("remove", this._handleDelete), i ? this.push((0, m.jsx)(d.EditProductDrawer, {
                                onCancel: this._pop,
                                onEditSuccess: function(t) {
                                    return r ? r(t) : e._handleEditSuccess(a)
                                },
                                catalog: n,
                                product: a,
                                newProduct: !0
                            })) : this._showInfoDrawer(a)
                        }
                    }, {
                        key: "componentWillUnmount",
                        value: function() {
                            this.props.catalog.productCollection.off("remove", this._handleDelete)
                        }
                    }]), n
                }(c.default);
            t.default = v
        },
        88208: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(34575)),
                i = a(n(93913)),
                o = a(n(2205)),
                l = a(n(99842)),
                u = a(n(3208)),
                s = a(n(94362)),
                d = n(65901),
                c = a(n(86777)),
                f = a(n(50177)),
                p = a(n(9844)),
                h = n(14093),
                m = a(n(73012)),
                v = a(n(89187)),
                g = n(35558),
                _ = n(85893),
                x = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, l.default)(a);

                    function a() {
                        var e;
                        (0, r.default)(this, a);
                        for (var i = arguments.length, o = new Array(i), l = 0; l < i; l++) o[l] = arguments[l];
                        return (e = t.call.apply(t, [this].concat(o)))._handleDeleteLabel = function(e) {
                            e.forEach((function(e) {
                                var t = e.id;
                                h.LabelCollection.deleteLabel(t)
                            }))
                        }, e._handleManageLabels = function(e) {
                            d.Cmd.openModal((0, _.jsx)(g.ManageLabelFlowLoadable, {
                                modelsToUpdate: e
                            }))
                        }, e._handleEditLabel = function(t) {
                            d.Cmd.openModal((0, _.jsx)(s.default, {
                                labelId: t,
                                onUpdateLabel: e._handleUpdateLabel,
                                onCancel: d.Cmd.closeModal()
                            }))
                        }, e._handleLabelClick = function(t) {
                            var a = n(90882).Z;
                            e.push((0, _.jsx)(a, {
                                openLabelColorDrawer: e.openLabelColorDrawer,
                                labelId: t,
                                onManageLabels: e._handleManageLabels,
                                onClose: e._pop,
                                onRemoveLabel: e._handleRemoveLabel,
                                onEditLabel: e._handleEditLabel
                            }))
                        }, e.openAddLabel = function() {
                            h.LabelCollection.toArray().length >= u.default.MAX_SMB_LABEL_COUNT ? d.Cmd.openModal((0, _.jsx)(c.default, {
                                okText: p.default.t(682),
                                onOK: function() {
                                    return d.Cmd.closeModal()
                                },
                                children: p.default.t(1033, {
                                    count: u.default.MAX_SMB_LABEL_COUNT
                                })
                            })) : d.Cmd.openModal((0, _.jsx)(s.default, {
                                onAddLabel: e._handleAddLabel,
                                onCancel: d.Cmd.closeModal()
                            }))
                        }, e._handleUpdateLabel = function(e, t) {
                            h.LabelCollection.updateLabel(e, t)
                        }, e.openLabelColorDrawer = function(t, n) {
                            e.push((0, _.jsx)(m.default, {
                                labelId: t,
                                onClose: e._pop,
                                onUpdateColor: e._handleUpdateLabel,
                                currentColor: n
                            }))
                        }, e._pop = function() {
                            e.pop()
                        }, e
                    }
                    return (0, i.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            this.push((0, _.jsx)(v.default, {
                                onDeleteLabel: this._handleDeleteLabel,
                                onLabelClick: this._handleLabelClick,
                                onClose: this._pop,
                                openAddLabel: this.openAddLabel
                            }))
                        }
                    }, {
                        key: "_handleAddLabel",
                        value: function(e, t) {
                            h.LabelCollection.addNewLabel(e, t)
                        }
                    }, {
                        key: "_handleRemoveLabel",
                        value: function(e, t) {
                            h.LabelCollection.addOrRemoveLabels([{
                                id: e,
                                type: "remove"
                            }], t)
                        }
                    }]), a
                }(f.default);
            t.default = x
        },
        92044: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(34575)),
                i = a(n(93913)),
                o = a(n(2205)),
                l = a(n(99842)),
                u = a(n(3208)),
                s = a(n(94362)),
                d = n(29656),
                c = n(65901),
                f = a(n(86777)),
                p = a(n(50177)),
                h = a(n(9844)),
                m = n(14093),
                v = n(72104),
                g = a(n(42724)),
                _ = a(n(50507)),
                x = n(85893),
                C = function(e) {
                    (0, o.default)(n, e);
                    var t = (0, l.default)(n);

                    function n() {
                        var e;
                        (0, r.default)(this, n);
                        for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++) i[o] = arguments[o];
                        return (e = t.call.apply(t, [this].concat(i)))._newlyAddedLabels = new Set, e._logWamEvent = function() {
                            var t = e.props.modelsToUpdate.length;
                            e._labelViewType = 1 === t ? e.props.modelsToUpdate[0] instanceof d.Chat ? _.default.LABEL_TARGETS.LABEL_CHAT_DIALOG : _.default.LABEL_TARGETS.LABEL_MESSAGE_DIALOG : _.default.LABEL_TARGETS.LABEL_COMBINED_DIALOG, (0, v.logLabelOperationEvent)(_.default.LABEL_OPERATIONS.VIEW, t, e._labelViewType)
                        }, e._handleLabelUpdateComplete = function() {
                            e.props.onLabelUpdateComplete && e.props.onLabelUpdateComplete(), e._pop()
                        }, e._handleAddLabel = function(t, n) {
                            m.LabelCollection.addNewLabel(t, n).then((function() {
                                e._newlyAddedLabels.add(t)
                            }))
                        }, e.shouldScrollIntoViewAndSelect = function(t) {
                            return e._newlyAddedLabels.has(t) ? (e._newlyAddedLabels.delete(t), {
                                shouldScrollIntoView: !0,
                                shouldSelect: !0
                            }) : {
                                shouldScrollIntoView: !1,
                                shouldSelect: !1
                            }
                        }, e._handleAddNewLabel = function() {
                            m.LabelCollection.toArray().length >= u.default.MAX_SMB_LABEL_COUNT ? c.Cmd.openModal((0, x.jsx)(f.default, {
                                okText: h.default.t(682),
                                onOK: function() {
                                    return c.Cmd.closeModal()
                                },
                                children: h.default.t(1033, {
                                    count: u.default.MAX_SMB_LABEL_COUNT
                                })
                            })) : e.push((0, x.jsx)(s.default, {
                                onAddLabel: e._handleAddLabel,
                                onCancel: e._pop
                            }))
                        }, e._popAndLogEvent = function() {
                            e._labelViewType && (0, v.logLabelOperationEvent)(_.default.LABEL_OPERATIONS.CLICK_NEGATIVE, e.props.modelsToUpdate.length, e._labelViewType), e.pop()
                        }, e._pop = function() {
                            e.pop()
                        }, e
                    }
                    return (0, i.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            this._logWamEvent(), this.push((0, x.jsx)(g.default, {
                                shouldScrollIntoViewAndSelect: this.shouldScrollIntoViewAndSelect,
                                onAddNewLabel: this._handleAddNewLabel,
                                onLabelUpdateComplete: this._handleLabelUpdateComplete,
                                onCancel: this._popAndLogEvent,
                                modelsToUpdate: this.props.modelsToUpdate
                            }))
                        }
                    }]), n
                }(p.default);
            t.default = C, C.defaultProps = {
                removeTopDrawer: !0,
                pushTransition: "none",
                popTransition: "none"
            }
        },
        61834: (e, t, n) => {
            "use strict";
            var a = n(21314).default,
                r = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(n(81109)),
                o = r(n(59713)),
                l = r(n(87757)),
                u = r(n(48926)),
                s = r(n(63038)),
                d = r(n(34575)),
                c = r(n(93913)),
                f = r(n(2205)),
                p = r(n(99842)),
                h = n(78672),
                m = n(240),
                v = n(48360),
                g = n(67294),
                _ = (r(n(56720)), n(88768)),
                x = r(n(69542)),
                C = n(26141),
                y = n(16419),
                b = n(65901),
                S = n(48953),
                j = n(65971),
                k = n(55869),
                E = r(n(53187)),
                w = r(n(18345)),
                T = n(19288),
                I = r(n(46821)),
                P = r(n(76722)),
                M = r(n(50177)),
                O = n(1577),
                A = n(2629),
                L = n(58771),
                D = n(22552),
                N = n(68544),
                R = n(85893),
                F = {
                    complianceInfoHelpCenterBanner: {
                        color: "hp667wtd",
                        paddingTop: "nlnf8xo7",
                        paddingEnd: "bcymb0na",
                        paddingBottom: "r219jyu0",
                        paddingStart: "e8k79tju"
                    },
                    formContainer: {
                        paddingTop: "a4bywxmn",
                        paddingEnd: "bcymb0na",
                        paddingBottom: "ekpn4oxx",
                        paddingStart: "e8k79tju",
                        marginBottom: "brac1wpa"
                    },
                    formTitle: {
                        paddingTop: "i5tg98hk",
                        paddingEnd: "f9ovudaz",
                        paddingBottom: "przvwfww",
                        paddingStart: "gx1rr48f",
                        marginBottom: "oqp0d33z"
                    },
                    formTitleWithSubtitle: {
                        paddingTop: "i5tg98hk",
                        paddingEnd: "f9ovudaz",
                        paddingBottom: "przvwfww",
                        paddingStart: "gx1rr48f",
                        marginBottom: "inww9tbj"
                    },
                    subtitle: {
                        color: "hp667wtd",
                        marginBottom: "oqp0d33z"
                    },
                    containingBlock: {
                        transform: "cgi16xlc"
                    }
                },
                B = function(e) {
                    (0, f.default)(n, e);
                    var t = (0, p.default)(n);

                    function n() {
                        return (0, d.default)(this, n), t.apply(this, arguments)
                    }
                    return (0, c.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this;
                            this.push((0, R.jsx)(K, {
                                contactId: this.props.contactId,
                                enableCatalogCreationContext: this.props.enableCatalogCreationContext,
                                enableBusinessProfileAddress: this.props.enableBusinessProfileAddress,
                                onBack: function() {
                                    e.props.onBack()
                                },
                                onAddProduct: this.props.onAddProduct
                            }))
                        }
                    }, {
                        key: "componentWillUnmount",
                        value: function() {
                            var e, t;
                            null === (e = (t = this.props).onUnmount) || void 0 === e || e.call(t)
                        }
                    }]), n
                }(M.default);
            t.default = B;
            var U = function(e) {
                    return e ? F.formTitleWithSubtitle : F.formTitle
                },
                G = function() {
                    return v.fbt._("Add a legal name of business", null, {
                        hk: "1Dgk4f"
                    })
                },
                H = function() {
                    return v.fbt._("Add a business address", null, {
                        hk: "2x7w3h"
                    })
                },
                W = function(e) {
                    return e ? v.fbt._("Incorrect email address format", null, {
                        hk: "1KuwvT"
                    }) : v.fbt._("Add an email address", null, {
                        hk: "KeJaU"
                    })
                },
                V = function() {
                    return v.fbt._("Add a grievance officer name", null, {
                        hk: "29OUSc"
                    })
                },
                z = function(e) {
                    return !e || (0, h.isPotentiallyPhoneNumber)(e)
                },
                q = (0, O.getMeUser)(),
                K = (0, g.forwardRef)((function(e, t) {
                    var n = e.contactId,
                        r = e.onBack,
                        d = e.enableCatalogCreationContext,
                        c = (e.enableBusinessProfileAddress, e.onAddProduct),
                        f = (0, g.useState)({}),
                        p = (0, s.default)(f, 2),
                        h = p[0],
                        _ = p[1],
                        M = (0, g.useState)({}),
                        O = (0, s.default)(M, 2),
                        L = O[0],
                        N = O[1],
                        B = (0, g.useState)(!0),
                        K = (0, s.default)(B, 2),
                        Q = K[0],
                        Z = K[1],
                        J = (0, g.useState)(!1),
                        $ = (0, s.default)(J, 2),
                        ee = $[0],
                        te = $[1],
                        ne = (0, g.useState)(),
                        ae = (0, s.default)(ne, 2),
                        re = ae[0],
                        ie = ae[1],
                        oe = (0, g.useState)(!1),
                        le = (0, s.default)(oe, 2),
                        ue = le[0],
                        se = le[1];
                    (0, g.useEffect)((function() {
                        var e = !0;
                        return (0, u.default)(l.default.mark((function t() {
                                var r, i, o, u;
                                return l.default.wrap((function(t) {
                                    for (;;) switch (t.prev = t.next) {
                                        case 0:
                                            return t.next = 2, a.all([(0, j.getLegalEntityDetails)(n), C.BusinessProfileCollection.find(n)]);
                                        case 2:
                                            r = t.sent, i = (0, s.default)(r, 2), o = i[0], u = i[1], e && (_(o), ie(u.serialize()), Z(!1));
                                        case 7:
                                        case "end":
                                            return t.stop()
                                    }
                                }), t)
                            })))(),
                            function() {
                                e = !1
                            }
                    }), [n]), (0, g.useEffect)((function() {
                        se(!Object.keys(L).length && (0, k.isBusinessCompliant)(null == re ? void 0 : re.address, h, n))
                    }), [h, L, null == re ? void 0 : re.address, n]);
                    var de = function() {
                            var e = (0, u.default)(l.default.mark((function e(t) {
                                var n, a;
                                return l.default.wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                        case 0:
                                            return e.next = 2, (0, y.editBusinessCompliance)(t);
                                        case 2:
                                            return e.next = 4, C.BusinessProfileCollection.update(q, {
                                                getMerchantCompliance: !0
                                            });
                                        case 4:
                                            return n = e.sent, a = Array.isArray(n) ? n[0] : n, e.abrupt("return", a.serialize().legalEntityDetails);
                                        case 7:
                                        case "end":
                                            return e.stop()
                                    }
                                }), e)
                            })));
                            return function() {
                                return e.apply(this, arguments)
                            }
                        }(),
                        ce = (0, g.useCallback)(function() {
                            var e = (0, u.default)(l.default.mark((function e(t, n) {
                                var a, r, u;
                                return l.default.wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                        case 0:
                                            return a = {}, (0, o.default)(a, t, n), (0, o.default)(a, "isRegistered", null == h ? void 0 : h.isRegistered), r = a, _((0, i.default)((0, i.default)({}, h), r)), e.next = 4, de(r);
                                        case 4:
                                            u = e.sent, _(u);
                                        case 6:
                                        case "end":
                                            return e.stop()
                                    }
                                }), e)
                            })));
                            return function() {
                                return e.apply(this, arguments)
                            }
                        }(), [h]),
                        fe = (0, g.useCallback)((function(e, t) {
                            N((function(n) {
                                return (0, i.default)((0, i.default)({}, n), {}, (0, o.default)({}, `${e}.${t}`, !0))
                            }))
                        }), []),
                        pe = (0, g.useCallback)((function(e, t) {
                            N((function(n) {
                                var a = (0, i.default)({}, n);
                                return delete a[`${e}.${t}`], a
                            }))
                        }), []),
                        he = (0, g.useCallback)(function() {
                            var e = (0, u.default)(l.default.mark((function e(t, n, a) {
                                var r, u, s;
                                return l.default.wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                        case 0:
                                            return r = {}, (0, o.default)(r, t, (0, o.default)({}, n, a)), (0, o.default)(r, "isRegistered", null == h ? void 0 : h.isRegistered), u = r, _((0, i.default)((0, i.default)({}, h), {}, (0, o.default)({}, t, (0, i.default)((0, i.default)({}, null == h ? void 0 : h[t]), u[t])))), e.prev = 2, fe(t, n), e.next = 6, de(u);
                                        case 6:
                                            s = e.sent, _(s), pe(t, n), e.next = 14;
                                            break;
                                        case 11:
                                            throw e.prev = 11, e.t0 = e.catch(2), new Error(e.t0);
                                        case 14:
                                        case "end":
                                            return e.stop()
                                    }
                                }), e, null, [
                                    [2, 11]
                                ])
                            })));
                            return function() {
                                return e.apply(this, arguments)
                            }
                        }(), [h, fe, pe]),
                        me = (0, g.useCallback)(function() {
                            var e = (0, u.default)(l.default.mark((function e(t) {
                                return l.default.wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                        case 0:
                                            return ie(t), e.next = 3, C.BusinessProfileCollection.update(q);
                                        case 3:
                                        case "end":
                                            return e.stop()
                                    }
                                }), e)
                            })));
                            return function() {
                                return e.apply(this, arguments)
                            }
                        }(), []),
                        ve = (0, g.useCallback)(function() {
                            var e = (0, u.default)(l.default.mark((function e(t, a) {
                                return l.default.wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                        case 0:
                                            return e.t0 = _, e.next = 3, (0, j.getLegalEntityDetails)(n);
                                        case 3:
                                            e.t1 = e.sent, (0, e.t0)(e.t1), pe(t, a);
                                        case 6:
                                        case "end":
                                            return e.stop()
                                    }
                                }), e)
                            })));
                            return function() {
                                return e.apply(this, arguments)
                            }
                        }(), [n, pe]),
                        ge = (0, g.useCallback)(function() {
                            var e = (0, u.default)(l.default.mark((function e(t, n, a) {
                                var r, i;
                                return l.default.wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                        case 0:
                                            if (!t && !n) {
                                                e.next = 8;
                                                break
                                            }
                                            return r = {
                                                entityType: t,
                                                entityTypeCustom: n,
                                                isRegistered: a
                                            }, te(!0), e.next = 5, de(r);
                                        case 5:
                                            i = e.sent, te(!1), _(i);
                                        case 8:
                                        case "end":
                                            return e.stop()
                                    }
                                }), e)
                            })));
                            return function() {
                                return e.apply(this, arguments)
                            }
                        }(), []),
                        _e = h || {},
                        xe = _e.entityName,
                        Ce = _e.customerCareDetails,
                        ye = _e.grievanceOfficerDetails,
                        be = (0, g.useMemo)((function() {
                            return (0, k.getEntityTypeText)(h)
                        }), [h]),
                        Se = (0, g.useCallback)((function(e) {
                            return (0, k.existsField)(e, n)
                        }), [n]),
                        je = (0, g.useRef)(null),
                        ke = (0, A.canSeeECommerceComplianceIndiaHardEnforcementBusinessJourney)(q.user);
                    return (0, R.jsx)("div", {
                        ref: t,
                        children: (0, R.jsxs)(E.default, {
                            xstyle: F.containingBlock,
                            children: [(0, R.jsx)(T.DrawerHeader, {
                                title: v.fbt._("Business details", null, {
                                    hk: "m9xzp"
                                }),
                                onBack: r,
                                type: T.DRAWER_HEADER_TYPE.LARGE
                            }), (0, R.jsx)(w.default, {
                                theme: Q ? "center-content" : void 0,
                                ref: je,
                                children: Q ? (0, R.jsx)(j.ComplianceInfoLoading, {}) : (0, R.jsxs)(R.Fragment, {
                                    children: [(0, R.jsx)(j.ComplianceInfoHelpCenterBanner, {
                                        xstyle: F.complianceInfoHelpCenterBanner
                                    }), (0, R.jsxs)(I.default, {
                                        titleXStyle: F.formTitle,
                                        xstyle: [F.formContainer],
                                        children: [(0, R.jsx)(Y, {
                                            value: xe,
                                            maxLength: S.COMPLIANCE_INFO_LENGTH.ENTITY_NAME,
                                            placeholder: v.fbt._("Legal Name of Business", null, {
                                                hk: "2s9jD"
                                            }),
                                            icon: "info",
                                            validate: Se,
                                            errorFn: G,
                                            onSave: function(e) {
                                                return ce("entityName", e)
                                            }
                                        }), (0, R.jsx)(Y, {
                                            value: be,
                                            placeholder: v.fbt._("Business Type", null, {
                                                hk: "48J73B"
                                            }),
                                            icon: "account-balance",
                                            onFocus: function() {
                                                return b.Cmd.showMerchantDetailsEntityTypePopup(h, ge)
                                            },
                                            isLoading: ee
                                        }), ke ? (0, R.jsx)(X, {
                                            rawBusinessProfile: re,
                                            validate: Se,
                                            onAfterSave: me,
                                            errorFn: H
                                        }) : null]
                                    }), (0, R.jsxs)(I.default, {
                                        title: v.fbt._("Customer Care Information", null, {
                                            hk: "qlYos"
                                        }),
                                        titleXStyle: U(ke),
                                        xstyle: [F.formContainer],
                                        children: [ke ? (0, R.jsx)(D.TextDiv, {
                                            xstyle: F.subtitle,
                                            children: v.fbt._("Provide at least one phone number and email address", null, {
                                                hk: "IKXYK"
                                            })
                                        }) : null, (0, R.jsx)(Y, {
                                            value: null == Ce ? void 0 : Ce.mobileNumber,
                                            maxLength: S.COMPLIANCE_INFO_LENGTH.MOBILE_NUMBER,
                                            placeholder: v.fbt._("Mobile Phone Number", null, {
                                                hk: "PMTTg"
                                            }),
                                            icon: "phone",
                                            validate: function(e) {
                                                return (0, k.existsCustomerCareDetailsContact)(Ce, n, "mobileNumber", e) && z(e)
                                            },
                                            onSave: function(e) {
                                                return he("customerCareDetails", "mobileNumber", e)
                                            },
                                            onCancel: function() {
                                                return ve("customerCareDetails", "mobileNumber")
                                            },
                                            onError: function(e) {
                                                return (0, j.handleCustomerCareDetailsError)(Ce, n, "mobileNumber", e)
                                            },
                                            errorFn: function(e) {
                                                return (0, k.getCustomerCareDetailsError)(Ce, "mobileNumber", e, v.fbt._("Incorrect phone number format", null, {
                                                    hk: "3lFQ1f"
                                                }), n)
                                            }
                                        }), (0, R.jsx)(Y, {
                                            value: null == Ce ? void 0 : Ce.landlineNumber,
                                            maxLength: S.COMPLIANCE_INFO_LENGTH.LANDLINE_NUMBER,
                                            placeholder: v.fbt._("Landline Phone Number", null, {
                                                hk: "tXYaf"
                                            }),
                                            icon: "phone",
                                            validate: function(e) {
                                                return (0, k.existsCustomerCareDetailsContact)(Ce, n, "landlineNumber", e) && z(e)
                                            },
                                            onSave: function(e) {
                                                return he("customerCareDetails", "landlineNumber", e)
                                            },
                                            onCancel: function() {
                                                return ve("customerCareDetails", "landlineNumber")
                                            },
                                            onError: function(e) {
                                                return (0, j.handleCustomerCareDetailsError)(Ce, n, "landlineNumber", e)
                                            },
                                            errorFn: function(e) {
                                                return (0, k.getCustomerCareDetailsError)(Ce, "landlineNumber", e, v.fbt._("Incorrect landline phone number format", null, {
                                                    hk: "4zXlsw"
                                                }), n)
                                            }
                                        }), (0, R.jsx)(Y, {
                                            value: null == Ce ? void 0 : Ce.email,
                                            maxLength: S.COMPLIANCE_INFO_LENGTH.EMAIL,
                                            placeholder: v.fbt._("Email Address", null, {
                                                hk: "2jYxR1"
                                            }),
                                            icon: "business-email",
                                            validate: function(e) {
                                                return Se(e) && (0, m.validateEmail)(e)
                                            },
                                            onSave: function(e) {
                                                return he("customerCareDetails", "email", e)
                                            },
                                            errorFn: W
                                        })]
                                    }), (0, R.jsxs)(I.default, {
                                        title: v.fbt._("Grievance Officer Information", null, {
                                            hk: "3emd7I"
                                        }),
                                        titleXStyle: U(ke),
                                        xstyle: [F.formContainer],
                                        children: [ke ? (0, R.jsx)(D.TextDiv, {
                                            xstyle: F.subtitle,
                                            children: v.fbt._("Provide name and at least one contact method", null, {
                                                hk: "2Fjw3Y"
                                            })
                                        }) : null, (0, R.jsx)(Y, {
                                            value: null == ye ? void 0 : ye.name,
                                            maxLength: S.COMPLIANCE_INFO_LENGTH.GRIEVANCE_OFFICER_NAME,
                                            placeholder: v.fbt._("Name", null, {
                                                hk: "2vEs6r"
                                            }),
                                            validate: Se,
                                            icon: "assignment-ind",
                                            onSave: function(e) {
                                                return he("grievanceOfficerDetails", "name", e)
                                            },
                                            errorFn: V
                                        }), (0, R.jsx)(Y, {
                                            value: null == ye ? void 0 : ye.mobileNumber,
                                            maxLength: S.COMPLIANCE_INFO_LENGTH.MOBILE_NUMBER,
                                            placeholder: v.fbt._("Mobile Phone Number", null, {
                                                hk: "3kk5I"
                                            }),
                                            icon: "phone",
                                            validate: function(e) {
                                                return (0, k.existsGrievanceOfficerDetailsContact)(ye, n, "mobileNumber", e) && z(e)
                                            },
                                            onSave: function(e) {
                                                return he("grievanceOfficerDetails", "mobileNumber", e)
                                            },
                                            onCancel: function() {
                                                return ve("grievanceOfficerDetails", "mobileNumber")
                                            },
                                            onError: function(e) {
                                                return (0, j.handleGrievanceOfficerDetailsError)(ye, n, "mobileNumber", e)
                                            },
                                            errorFn: function(e) {
                                                return (0, k.getGrievanceOfficerDetailsError)(ye, "mobileNumber", e, v.fbt._("Incorrect phone number format", null, {
                                                    hk: "3lFQ1f"
                                                }), n)
                                            }
                                        }), (0, R.jsx)(Y, {
                                            value: null == ye ? void 0 : ye.landlineNumber,
                                            maxLength: S.COMPLIANCE_INFO_LENGTH.LANDLINE_NUMBER,
                                            placeholder: v.fbt._("Landline Phone Number", null, {
                                                hk: "4GBzF0"
                                            }),
                                            icon: "phone",
                                            validate: function(e) {
                                                return (0, k.existsGrievanceOfficerDetailsContact)(ye, n, "landlineNumber", e) && z(e)
                                            },
                                            onSave: function(e) {
                                                return he("grievanceOfficerDetails", "landlineNumber", e)
                                            },
                                            onCancel: function() {
                                                return ve("grievanceOfficerDetails", "landlineNumber")
                                            },
                                            onError: function(e) {
                                                return (0, j.handleGrievanceOfficerDetailsError)(ye, n, "landlineNumber", e)
                                            },
                                            errorFn: function(e) {
                                                return (0, k.getGrievanceOfficerDetailsError)(ye, "landlineNumber", e, v.fbt._("Incorrect landline phone number format", null, {
                                                    hk: "4zXlsw"
                                                }), n)
                                            }
                                        }), (0, R.jsx)(Y, {
                                            value: null == ye ? void 0 : ye.email,
                                            maxLength: S.COMPLIANCE_INFO_LENGTH.EMAIL,
                                            placeholder: v.fbt._("Email Address", null, {
                                                hk: "3SvbLl"
                                            }),
                                            icon: "business-email",
                                            validate: function(e) {
                                                return (0, k.existsGrievanceOfficerDetailsContact)(ye, n, "email", e) && (0, m.validateEmail)(e)
                                            },
                                            onSave: function(e) {
                                                return he("grievanceOfficerDetails", "email", e)
                                            },
                                            onError: function(e) {
                                                return (0, j.handleGrievanceOfficerDetailsError)(ye, n, "email", e)
                                            },
                                            errorFn: function(e) {
                                                return (0, k.getGrievanceOfficerDetailsError)(ye, "email", e, v.fbt._("Incorrect email address format", null, {
                                                    hk: "1KuwvT"
                                                }), n)
                                            }
                                        })]
                                    }), null != d && null != c ? (0, R.jsx)(P.default, {
                                        disabled: !ue,
                                        rootRef: je.current,
                                        onClick: function() {
                                            return (0, x.default)(c)
                                        },
                                        children: v.fbt._("Next: Add Items", null, {
                                            hk: "4gxzId"
                                        })
                                    }) : null]
                                })
                            })]
                        })
                    })
                }));

            function Y(e) {
                var t = e.value,
                    n = void 0 === t ? "" : t,
                    a = e.maxLength,
                    r = e.placeholder,
                    i = e.icon,
                    o = e.isLoading,
                    d = void 0 !== o && o,
                    c = e.validate,
                    f = e.errorFn,
                    p = (e.onChange, e.onSave),
                    h = e.onCancel,
                    m = e.onError,
                    v = e.onFocus,
                    _ = (0, g.useState)(n),
                    x = (0, s.default)(_, 2),
                    C = x[0],
                    y = x[1],
                    b = (0, g.useState)(),
                    S = (0, s.default)(b, 2),
                    j = S[0],
                    k = S[1],
                    E = (0, g.useState)(d),
                    w = (0, s.default)(E, 2),
                    T = w[0],
                    I = w[1];
                return (0, g.useEffect)((function() {
                    y(n)
                }), [n]), (0, g.useEffect)((function() {
                    (null == c ? void 0 : c(C)) && k(null)
                }), [C, c, f]), (0, g.useEffect)((function() {
                    I(d)
                }), [d]), (0, R.jsx)(L.IconSection, {
                    icon: i,
                    theme: L.IconSectionTheme.NoMargin,
                    content: (0, R.jsx)(N.TextInput, {
                        value: C,
                        editable: !0,
                        maxLength: a,
                        pending: T,
                        inputPlaceholder: r,
                        showRemaining: !0,
                        managedError: !0,
                        validate: c,
                        error: j,
                        onChange: y,
                        onSave: (0, u.default)(l.default.mark((function e() {
                            return l.default.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        return I(!0), e.prev = 1, e.next = 4, null == p ? void 0 : p(C);
                                    case 4:
                                        e.next = 9;
                                        break;
                                    case 6:
                                        e.prev = 6, e.t0 = e.catch(1), f && k(f(C));
                                    case 9:
                                        I(!1);
                                    case 10:
                                    case "end":
                                        return e.stop()
                                }
                            }), e, null, [
                                [1, 6]
                            ])
                        }))),
                        onCancel: function() {
                            y(n), k(null), null == h || h()
                        },
                        onError: function() {
                            f && k(f(C)), null == m || m(C)
                        },
                        theme: "text-input",
                        onFocus: v,
                        blockFocusOnLock: !!v,
                        lockable: !0
                    })
                })
            }

            function Q(e, t, n) {
                return {
                    address: e,
                    categories: [],
                    hours: {
                        days: []
                    },
                    longitude: t,
                    latitude: n
                }
            }

            function X(e) {
                var t = e.rawBusinessProfile,
                    n = e.validate,
                    a = e.onAfterSave,
                    r = e.errorFn,
                    o = (0, g.useState)(),
                    d = (0, s.default)(o, 2),
                    c = d[0],
                    f = d[1],
                    p = (0, g.useState)(null == t ? void 0 : t.address),
                    h = (0, s.default)(p, 2),
                    m = h[0],
                    v = h[1],
                    x = (0, g.useState)(),
                    C = (0, s.default)(x, 2),
                    b = C[0],
                    S = C[1],
                    j = t || {},
                    k = j.longitude,
                    E = j.latitude,
                    w = (0, g.useState)(Q(m, k, E)),
                    T = (0, s.default)(w, 2),
                    I = T[0],
                    P = T[1];
                return (0, g.useEffect)((function() {
                    return P(Q(m, k, E))
                }), [m, k, E]), (0, g.useEffect)((function() {
                    n(m) && S(null)
                }), [m, n]), null == t || null == I ? null : (0, R.jsx)(L.IconSection, {
                    icon: "business-address",
                    theme: L.IconSectionTheme.NoMargin,
                    content: (0, R.jsx)(_.BusinessAddressField, {
                        businessProfile: I,
                        activeField: c,
                        rawBusinessProfile: t,
                        value: m,
                        validate: n,
                        error: b,
                        lowProfile: !1,
                        onActive: f,
                        onChange: v,
                        onCancel: function() {
                            v(t.address)
                        },
                        onSaveBusinessProfile: (0, u.default)(l.default.mark((function e() {
                            return l.default.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        return e.next = 2, (0, y.editBusinessProfile)({
                                            address: m
                                        });
                                    case 2:
                                        return e.next = 4, a((0, i.default)((0, i.default)({}, t), {}, {
                                            address: m
                                        }));
                                    case 4:
                                    case "end":
                                        return e.stop()
                                }
                            }), e)
                        }))),
                        onError: function() {
                            r && S(r(m))
                        }
                    })
                })
            }
        },
        68362: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(68551)),
                i = a(n(34575)),
                o = a(n(93913)),
                l = a(n(2205)),
                u = a(n(99842)),
                s = n(48360),
                d = n(67294),
                c = a(n(56720)),
                f = n(65901),
                p = n(66834),
                h = a(n(53187)),
                m = a(n(18345)),
                v = n(19288),
                g = a(n(50177)),
                _ = n(1191),
                x = n(23208),
                C = n(23526),
                y = n(45311),
                b = n(37616),
                S = n(85651),
                j = a(n(7665)),
                k = n(22459),
                E = a(n(93958)),
                w = n(85893),
                T = function(e) {
                    (0, l.default)(n, e);
                    var t = (0, u.default)(n);

                    function n() {
                        return (0, i.default)(this, n), t.apply(this, arguments)
                    }
                    return (0, o.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            this.push((0, w.jsx)(A, {
                                onBack: this.end
                            }))
                        }
                    }]), n
                }(g.default);
            t.default = T;
            var I = {
                    orderButton: {
                        paddingTop: "emrlamx0",
                        paddingEnd: "itegkywt",
                        paddingBottom: "aiput80m",
                        paddingStart: "rppts313",
                        display: "p357zi0d",
                        borderBottom: "qmxv8cnq",
                        textAlign: "ljrqcn24",
                        width: "ln8gz9je"
                    },
                    orderManagementDrawerBody: {
                        backgroundColor: "ihvf49ua"
                    },
                    orderInfo: {
                        paddingTop: "i5tg98hk",
                        paddingEnd: "itegkywt",
                        paddingBottom: "przvwfww",
                        paddingStart: "rppts313",
                        flexGrow: "ggj6brxn"
                    },
                    orderInfoRow: {
                        display: "p357zi0d",
                        paddingTop: "qomlamqu",
                        paddingEnd: "lnjlmjd6",
                        paddingBottom: "bxcbqipq",
                        paddingStart: "mc6o24uu",
                        fontSize: "enbbiyaj"
                    },
                    flexGrow: {
                        flexGrow: "ggj6brxn"
                    },
                    orderSubDetails: {
                        color: "pm5hny62"
                    },
                    canceled: {
                        color: "mvxzr2tb"
                    },
                    completed: {
                        color: "jq3rn4u7"
                    },
                    infoRow: {
                        paddingTop: "emrlamx0",
                        paddingEnd: "l9g3jx6n",
                        paddingBottom: "aiput80m",
                        paddingStart: "lyvj5e2u",
                        color: "pm5hny62",
                        fontWeight: "hnx8ox4h",
                        fontSize: "f8jlpxt4",
                        lineHeight: "nig63irp"
                    },
                    noHistoryWrpr: {
                        display: "p357zi0d",
                        flexDirection: "f8m0rgwh",
                        alignItems: "gndfcl4n",
                        paddingTop: "qlb265nb"
                    },
                    title: {
                        color: "tl2vja3b"
                    },
                    subTitle: {
                        paddingTop: "tvsr5v2h",
                        paddingEnd: "l9g3jx6n",
                        paddingBottom: "jd93c9cp",
                        paddingStart: "lyvj5e2u",
                        color: "pm5hny62",
                        fontSize: "dsh4tgtl",
                        lineHeight: "geihefkw"
                    },
                    loader: {
                        paddingTop: "tvsr5v2h",
                        paddingEnd: "l9g3jx6n",
                        paddingBottom: "jd93c9cp",
                        paddingStart: "lyvj5e2u",
                        display: "p357zi0d",
                        justifyContent: "ac2vgrno"
                    }
                },
                P = function(e) {
                    var t = e.orderStatusInfo,
                        n = void 0 === t ? (0, y.getDefaultOrderStatus)() : t,
                        a = b.OrderStatusLabels[n];
                    return (0, w.jsx)("span", {
                        className: (0, c.default)(I[String(n)]),
                        children: a
                    })
                },
                M = function(e) {
                    var t = e.items,
                        n = void 0 === t ? [] : t;
                    if (0 === n.length) return null;
                    var a = (0, r.default)(n),
                        i = a[0],
                        o = a.slice(1);
                    return (0, w.jsxs)("span", {
                        className: (0, c.default)(I.flexGrow),
                        children: [i.name, " ", o.length > 0 && (0, w.jsxs)(w.Fragment, {
                            children: [s.fbt._("and", null, {
                                hk: "10D2a9"
                            }), " ", 1 === o.length ? o[0].name : s.fbt._({
                                "*": "{number_of_items} items",
                                _1: "1 item"
                            }, [s.fbt._plural(o.length, "number_of_items")], {
                                hk: "1kMaqb"
                            })]
                        })]
                    })
                },
                O = function() {
                    return (0, w.jsxs)(w.Fragment, {
                        children: [(0, w.jsx)("div", {
                            className: (0, c.default)(I.infoRow),
                            children: s.fbt._("History", null, {
                                hk: "4glDgc"
                            })
                        }), (0, w.jsxs)("div", {
                            className: (0, c.default)(I.noHistoryWrpr),
                            children: [(0, w.jsx)(j.default, {
                                name: "payment-history-empty"
                            }), (0, w.jsx)("div", {
                                className: (0, c.default)(I.subTitle),
                                children: s.fbt._("No order history", null, {
                                    hk: "AiunH"
                                })
                            })]
                        })]
                    })
                },
                A = (0, d.forwardRef)((function(e) {
                    var t = (0, k.useGetOrders)(),
                        n = t.ordersInfoMap,
                        a = n.contactAndOrderInfoMap,
                        r = n.orderStatusInfoMap,
                        i = t.isLoading,
                        o = (0, d.useMemo)((function() {
                            return Object.keys(a).sort((function(e, t) {
                                return a[t].timestamp - a[e].timestamp
                            }))
                        }), [a]);
                    return (0, w.jsxs)(h.default, {
                        children: [(0, w.jsx)(v.DrawerHeader, {
                            title: s.fbt._("Orders", null, {
                                hk: "3cylXu"
                            }),
                            type: v.DRAWER_HEADER_TYPE.LARGE,
                            onBack: e.onBack
                        }), (0, w.jsxs)(m.default, {
                            className: (0, c.default)(I.orderManagementDrawerBody),
                            children: [o.map((function(e, t) {
                                return (0, w.jsxs)(d.Fragment, {
                                    children: [(0, w.jsx)(D, {
                                        date: (0, C.getOrderDisplayDate)(a, o, t)
                                    }), (0, w.jsx)(L, {
                                        contactAndOrderInfo: a[e],
                                        orderStatusInfo: r[e] ? r[e].status : (0, y.getDefaultOrderStatus)()
                                    })]
                                }, e)
                            })), i && (0, w.jsx)("div", {
                                className: (0, c.default)(I.loader),
                                children: (0, w.jsx)(S.Spinner, {
                                    color: "default",
                                    size: 24,
                                    stroke: 6
                                })
                            }), !i && !o.length && (0, w.jsx)(O, {})]
                        })]
                    })
                })),
                L = function(e) {
                    var t, n = e.contactAndOrderInfo,
                        a = e.orderStatusInfo,
                        r = (0, E.default)();
                    return (0, w.jsxs)("button", {
                        onClick: function() {
                            var e = n.interactiveMsg;
                            e && (f.Cmd.openChatFromUnread(e.chat), (0, x.openOrderDetailDrawer)(e, r))
                        },
                        className: (0, c.default)(I.orderButton),
                        children: [(0, w.jsx)(p.DetailImage, {
                            id: n.contact.id
                        }), (0, w.jsxs)("div", {
                            className: (0, c.default)(I.orderInfo),
                            children: [(0, w.jsxs)("div", {
                                className: (0, c.default)(I.orderInfoRow, I.title),
                                children: [(0, w.jsx)(_.Name, {
                                    className: (0, c.default)(I.flexGrow),
                                    contact: n.contact
                                }), (0, w.jsxs)("span", {
                                    children: [n.orderInfo.currency, " ", null !== (t = n.orderInfo.totalAmount) && void 0 !== t ? t : 0]
                                })]
                            }), (0, w.jsxs)("div", {
                                className: (0, c.default)(I.orderInfoRow, I.orderSubDetails),
                                children: [(0, w.jsx)(M, {
                                    items: n.orderInfo.items
                                }), (0, w.jsx)(P, {
                                    orderStatusInfo: a
                                })]
                            })]
                        })]
                    })
                },
                D = function(e) {
                    var t = e.date,
                        n = void 0 === t ? "" : t;
                    return n && (0, w.jsx)("div", {
                        className: (0, c.default)(I.infoRow),
                        children: n.toUpperCase()
                    })
                }
        },
        53814: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = U;
            var r = a(n(81109)),
                i = a(n(87757)),
                o = a(n(48926)),
                l = a(n(34575)),
                u = a(n(93913)),
                s = a(n(2205)),
                d = a(n(99842)),
                c = n(84460),
                f = n(48360),
                p = n(67294),
                h = n(26141),
                m = a(n(20385)),
                v = a(n(20859)),
                g = a(n(4988)),
                _ = n(65901),
                x = n(39358),
                C = a(n(86777)),
                y = n(20050),
                b = n(96706),
                S = a(n(50177)),
                j = n(2629),
                k = n(56264),
                E = a(n(45093)),
                w = a(n(11519)),
                T = a(n(96663)),
                I = a(n(60581)),
                P = n(52867),
                M = a(n(77538)),
                O = n(75294),
                A = a(n(1270)),
                L = n(60425),
                D = n(80270),
                N = a(n(46989)),
                R = a(n(40290)),
                F = n(85893),
                B = function(e) {
                    (0, s.default)(n, e);
                    var t = (0, d.default)(n);

                    function n() {
                        var e;
                        (0, l.default)(this, n);
                        for (var a = arguments.length, r = new Array(a), u = 0; u < a; u++) r[u] = arguments[u];
                        return (e = t.call.apply(t, [this].concat(r))).scrollOffset = 0, e.setScrollOffset = function(t) {
                            e.scrollOffset = t
                        }, e._handleCollectionSeeAll = function(t) {
                            var n = e.props,
                                a = n.catalogOwnerJid,
                                r = n.chat,
                                i = n.product,
                                o = n.productInfo,
                                l = n.sellerJid,
                                u = a || (null == i ? void 0 : i.catalogWid.toString()) || (null == o ? void 0 : o.businessOwnerJid) || l;
                            e.push((0, F.jsx)(U, {
                                chat: r,
                                catalogOwnerJid: u,
                                collection: t,
                                isAllItems: !t
                            }))
                        }, e._pushProductDetails = function(t, n) {
                            var a = e.props,
                                r = a.chat,
                                i = a.refreshCarousel,
                                o = (0, F.jsx)(M.default, {
                                    chat: r,
                                    product: t,
                                    onEnd: e._end,
                                    onBack: e._popAndUpdate,
                                    onProductDetail: e._handleProductDetail,
                                    onProductCatalog: e._handleProductCatalogHeaderClick,
                                    onProductLinkClick: e._handleProductLinkClick,
                                    onProductMoreInformation: e._handleProductMoreInformation,
                                    refreshCarousel: i,
                                    onCartClick: e._handleCartClick,
                                    collectionId: n
                                });
                            e.push(o)
                        }, e._pushProductMoreInformation = function(t) {
                            var n = (0, F.jsx)(N.default, {
                                product: t,
                                onBack: e._popAndUpdate
                            });
                            e.push(n)
                        }, e._pushProductDetailsWithDeepLink = function(t) {
                            var n = (0, F.jsx)(O.ProductDetailsWithDeepLink, {
                                chat: e.props.chat,
                                productInfo: t,
                                onEnd: e._end,
                                onBack: e._pop,
                                onProductDetail: e._handleProductDetail,
                                onProductCatalog: e._handleProductCatalogHeaderClick,
                                onProductLinkClick: e._handleProductLinkClick,
                                onProductMoreInformation: e._handleProductMoreInformation,
                                onCartClick: e._handleCartClick
                            });
                            e.push(n)
                        }, e.pushProductCatalog = function() {
                            var t = (0, o.default)(i.default.mark((function t(n) {
                                var a, r, o;
                                return i.default.wrap((function(t) {
                                    for (;;) switch (t.prev = t.next) {
                                        case 0:
                                            return a = y.ContactCollection.gadd(n), t.next = 3, h.BusinessProfileCollection.find(n);
                                        case 3:
                                            r = t.sent, o = (0, j.canViewCollections)() ? (0, F.jsx)(g.default, {
                                                contact: a,
                                                onProductDetail: e._handleProductDetail,
                                                catalogId: n,
                                                onBack: e._pop,
                                                businessProfile: r,
                                                scrollOffset: e.scrollOffset,
                                                setScrollOffset: e.setScrollOffset,
                                                onCatalogLinkClick: e._handleCatalogLinkClick,
                                                onCartClick: e._handleCartClick,
                                                onCollectionSeeAll: e._handleCollectionSeeAll
                                            }) : (0, F.jsx)(L.ProductListDrawer, {
                                                contact: a,
                                                onProductDetail: e._handleProductDetail,
                                                catalogId: n,
                                                onBack: e._pop,
                                                businessProfile: r,
                                                setScrollOffset: e.setScrollOffset,
                                                onCatalogLinkClick: e._handleCatalogLinkClick,
                                                onCartClick: e._handleCartClick
                                            }), e.push(o);
                                        case 6:
                                        case "end":
                                            return t.stop()
                                    }
                                }), t)
                            })));
                            return function() {
                                return t.apply(this, arguments)
                            }
                        }(), e._pushCartOrderDetail = function(t, n, a, r, i, o, l) {
                            var u = (0, F.jsx)(m.default, {
                                orderId: t,
                                token: n,
                                sellerJid: a,
                                userIsCartOwner: r,
                                onProductDetail: e._handleProductDetailFromInfo,
                                onOrderCreate: e._handleOrderCreate,
                                onOrderCancel: e._handleOrderCancel,
                                ownerHasReviewed: i,
                                orderMessage: o,
                                chat: l
                            });
                            e.push(u)
                        }, e._pushProductList = function(t, n) {
                            var a = y.ContactCollection.gadd(n),
                                r = (0, F.jsx)(D.ProductMessageListDrawer, {
                                    contact: a,
                                    productListId: t,
                                    onProductDetail: e._handleProductDetail,
                                    onCartClick: e._handleCartClick,
                                    onBack: e._pop,
                                    onEnd: e._end,
                                    setScrollOffset: e.setScrollOffset
                                });
                            e.push(r)
                        }, e._handleProductSummaryClick = function(t) {
                            e._pushOrderDetailProductList(t)
                        }, e._handleOrderStatusUpdateClick = function() {
                            e._pushOrderStatusUpdate()
                        }, e._handleOrderCreate = function(t) {
                            e._pushOrderCreate(t)
                        }, e.cancelOrder = function() {
                            var t = e.props,
                                n = t.orderId,
                                a = t.token,
                                r = t.sellerJid,
                                i = t.userIsCartOwner,
                                o = t.orderMessage,
                                l = t.chat;
                            null != n && null != a && null != r && null != i && e._pushCartOrderDetail(n, a, r, i, !0, o, l), _.Cmd.closeModal()
                        }, e._handleOrderCancel = function() {
                            _.Cmd.openModal((0, F.jsx)(C.default, {
                                onCancel: function() {
                                    _.Cmd.closeModal()
                                },
                                cancelText: f.fbt._("No", null, {
                                    hk: "4G38V6"
                                }),
                                onOK: e.cancelOrder,
                                okText: f.fbt._("Yes cancel", null, {
                                    hk: "N0ngG"
                                }),
                                title: f.fbt._("Cancel this order?", null, {
                                    hk: "dMHPf"
                                }),
                                children: f.fbt._("The user will be notified that the order has been canceled.", null, {
                                    hk: "2cf0Xl"
                                })
                            }))
                        }, e._handleProductDetail = function(t, n) {
                            e._pushProductDetails(t, n)
                        }, e._handleProductMoreInformation = function(t) {
                            e._pushProductMoreInformation(t)
                        }, e._handleProductDetailFromInfo = function(t) {
                            e._pushProductDetailsWithDeepLink(t)
                        }, e._handleProductCatalogHeaderClick = function(t, n) {
                            (0, k.logCarouselViewMoreClick)({
                                catalogOwnerWid: t,
                                catalogContext: n
                            }), e.pushProductCatalog(t)
                        }, e._handleProductLinkClick = function(t) {
                            e.push((0, F.jsx)(A.default, {
                                product: t,
                                onBack: e._pop
                            }))
                        }, e._handleCatalogLinkClick = function(t, n) {
                            e.push((0, F.jsx)(v.default, {
                                catalog: t,
                                contact: n,
                                onBack: e._pop
                            }))
                        }, e._handleCartClick = function(t) {
                            var n = (0, P.getProductCatalogContext)(e.props.context),
                                a = (0, R.default)(t, e.props.chat, n);
                            a && e.push(a)
                        }, e._pop = function() {
                            e.pop()
                        }, e._end = function() {
                            e.end(!0)
                        }, e._popAndUpdate = function() {
                            e.popAndUpdate({
                                scrollOffset: e.scrollOffset
                            })
                        }, e
                    }
                    return (0, u.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this.props,
                                t = e.catalogOwnerJid,
                                n = e.orderId,
                                a = e.product,
                                r = e.productInfo,
                                i = e.productListId,
                                o = e.collection,
                                l = e.collectionId,
                                u = e.isAllItems,
                                s = e.token,
                                d = e.sellerJid,
                                f = e.userIsCartOwner,
                                p = e.orderMessage,
                                h = e.chat,
                                m = e.orderInfo;
                            if (t) o || u ? this.pushCollectionContent((0, c.createWid)(t)) : null != i ? this._pushProductList(i, (0, c.createWid)(t)) : this.pushProductCatalog((0, c.createWid)(t));
                            else if (a) this._pushProductDetails(a, l);
                            else if (r) this._pushProductDetailsWithDeepLink(r);
                            else if (n) null != s && null != d && null != f && this._pushCartOrderDetail(n, s, d, f, !1, p, h);
                            else {
                                if (null == m || null == d) throw new Error("ProductDetailsFlow:no-product");
                                this._pushOrderDetail(h, m, (0, c.createWid)(d))
                            }
                        }
                    }, {
                        key: "pushCollectionContent",
                        value: function(e) {
                            var t = y.ContactCollection.gadd(e);
                            this.push((0, F.jsx)(x.CollectionContentDrawer, {
                                contact: t,
                                onProductDetail: this._handleProductDetail,
                                catalogId: e,
                                onBack: this._pop,
                                onCatalogLinkClick: this._handleCatalogLinkClick,
                                onCartClick: this._handleCartClick,
                                scrollOffset: this.scrollOffset,
                                setScrollOffset: this.setScrollOffset,
                                collection: this.props.collection
                            }))
                        }
                    }, {
                        key: "_pushOrderCreate",
                        value: function(e) {
                            this.push((0, F.jsx)(E.default, {
                                order: e,
                                chat: this.props.chat
                            }))
                        }
                    }, {
                        key: "_pushOrderDetailProductList",
                        value: function(e) {
                            this.push((0, F.jsx)(T.default, {
                                onBack: this._pop,
                                productItems: e
                            }))
                        }
                    }, {
                        key: "_pushOrderDetail",
                        value: function(e, t, n) {
                            this.push((0, F.jsx)(w.default, {
                                onBack: this._pop,
                                orderInfo: t,
                                sellerWid: n,
                                chat: e,
                                onProductSummaryClick: this._handleProductSummaryClick,
                                onOrderStatusUpdateClick: this._handleOrderStatusUpdateClick
                            }))
                        }
                    }, {
                        key: "_pushOrderStatusUpdate",
                        value: function() {
                            var e = this.props,
                                t = e.orderInfo,
                                n = e.sellerJid;
                            null != t && null != n && this.push((0, F.jsx)(I.default, {
                                chat: this.props.chat,
                                onBack: this._pop,
                                orderInfo: t,
                                sellerJid: n
                            }))
                        }
                    }]), n
                }(S.default);

            function U(e) {
                var t = (0, p.useContext)(b.DrawerContext);
                return (0, F.jsx)(B, (0, r.default)({
                    context: t
                }, e))
            }
        },
        96861: (e, t, n) => {
            "use strict";
            var a = n(21314).default,
                r = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(n(87757)),
                o = r(n(48926)),
                l = r(n(34575)),
                u = r(n(93913)),
                s = r(n(2205)),
                d = r(n(99842)),
                c = n(80965),
                f = n(84533),
                p = n(65901),
                h = r(n(50177)),
                m = r(n(9844)),
                v = n(81310),
                g = n(64803),
                _ = n(43890),
                x = n(85893),
                C = function(e) {
                    (0, s.default)(n, e);
                    var t = (0, d.default)(n);

                    function n() {
                        var e;
                        (0, l.default)(this, n);
                        for (var r = arguments.length, u = new Array(r), s = 0; s < r; s++) u[s] = arguments[s];
                        return (e = t.call.apply(t, [this].concat(u)))._handleForwardConfirmed = function(t) {
                            (0, v.qplStartProductSendMessage)("Forward", void 0, t.length);
                            var n = t.map(function() {
                                var t = (0, o.default)(i.default.mark((function t(n) {
                                    return i.default.wrap((function(t) {
                                        for (;;) switch (t.prev = t.next) {
                                            case 0:
                                                if (!n.isUser || !n.contact.isBlocked()) {
                                                    t.next = 3;
                                                    break
                                                }
                                                return t.next = 3, (0, f.unblockContact)(n.contact);
                                            case 3:
                                                return t.abrupt("return", e._sendProduct(n));
                                            case 4:
                                            case "end":
                                                return t.stop()
                                        }
                                    }), t)
                                })));
                                return function() {
                                    return t.apply(this, arguments)
                                }
                            }());
                            (0, v.qplEndProductMessageSend)(a.all(n)), e.end(), 1 === t.length && (p.Cmd.openChatFromUnread(t[0]), window.innerWidth <= c.LAYOUT_2COLUMNS_MAX_WIDTH && p.Cmd.closeDrawerRight()), e.props.onSend && e.props.onSend()
                        }, e._handleCancel = function() {
                            e.end()
                        }, e._sendProduct = function(t) {
                            var n = e.props.product;
                            return new a((function(e, a) {
                                p.Cmd.once("ui_idle", (function() {
                                    t.sendProductMessage(n).then((function() {
                                        return e()
                                    })).catch((function(e) {
                                        return a(e)
                                    }))
                                }))
                            }))
                        }, e
                    }
                    return (0, u.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            p.Cmd.closeContextMenu(), p.Cmd.closeTooltip(), this.push((0, x.jsx)(g.SelectModal, {
                                onConfirm: this._handleForwardConfirmed,
                                maxItems: _.ServerProps.multicastLimitGlobal,
                                title: m.default.t(634),
                                listType: g.ListType.CHAT_SELECT_MODAL,
                                onCancel: this._handleCancel
                            }))
                        }
                    }]), n
                }(h.default);
            t.default = C
        },
        53196: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(34575)),
                i = a(n(93913)),
                o = a(n(2205)),
                l = a(n(99842)),
                u = a(n(96002)),
                s = a(n(50177)),
                d = n(18070),
                c = n(85893),
                f = function(e) {
                    (0, o.default)(n, e);
                    var t = (0, l.default)(n);

                    function n() {
                        var e;
                        (0, r.default)(this, n);
                        for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++) i[o] = arguments[o];
                        return (e = t.call.apply(t, [this].concat(i))).sendMedia = function(t) {
                            var n = t.getImg,
                                a = t.caption,
                                r = t.isViewOnce,
                                i = t.mentionedJidList,
                                o = e.props.chat,
                                l = o.composeQuotedMsg;
                            o.composeQuotedMsg = null;
                            var u = o.getComposeContents().ctwaContext || void 0;
                            (0, d.prepRawMedia)(n, {}).sendToChat(o, {
                                caption: a,
                                mentionedJidList: i,
                                quotedMsg: l,
                                ctwaContext: u,
                                isViewOnce: r
                            }), e.props.onCaptureSent(), e.end()
                        }, e
                    }
                    return (0, i.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this;
                            this.push((0, c.jsx)(u.default, {
                                onBack: function() {
                                    e.end()
                                },
                                chat: this.props.chat,
                                caption: !0,
                                theme: "capture-contain",
                                onSend: this.sendMedia,
                                stream: this.props.stream,
                                disposeStream: this.props.disposeStream
                            }))
                        }
                    }]), n
                }(s.default);
            t.default = f
        },
        21043: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(34575)),
                i = a(n(93913)),
                o = a(n(2205)),
                l = a(n(99842)),
                u = a(n(54482)),
                s = a(n(50177)),
                d = n(51416),
                c = n(85893),
                f = function(e) {
                    (0, o.default)(n, e);
                    var t = (0, l.default)(n);

                    function n() {
                        var e;
                        (0, r.default)(this, n);
                        for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++) i[o] = arguments[o];
                        return (e = t.call.apply(t, [this].concat(i)))._handleProductClick = function(t) {
                            e.push((0, c.jsx)(d.ProductDetailsFlowLoadable, {
                                refreshCarousel: !0,
                                chat: e.props.msg.chat,
                                product: t,
                                onEnd: e._pop
                            }))
                        }, e._pop = function() {
                            e.pop()
                        }, e
                    }
                    return (0, i.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            this.push((0, c.jsx)(u.default, {
                                msg: this.props.msg,
                                onProductClick: this._handleProductClick
                            }))
                        }
                    }]), n
                }(s.default);
            t.default = f
        },
        97545: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(34575)),
                i = a(n(93913)),
                o = a(n(2205)),
                l = a(n(99842)),
                u = n(15586),
                s = a(n(96002)),
                d = n(65901),
                c = n(5847),
                f = x(n(8924)),
                p = a(n(50177)),
                h = n(7244),
                m = x(n(94200)),
                v = n(73454),
                g = n(85893);

            function _(e) {
                if ("function" != typeof WeakMap) return null;
                var t = new WeakMap,
                    n = new WeakMap;
                return (_ = function(e) {
                    return e ? n : t
                })(e)
            }

            function x(e, t) {
                if (!t && e && e.__esModule) return e;
                if (null === e || "object" != typeof e && "function" != typeof e) return {
                    default: e
                };
                var n = _(t);
                if (n && n.has(e)) return n.get(e);
                var a = {},
                    r = Object.defineProperty && Object.getOwnPropertyDescriptor;
                for (var i in e)
                    if ("default" !== i && Object.prototype.hasOwnProperty.call(e, i)) {
                        var o = r ? Object.getOwnPropertyDescriptor(e, i) : null;
                        o && (o.get || o.set) ? Object.defineProperty(a, i, o) : a[i] = e[i]
                    } return a.default = e, n && n.set(e, a), a
            }
            var C = function(e) {
                (0, o.default)(n, e);
                var t = (0, l.default)(n);

                function n() {
                    var e;
                    (0, r.default)(this, n);
                    for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++) i[o] = arguments[o];
                    return (e = t.call.apply(t, [this].concat(i)))._refCaptureDrawer = null, e._setRefCaptureDrawer = function(t) {
                        e._refCaptureDrawer = t
                    }, e._pushPermissionModal = function() {
                        e.push((0, g.jsx)(h.GuidePopup, {
                            messaging: h.Messaging.CAMERA,
                            type: h.TYPE.GUIDE_ALLOW,
                            onConfirm: e._popModal
                        }), "modal")
                    }, e._popModal = function() {
                        e.pop("modal")
                    }, e._startCaptureDrawer = function() {
                        var t, n;
                        null === (t = (n = e)._disposeStream) || void 0 === t || t.call(n);
                        var a = m.start("camera", e._pushPermissionModal),
                            r = a.asyncStream,
                            i = a.disposeStream;
                        e._disposeStream = i, r.then((function(t) {
                            e._refCaptureDrawer || e._popModal(), t && e._refCaptureDrawer && e._refCaptureDrawer.loadNewStream(t, i)
                        })).catch((0, u.filteredCatch)(f.GUM.NotAllowedError, (function() {
                            e.cleanUp(), d.Cmd.openModal((0, g.jsx)(h.GuidePopup, {
                                messaging: h.Messaging.CAMERA_FAIL,
                                type: h.TYPE.GUIDE_UNBLOCK
                            }))
                        }))).catch((0, u.filteredCatch)(f.GUM.GUMError, (function() {
                            e.cleanUp(), d.Cmd.openModal((0, g.jsx)(h.GuidePopup, {
                                messaging: h.Messaging.CAMERA_MISSING,
                                type: h.TYPE.GUIDE_NONE
                            }))
                        })))
                    }, e._handleFinished = function(t, n) {
                        e.props.onFinished(t, n), e.cleanUp()
                    }, e.cleanUp = function() {
                        e.end()
                    }, e._handleRetake = function() {
                        e.pop("flow-transition-box-size-drawer-pop"), e._startCaptureDrawer()
                    }, e._handleCaptured = function(t) {
                        e.push((0, g.jsx)(v.Modal, {
                            type: v.ModalTheme.Box,
                            children: (0, g.jsx)(c.EditImageDrawer, {
                                onRetake: e._handleRetake,
                                retryText: c.RETRY_OPTIONS.RETAKE,
                                onFinished: e._handleFinished,
                                onCancel: e.cleanUp,
                                img: t
                            })
                        }), "flow-transition-box-size-drawer-push")
                    }, e._handleRequestDismiss = function(t) {
                        !1 === t && e.stackSize() > 1 ? e._handleRetake() : e.cleanUp()
                    }, e
                }
                return (0, i.default)(n, [{
                    key: "componentDidMount",
                    value: function() {
                        this.push((0, g.jsx)(v.Modal, {
                            type: v.ModalTheme.Box,
                            children: (0, g.jsx)(s.default, {
                                ref: this._setRefCaptureDrawer,
                                stream: void 0,
                                disposeStream: void 0,
                                caption: !1,
                                theme: "capture-cover",
                                onBack: this.cleanUp,
                                onSend: null,
                                onCaptured: this._handleCaptured,
                                chat: void 0
                            })
                        })), this._startCaptureDrawer()
                    }
                }, {
                    key: "componentWillUnmount",
                    value: function() {
                        var e;
                        null === (e = this._disposeStream) || void 0 === e || e.call(this)
                    }
                }]), n
            }(p.default);
            t.default = C
        },
        60445: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(34575)),
                i = a(n(93913)),
                o = a(n(2205)),
                l = a(n(99842)),
                u = n(5847),
                s = a(n(50177)),
                d = n(85893),
                c = function(e) {
                    (0, o.default)(n, e);
                    var t = (0, l.default)(n);

                    function n() {
                        var e;
                        (0, r.default)(this, n);
                        for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++) i[o] = arguments[o];
                        return (e = t.call.apply(t, [this].concat(i)))._handleEnd = function() {
                            e.end()
                        }, e._handleFinished = function(t, n) {
                            e.props.onFinished(t, n), e.end()
                        }, e
                    }
                    return (0, i.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            this.push((0, d.jsx)(u.EditImageDrawer, {
                                onCancel: this._handleEnd,
                                onFinished: this._handleFinished,
                                onRetake: this.props.onRetake,
                                retryText: u.RETRY_OPTIONS.RESTART,
                                img: this.props.img
                            }))
                        }
                    }]), n
                }(s.default);
            t.default = c
        },
        55036: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(34575)),
                i = a(n(93913)),
                o = a(n(2205)),
                l = a(n(99842)),
                u = n(15586),
                s = a(n(3208)),
                d = n(48360),
                c = n(4481),
                f = n(65901),
                p = a(n(86777)),
                h = a(n(50177)),
                m = a(n(91751)),
                v = a(n(15733)),
                g = a(n(9844)),
                _ = n(64803),
                x = n(43890),
                C = n(85893),
                y = function(e) {
                    (0, o.default)(n, e);
                    var t = (0, l.default)(n);

                    function n() {
                        var e;
                        (0, r.default)(this, n);
                        for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++) i[o] = arguments[o];
                        return (e = t.call.apply(t, [this].concat(i))).requestFocus = function() {
                            var t, n = null === (t = e.refUIE) || void 0 === t ? void 0 : t.getRef();
                            null != n && (n instanceof HTMLElement || "function" != typeof n.onFocusList || n.onFocusList())
                        }, e._handleForwardConfirmed = function(t) {
                            var n = e.props,
                                a = n.msgs,
                                r = n.onForward;
                            c.ChatCollection.forwardMessagesToChats(a, t).catch((0, u.filteredCatch)(m.default, (function(t) {
                                e._showMediaSendError(t.reasons)
                            }))), e.end(), r && r(a), f.Cmd.openChatFromUnread(t[0])
                        }, e._showMediaSendError = function(e) {
                            var t = e.map((function(e) {
                                var t = e.chat,
                                    n = e.reason;
                                return (0, C.jsxs)("p", {
                                    children: [t.formattedTitle, " : ", n]
                                }, t.id.toString())
                            }));
                            f.Cmd.openModal((0, C.jsx)(p.default, {
                                onOK: function() {
                                    return f.Cmd.closeModal()
                                },
                                okText: d.fbt._("OK", null, {
                                    hk: "2KEeHb"
                                }),
                                children: t
                            }), void 0)
                        }, e
                    }
                    return (0, i.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            var e, t = this.props.msgs,
                                n = g.default.t(469, {
                                    _plural: t.length || 1
                                }),
                                a = t[0],
                                r = a.chat;
                            e = "video" !== a.type && "image" !== a.type ? "message" : a.type;
                            var i, o = t.some((function(e) {
                                    return e.isFrequentlyForwarded
                                })),
                                l = t.some((function(e) {
                                    return e.isForwarded
                                })),
                                u = t.filter((function(e) {
                                    return !e.isFrequentlyForwarded && e.getForwardingScoreWhenForwarded() === s.default.FREQUENTLY_FORWARDED_SENTINEL
                                }));
                            u.length && (i = (0, C.jsx)(v.default, {
                                frequentlyForwardedCount: u.length,
                                totalCount: t.length
                            }));
                            var d = o ? x.ServerProps.frequentlyForwardedMax : x.ServerProps.multicastLimitGlobal;
                            this.push((0, C.jsx)(_.SelectModal, {
                                onConfirm: this._handleForwardConfirmed,
                                maxItems: d,
                                excludeChat: r,
                                excludeBroadcast: !0,
                                msgType: e,
                                title: n,
                                listType: _.ListType.CHAT_SELECT_MODAL,
                                customHeader: i,
                                hasFrequentlyForwarded: o,
                                hasForwarded: l,
                                ephemeralIcon: "chat-list"
                            }))
                        }
                    }]), n
                }(h.default);
            t.default = y
        },
        9025: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(34575)),
                i = a(n(93913)),
                o = a(n(2205)),
                l = a(n(99842)),
                u = a(n(50177)),
                s = a(n(4485)),
                d = n(85893),
                c = function(e) {
                    (0, o.default)(n, e);
                    var t = (0, l.default)(n);

                    function n() {
                        return (0, r.default)(this, n), t.apply(this, arguments)
                    }
                    return (0, i.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            this.push((0, d.jsx)(s.default, {
                                chat: this.props.chat,
                                onConfirm: this.props.onConfirm
                            }))
                        }
                    }]), n
                }(u.default);
            t.default = c
        },
        92025: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(34575)),
                i = a(n(93913)),
                o = a(n(2205)),
                l = a(n(99842)),
                u = a(n(50177)),
                s = a(n(57027)),
                d = n(51416),
                c = n(85893),
                f = function(e) {
                    (0, o.default)(n, e);
                    var t = (0, l.default)(n);

                    function n() {
                        var e;
                        (0, r.default)(this, n);
                        for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++) i[o] = arguments[o];
                        return (e = t.call.apply(t, [this].concat(i)))._handleProductClick = function(t) {
                            e.push((0, c.jsx)(d.ProductDetailsFlowLoadable, {
                                refreshCarousel: !0,
                                chat: e.props.msg.chat,
                                product: t,
                                onEnd: e._pop
                            }))
                        }, e._pop = function() {
                            e.pop()
                        }, e
                    }
                    return (0, i.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            this.push((0, c.jsx)(s.default, {
                                msg: this.props.msg,
                                onProductClick: this._handleProductClick
                            }))
                        }
                    }]), n
                }(u.default);
            t.default = f
        },
        82700: (e, t, n) => {
            "use strict";
            var a = n(21314).default,
                r = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(n(87757)),
                o = r(n(48926)),
                l = r(n(34575)),
                u = r(n(93913)),
                s = r(n(2205)),
                d = r(n(99842)),
                c = n(48360),
                f = n(65901),
                p = r(n(86777)),
                h = n(68985),
                m = r(n(50177)),
                v = r(n(52336)),
                g = r(n(91522)),
                _ = r(n(9844)),
                x = r(n(82589)),
                C = n(1191),
                y = n(26237),
                b = n(92428),
                S = n(85893),
                j = function(e) {
                    (0, s.default)(n, e);
                    var t = (0, d.default)(n);

                    function n() {
                        var e;
                        (0, l.default)(this, n);
                        for (var r = arguments.length, u = new Array(r), s = 0; s < r; s++) u[s] = arguments[s];
                        return (e = t.call.apply(t, [this].concat(u)))._handleSendInvite = function() {
                            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "",
                                n = arguments.length > 1 ? arguments[1] : void 0;
                            f.Cmd.closeModal(), a.all(e.props.participantNeedInvite.map(function() {
                                var a = (0, o.default)(i.default.mark((function a(r) {
                                    var o, l, u, s, d, c;
                                    return i.default.wrap((function(a) {
                                        for (;;) switch (a.prev = a.next) {
                                            case 0:
                                                return o = r.contact, l = r.invite_code, u = r.invite_code_exp, a.next = 3, (0, h.findChat)(o.id);
                                            case 3:
                                                return s = a.sent, d = e.props.groupGid.toString(), c = v.default.assertGet(d), a.next = 8, s.sendGroupInviteMessage(d, e.props.subject, l || "", u, t, n);
                                            case 8:
                                                if (a.sent !== y.SendMsgResult.OK) {
                                                    a.next = 12;
                                                    break
                                                }
                                                return c.pendingParticipants.add({
                                                    id: o.id
                                                }), a.abrupt("return", !0);
                                            case 12:
                                                return a.abrupt("return", !1);
                                            case 13:
                                            case "end":
                                                return a.stop()
                                        }
                                    }), a)
                                })));
                                return function() {
                                    return a.apply(this, arguments)
                                }
                            }())).then((function(e) {
                                var t = e.filter(Boolean).length;
                                f.Cmd.openToast((0, S.jsx)(b.Toast, {
                                    msg: _.default.t(925, {
                                        num: t,
                                        _plural: t
                                    }),
                                    id: (0, b.genId)()
                                }))
                            }))
                        }, e._addInviteCommment = function(t) {
                            e.push((0, S.jsx)(g.default, {
                                participants: t,
                                gid: e.props.groupGid,
                                subject: e.props.subject,
                                groupDesc: e.props.groupDesc,
                                onClose: e._pop,
                                onSend: e._handleSendInvite
                            }))
                        }, e._pop = function() {
                            e.pop()
                        }, e
                    }
                    return (0, u.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this.props.participantNeedInvite,
                                t = this._getFormattedNames(e.map((function(e) {
                                    return e.contact
                                })), !0),
                                n = _.default.t(512, {
                                    participant: t,
                                    _plural: e.length
                                });
                            this.push((0, S.jsx)(p.default, {
                                onOK: this._addInviteCommment.bind(this, e),
                                okText: c.fbt._("Invite to group", null, {
                                    hk: "FbMSO"
                                }),
                                onCancel: this._pop,
                                cancelText: c.fbt._("Cancel", null, {
                                    hk: "H0gNq"
                                }),
                                children: n
                            }))
                        }
                    }, {
                        key: "_getFormattedName",
                        value: function(e) {
                            var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                            return t ? e.formattedUser : (0, S.jsx)(C.Name, {
                                contact: e
                            })
                        }
                    }, {
                        key: "_getFormattedNames",
                        value: function(e) {
                            var t = this,
                                n = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                            if (!Array.isArray(e)) return this._getFormattedName(e, n);
                            var a = e.map((function(e) {
                                return t._getFormattedName(e, n)
                            }));
                            return (0, x.default)(a, n)
                        }
                    }]), n
                }(m.default);
            t.default = j, j.defaultProps = {
                removeTopDrawer: !0,
                pushTransition: "none",
                popTransition: "none"
            }
        },
        89902: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(34575)),
                i = a(n(93913)),
                o = a(n(2205)),
                l = a(n(99842)),
                u = n(5847),
                s = a(n(50177)),
                d = a(n(79054)),
                c = n(85893),
                f = function(e) {
                    (0, o.default)(n, e);
                    var t = (0, l.default)(n);

                    function n() {
                        var e;
                        (0, r.default)(this, n);
                        for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++) i[o] = arguments[o];
                        return (e = t.call.apply(t, [this].concat(i)))._handleImageSelected = function(t, n) {
                            e.push((0, c.jsx)(u.EditImageDrawer, {
                                onCancel: e._handleCancel,
                                attributionUrl: n,
                                onFinished: e._handleFinished,
                                onRetake: e._pop,
                                retryText: u.RETRY_OPTIONS.NONE,
                                img: t
                            }))
                        }, e._handleCancel = function() {
                            e.end()
                        }, e._pop = function() {
                            e.pop()
                        }, e._handleFinished = function(t, n) {
                            e.props.onFinished(t, n), e.end()
                        }, e
                    }
                    return (0, i.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            this.push((0, c.jsx)(d.default, {
                                onCancel: this._pop,
                                onImageSelected: this._handleImageSelected
                            }))
                        }
                    }]), n
                }(s.default);
            t.default = f
        },
        81310: (e, t, n) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.qplEndProductMessageSend = function(e) {
                var t = r.QuickLogMarkerId.WHATSAPP_PRODUCT_MESSAGE_SEND;
                e.then((function() {
                    a.QPL.markerEnd(t, a.QuickLogActionType.SUCCESS)
                })).catch((function() {
                    a.QPL.markerEnd(t, a.QuickLogActionType.FAIL)
                }))
            }, t.qplStartProductSendMessage = function(e, t, n) {
                var i = r.QuickLogMarkerId.WHATSAPP_PRODUCT_MESSAGE_SEND;
                a.QPL.markerStart(i, {
                    annotations: {
                        string: {
                            EntryPoint: e
                        }
                    }
                }), void 0 !== t && a.QPL.markerAnnotate(i, {
                    int: {
                        ProductCount: t
                    }
                }), void 0 !== n && a.QPL.markerAnnotate(i, {
                    int: {
                        ContactCount: n
                    }
                })
            };
            var a = n(3298),
                r = n(4099)
        },
        40337: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = (0, f.useModelValues)(e.parentGroup, ["contact", "id", "groupMetadata"]),
                    n = (0, f.useOptionalModelValues)(e.parentGroup.groupMetadata, ["joinedSubgroups", "unjoinedSubgroups"]) || {},
                    a = n.joinedSubgroups,
                    k = void 0 === a ? [] : a,
                    E = n.unjoinedSubgroups,
                    w = void 0 === E ? [] : E,
                    T = (0, s.useState)(b.GROUPS_MANAGER),
                    I = (0, l.default)(T, 2),
                    P = I[0],
                    M = I[1],
                    O = (0, s.useState)(!0),
                    A = (0, l.default)(O, 2),
                    L = A[0],
                    D = A[1];
                (0, s.useEffect)((function() {
                    (0, x.syncAllSubgroups)()
                }), []);
                var N = (0, c.default)((function() {
                    e.onBack ? e.onBack() : p.Cmd.closeDrawerRight()
                }));

                function R(e) {
                    D(!0), M(e)
                }

                function F(e) {
                    D(!1), M(e)
                }

                function B() {
                    (0, h.updateModelsForSubgroupLink)(t, [].concat((0, o.default)(k), (0, o.default)(w)))
                }

                function U() {
                    return G.apply(this, arguments)
                }

                function G() {
                    return (G = (0, i.default)(r.default.mark((function e(t) {
                        return r.default.wrap((function(e) {
                            for (;;) switch (e.prev = e.next) {
                                case 0:
                                    return e.next = 2, t;
                                case 2:
                                    F(b.GROUPS_MANAGER);
                                case 3:
                                case "end":
                                    return e.stop()
                            }
                        }), e)
                    })))).apply(this, arguments)
                }

                function H(e) {
                    var n = new Set([].concat((0, o.default)(w), (0, o.default)(k))),
                        a = e.filter((function(e) {
                            return !n.has(e.id)
                        }));
                    a.length && (0, g.default)(t.id, a.map((function(e) {
                        return e.id
                    }))), F(b.GROUPS_MANAGER)
                }
                var W = function(e) {
                        switch (e) {
                            case b.GROUPS_MANAGER:
                                return (0, y.jsx)(v.default, {
                                    joinedSubgroups: k,
                                    unjoinedSubgroups: w,
                                    onBack: N,
                                    onNewGroupFlow: function() {
                                        return R(b.NEW_GROUP)
                                    },
                                    onExistingGroupFlow: function() {
                                        return R(b.EXISTING_GROUP)
                                    },
                                    onRemoveGroup: B
                                });
                            case b.NEW_GROUP:
                                return (0, y.jsx)(_.NewGroupFlowLoadable, {
                                    onCreateGroup: U,
                                    parentGroupWid: t.id,
                                    onBack: function() {
                                        return F(b.GROUPS_MANAGER)
                                    }
                                });
                            case b.EXISTING_GROUP:
                                return (0, y.jsx)(m.default, {
                                    onBack: function() {
                                        return F(b.GROUPS_MANAGER)
                                    },
                                    onSubmit: H,
                                    currentSubgroupCount: k.length + w.length - 1
                                })
                        }
                    }(P),
                    V = S.indexOf(P);
                return (0, y.jsx)(u.default, {
                    transitionName: L ? "flow-transition-drawer-push" : "flow-transition-drawer-pop",
                    transitionAppear: !0,
                    transitionLeave: !0,
                    children: (0, y.jsx)(C.UIE, {
                        displayName: `FlowDrawer${V}`,
                        escapable: !0,
                        requestDismiss: function() {
                            N()
                        },
                        children: (0, y.jsx)("div", {
                            className: (0, d.default)(j),
                            children: W
                        })
                    }, V)
                })
            };
            var r = a(n(87757)),
                i = a(n(48926)),
                o = a(n(319)),
                l = a(n(63038)),
                u = a(n(65668)),
                s = n(67294),
                d = a(n(56720)),
                c = a(n(7539)),
                f = n(50857),
                p = n(65901),
                h = n(6836),
                m = a(n(4706)),
                v = a(n(47161)),
                g = a(n(84868)),
                _ = n(59317),
                x = n(44851),
                C = n(16835),
                y = n(85893),
                b = n(76672).Mirrored(["GROUPS_MANAGER", "NEW_GROUP", "EXISTING_GROUP"]),
                S = Array.from(b.members()),
                j = {
                    position: "lhggkp7q",
                    top: "qq0sjtgm",
                    start: "tkdu00h0",
                    width: "ln8gz9je",
                    height: "ppled2lx",
                    overflowX: "gfz4du6o",
                    overflowY: "r7fjleex"
                }
        },
        43186: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(34575)),
                i = a(n(93913)),
                o = a(n(81506)),
                l = a(n(2205)),
                u = a(n(99842)),
                s = n(65901),
                d = n(20050),
                c = a(n(15201)),
                f = n(94520),
                p = n(68985),
                h = a(n(50177)),
                m = a(n(9844)),
                v = n(26500),
                g = a(n(64533)),
                _ = a(n(93581)),
                x = n(85893),
                C = function(e) {
                    (0, l.default)(n, e);
                    var t = (0, u.default)(n);

                    function n() {
                        var e;
                        (0, r.default)(this, n);
                        for (var a = arguments.length, i = new Array(a), l = 0; l < a; l++) i[l] = arguments[l];
                        return (e = t.call.apply(t, [this].concat(i)))._handleClick = function(t, n) {
                            (0, p.findChat)(n.id).then(s.Cmd.openChatFromUnread.bind(s.Cmd)), e.end()
                        }, e._handleNewGroup = function() {
                            e.push((0, x.jsx)(_.default, {
                                onBack: e.pop,
                                onContinue: e._handleSetGroupInfo
                            }))
                        }, e._handleNewCommunity = function() {
                            e.push((0, x.jsx)(v.NewCommunityFlowLoadable, {
                                onBack: e.pop.bind((0, o.default)(e))
                            }))
                        }, e._handleSubmit = function(t, n, a, r) {
                            var i = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : [];
                            (0, f.createGroup)(t, n, a, i, r), e.end()
                        }, e._handleSetGroupInfo = function(t) {
                            e.push((0, x.jsx)(g.default, {
                                participants: t,
                                onBack: function() {
                                    e.popAndUpdate({
                                        participants: t
                                    })
                                },
                                onSubmit: e._handleSubmit
                            }))
                        }, e
                    }
                    return (0, i.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            d.ContactCollection.ensureSorted(), this.push((0, x.jsx)(c.default, {
                                title: m.default.t(668),
                                onBack: this.end,
                                onClick: this._handleClick,
                                onNewGroup: this._handleNewGroup,
                                onNewCommunity: this._handleNewCommunity
                            }))
                        }
                    }]), n
                }(h.default);
            t.default = C
        },
        76115: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = (0, c.useState)(""),
                    n = (0, l.default)(t, 2),
                    a = n[0],
                    I = n[1],
                    P = (0, c.useState)(),
                    M = (0, l.default)(P, 2),
                    O = M[0],
                    A = M[1],
                    L = (0, c.useState)(),
                    D = (0, l.default)(L, 2),
                    N = D[0],
                    R = D[1],
                    F = (0, h.default)(S.NUX.COMMUNITY),
                    B = (0, l.default)(F, 2),
                    U = B[0],
                    G = B[1],
                    H = (0, c.useState)([]),
                    W = (0, l.default)(H, 2),
                    V = W[0],
                    z = W[1],
                    q = (0, c.useState)([]),
                    K = (0, l.default)(q, 2),
                    Y = K[0],
                    Q = K[1],
                    X = (0, c.useState)(!0),
                    Z = (0, l.default)(X, 2),
                    J = Z[0],
                    $ = Z[1],
                    ee = (0, c.useState)(E.METADATA_DRAWER),
                    te = (0, l.default)(ee, 2),
                    ne = te[0],
                    ae = te[1],
                    re = (0, p.default)((function() {
                        e.onBack ? e.onBack() : v.Cmd.closeDrawerLeft()
                    }));

                function ie(e) {
                    $(!0), ae(e)
                }

                function oe(e) {
                    $(!1), ae(e)
                }

                function le() {
                    return ue.apply(this, arguments)
                }

                function ue() {
                    return (ue = (0, o.default)(r.default.mark((function e() {
                        return r.default.wrap((function(e) {
                            for (;;) switch (e.prev = e.next) {
                                case 0:
                                    return e.next = 2, (0, x.default)({
                                        name: a,
                                        desc: O,
                                        icon: N,
                                        existingGroups: V,
                                        newGroups: Y
                                    });
                                case 2:
                                    v.Cmd.closeDrawerLeft();
                                case 3:
                                case "end":
                                    return e.stop()
                            }
                        }), e)
                    })))).apply(this, arguments)
                }

                function se(e, t, n) {
                    var a = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0,
                        r = (0, u.randomHex)(8);
                    Q((function(t) {
                        return [{
                            tempId: r,
                            subject: e,
                            icon: n,
                            ephemeralDuration: a
                        }].concat((0, i.default)(t))
                    })), oe(E.GROUPS_MANAGER)
                }

                function de(e) {
                    var t = e.map((function(e) {
                        var t, n = (0, s.default)(m.ChatCollection.get(e.id.toString()), "ChatCollection.get(contact.id.toString())");
                        return {
                            id: e.id,
                            subject: n.title(),
                            participants: null === (t = n.groupMetadata) || void 0 === t ? void 0 : t.participants,
                            contact: e
                        }
                    }));
                    z(t), oe(E.GROUPS_MANAGER)
                }

                function ce(e) {
                    var t = Y.filter((function(t) {
                            return t.tempId !== e
                        })),
                        n = V.filter((function(t) {
                            return t.id.toString() !== e
                        }));
                    Y.length !== t && Q(t), V.length !== n && z(n)
                }
                var fe = w.indexOf(ne),
                    pe = function(e) {
                        switch (e) {
                            case E.METADATA_DRAWER:
                                return (0, k.jsx)(y.default, {
                                    name: a,
                                    description: O,
                                    imgBlob: N,
                                    onBack: re,
                                    onContinue: function(e, t, n) {
                                        I(e), A(t), R(n), ie(E.GROUPS_MANAGER)
                                    }
                                });
                            case E.GROUPS_MANAGER:
                                return (0, k.jsx)(C.default, {
                                    name: a,
                                    description: O,
                                    imgBlob: N,
                                    onBack: function() {
                                        return oe(E.METADATA_DRAWER)
                                    },
                                    onNewGroupFlow: function() {
                                        return ie(E.NEW_GROUP)
                                    },
                                    onExistingGroupFlow: function() {
                                        return ie(E.EXISTING_GROUP)
                                    },
                                    onRemoveGroup: ce,
                                    onCreateCommunity: le,
                                    groups: [].concat((0, i.default)(V), (0, i.default)(Y))
                                });
                            case E.NEW_GROUP:
                                return (0, k.jsx)(b.default, {
                                    onBack: function() {
                                        return oe(E.GROUPS_MANAGER)
                                    },
                                    onSubmit: se
                                });
                            case E.EXISTING_GROUP:
                                return (0, k.jsx)(g.default, {
                                    onBack: function() {
                                        return oe(E.GROUPS_MANAGER)
                                    },
                                    onSubmit: de,
                                    currentSubgroupCount: V.length + Y.length
                                })
                        }
                    }(ne);
                if (U) return (0, k.jsx)(_.default, {
                    onContinue: G
                });
                return (0, k.jsx)(d.default, {
                    transitionName: J ? "flow-transition-drawer-push" : "flow-transition-drawer-pop",
                    className: (0, f.default)(T),
                    children: (0, k.jsx)(j.UIE, {
                        displayName: `FlowDrawer${fe}`,
                        escapable: !0,
                        requestDismiss: function() {
                            re()
                        },
                        children: pe
                    }, fe)
                })
            };
            var r = a(n(87757)),
                i = a(n(319)),
                o = a(n(48926)),
                l = a(n(63038)),
                u = n(56985),
                s = a(n(272)),
                d = a(n(65668)),
                c = n(67294),
                f = a(n(56720)),
                p = a(n(7539)),
                h = a(n(52574)),
                m = n(4481),
                v = n(65901),
                g = a(n(4706)),
                _ = a(n(15001)),
                x = a(n(94751)),
                C = a(n(71115)),
                y = a(n(24980)),
                b = a(n(64533)),
                S = n(15849),
                j = n(16835),
                k = n(85893),
                E = n(76672).Mirrored(["METADATA_DRAWER", "GROUPS_MANAGER", "NEW_GROUP", "EXISTING_GROUP"]),
                w = Array.from(E.members()),
                T = {
                    position: "lhggkp7q",
                    top: "qq0sjtgm",
                    start: "tkdu00h0",
                    width: "ln8gz9je",
                    height: "ppled2lx",
                    overflowX: "gfz4du6o",
                    overflowY: "r7fjleex"
                }
        },
        40655: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(63038)),
                i = a(n(65668)),
                o = n(67294),
                l = a(n(56720)),
                u = a(n(7539)),
                s = n(65901),
                d = n(20050),
                c = n(94520),
                f = a(n(64533)),
                p = a(n(93581)),
                h = n(16835),
                m = n(85893),
                v = n(76672).Mirrored(["ADD_PARTICIPANTS_DRAWER", "SET_GROUP_INFO_DRAWER"]),
                g = Array.from(v.members()),
                _ = {
                    position: "lhggkp7q",
                    top: "qq0sjtgm",
                    start: "tkdu00h0",
                    width: "ln8gz9je",
                    height: "ppled2lx",
                    overflowX: "gfz4du6o",
                    overflowY: "r7fjleex"
                },
                x = (0, o.forwardRef)((function(e, t) {
                    var n = (0, o.useState)(v.ADD_PARTICIPANTS_DRAWER),
                        a = (0, r.default)(n, 2),
                        x = a[0],
                        C = a[1],
                        y = (0, o.useState)(!0),
                        b = (0, r.default)(y, 2),
                        S = b[0],
                        j = b[1],
                        k = (0, o.useState)([]),
                        E = (0, r.default)(k, 2),
                        w = E[0],
                        T = E[1],
                        I = (0, o.useRef)(null),
                        P = g.indexOf(x);
                    (0, o.useEffect)((function() {
                        d.ContactCollection.ensureSorted()
                    }), []), (0, o.useImperativeHandle)(t, (function() {
                        return {
                            getElement: function() {
                                return I.current
                            },
                            restoreFocus: function() {
                                var e;
                                return null === (e = I.current) || void 0 === e ? void 0 : e.focus()
                            }
                        }
                    }));
                    var M = (0, u.default)((function() {
                            e.onBack ? e.onBack() : s.Cmd.closeDrawerLeft()
                        })),
                        O = function(t, n, a, r) {
                            var i = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : [],
                                o = (0, c.createGroup)(t, n, a, i, r, e.parentGroupWid);
                            e.onCreateGroup && e.onCreateGroup(o), M()
                        },
                        A = function(e) {
                            var t;
                            T(e), t = v.SET_GROUP_INFO_DRAWER, j(!0), C(t)
                        },
                        L = function(e) {
                            switch (e) {
                                case v.SET_GROUP_INFO_DRAWER:
                                    return (0, m.jsx)(f.default, {
                                        participants: w,
                                        onBack: function() {
                                            return e = v.ADD_PARTICIPANTS_DRAWER, j(!1), void C(e);
                                            var e
                                        },
                                        onSubmit: O
                                    });
                                case v.ADD_PARTICIPANTS_DRAWER:
                                    return (0, m.jsx)(p.default, {
                                        onBack: M,
                                        onContinue: A,
                                        participants: w
                                    })
                            }
                        }(x);
                    return (0, m.jsx)(i.default, {
                        transitionName: S ? "flow-transition-drawer-push" : "flow-transition-drawer-pop",
                        transitionAppear: !0,
                        children: (0, m.jsx)(h.UIE, {
                            displayName: `FlowDrawer${P}`,
                            escapable: !0,
                            requestDismiss: function() {
                                M()
                            },
                            children: (0, m.jsx)("div", {
                                className: (0, l.default)(_),
                                ref: I,
                                children: L
                            })
                        }, P)
                    })
                }));
            t.default = x
        },
        53201: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(87757)),
                i = a(n(319)),
                o = a(n(48926)),
                l = a(n(34575)),
                u = a(n(93913)),
                s = a(n(2205)),
                d = a(n(99842)),
                c = a(n(70735)),
                f = n(73435),
                p = n(84460),
                h = n(48360),
                m = n(65901),
                v = n(20050),
                g = a(n(50177)),
                _ = a(n(9844)),
                x = n(87957),
                C = n(64803),
                y = n(99451),
                b = n(54226),
                S = n(10066),
                j = n(92428),
                k = n(85893);

            function E(e) {
                switch (e) {
                    case "about":
                        return x.PrivacyDisallowedListType.About;
                    case "profilePicture":
                        return x.PrivacyDisallowedListType.ProfilePicture;
                    case "lastSeen":
                        return x.PrivacyDisallowedListType.LastSeen;
                    case "groupAdd":
                        return x.PrivacyDisallowedListType.GroupAdd
                }
            }

            function w(e) {
                switch (e) {
                    case "about":
                        return h.fbt._("Hide About from...", null, {
                            hk: "1MC2Uy"
                        });
                    case "profilePicture":
                        return h.fbt._("Hide Profile photo from...", null, {
                            hk: "1j0ovi"
                        });
                    case "lastSeen":
                        return h.fbt._("Hide Last seen from...", null, {
                            hk: "1bZFrJ"
                        });
                    case "groupAdd":
                        return h.fbt._("My contacts except...", null, {
                            hk: "2tCWPL"
                        })
                }
            }
            var T = function(e) {
                (0, s.default)(a, e);
                var t, n = (0, d.default)(a);

                function a() {
                    var e;
                    (0, l.default)(this, a);
                    for (var t = arguments.length, u = new Array(t), s = 0; s < t; s++) u[s] = arguments[s];
                    return (e = n.call.apply(n, [this].concat(u)))._excludedContacts = [], e._handleConfirm = function() {
                        var t = (0, o.default)(r.default.mark((function t(n, a) {
                            var o, l, u, s, d, p;
                            return r.default.wrap((function(t) {
                                for (;;) switch (t.prev = t.next) {
                                    case 0:
                                        if (o = e._excludedContacts.map((function(e) {
                                                return e.id
                                            })), l = n.map((function(e) {
                                                return e.id
                                            })), u = (0, c.default)(l, o, (function(e) {
                                                return e.toString()
                                            })).map((function(e) {
                                                return {
                                                    action: b.PrivacyUserAction.Add,
                                                    wid: e
                                                }
                                            })), s = (0, c.default)(o, l, (function(e) {
                                                return e.toString()
                                            })).map((function(e) {
                                                return {
                                                    action: b.PrivacyUserAction.Remove,
                                                    wid: e
                                                }
                                            })), d = [].concat((0, i.default)(u), (0, i.default)(s)), "readreceipts" !== (p = (0, S.privacyWebNameToServerName)(e.props.category))) {
                                            t.next = 8;
                                            break
                                        }
                                        throw new Error("select_contacts_except_flow: name can not be readreceipts");
                                    case 8:
                                        return t.prev = 8, t.next = 11, (0, S.setPrivacyForOneCategory)({
                                            value: "contact_blacklist",
                                            users: d,
                                            dhash: a,
                                            name: p
                                        }, l);
                                    case 11:
                                        e.props.onConfirm(), t.next = 19;
                                        break;
                                    case 14:
                                        t.prev = 14, t.t0 = t.catch(8), t.t0 instanceof f.ServerStatusCodeError && 409 === t.t0.statusCode || (__LOG__(3, void 0, void 0, !0)`select_contacts_except_flow: set visiblity option failed ${t.t0.stack}`, SEND_LOGS("select_contacts_except_flow: set visiblity option failed")), m.Cmd.openToast((0, k.jsx)(j.Toast, {
                                            id: (0, j.genId)(),
                                            msg: h.fbt._("Failed to update privacy settings. Please try again.", null, {
                                                hk: "h89q3"
                                            })
                                        }));
                                    case 19:
                                        e.pop();
                                    case 20:
                                    case "end":
                                        return t.stop()
                                }
                            }), t, null, [
                                [8, 14]
                            ])
                        })));
                        return function() {
                            return t.apply(this, arguments)
                        }
                    }(), e
                }
                return (0, u.default)(a, [{
                    key: "componentDidMount",
                    value: function() {
                        this._pushSelectModalToFlow()
                    }
                }, {
                    key: "_pushSelectModalToFlow",
                    value: (t = (0, o.default)(r.default.mark((function e() {
                        var t, n, a, i, o = this;
                        return r.default.wrap((function(e) {
                            for (;;) switch (e.prev = e.next) {
                                case 0:
                                    return t = this.props.category, n = null, e.prev = 2, e.next = 5, (0, x.getTable)().get(E(t));
                                case 5:
                                    null != (a = e.sent) && (this._excludedContacts = a.disallowedList.map((function(e) {
                                        return v.ContactCollection.gadd((0, p.createWid)(e))
                                    })), n = a.dhash), e.next = 15;
                                    break;
                                case 9:
                                    return e.prev = 9, e.t0 = e.catch(2), __LOG__(4, void 0, new Error, !0)`error: ${String(e.t0.stack)}`, SEND_LOGS("SelectContactsExceptFlow:failed to get privacyDisallowedList"), m.Cmd.openToast((0, k.jsx)(j.Toast, {
                                        id: (0, j.genId)(),
                                        msg: h.fbt._("Failed to get contacts except list. Please try again.", null, {
                                            hk: "1OErrO"
                                        })
                                    })), this.pop(), e.abrupt("return");
                                case 15:
                                    i = new Set(this._excludedContacts.map((function(e) {
                                        return e.id.toString()
                                    }))), this.push((0, k.jsx)(C.SelectModal, {
                                        title: w(t),
                                        onCancel: function() {
                                            return o.pop()
                                        },
                                        onConfirm: function(e) {
                                            o._handleConfirm(e, n)
                                        },
                                        getInitialItems: function() {
                                            return o._excludedContacts
                                        },
                                        listType: C.ListType.CONTACT_SELECT_MODAL,
                                        maxItems: 64e3,
                                        singleSelectionFooterType: y.FooterType.CONFIRM,
                                        multipleSelectionFooterType: y.FooterType.CONFIRM,
                                        useAllContacts: !0,
                                        filter: function(e) {
                                            return i.has(e.id.toString()) || v.ContactCollection.isFilteredContact(e)
                                        },
                                        getSelectionSummary: I,
                                        enableSelectAll: !0,
                                        activeWithoutSelection: !0
                                    }));
                                case 17:
                                case "end":
                                    return e.stop()
                            }
                        }), e, this, [
                            [2, 9]
                        ])
                    }))), function() {
                        return t.apply(this, arguments)
                    })
                }]), a
            }(g.default);

            function I(e) {
                var t = e.length;
                return _.default.t(700, {
                    count: t,
                    _plural: t
                })
            }
            t.default = T
        },
        98867: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(81109)),
                i = a(n(43269)),
                o = a(n(34575)),
                l = a(n(93913)),
                u = a(n(2205)),
                s = a(n(99842)),
                d = a(n(50177)),
                c = a(n(9844)),
                f = n(64803),
                p = a(n(76411)),
                h = n(43890),
                m = n(85893),
                v = function(e) {
                    (0, u.default)(n, e);
                    var t = (0, s.default)(n);

                    function n() {
                        var e;
                        (0, o.default)(this, n);
                        for (var a = arguments.length, r = new Array(a), l = 0; l < a; l++) r[l] = arguments[l];
                        return (e = t.call.apply(t, [this].concat(r)))._handleForwardConfirmed = function(t) {
                            0 === t.length && e.end(), e._chatsToForwardTo = t, e._sendContactToChats(t)
                        }, e._sendContactToChats = function(t) {
                            var n, a = (0, i.default)(t);
                            try {
                                for (a.s(); !(n = a.n()).done;) {
                                    var r = n.value;
                                    (0, p.default)(e.props.contacts, r), r.composeQuotedMsg = null
                                }
                            } catch (e) {
                                a.e(e)
                            } finally {
                                a.f()
                            }
                            e.props.onContactsSent(t[0]), e.end()
                        }, e._popNone = function() {
                            e.pop("none")
                        }, e._handleCancel = function() {
                            e.end()
                        }, e
                    }
                    return (0, l.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = null == this.props.maxItems ? this.props.serverProps.maxParticipants : this.props.maxItems;
                            this.push((0, m.jsx)(f.SelectModal, {
                                onConfirm: this._handleForwardConfirmed,
                                maxItems: e,
                                title: c.default.t(744),
                                listType: f.ListType.CHAT_SELECT_MODAL,
                                onCancel: this._handleCancel
                            }))
                        }
                    }]), n
                }(d.default);
            t.default = function(e) {
                return (0, m.jsx)(v, (0, r.default)((0, r.default)({}, e), {}, {
                    serverProps: h.ServerProps
                }))
            }
        },
        12187: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, n = e.chat,
                    a = (0, r.default)(null === (t = n.groupMetadata) || void 0 === t ? void 0 : t.groupInviteLink, "chat.groupMetadata?.groupInviteLink"),
                    s = `${i.fbt._("Follow this link to join my WhatsApp group:",null,{hk:"4FZHrC"}).toString()} ${a}`;
                return (0, u.jsx)(l.default, {
                    title: o.default.t(494),
                    text: s,
                    pushTransition: "none",
                    popTransition: "none"
                })
            };
            var r = a(n(272)),
                i = n(48360),
                o = a(n(9844)),
                l = a(n(8694)),
                u = n(85893)
        },
        42314: (e, t, n) => {
            "use strict";
            var a = n(21314).default,
                r = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(n(81109)),
                o = r(n(87757)),
                l = r(n(48926)),
                u = r(n(34575)),
                s = r(n(93913)),
                d = r(n(2205)),
                c = r(n(99842)),
                f = n(84533),
                p = n(65901),
                h = r(n(50177)),
                m = r(n(9844)),
                v = n(64803),
                g = n(43966),
                _ = n(43890),
                x = n(85893),
                C = function(e) {
                    (0, d.default)(n, e);
                    var t = (0, c.default)(n);

                    function n() {
                        var e;
                        (0, u.default)(this, n);
                        for (var r = arguments.length, i = new Array(r), s = 0; s < r; s++) i[s] = arguments[s];
                        return (e = t.call.apply(t, [this].concat(i)))._handleForwardConfirmed = function(t) {
                            var n = e.props.msgText;
                            if (1 === t.length) {
                                var r = t[0];
                                (r.isUser && r.contact.isBlocked() ? (0, f.unblockContact)(r.contact) : a.resolve(!0)).then(function() {
                                    var t = (0, l.default)(o.default.mark((function t() {
                                        return o.default.wrap((function(t) {
                                            for (;;) switch (t.prev = t.next) {
                                                case 0:
                                                    if (!n) {
                                                        t.next = 6;
                                                        break
                                                    }
                                                    if (r.urlText = e.props.urlText, !r.active) {
                                                        t.next = 5;
                                                        break
                                                    }
                                                    return p.Cmd.pasteChatTextInput(r, n), t.abrupt("return");
                                                case 5:
                                                    r.setComposeContents({
                                                        text: n
                                                    });
                                                case 6:
                                                    return t.next = 8, p.Cmd.openChatFromUnread(r);
                                                case 8:
                                                    t.sent && p.Cmd.focusChatTextInput(r);
                                                case 10:
                                                case "end":
                                                    return t.stop()
                                            }
                                        }), t)
                                    })));
                                    return function() {
                                        return t.apply(this, arguments)
                                    }
                                }())
                            } else a.all(t.map((function(t) {
                                (t.isUser && t.contact.isBlocked() ? (0, f.unblockContact)(t.contact) : a.resolve(!0)).then((function() {
                                    t.urlText = e.props.urlText, (0, g.sendTextMsgToChat)(t, n)
                                }))
                            }))), p.Cmd.openChatFromUnread(t[0]);
                            e.end()
                        }, e
                    }
                    return (0, s.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            this.push((0, x.jsx)(v.SelectModal, {
                                onConfirm: this._handleForwardConfirmed,
                                maxItems: this.props.serverProps.multicastLimitGlobal,
                                title: m.default.t(634),
                                listType: v.ListType.CHAT_SELECT_MODAL
                            }))
                        }
                    }]), n
                }(h.default);
            t.default = function(e) {
                return (0, x.jsx)(C, (0, i.default)((0, i.default)({}, e), {}, {
                    serverProps: _.ServerProps
                }))
            }
        },
        91974: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(34575)),
                i = a(n(93913)),
                o = a(n(2205)),
                l = a(n(99842)),
                u = a(n(69237)),
                s = a(n(70135)),
                d = function(e, t) {
                    if (!t && e && e.__esModule) return e;
                    if (null === e || "object" != typeof e && "function" != typeof e) return {
                        default: e
                    };
                    var n = U(t);
                    if (n && n.has(e)) return n.get(e);
                    var a = {},
                        r = Object.defineProperty && Object.getOwnPropertyDescriptor;
                    for (var i in e)
                        if ("default" !== i && Object.prototype.hasOwnProperty.call(e, i)) {
                            var o = r ? Object.getOwnPropertyDescriptor(e, i) : null;
                            o && (o.get || o.set) ? Object.defineProperty(a, i, o) : a[i] = e[i]
                        } a.default = e, n && n.set(e, a);
                    return a
                }(n(41197)),
                c = n(65901),
                f = n(73929),
                p = n(20050),
                h = a(n(31294)),
                m = a(n(50177)),
                v = n(1577),
                g = a(n(97437)),
                _ = a(n(51657)),
                x = a(n(76885)),
                C = a(n(50507)),
                y = a(n(71238)),
                b = a(n(9245)),
                S = n(13315),
                j = n(73224),
                k = n(30194),
                E = a(n(50656)),
                w = a(n(75331)),
                T = a(n(43463)),
                I = a(n(77685)),
                P = n(48341),
                M = a(n(59742)),
                O = a(n(67171)),
                A = a(n(27557)),
                L = a(n(96533)),
                D = a(n(40934)),
                N = a(n(32657)),
                R = a(n(30869)),
                F = a(n(55315)),
                B = n(85893);

            function U(e) {
                if ("function" != typeof WeakMap) return null;
                var t = new WeakMap,
                    n = new WeakMap;
                return (U = function(e) {
                    return e ? n : t
                })(e)
            }
            var G = function(e) {
                (0, o.default)(n, e);
                var t = (0, l.default)(n);

                function n() {
                    var e;
                    (0, r.default)(this, n);
                    for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++) i[o] = arguments[o];
                    return (e = t.call.apply(t, [this].concat(i)))._showWallpaperDrawer = function() {
                        e.push((0, B.jsx)(R.default, {
                            onClose: e._pop
                        }))
                    }, e._showArchiveSettingsDrawer = function() {
                        e.push((0, B.jsx)(u.default, {
                            settings: T.default,
                            onClose: e._pop
                        }))
                    }, e._showRequestAccountInfo = function() {
                        return e.push((0, B.jsx)(E.default, {
                            settings: T.default,
                            onClose: e._pop
                        }))
                    }, e._showBlockedDrawer = function() {
                        e.push((0, B.jsx)(s.default, {
                            onClose: e._pop
                        }))
                    }, e._showProfileDrawer = function() {
                        var t = (0, v.getMaybeMeUser)(),
                            n = P.StatusCollection.assertGet(t),
                            a = k.ProfilePicThumbCollection.assertGet(t),
                            r = p.ContactCollection.assertGet(t);
                        e.push((0, B.jsx)(j.ProfileDrawerFlowLoadable, {
                            status: n,
                            profilePicThumb: a,
                            contact: r,
                            conn: f.Conn,
                            onClose: e._pop
                        }))
                    }, e._showNotifications = function() {
                        e.push((0, B.jsx)(y.default, {
                            onClose: e._pop
                        }))
                    }, e._showTwoFactor = function() {
                        e.push((0, B.jsx)(O.default, {
                            onClose: e._pop,
                            onOpenUpdateEmailDrawer: e._showTwoFactorUpdateEmail,
                            onOpenUpdatePinDrawer: e._showTwoFactorUpdatePinDrawer,
                            onOpenRegistrationDrawer: e._showTwoFactorRegistrationDrawer,
                            onOpenDisableDrawer: e._showTwoFactorDisableDrawer
                        }))
                    }, e._showTwoFactorUpdateEmail = function() {
                        e.push((0, B.jsx)(D.default, {
                            onClose: e._pop
                        }))
                    }, e._showTwoFactorUpdatePinDrawer = function() {
                        e.push((0, B.jsx)(N.default, {
                            onClose: e._pop
                        }))
                    }, e._showTwoFactorRegistrationDrawer = function() {
                        e.push((0, B.jsx)(L.default, {
                            onClose: e._pop
                        }))
                    }, e._showTwoFactorDisableDrawer = function() {
                        e.push((0, B.jsx)(A.default, {
                            onClose: e._pop
                        }))
                    }, e._showMediaAutoDownload = function() {
                        e.push((0, B.jsx)(x.default, {
                            onClose: e._pop
                        }))
                    }, e._showSecurity = function() {
                        e.push((0, B.jsx)(w.default, {
                            onClose: e._pop
                        }))
                    }, e._showPrivacyVisibilityEditDrawer = function(t) {
                        e.push((0, B.jsx)(S.PrivacyVisibilityEditDrawer, {
                            onClose: e._pop,
                            category: t
                        }))
                    }, e._showPrivacyDrawer = function() {
                        e.push((0, B.jsx)(b.default, {
                            onClose: e._pop,
                            onOpenVisibilityEditDrawer: e._showPrivacyVisibilityEditDrawer,
                            onOpenBlockedContacts: e._showBlockedDrawer,
                            onOpenEphemeralityDrawer: e._showEphemeralityDrawer
                        }))
                    }, e._showEphemeralityDrawer = function() {
                        e.push((0, B.jsx)(h.default, {
                            onClose: e._pop,
                            entryPoint: C.default.DISAPPEARING_MODE_ENTRY_POINT_TYPE.ACCOUNT_SETTINGS
                        }))
                    }, e._showDesktopSettingsDrawer = function() {
                        e.push((0, B.jsx)(F.default, {
                            onClose: e._pop
                        }))
                    }, e._showHelp = function() {
                        d.upload({
                            reason: "help-page-opened",
                            isHighPri: !0
                        }), e.push((0, B.jsx)(g.default, {
                            onClose: e._pop
                        }))
                    }, e._showThemePopup = function() {
                        c.Cmd.openModal((0, B.jsx)(M.default, {}))
                    }, e.showKeyboardShortcuts = function() {
                        c.Cmd.openModal((0, B.jsx)(_.default, {}))
                    }, e._pop = function() {
                        e.pop()
                    }, e
                }
                return (0, i.default)(n, [{
                    key: "componentDidMount",
                    value: function() {
                        this.push((0, B.jsx)(I.default, {
                            profileId: (0, v.getMaybeMeUser)(),
                            onWallpaper: this._showWallpaperDrawer,
                            onBlocked: this._showBlockedDrawer,
                            onProfile: this._showProfileDrawer,
                            onNotifications: this._showNotifications,
                            onTwoFactor: this._showTwoFactor,
                            onMediaAutoDownload: this._showMediaAutoDownload,
                            onSecurity: this._showSecurity,
                            onPrivacy: this._showPrivacyDrawer,
                            onDesktopSettings: this._showDesktopSettingsDrawer,
                            onHelp: this._showHelp,
                            onThemeSettings: this._showThemePopup,
                            onKeyboardShortcuts: this.showKeyboardShortcuts,
                            onClose: this._pop,
                            settings: T.default,
                            onArchiveSettings: this._showArchiveSettingsDrawer,
                            onRequestAccountInfo: this._showRequestAccountInfo
                        }))
                    }
                }]), n
            }(m.default);
            t.default = G
        },
        87938: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(34575)),
                i = a(n(93913)),
                o = a(n(2205)),
                l = a(n(99842)),
                u = n(65901),
                s = a(n(50177)),
                d = n(63641),
                c = a(n(72692)),
                f = a(n(86900)),
                p = n(85893),
                h = function(e) {
                    (0, o.default)(n, e);
                    var t = (0, l.default)(n);

                    function n() {
                        var e;
                        (0, r.default)(this, n);
                        for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++) i[o] = arguments[o];
                        return (e = t.call.apply(t, [this].concat(i))).sessionId = Math.round(1e9 * Math.random()), e._openStatusViewer = function(t, n, a) {
                            e.push((0, p.jsx)(f.default, {
                                initialStatusV3: t,
                                initialStatusMsg: n,
                                closeStatusViewer: e.closeStatusViewer,
                                sessionId: e.sessionId,
                                rowIdx: a
                            }), "none")
                        }, e.closeStatusViewer = function(t) {
                            t ? e.end() : e.pop("none")
                        }, e
                    }
                    return (0, i.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this;
                            this.push((0, p.jsx)(c.default, {
                                onOpenStatus: this._openStatusViewer,
                                closeStatusViewer: this.closeStatusViewer,
                                sessionId: this.sessionId
                            }), "status-v3-modal"), this.props.listeners.add(u.Cmd, "close_status_viewer", (function() {
                                e.closeStatusViewer(!0)
                            }))
                        }
                    }, {
                        key: "componentWillUnmount",
                        value: function() {
                            this.props.onFlowEnd()
                        }
                    }]), n
                }(s.default),
                m = (0, d.ListenerHOC)(h);
            t.default = m
        },
        67299: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(34575)),
                i = a(n(93913)),
                o = a(n(2205)),
                l = a(n(99842)),
                u = n(65901),
                s = a(n(50177)),
                d = a(n(50507)),
                c = a(n(84032)),
                f = a(n(36026)),
                p = a(n(64085)),
                h = n(85893),
                m = function(e) {
                    (0, o.default)(n, e);
                    var t = (0, l.default)(n);

                    function n() {
                        var e;
                        (0, r.default)(this, n);
                        for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++) i[o] = arguments[o];
                        return (e = t.call.apply(t, [this].concat(i)))._scrollOffset = 0, e._handleScrollOffsetChange = function(t) {
                            e._scrollOffset = t
                        }, e._handleStickerStore = function() {
                            var t = (0, h.jsx)(p.default, {
                                onStickerPackDetails: e._handleStickerPackDetails,
                                onClose: e._pop,
                                onScrollOffsetChange: e._handleScrollOffsetChange
                            });
                            e.push(t)
                        }, e._handleStickerPackDetails = function(t) {
                            var n = (0, h.jsx)(f.default, {
                                stickerPack: t,
                                onStickerClick: e._handleStickerDetails,
                                onStickerEnter: e._handleStickerDetails,
                                onBack: e._handleBackStickerPackDetails
                            });
                            e.push(n)
                        }, e._handleStickerPackDetailsById = function(t) {
                            var n = (0, h.jsx)(f.default, {
                                stickerPackId: t,
                                onStickerClick: e._handleStickerDetails,
                                onStickerEnter: e._handleStickerDetails,
                                onClose: e._end
                            });
                            e.push(n)
                        }, e._handleStickerDetails = function(t, n) {
                            var a = (0, h.jsx)(c.default, {
                                sticker: t,
                                stickerPack: n,
                                onSend: e._handleStickerSend,
                                onBack: e._pop
                            });
                            e.push(a)
                        }, e._handleStickerSend = function(t) {
                            e._pop(), u.Cmd.once("ui_idle", (function() {
                                e.props.onSticker(t, d.default.STICKER_SEND_ORIGIN_TYPE.STICKER_STORE)
                            }))
                        }, e._pop = function() {
                            e.pop()
                        }, e._end = function() {
                            e.end(!0)
                        }, e._handleBackStickerPackDetails = function() {
                            e.popAndUpdate({
                                scrollOffset: e._scrollOffset
                            })
                        }, e
                    }
                    return (0, i.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this.props.stickerPackId;
                            e ? this._handleStickerPackDetailsById(e) : this._handleStickerStore()
                        }
                    }]), n
                }(s.default);
            t.default = m
        },
        40415: (e, t, n) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 200,
                    t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : window,
                    n = (0, a.useRef)(null);
                (0, r.useListener)(t, "mousedown", (function() {
                    n.current = performance.now()
                })), (0, r.useListener)(t, "mouseup", (function() {
                    n.current = null
                }));
                var i = (0, a.useCallback)((function() {
                    var t = n.current;
                    return null != t && performance.now() - t >= e
                }), [e]);
                return i
            };
            var a = n(67294),
                r = n(91285)
        },
        89713: (e, t, n) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = (0, a.useRef)(null),
                    n = (0, a.useRef)(!1);
                return (0, a.useEffect)((function() {
                    if (null != e) {
                        var a = "PointerEvent" in window;
                        return a ? (document.addEventListener("pointerdown", i), document.addEventListener("pointermove", o), document.addEventListener("pointerup", l)) : document.addEventListener("click", u),
                            function() {
                                a ? (document.removeEventListener("pointerdown", i), document.removeEventListener("pointermove", o), document.removeEventListener("pointerup", l)) : document.removeEventListener("click", u)
                            }
                    }

                    function r(e) {
                        var n = t.current;
                        return !!n && (e instanceof Node && !n.contains(e))
                    }

                    function i(e) {
                        if (e.isPrimary) {
                            var t = r(e.target);
                            n.current = t
                        }
                    }

                    function o(e) {
                        "touch" !== e.pointerType && "pen" !== e.pointerType || (n.current = !1)
                    }

                    function l(t) {
                        var a = r(t.target);
                        n.current && a && t.isPrimary && e(t), n.current = !1
                    }

                    function u(t) {
                        r(t.target) && e(t)
                    }
                }), [e]), t
            };
            var a = n(67294)
        },
        78620: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.useSendIq = function(e, t) {
                var n = (0, i.useState)(!1),
                    a = (0, r.default)(n, 2),
                    l = a[0],
                    u = a[1];
                return [l, function() {
                    return u(!0), (0, o.sendIq)(e, t).finally((function() {
                        return u(!1)
                    }))
                }]
            };
            var r = a(n(63038)),
                i = n(67294),
                o = n(34733)
        },
        5991: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e, t) {
                var n = (0, o.default)(t),
                    a = (0, i.useState)(e),
                    l = (0, r.default)(a, 2),
                    u = l[0],
                    s = l[1],
                    d = (0, i.useCallback)((function() {
                        return s((function(e) {
                            var t = !e;
                            return n(t), t
                        }))
                    }), [n]);
                return [u, d]
            };
            var r = a(n(63038)),
                i = n(67294),
                o = a(n(44588))
        },
        31779: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.MerchantDetailsFormFlowLoadable = void 0;
            var r = a(n(87757)),
                i = a(n(48926)),
                o = a(n(68356)),
                l = a(n(39540)),
                u = a(n(19509)),
                s = n(85893),
                d = (0, u.default)((0, i.default)(r.default.mark((function e() {
                    var t;
                    return r.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2, Promise.all([n.e(721), n.e(6738), n.e(9139), n.e(275)]).then(n.bind(n, 61834));
                            case 2:
                                return t = e.sent, e.abrupt("return", t.default);
                            case 4:
                            case "end":
                                return e.stop()
                        }
                    }), e)
                }))), "MerchantDetailsFormFlow"),
                c = (0, o.default)({
                    loader: d,
                    loading: function(e) {
                        return (0, s.jsx)(l.default, {
                            error: Boolean(e.error)
                        })
                    }
                });
            t.MerchantDetailsFormFlowLoadable = c
        },
        89811: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), Object.defineProperty(t, "ExpiredLocationDrawer", {
                enumerable: !0,
                get: function() {
                    return i.default
                }
            }), Object.defineProperty(t, "LiveLocationDrawer", {
                enumerable: !0,
                get: function() {
                    return r.default
                }
            });
            var r = a(n(17174)),
                i = a(n(70533))
        },
        77653: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(70166),
                i = n(67294),
                o = a(n(79446)),
                l = n(34330),
                u = n(51349),
                s = n(64585),
                d = n(85893);

            function c(e, t) {
                var n = e.layer,
                    a = e.outlineLayer,
                    c = e.dimension,
                    f = (e.removeBackground, e.scale),
                    p = e.visible,
                    h = (0, i.useRef)(),
                    m = (0, i.useRef)();
                if ((0, i.useImperativeHandle)(t, (function() {
                        return {
                            toCanvas: function() {
                                var e, t = null === (e = m.current) || void 0 === e ? void 0 : e.getBoundingRect(),
                                    n = h.current;
                                if (t && n && !t.size.isEmpty()) {
                                    var a, i = t.x,
                                        o = t.y,
                                        l = t.width,
                                        u = t.height;
                                    null === (a = m.current) || void 0 === a || a.show();
                                    var d, c = n.toCanvas({
                                        x: i,
                                        y: o,
                                        width: l,
                                        height: u,
                                        pixelRatio: 1 / f
                                    });
                                    null === (d = m.current) || void 0 === d || d.hide();
                                    var p = Math.max(c.width, c.height),
                                        v = Math.max(Math.ceil(s.STICKER_BORDER_WIDTH * (p / s.STICKER_DIMENSION)), 2),
                                        g = (0, r.addBorder)(c, v);
                                    return (0, r.trim)(g)
                                }
                            }
                        }
                    })), !n || !a) return null;
                var v = n.frame.getCenter();
                return (0, d.jsxs)(u.Group, {
                    ref: h,
                    visible: p,
                    children: [(0, d.jsx)(u.Group, {
                        x: v.x,
                        y: v.y,
                        offsetX: n.width / 2,
                        offsetY: n.height / 2,
                        width: n.width,
                        height: n.height,
                        rotation: n.rotation,
                        scaleX: n.scale,
                        scaleY: n.scale,
                        children: (0, d.jsx)(o.default, {
                            layer: n
                        })
                    }), (0, d.jsx)(l.Outline, {
                        ref: m,
                        layer: a,
                        dimension: c
                    })]
                })
            }
            var f = (0, i.forwardRef)(c);
            t.default = f
        },
        5956: (e, t, n) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.CanvasContext = void 0;
            var a = {
                    transforming: !1,
                    dragging: !1,
                    editing: !1
                },
                r = (0, n(67294).createContext)(a);
            t.CanvasContext = r
        },
        22029: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.CanvasLayer = function(e) {
                var t, n, a, C, y = e.layer,
                    b = e.scale,
                    S = e.editing,
                    j = e.selected,
                    k = e.editable,
                    E = e.hidden,
                    w = e.textBackgroundShadow,
                    T = e.dimension,
                    I = e.selectedGroupRef,
                    P = e.transformerRef,
                    M = e.stageWidth,
                    O = e.stageHeight,
                    A = e.onSelect,
                    L = e.onDoubleClick,
                    D = e.onDragStart,
                    N = e.onDragEnd,
                    R = e.onDragMove,
                    F = e.onTransformStart,
                    B = e.onTransformEnd,
                    U = (0, i.useState)(!1),
                    G = (0, r.default)(U, 2),
                    H = G[0],
                    W = G[1],
                    V = (0, i.useContext)(o.CanvasContext);
                k && j && !S && (n = (0, _.jsx)(m.default, {
                    layer: y
                }), C = (0, _.jsx)(h.Transformer, {
                    ref: P,
                    anchorStroke: "blue",
                    anchorFill: "white",
                    anchorSize: 8,
                    anchorCornerRadius: 4,
                    borderEnabled: !1,
                    centeredScaling: !0,
                    enabledAnchors: ["bottom-right"],
                    resizeEnabled: !0,
                    rotateAnchorOffset: 12,
                    rotateEnabled: !0,
                    rotationSnaps: x,
                    ignoreStroke: !0,
                    rotationSnapTolerance: 10,
                    boundBoxFunc: function(e, t) {
                        var n = t.width / b,
                            a = t.height / b;
                        return y instanceof g.TextLayer && (n <= 18 || a <= 18) || n <= 36 || a <= 36 ? e : t
                    }
                }, "transformer"));
                k && H && !j && (a = (0, _.jsx)(u.default, {
                    layer: y
                }));
                y instanceof d.ImageLayer ? t = (0, _.jsx)(s.default, {
                    layer: y
                }) : y instanceof l.DrawLayer ? y.type === l.DrawLayerType.Paint ? t = (0, _.jsx)(p.default, {
                    layer: y
                }) : y.type === l.DrawLayerType.Outline && (t = (0, _.jsx)(f.Outline, {
                    layer: y,
                    dimension: T
                })) : y instanceof g.TextLayer && !S && (t = (0, _.jsx)(v.default, {
                    layer: y,
                    shadow: w
                }));
                E && (t = (0, _.jsx)(h.Rect, {
                    width: y.width,
                    height: y.height
                }));
                (0, i.useEffect)((function() {
                    S && W(!1)
                }), [S, W]);
                var z = y.frame.getCenter();
                return (0, _.jsxs)(_.Fragment, {
                    children: [(0, _.jsxs)(h.Group, {
                        ref: j ? I : null,
                        x: z.x,
                        y: z.y,
                        offsetX: y.width / 2,
                        offsetY: y.height / 2,
                        width: y.width,
                        height: y.height,
                        rotation: y.rotation,
                        scaleX: y.scale,
                        scaleY: y.scale,
                        draggable: k,
                        dragBoundFunc: function(e) {
                            var t = e.x,
                                n = e.y;
                            return t < 0 ? t = 0 : t > M && (t = M), n < 0 ? n = 0 : n > O && (n = O), {
                                x: t,
                                y: n
                            }
                        },
                        onMouseEnter: function(e) {
                            !y.editable || V.dragging || V.transforming || (e.cancelBubble = !0, W(!0))
                        },
                        onMouseLeave: function(e) {
                            y.editable && (e.cancelBubble = !0, W(!1))
                        },
                        onMouseDown: function(e) {
                            y.editable && (e.cancelBubble = !0, A(y))
                        },
                        onDblClick: function() {
                            return L(y)
                        },
                        onDragStart: function() {
                            return D(y)
                        },
                        onDragEnd: function(e) {
                            var t = (0, c.getPointFromGroup)(e);
                            N(y, t)
                        },
                        onDragMove: function(e) {
                            return R(y, e)
                        },
                        onTransformStart: function() {
                            return F(y)
                        },
                        onTransformEnd: function(e) {
                            if (j) {
                                var t = (0, c.getRotationFromGroup)(e),
                                    n = (0, c.getScaleFromGroup)(e);
                                B(y, t, n)
                            }
                        },
                        children: [t, n, a]
                    }), C]
                })
            };
            var r = a(n(63038)),
                i = n(67294),
                o = n(5956),
                l = n(63204),
                u = a(n(4392)),
                s = a(n(79446)),
                d = n(89826),
                c = n(76249),
                f = n(34330),
                p = a(n(62451)),
                h = n(51349),
                m = a(n(76909)),
                v = a(n(91278)),
                g = n(73860),
                _ = n(85893),
                x = [0, 45, 90, 135, 180, 225, 270, 315]
        },
        78567: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.EditableText = void 0;
            var r = a(n(81109)),
                i = a(n(63038)),
                o = a(n(18446)),
                l = n(48360),
                u = n(67294),
                s = a(n(89713)),
                d = a(n(79787)),
                c = a(n(77803)),
                f = n(98169),
                p = a(n(74692)),
                h = a(n(79522)),
                m = n(10508),
                v = n(45738),
                g = a(n(7665)),
                _ = n(62367),
                x = n(16835),
                C = a(n(93820)),
                y = n(85893),
                b = (0, h.default)(),
                S = (0, u.forwardRef)((function(e, t) {
                    var n = e.text,
                        a = e.layer,
                        h = e.layerCenter,
                        _ = e.scale,
                        S = e.onSave,
                        E = e.onUnselect,
                        w = e.onOutsideClick,
                        T = (0, u.useState)(n),
                        I = (0, i.default)(T, 2),
                        P = I[0],
                        M = I[1],
                        O = (0, u.useState)(),
                        A = (0, i.default)(O, 2),
                        L = A[0],
                        D = A[1],
                        N = (0, u.useRef)(),
                        R = (0, u.useCallback)((function() {
                            S(P.replace(/^\n+/, "").replace(/\n+$/, ""))
                        }), [S, P]);
                    (0, u.useImperativeHandle)(t, (function() {
                        return {
                            save: function() {
                                R(), E()
                            }
                        }
                    }), [R, E]);
                    var F = (0, s.default)((function(e) {
                            L || !1 === (null == w ? void 0 : w(e)) || (R(), E())
                        })),
                        B = function(e) {
                            var t = N.current;
                            t && t.replaceSelection(e)
                        },
                        U = function() {
                            D(null)
                        },
                        G = (0, c.default)((function(e) {
                            D({
                                menu: (0, y.jsx)(m.EmojiPanel, {
                                    onEmoji: B,
                                    onFocusNext: U,
                                    onFocusPrev: U
                                }),
                                anchor: e.target
                            })
                        })),
                        H = (0, i.default)(G, 2),
                        W = H[0],
                        V = H[1];
                    (0, u.useEffect)((function() {
                        var e, t;
                        null === (e = N.current) || void 0 === e || null === (t = e.refInput) || void 0 === t || t.focus()
                    }), []);
                    var z = Math.max(a.scale * _, 1.2),
                        q = {
                            borderWidth: 2 / z,
                            padding: a.styles.layerPadding - 2,
                            transform: `scale(${z})`
                        },
                        K = {
                            left: h.x * _,
                            top: h.y * _
                        },
                        Y = {
                            color: a.textColor.toHex(),
                            fontFamily: (0, v.getFontStyle)(a.font).fontFamily,
                            fontSize: a.fontSize,
                            lineHeight: `${a.lineHeight+2*a.styles.lineVerticalPadding}px`,
                            textAlign: j(a.alignment),
                            paddingLeft: a.styles.lineHorizontalPadding + 1,
                            paddingRight: a.styles.lineHorizontalPadding + 1,
                            paddingTop: 1,
                            paddingBottom: 1,
                            borderWidth: 0,
                            borderRadius: 6,
                            margin: 0,
                            boxSizing: "border-box",
                            backgroundColor: a.textBackground ? a.textBackgroundColor.toHex() : void 0
                        },
                        Q = a.styles.backgroundShadow,
                        X = {
                            boxShadow: a.textBackground ? `${Q.offsetX}px ${Q.offsetY}px ${Q.radius}px ${Q.spread}px ${Q.color.toRgbaString()}` : void 0
                        },
                        Z = function(e) {
                            var t = (0, d.default)(e),
                                n = (0, u.useRef)(0);
                            t && !(0, o.default)(t, e) && (n.current += 1);
                            return n.current
                        }(Y),
                        J = (0, r.default)((0, r.default)({}, Y), {}, {
                            fontSize: 15,
                            paddingRight: 8,
                            fontFamily: void 0
                        }),
                        $ = 20 - a.fontSize,
                        ee = a.styles.lineVerticalPadding - $,
                        te = `\n    .${p.default.inputContainer} .emoji.emoji.emoji {\n      margin: ${ee}px ${-$/2}px 0 ${-$/2}px;\n      transform: scale(${a.fontSize/20});\n    }\n  `;
                    return (0, y.jsxs)("div", {
                        className: p.default.positioner,
                        style: K,
                        children: [(0, y.jsxs)("div", {
                            className: p.default.container,
                            style: q,
                            children: [(0, y.jsx)("style", {
                                children: te
                            }), (0, y.jsxs)("div", {
                                className: p.default.resizableInput,
                                ref: F,
                                children: [(0, y.jsx)("div", (0, r.default)((0, r.default)({
                                    className: p.default.emojiButton
                                }, V), {}, {
                                    ref: W,
                                    style: {
                                        transform: `scale(${1/z}) translateX(-${50*z}%)`,
                                        top: 28 * (1 - 1 / z) / 2 - 40
                                    },
                                    children: (0, y.jsx)("div", {
                                        className: p.default.buttonIconWrapper,
                                        children: (0, y.jsx)(g.default, {
                                            name: "smiley"
                                        })
                                    })
                                })), (0, y.jsx)("div", {
                                    className: p.default.inputContainer,
                                    style: X,
                                    children: (0, y.jsx)(b, {
                                        style: Y,
                                        ref: N,
                                        initialValue: P,
                                        onChange: function(e) {
                                            var t = e;
                                            t = e.match(/\n\n$/) ? t.replace(/\n\n$/, "\n") : t.replace(/\n$/, ""), M(t)
                                        },
                                        onEnter: R,
                                        multiline: !0,
                                        theme: "media-editor-text-input",
                                        placeholder: l.fbt._("Type something", null, {
                                            hk: "15NglL"
                                        })
                                    }, Z)
                                }), (0, y.jsx)(k, {
                                    layer: a,
                                    text: P || l.fbt._("Type something", null, {
                                        hk: "15NglL"
                                    }).toString(),
                                    style: P ? Y : J
                                })]
                            })]
                        }), L && (0, y.jsx)(x.UIE, {
                            displayName: "EmojiPicker",
                            escapable: !0,
                            popable: !0,
                            requestDismiss: U,
                            children: (0, y.jsx)(C.default, {
                                contextMenu: (0, r.default)({
                                    dirY: f.DirY.TOP,
                                    type: "emoji_picker"
                                }, L)
                            })
                        })]
                    })
                }));

            function j(e) {
                switch (e) {
                    case v.TextAlignment.LEFT:
                        return "left";
                    case v.TextAlignment.CENTER:
                        return "center";
                    case v.TextAlignment.RIGHT:
                        return "right"
                }
            }

            function k(e) {
                var t = e.text,
                    n = e.style,
                    a = e.layer;
                return (0, y.jsx)("div", {
                    className: p.default.hiddenText,
                    style: n,
                    children: (0, _.getLines)(t, a.font, a.fontSize, 0).map((function(e, t) {
                        return (0, y.jsx)("div", {
                            className: p.default.hiddenTextLine,
                            children: 0 === e.words.length ? " " : e.words.map((function(e, t) {
                                return e.emojiPath ? (0, y.jsx)("span", {
                                    className: p.default.emojiPlaceholder
                                }, t) : e.text
                            }))
                        }, t)
                    }))
                })
            }
            t.EditableText = S
        },
        4392: (e, t, n) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.layer,
                    n = t instanceof r.ImageLayer && (t.isSticker() || t.isBackground());
                return (0, o.jsx)(i.Rect, {
                    width: t.width,
                    height: t.height,
                    stroke: l.toRgbaString(),
                    strokeWidth: 2,
                    cornerRadius: n ? 40 : 5,
                    strokeScaleEnabled: !1
                })
            };
            var a = n(28448),
                r = n(89826),
                i = n(51349),
                o = n(85893),
                l = new a.Color(82, 248, 24, 1)
        },
        79446: (e, t, n) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.layer;
                return (0, r.jsx)(a.Image, {
                    width: t.width,
                    height: t.height,
                    image: t.image
                })
            };
            var a = n(51349),
                r = n(85893)
        },
        7844: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(81109)),
                i = a(n(319)),
                o = a(n(43269)),
                l = a(n(63038)),
                u = a(n(18446)),
                s = n(67294),
                d = a(n(77653)),
                c = n(5956),
                f = n(22029),
                p = n(28448),
                h = n(78567),
                m = n(76249),
                v = a(n(20306)),
                g = a(n(97678)),
                _ = n(51349),
                x = n(73860),
                C = n(55072),
                y = a(n(55225)),
                b = n(85893),
                S = "#52F818";

            function j(e, t) {
                var n, a = e.inPaintMode,
                    j = void 0 !== a && a,
                    k = e.inOutlineMode,
                    E = void 0 !== k && k,
                    w = e.paintColor,
                    T = void 0 === w ? p.Color.White : w,
                    I = e.paintThickness,
                    P = void 0 === I ? C.THICKNESS.MEDIUM : I,
                    M = e.outlineSmoothing,
                    O = void 0 === M || M,
                    A = e.canEditLayer,
                    L = void 0 === A || A,
                    D = e.canEditBackground,
                    N = void 0 !== D && D,
                    R = e.outlineEnabled,
                    F = void 0 !== R && R,
                    B = e.currentlyEditingTextLayer,
                    U = void 0 === B ? null : B,
                    G = e.draftTextLayer,
                    H = void 0 === G ? null : G,
                    W = e.onLayerSelect,
                    V = void 0 === W ? function() {} : W,
                    z = e.onLayerUnselect,
                    q = void 0 === z ? function() {} : z,
                    K = e.onLayerTranslate,
                    Y = void 0 === K ? function() {} : K,
                    Q = e.onLayerTransform,
                    X = void 0 === Q ? function() {} : Q,
                    Z = e.onTextEditingStart,
                    J = void 0 === Z ? function() {} : Z,
                    $ = e.onTextEditingEnd,
                    ee = void 0 === $ ? function() {} : $,
                    te = e.onTextInputOutsideClick,
                    ne = void 0 === te ? function() {
                        return !0
                    } : te,
                    ae = e.onPaintDrawEnd,
                    re = void 0 === ae ? function() {} : ae,
                    ie = e.onOutlineDrawEnd,
                    oe = void 0 === ie ? function() {} : ie,
                    le = e.onOutlineDone,
                    ue = void 0 === le ? function() {} : le,
                    se = e.scale,
                    de = e.data,
                    ce = (0, s.useRef)(null),
                    fe = (0, s.useRef)(null),
                    pe = (0, s.useRef)(null),
                    he = (0, s.useRef)(null),
                    me = (0, s.useRef)(null),
                    ve = (0, s.useRef)(null),
                    ge = (0, s.useRef)(null),
                    _e = (0, s.useRef)(null),
                    xe = (0, s.useRef)(null),
                    Ce = (0, s.useRef)({
                        dragging: !1,
                        transforming: !1,
                        editing: !1
                    }),
                    ye = (0, s.useState)({
                        horizontal: null,
                        vertical: null
                    }),
                    be = (0, l.default)(ye, 2),
                    Se = be[0],
                    je = be[1],
                    ke = (0, s.useState)(!1),
                    Ee = (0, l.default)(ke, 2),
                    we = Ee[0],
                    Te = Ee[1],
                    Ie = (0, s.useState)(!1),
                    Pe = (0, l.default)(Ie, 2),
                    Me = Pe[0],
                    Oe = Pe[1],
                    Ae = (0, s.useState)("crosshair"),
                    Le = (0, l.default)(Ae, 2),
                    De = Le[0],
                    Ne = Le[1],
                    Re = function() {
                        Ce.current.dragging = !0, Te(!0)
                    },
                    Fe = function(e, t) {
                        Ce.current.dragging = !1, Y(e, t), je({
                            vertical: null,
                            horizontal: null
                        }), Te(!1)
                    },
                    Be = function() {
                        Ce.current.transforming = !0, Oe(!0)
                    },
                    Ue = function(e, t, n) {
                        Ce.current.transforming = !1, X(e, t, n), Oe(!1)
                    },
                    Ge = function() {
                        if (!ce.current) throw new Error("MediaEditorCanvas:stage is not initialized");
                        return ce.current.getStage()
                    },
                    He = function(e, t) {
                        for (var n, a, r, i, l = [{
                                position: Ge().width() / 2,
                                orientation: "v"
                            }, {
                                position: Ge().height() / 2,
                                orientation: "h"
                            }], s = t.target, d = s.absolutePosition(), c = [], f = 0, p = [{
                                position: d.y,
                                orientation: "h"
                            }, {
                                position: d.x,
                                orientation: "v"
                            }]; f < p.length; f++) {
                            var h, m = p[f],
                                v = (0, o.default)(l);
                            try {
                                for (v.s(); !(h = v.n()).done;) {
                                    var g = h.value;
                                    if (m.orientation === g.orientation) {
                                        var _ = Math.abs(g.position - m.position);
                                        _ <= 15 && c.push({
                                            guide: g,
                                            distance: _
                                        })
                                    }
                                }
                            } catch (e) {
                                v.e(e)
                            } finally {
                                v.f()
                            }
                        }
                        c.sort((function(e, t) {
                            return e.distance - t.distance
                        }));
                        for (var x = null, C = null, y = 0, b = c; y < b.length; y++) {
                            var S = b[y].guide;
                            "v" !== S.orientation || x ? "h" !== S.orientation || C || (C = S) : x = S
                        }
                        s.absolutePosition({
                            x: null !== (n = null === (a = x) || void 0 === a ? void 0 : a.position) && void 0 !== n ? n : d.x,
                            y: null !== (r = null === (i = C) || void 0 === i ? void 0 : i.position) && void 0 !== r ? r : d.y
                        });
                        var j = {
                            horizontal: C,
                            vertical: x
                        };
                        (0, u.default)(Se, j) || je(j)
                    },
                    We = function(e) {
                        e instanceof x.TextLayer && J(e)
                    },
                    Ve = function(e) {
                        H && ee(H, e)
                    },
                    ze = function(e) {
                        V(e)
                    },
                    qe = function(e) {
                        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                            n = t.hidden,
                            a = void 0 !== n && n,
                            r = de.selectedLayer === e && U !== e,
                            i = de.screenWidth * se,
                            o = de.screenHeight * se,
                            l = de.cropSize.dimension,
                            u = e.editable && L && !j && !E && !U;
                        return (0, b.jsx)(f.CanvasLayer, {
                            layer: e,
                            scale: se,
                            textBackgroundShadow: !we,
                            dimension: l,
                            editing: U === e,
                            selected: r,
                            editable: u,
                            stageHeight: o,
                            stageWidth: i,
                            selectedGroupRef: function(e) {
                                fe.current = e
                            },
                            transformerRef: function(e) {
                                pe.current = e
                            },
                            onSelect: ze,
                            onDoubleClick: We,
                            onDragMove: He,
                            onDragStart: Re,
                            onDragEnd: Fe,
                            onTransformStart: Be,
                            onTransformEnd: Ue,
                            hidden: a
                        }, String(e.id))
                    };
                (0, s.useEffect)((function() {
                    var e, t, n;
                    fe.current && (null === (e = pe.current) || void 0 === e || e.nodes([fe.current]), null === (t = pe.current) || void 0 === t || null === (n = t.getLayer()) || void 0 === n || n.batchDraw())
                }));
                var Ke = function() {
                        var e, t, n, a, r, i, o, l, u, s, d;
                        null === (e = pe.current) || void 0 === e || e.hide(), null === (t = fe.current) || void 0 === t || null === (n = t.getChildren()[1]) || void 0 === n || n.hide(), null === (a = fe.current) || void 0 === a || null === (r = a.getChildren()[2]) || void 0 === r || r.hide(), null === (i = he.current) || void 0 === i || i.hide(), null === (o = ve.current) || void 0 === o || o.toggleCursor(!1), null === (l = ge.current) || void 0 === l || l.hide(), null === (u = pe.current) || void 0 === u || null === (s = u.getLayer()) || void 0 === s || s.batchDraw(), null === (d = me.current) || void 0 === d || d.hide();
                        var c, f, p, h, m, v, g, _, x, C, y, b = Ge().toDataURL({
                            mimetype: "image/png",
                            quality: 1,
                            pixelRatio: 1 / se
                        });
                        return null === (c = pe.current) || void 0 === c || c.show(), null === (f = fe.current) || void 0 === f || null === (p = f.getChildren()[1]) || void 0 === p || p.show(), null === (h = fe.current) || void 0 === h || null === (m = h.getChildren()[2]) || void 0 === m || m.show(), null === (v = he.current) || void 0 === v || v.show(), null === (g = ve.current) || void 0 === g || g.toggleCursor(!0), null === (_ = ge.current) || void 0 === _ || _.show(), null === (x = pe.current) || void 0 === x || null === (C = x.getLayer()) || void 0 === C || C.batchDraw(), null === (y = me.current) || void 0 === y || y.show(), b
                    },
                    Ye = function() {
                        var e;
                        return null === (e = xe.current) || void 0 === e ? void 0 : e.toCanvas()
                    },
                    Qe = function() {
                        var e;
                        null === (e = _e.current) || void 0 === e || e.save()
                    },
                    Xe = function() {
                        return (we || Me) && de.selectedLayer === de.background
                    };
                (0, s.useImperativeHandle)(t, (function() {
                    return {
                        getStage: Ge,
                        getDataUrl: Ke,
                        endTextEditing: Qe,
                        getBackground: Ye
                    }
                }));
                var Ze = de.screenWidth / 2,
                    Je = de.screenHeight / 2,
                    $e = de.toScreenPoint(de.cropCenter),
                    et = de.toScreenPoint(de.canvasCenter),
                    tt = Ze - ($e.x - et.x),
                    nt = Je - ($e.y - et.y),
                    at = de.cropSize.dimension;
                return (0, b.jsxs)(b.Fragment, {
                    children: [(0, b.jsx)(_.Stage, {
                        ref: ce,
                        width: de.screenWidth * se,
                        height: de.screenHeight * se,
                        onMouseDown: function(e) {
                            U || (0, m.isEventOnAnchor)(e) || q()
                        },
                        scaleX: se,
                        scaleY: se,
                        style: (0, r.default)({
                            cursor: j ? "none" : E ? De : "default"
                        }, null !== (n = e.style) && void 0 !== n ? n : {}),
                        children: (0, b.jsxs)(c.CanvasContext.Provider, {
                            value: Ce.current,
                            children: [F && (0, b.jsx)(_.Layer, {
                                x: tt,
                                y: nt,
                                offsetX: de.width / 2,
                                offsetY: de.height / 2,
                                rotation: de.rotation,
                                children: (0, b.jsx)(y.default, {
                                    ref: me,
                                    width: de.width,
                                    height: de.height
                                })
                            }, "transparent"), (0, b.jsx)(_.Layer, {
                                x: tt,
                                y: nt,
                                offsetX: de.width / 2,
                                offsetY: de.height / 2,
                                rotation: de.rotation,
                                children: (0, b.jsx)(d.default, {
                                    ref: xe,
                                    layer: de.background,
                                    outlineLayer: de.outlineLayer,
                                    dimension: at,
                                    removeBackground: F && !E,
                                    scale: se,
                                    visible: !Xe()
                                })
                            }, "background"), (0, b.jsx)(_.Layer, {
                                x: tt,
                                y: nt,
                                offsetX: de.width / 2,
                                offsetY: de.height / 2,
                                rotation: de.rotation,
                                children: function() {
                                    var e = [];
                                    if (de.paintLayer && !Ce.current.dragging) {
                                        var t = qe(de.paintLayer);
                                        e.push(t)
                                    }
                                    if (N && de.background) {
                                        var n = qe(de.background, {
                                            hidden: !Xe()
                                        });
                                        e.push(n)
                                    }
                                    if (de.paintLayer && Ce.current.dragging) {
                                        var a = qe(de.paintLayer);
                                        e.push(a)
                                    }
                                    return e.push.apply(e, (0, i.default)(de.layers.map((function(e) {
                                        return qe(e)
                                    })))), e
                                }()
                            }, "edits"), function() {
                                var e = Se.vertical,
                                    t = Se.horizontal;
                                if (!e && !t) return null;
                                var n = Ge();
                                return (0, b.jsxs)(_.Layer, {
                                    ref: he,
                                    children: [e && (0, b.jsx)(_.Line, {
                                        x: e.position / se,
                                        y: 0,
                                        points: [0, 0, 0, n.height() / se],
                                        stroke: S,
                                        strokeWidth: 1,
                                        strokeScaleEnabled: !1
                                    }, "vertical"), t && (0, b.jsx)(_.Line, {
                                        x: 0,
                                        y: t.position / se,
                                        points: [0, 0, n.width() / se, 0],
                                        stroke: S,
                                        strokeWidth: 1,
                                        strokeScaleEnabled: !1
                                    }, "horizontal")]
                                }, "guides")
                            }(), j && (0, b.jsx)(g.default, {
                                ref: ve,
                                width: de.screenWidth,
                                height: de.screenHeight,
                                scale: se,
                                pathStyle: {
                                    color: T,
                                    thickness: (0, C.getThicknessValue)(P),
                                    smoothing: !1
                                },
                                data: de,
                                onDrawEnd: re
                            }), E && (0, b.jsx)(v.default, {
                                ref: ge,
                                width: de.screenWidth,
                                height: de.screenHeight,
                                scale: se,
                                data: de,
                                smoothing: O,
                                onDrawEnd: oe,
                                onDone: ue,
                                onCursorChange: function(e) {
                                    Ne(e)
                                }
                            })]
                        })
                    }), function() {
                        if (!H) return null;
                        var e = de.toScreenPoint(H.frame.getCenter());
                        return (0, b.jsx)(h.EditableText, {
                            ref: _e,
                            layer: H,
                            layerCenter: e,
                            text: H.text,
                            scale: se,
                            onSave: Ve,
                            onUnselect: q,
                            onOutsideClick: ne
                        })
                    }()]
                })
            }
            var k = (0, s.forwardRef)(j);
            t.default = k
        },
        34330: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.Outline = void 0;
            var r = a(n(94654)),
                i = a(n(3208)),
                o = n(67294),
                l = n(51349),
                u = a(n(39092)),
                s = n(85893);

            function d(e, t) {
                var n = e.layer,
                    a = (e.dimension, (0, o.useRef)()),
                    d = (0, o.useRef)();
                (0, o.useImperativeHandle)(t, (function() {
                    return {
                        show: function() {
                            var e;
                            null === (e = a.current) || void 0 === e || e.show()
                        },
                        hide: function() {
                            var e;
                            null === (e = a.current) || void 0 === e || e.hide()
                        },
                        getBoundingRect: function() {
                            var e = d.current;
                            if (e) {
                                var t = e.getClientRect(),
                                    a = t.x,
                                    r = t.y,
                                    i = t.width,
                                    o = t.height;
                                return u.default.create({
                                    x: a,
                                    y: r,
                                    width: i,
                                    height: o,
                                    rotation: n.rotation,
                                    scale: n.scale
                                })
                            }
                        }
                    }
                }));
                var c = (0, r.default)(n.getAllPoints(), (function(e) {
                    return [e.x, e.y]
                }));
                return (0, s.jsx)(l.Group, {
                    ref: a,
                    width: n.width,
                    height: n.height,
                    visible: !1,
                    children: (0, s.jsx)(l.Line, {
                        ref: d,
                        points: c,
                        closed: !0,
                        fill: "white",
                        lineCap: "round",
                        lineJoin: "round",
                        tension: i.default.MEDIA_EDITOR_OUTLINE_TENSION,
                        globalCompositeOperation: "destination-in"
                    })
                })
            }
            var c = (0, o.forwardRef)(d);
            t.Outline = c
        },
        20306: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(81109)),
                i = a(n(319)),
                o = a(n(94654)),
                l = a(n(3208)),
                u = n(67294),
                s = n(28448),
                d = n(51349),
                c = a(n(95575)),
                f = n(85893),
                p = "dot-first",
                h = "dot-last";

            function m(e, t) {
                var n, a = e.width,
                    m = e.height,
                    v = e.scale,
                    _ = e.data,
                    x = e.smoothing,
                    C = e.onDrawEnd,
                    y = e.onDone,
                    b = e.onCursorChange,
                    S = (0, u.useRef)(),
                    j = (0, u.useRef)(!1),
                    k = (0, u.useRef)("crosshair");
                (0, u.useEffect)((function() {
                    b("crosshair")
                }), []), (0, u.useImperativeHandle)(t, (function() {
                    return {
                        show: function() {
                            var e;
                            null === (e = S.current) || void 0 === e || e.show()
                        },
                        hide: function() {
                            var e;
                            null === (e = S.current) || void 0 === e || e.hide()
                        }
                    }
                }));
                var E = (0, c.default)({
                        onDrawStart: function() {
                            j.current = !0
                        },
                        onDrawEnd: function(e) {
                            j.current = !1, C(e)
                        },
                        onDone: y,
                        onMouseMove: function(e) {
                            var t = e.target.name() === p,
                                n = j.current,
                                a = t && !n ? "pointer" : "crosshair";
                            a !== k.current && (k.current = a, b(a))
                        },
                        data: _,
                        stage: null === (n = S.current) || void 0 === n ? void 0 : n.getStage(),
                        minPointDistance: 12 / v,
                        clickThreshold: 200,
                        boundToStage: !0,
                        doneTargets: {
                            mousedown: [p, h],
                            mouseup: [p]
                        },
                        pathStyle: {
                            color: s.Color.White,
                            thickness: 0,
                            smoothing: x
                        }
                    }),
                    w = E.cursorPosition,
                    T = E.points,
                    I = E.handlers,
                    P = _.outlineLayer.getAllPoints().map((function(e) {
                        return _.toScreenPoint(e)
                    }));
                !x && P.length && P.push(P[P.length - 1]), Boolean(T.length) && P.push(T[0]), P.push.apply(P, (0, i.default)(T));
                var M = (0, i.default)(P);
                !x && M.length && M.push(M[M.length - 1]), w && M.push(w);
                var O = (0, o.default)(M, (function(e) {
                    return [e.x, e.y]
                }));
                return (0, f.jsxs)(d.Layer, (0, r.default)((0, r.default)({
                    ref: S
                }, I), {}, {
                    width: a,
                    height: m,
                    children: [(0, f.jsx)(d.Rect, {
                        x: 0,
                        y: 0,
                        width: a,
                        height: m,
                        fill: "rgba(0,0,0,0)"
                    }), (0, f.jsx)(d.Line, {
                        points: O,
                        lineCap: "round",
                        lineJoin: "round",
                        stroke: "#FA6533",
                        strokeWidth: 3 / v,
                        dash: [12 / v, 6 / v],
                        tension: l.default.MEDIA_EDITOR_OUTLINE_TENSION
                    }), (0, f.jsx)(g, {
                        points: P,
                        scale: v
                    })]
                }), "paintCursor")
            }
            var v = (0, u.forwardRef)(m);

            function g(e) {
                var t = e.points,
                    n = e.scale;
                if (!t.length) return null;
                var a = t[0],
                    r = t[t.length - 1],
                    i = 3 / n;
                return (0, f.jsxs)(f.Fragment, {
                    children: [undefined, (0, f.jsx)(d.Circle, {
                        name: h,
                        x: r.x,
                        y: r.y,
                        radius: i
                    }), (0, f.jsx)(d.Circle, {
                        x: a.x,
                        y: a.y,
                        radius: i,
                        stroke: "white"
                    }), (0, f.jsx)(d.Circle, {
                        name: p,
                        x: a.x,
                        y: a.y,
                        radius: 4 * i
                    })]
                })
            }
            t.default = v
        },
        62451: (e, t, n) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.layer,
                    n = (0, a.useMemo)((function() {
                        var e = document.createElement("canvas");
                        return e.width = Math.max(t.width, 1), e.height = Math.max(t.height, 1), e
                    }), [t.width, t.height]),
                    o = (0, a.useRef)();
                return (0, a.useEffect)((function() {
                    var e, a;
                    n.getContext("2d").clearRect(0, 0, n.width, n.height), t.paths.forEach((function(e) {
                        return function(e, t) {
                            var n = t.points;
                            if (!n.length) return;
                            var a = e.getContext("2d"),
                                r = {
                                    color: t.color,
                                    thickness: t.thickness,
                                    smoothing: !1
                                };
                            (function(e, t) {
                                e.lineCap = "round", e.lineJoin = "round", e.lineWidth = t.thickness, e.strokeStyle = t.color.toHex()
                            })(a, r), a.beginPath(), a.moveTo(n[0].x, n[0].y), n.forEach((function(e) {
                                return a.lineTo(e.x, e.y)
                            })), a.stroke()
                        }(n, e)
                    })), null === (e = o.current) || void 0 === e || null === (a = e.getLayer()) || void 0 === a || a.batchDraw()
                }), [t.paths, n]), (0, i.jsx)(r.Image, {
                    ref: o,
                    width: t.width,
                    height: t.height,
                    image: n
                })
            };
            var a = n(67294),
                r = n(51349),
                i = n(85893)
        },
        97678: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(81109)),
                i = a(n(94654)),
                o = n(67294),
                l = n(51349),
                u = a(n(95575)),
                s = n(85893),
                d = function(e, t) {
                    var n, a = e.width,
                        d = e.height,
                        c = (e.scale, e.pathStyle),
                        f = e.data,
                        p = e.onDrawEnd,
                        h = (0, o.useRef)(),
                        m = (0, o.useRef)();
                    (0, o.useImperativeHandle)(t, (function() {
                        return {
                            toggleCursor: function(e) {
                                var t = m.current;
                                t && (e ? t.show() : t.hide())
                            }
                        }
                    }));
                    var v = (0, u.default)({
                            onDrawEnd: p,
                            data: f,
                            pathStyle: c,
                            stage: null === (n = h.current) || void 0 === n ? void 0 : n.getStage()
                        }),
                        g = v.cursorPosition,
                        _ = v.points,
                        x = v.handlers,
                        C = (0, i.default)(_, (function(e) {
                            return [e.x, e.y]
                        }));
                    return (0, s.jsxs)(l.Layer, (0, r.default)((0, r.default)({
                        ref: h
                    }, x), {}, {
                        width: a,
                        height: d,
                        children: [(0, s.jsx)(l.Rect, {
                            width: a,
                            height: d,
                            fill: "rgba(0, 0, 0, 0)"
                        }), g && (0, s.jsx)(l.Circle, {
                            ref: m,
                            x: g.x,
                            y: g.y,
                            radius: c.thickness / 2,
                            fill: c.color.toRgbaString()
                        }), (0, s.jsx)(l.Line, {
                            points: C,
                            lineCap: "round",
                            lineJoin: "round",
                            stroke: c.color.toRgbaString(),
                            strokeWidth: c.thickness
                        })]
                    }), "paintCursor")
                },
                c = (0, o.forwardRef)(d);
            t.default = c
        },
        76909: (e, t, n) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.layer,
                    n = t instanceof r.ImageLayer && (t.isSticker() || t.isBackground());
                return (0, o.jsx)(o.Fragment, {
                    children: (0, o.jsx)(i.Rect, {
                        width: t.width,
                        height: t.height,
                        fill: u.toRgbaString(),
                        stroke: l.toRgbaString(),
                        strokeWidth: 2,
                        cornerRadius: n ? 40 : 5,
                        strokeScaleEnabled: !1
                    })
                })
            };
            var a = n(28448),
                r = n(89826),
                i = n(51349),
                o = n(85893),
                l = new a.Color(82, 248, 24, 1),
                u = new a.Color(82, 248, 24, .1)
        },
        91278: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.layer,
                    n = e.shadow,
                    a = function(e) {
                        var t, n = [],
                            a = (0, i.default)(e);
                        try {
                            for (a.s(); !(t = a.n()).done;) {
                                var o, u = t.value,
                                    s = (0, i.default)(u.words);
                                try {
                                    for (s.s(); !(o = s.n()).done;) {
                                        var d = o.value.emojiPath;
                                        d && n.push(d)
                                    }
                                } catch (e) {
                                    s.e(e)
                                } finally {
                                    s.f()
                                }
                            }
                        } catch (e) {
                            a.e(e)
                        } finally {
                            a.f()
                        }
                        return c = n, f = Array.from(new Set(c)), p = f.join(""), h = (0, l.useRef)({}), m = (0, l.useState)(0), v = (0, r.default)(m, 2)[1], (0, l.useEffect)((function() {
                            h.current = {}, v(0), f.forEach((function(e) {
                                var t = new Image;
                                t.onload = function() {
                                    h.current[e] = t, v(Object.keys(h.current).length)
                                }, t.src = e
                            }))
                        }), [v, p]), h.current;
                        var c, f, p, h, m, v
                    }(t.lines),
                    o = t.lines.map((function(e, n) {
                        var r = e.width + 2 * t.styles.lineHorizontalPadding,
                            i = t.lineHeight + 2 * t.styles.lineVerticalPadding;
                        return (0, c.jsx)(s.Group, {
                            width: r,
                            height: i,
                            y: n * i,
                            children: (0, c.jsx)(f, {
                                line: e,
                                layer: t,
                                emojiImages: a
                            })
                        }, n)
                    })),
                    u = t.styles.backgroundShadow;
                return (0, c.jsx)(s.Group, {
                    visible: 0 !== t.width,
                    width: t.width,
                    height: t.height,
                    children: (0, c.jsxs)(s.Group, {
                        x: t.styles.layerPadding,
                        y: t.styles.layerPadding,
                        children: [t.textBackground && (n ? (0, c.jsx)(s.Path, {
                            data: t.backgroundPath,
                            stroke: t.textBackgroundColor.toHex(),
                            fill: t.textBackgroundColor.toHex(),
                            shadowColor: u.color.toHex(),
                            shadowBlur: u.radius,
                            shadowOffset: {
                                x: u.offsetX,
                                y: u.offsetY
                            },
                            shadowOpacity: u.color.alpha
                        }, "1") : (0, c.jsx)(s.Path, {
                            data: t.backgroundPath,
                            stroke: t.textBackgroundColor.toHex(),
                            fill: t.textBackgroundColor.toHex()
                        }, "2")), o]
                    })
                })
            };
            var r = a(n(63038)),
                i = a(n(43269)),
                o = a(n(319)),
                l = n(67294),
                u = n(45738),
                s = n(51349),
                d = n(62367),
                c = n(85893);

            function f(e) {
                var t = e.line,
                    n = e.layer,
                    a = e.emojiImages,
                    r = Math.max.apply(Math, (0, o.default)(n.lineWidths)),
                    i = 0;
                switch (n.alignment) {
                    case u.TextAlignment.LEFT:
                        i = 0;
                        break;
                    case u.TextAlignment.CENTER:
                        i = (r - t.width) / 2;
                        break;
                    case u.TextAlignment.RIGHT:
                        i = r - t.width
                }
                var l = 0;
                return t.words.map((function(e, t) {
                    var r, o = e.text,
                        f = e.emojiPath,
                        p = e.width,
                        h = i + n.styles.lineHorizontalPadding + l,
                        m = n.styles.lineVerticalPadding;
                    if (f) {
                        var v = a[f];
                        r = v ? (0, c.jsx)(s.Image, {
                            x: h,
                            y: m,
                            width: n.lineHeight,
                            height: n.lineHeight,
                            image: v
                        }, t) : (0, c.jsx)(s.Rect, {
                            x: h,
                            y: m,
                            width: n.lineHeight,
                            height: n.lineHeight,
                            fill: "rgba(0,0,0,0)"
                        }, t)
                    } else {
                        var g = (0, d.getTextBounds)(n.font, n.fontSize);
                        r = (0, c.jsx)(c.Fragment, {
                            children: (0, c.jsx)(s.Text, {
                                x: h,
                                y: m - g.top + (g.top + g.bottom) / 2,
                                width: p,
                                height: n.lineHeight,
                                text: o,
                                fill: n.textColor.toHex(),
                                fontFamily: (0, u.getFontStyle)(n.font).fontFamily,
                                fontSize: n.fontSize
                            }, t)
                        })
                    }
                    return l += p, r
                }))
            }
        },
        55225: (e, t, n) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var a = n(67294),
                r = n(28448),
                i = n(51349),
                o = n(85893),
                l = new r.Color(230, 230, 230).toRgbString(),
                u = new r.Color(255, 255, 255).toRgbString();

            function s(e, t) {
                var n = e.width,
                    r = e.height,
                    s = (0, a.useRef)();
                (0, a.useImperativeHandle)(t, (function() {
                    return {
                        hide: function() {
                            var e;
                            null === (e = s.current) || void 0 === e || e.hide()
                        },
                        show: function() {
                            var e;
                            null === (e = s.current) || void 0 === e || e.show()
                        }
                    }
                }));
                var d = (0, a.useMemo)((function() {
                    var e = document.createElement("canvas");
                    return e.width = Math.max(n, 1), e.height = Math.max(r, 1), e
                }), [n, r]);
                return (0, a.useEffect)((function() {
                    var e, t, a = d.getContext("2d");
                    a.clearRect(0, 0, d.width, d.height);
                    for (var i = 20, o = Math.ceil(n / i), c = Math.ceil(r / i), f = 0; f < c; f++)
                        for (var p = 0; p < o; p++) {
                            var h = (f + p) % 2 == 0 ? u : l;
                            a.beginPath(), a.rect(p * i, f * i, i, i), a.fillStyle = h, a.fill()
                        }
                    null === (e = s.current) || void 0 === e || null === (t = e.getLayer()) || void 0 === t || t.batchDraw()
                }), [d, n, r]), (0, o.jsx)(i.Image, {
                    ref: s,
                    width: n,
                    height: r,
                    image: d
                })
            }
            var d = (0, a.forwardRef)(s);
            t.default = d
        },
        95575: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.onDrawStart,
                    n = e.onDrawEnd,
                    a = e.onDone,
                    c = e.onMouseMove,
                    f = e.data,
                    p = (e.endOnMouseLeave, e.minPointDistance),
                    h = void 0 === p ? 0 : p,
                    m = e.clickThreshold,
                    v = void 0 === m ? 0 : m,
                    g = e.boundToStage,
                    _ = void 0 !== g && g,
                    x = e.pathStyle,
                    C = void 0 === x ? {} : x,
                    y = e.stage,
                    b = e.doneTargets,
                    S = void 0 === b ? {} : b,
                    j = (0, o.useState)(),
                    k = (0, i.default)(j, 2),
                    E = k[0],
                    w = k[1],
                    T = (0, o.useRef)([]),
                    I = (0, o.useRef)(!1),
                    P = (0, l.default)(),
                    M = (0, u.default)(v),
                    O = (0, o.useRef)(!1);
                return (0, s.useListener)(window, "mouseup", (function() {
                    if (I.current = !1, 0 !== T.current.length) {
                        var e = T.current.map((function(e) {
                            return f.toCanvasPoint(e)
                        }));
                        n((0, r.default)({
                            points: e
                        }, C)), T.current = [], P()
                    }
                })), (0, s.useListener)(window, "mousemove", (function(e) {
                    var t = (0, d.getPointFromStage)(e, y, _),
                        n = _ && I.current;
                    if (w(n ? (0, d.getPointFromStage)(e, y, !0) : t), I.current) {
                        var a = T.current,
                            r = a[a.length - 1];
                        (!r || r.distance(t) >= h && M() || (0, d.isStageCorner)(t, y)) && a.push(t)
                    }
                })), (0, o.useEffect)((function() {
                    O.current && (null == a || a(), O.current = !1)
                })), {
                    cursorPosition: E,
                    points: T.current,
                    handlers: {
                        onMouseDown: function(e) {
                            var n;
                            if (null == t || t(), null === (n = S.mousedown) || void 0 === n ? void 0 : n.includes(e.target.name())) null == a || a();
                            else {
                                var r = (0, d.getPointFromStage)(e.evt, y, _);
                                T.current.push(r), I.current = !0, P()
                            }
                        },
                        onMouseUp: function(e) {
                            var t, n = null === (t = S.mouseup) || void 0 === t ? void 0 : t.includes(e.target.name()),
                                a = 1 === T.current.length;
                            n && !a && (O.current = !0)
                        },
                        onMouseMove: function(e) {
                            null == c || c(e)
                        }
                    }
                }
            };
            var r = a(n(81109)),
                i = a(n(63038)),
                o = n(67294),
                l = a(n(45764)),
                u = a(n(40415)),
                s = n(91285),
                d = n(76249)
        },
        38053: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.caption,
                    n = e.setCaptionInputRef,
                    a = e.onEnter,
                    j = (0, d.useRef)(null),
                    k = (0, d.useRef)(null),
                    E = (0, d.useState)(null),
                    w = (0, i.default)(E, 2),
                    T = w[0],
                    I = w[1],
                    P = function() {
                        var e;
                        null === (e = j.current) || void 0 === e || e.focus()
                    };
                (0, d.useEffect)((function() {
                    P()
                }), []);
                var M, O = function(e) {
                        var t = j.current;
                        t && (t.focus(!1), t.replaceSelection(e))
                    },
                    A = (0, o.numCodepoints)(e.caption || ""),
                    L = l.default.MAX_CAPTION_LENGTH - A < 50,
                    D = (0, S.jsx)("div", {
                        role: "button",
                        className: m.default.inputEmoji,
                        onClick: function(e) {
                            e.preventDefault(), e.stopPropagation();
                            var t = (0, S.jsx)(p.EmojiPanel, {
                                onEmoji: O,
                                onFocusNext: P,
                                onFocusPrev: P
                            });
                            I({
                                menu: t,
                                dirY: f.DirY.TOP,
                                type: "emoji_picker",
                                anchor: e.target
                            }), P()
                        },
                        children: (0, S.jsx)(C.default, {
                            name: "emoji-input"
                        })
                    }),
                    N = t && "" !== t ? (0, S.jsx)("div", {
                        role: "button",
                        className: m.default.clearBtn,
                        onClick: function() {
                            var e;
                            null === (e = j.current) || void 0 === e || e.reset(), P()
                        },
                        children: (0, S.jsx)(C.default, {
                            name: "x-alt"
                        })
                    }) : null,
                    R = L && (0, S.jsx)("div", {
                        className: m.default.charCounter,
                        children: v.default.n(l.default.MAX_CAPTION_LENGTH - A)
                    }),
                    F = null;
                T && (F = (0, S.jsx)(y.UIE, {
                    displayName: "EmojiPicker",
                    escapable: !0,
                    popable: !0,
                    ref: k,
                    requestDismiss: function() {
                        I(null)
                    },
                    children: (0, S.jsx)(b.default, {
                        contextMenu: T
                    })
                }));
                _.ServerProps.viewOnceWrite && (M = (0, S.jsx)("div", {
                    className: m.default.secondaryButtonContainer,
                    children: (0, S.jsx)(c.default, {
                        disabled: e.viewOnceDisabled,
                        isOn: Boolean(e.viewOnce),
                        mediaType: e.msgType,
                        onChange: e.onToggleViewOnce,
                        noMargin: !0
                    })
                }));
                return (0, S.jsxs)(h.FlexRow, {
                    className: (0, u.default)(m.default.container, (0, r.default)({}, m.default.videoCaption, "video" === e.theme)),
                    align: "center",
                    justify: "center",
                    children: [(0, S.jsx)("div", {
                        className: m.default.suggestionsPositioner,
                        children: (0, S.jsxs)("div", {
                            className: m.default.suggestionsContainer,
                            children: [(0, S.jsx)(g.default.MentionSuggestions, {
                                chat: e.chat,
                                theme: x.ThemeOptions.MEDIA_CAPTION
                            }), (0, S.jsx)(g.default.EmojiSuggestions, {
                                chat: e.chat,
                                theme: x.ThemeOptions.MEDIA_CAPTION
                            })]
                        })
                    }), (0, S.jsxs)(h.FlexRow, {
                        align: "start",
                        className: m.default.inputContainer,
                        children: [(0, S.jsx)(g.default, {
                            ref: function(e) {
                                j.current = e, n(e)
                            },
                            initialValue: t,
                            placeholder: s.fbt._("Type a message", null, {
                                hk: "3h5KZB"
                            }),
                            onChange: e.onChange,
                            onEnter: function(e) {
                                var t;
                                (null === (t = j.current) || void 0 === t ? void 0 : t.isFocused()) && a(e)
                            },
                            onFiles: e.onFiles,
                            theme: "media-caption",
                            maxLength: l.default.MAX_CAPTION_LENGTH,
                            multiline: !0,
                            spellCheck: !0
                        }), (0, S.jsxs)(h.FlexRow, {
                            className: m.default.buttonContainer,
                            align: "center",
                            children: [R, N, D]
                        })]
                    }), M, F]
                })
            };
            var r = a(n(59713)),
                i = a(n(63038)),
                o = n(27767),
                l = a(n(3208)),
                u = a(n(94184)),
                s = n(48360),
                d = n(67294),
                c = a(n(51241)),
                f = n(98169),
                p = n(10508),
                h = n(27968),
                m = a(n(22778)),
                v = a(n(9844)),
                g = a(n(4313)),
                _ = n(43890),
                x = n(23932),
                C = a(n(7665)),
                y = n(16835),
                b = a(n(93820)),
                S = n(85893)
        },
        55072: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.THICKNESS = void 0, t.getAllThicknesses = function() {
                return Object.keys(o)
            }, t.getThicknessValue = function(e) {
                return l[e]
            };
            var r, i = a(n(59713)),
                o = Object.freeze({
                    SMALL: "SMALL",
                    MEDIUM: "MEDIUM",
                    LARGE: "LARGE",
                    XLARGE: "XLARGE"
                });
            t.THICKNESS = o;
            var l = (r = {}, (0, i.default)(r, o.SMALL, 8), (0, i.default)(r, o.MEDIUM, 12), (0, i.default)(r, o.LARGE, 18), (0, i.default)(r, o.XLARGE, 24), r)
        },
        86151: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(59713)),
                i = a(n(35937)),
                o = n(40787),
                l = a(n(94184)),
                u = n(67294),
                s = n(50857),
                d = a(n(81212)),
                c = a(n(9844)),
                f = n(45438),
                p = n(68220),
                h = a(n(7665)),
                m = n(85893),
                v = o.MSG_TYPE.IMAGE,
                g = o.MSG_TYPE.VIDEO,
                _ = (0, i.default)(f.MIMETYPES, (function(e) {
                    return "document" === (null == e ? void 0 : e.msgType)
                }));

            function x(e) {
                var t, n = (0, s.useModelValues)(e.attachMedia, ["mimetype", "preview", "type", "fullPreview", "fullPreviewSize", "documentPageCount"]);
                if (n.type === v) t = n.preview;
                else if (n.type === g) t = `data:image/jpeg;base64,${n.preview}`;
                else if ("pdf" === (0, f.previewType)(n.mimetype)) {
                    n.fullPreview && n.fullPreviewSize && null != n.documentPageCount && n.documentPageCount > 0 && (t = n.fullPreview)
                }
                if (t) return (0, m.jsx)("div", {
                    className: d.default.body,
                    children: (0, m.jsx)("img", {
                        src: t,
                        alt: c.default.t(979)
                    })
                });
                var a = (0, l.default)(d.default.body, d.default.bodyIcon, _[n.mimetype] ? _[n.mimetype].icon : "icon-doc-generic");
                return (0, m.jsx)("div", {
                    className: a
                })
            }

            function C(e, t) {
                var n = e.attachMedia,
                    a = e.onClick,
                    i = e.onClose;
                return (0, m.jsxs)("div", {
                    className: (0, l.default)(d.default.thumb, (0, r.default)({}, d.default.active, e.active)),
                    onClick: function(e) {
                        a((0, p.unproxy)(n), e)
                    },
                    tabIndex: "-1",
                    ref: t,
                    children: [(0, m.jsx)("div", {
                        className: d.default.btnDelete,
                        onClick: function(e) {
                            i((0, p.unproxy)(n), e)
                        },
                        role: "button",
                        children: (0, m.jsx)(h.default, {
                            name: "x-alt"
                        })
                    }), (0, m.jsx)("div", {
                        className: d.default.bodyWrapper,
                        children: (0, m.jsx)(x, {
                            attachMedia: n
                        })
                    })]
                })
            }
            var y = (0, u.forwardRef)(C);
            t.default = y
        },
        78995: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(34575)),
                i = a(n(93913)),
                o = a(n(2205)),
                l = a(n(99842)),
                u = n(40787),
                s = n(67294),
                d = n(99420),
                c = a(n(86151)),
                f = n(85893),
                p = (0, d.SortableElement)((function(e) {
                    return e.children
                })),
                h = (0, d.SortableContainer)((function(e) {
                    return e.children
                })),
                m = function(e) {
                    (0, o.default)(n, e);
                    var t = (0, l.default)(n);

                    function n(e) {
                        var a;
                        return (0, r.default)(this, n), (a = t.call(this, e))._handleSortEnd = function(e) {
                            var t = e.oldIndex,
                                n = e.newIndex,
                                r = a.props.mediaCollection.reorder(t, n);
                            a.setState({
                                medias: r
                            })
                        }, a.state = {
                            medias: a.props.mediaCollection.getPreviewableMedias()
                        }, a
                    }
                    return (0, i.default)(n, [{
                        key: "render",
                        value: function() {
                            var e = this,
                                t = this.props,
                                n = t.mediaCollection,
                                a = t.className,
                                r = t.onElementRef,
                                i = this.state.medias;
                            return (0, f.jsx)(h, {
                                onSortEnd: this._handleSortEnd,
                                axis: "x",
                                helperClass: "SortableHelper",
                                distance: 10,
                                children: (0, f.jsx)("div", {
                                    className: a,
                                    children: i.map((function(t, a) {
                                        var i;
                                        return (0, f.jsx)(p, {
                                            index: a,
                                            children: (0, f.jsx)(c.default, {
                                                attachMedia: t,
                                                active: t === n.getActive(),
                                                previewMode: (null === (i = n.getActive()) || void 0 === i ? void 0 : i.type) !== u.MSG_TYPE.IMAGE,
                                                onClick: e.props.onClick,
                                                onClose: e.props.onClose,
                                                ref: function(e) {
                                                    function t() {
                                                        return e.apply(this, arguments)
                                                    }
                                                    return t.toString = function() {
                                                        return e.toString()
                                                    }, t
                                                }((function(e) {
                                                    return r(t.id, e)
                                                }))
                                            })
                                        }, t.id)
                                    }))
                                })
                            })
                        }
                    }], [{
                        key: "getDerivedStateFromProps",
                        value: function(e) {
                            return {
                                medias: e.mediaCollection.getPreviewableMedias()
                            }
                        }
                    }]), n
                }(s.Component);
            t.default = m, m.displayName = "DragAndDrop"
        },
        41044: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.ImageBody = void 0;
            var r = a(n(59713)),
                i = a(n(63038)),
                o = n(40787),
                l = a(n(10646)),
                u = a(n(94184)),
                s = n(48360),
                d = n(67294),
                c = a(n(1323)),
                f = n(91285),
                p = n(50857),
                h = n(71988),
                m = a(n(62281)),
                v = a(n(7844)),
                g = a(n(38053)),
                _ = a(n(42462)),
                x = n(73763),
                C = n(50142),
                y = a(n(23390)),
                b = n(27968),
                S = n(51451),
                j = n(45738),
                k = n(5538),
                E = a(n(28224)),
                w = n(89826),
                T = a(n(7885)),
                I = n(23289),
                P = a(n(47916)),
                M = a(n(97954)),
                O = n(23961),
                A = a(n(7665)),
                L = n(73860),
                D = a(n(36466)),
                N = a(n(63782)),
                R = n(55072),
                F = n(85893),
                B = new M.default({
                    width: 200,
                    height: 200
                }),
                U = (0, d.forwardRef)((function(e, t) {
                    var n = e.paintColor,
                        a = e.paintThickness,
                        U = e.outlineSmoothing,
                        G = e.onLayerDelete,
                        H = e.onTextEditingStart,
                        W = e.onTextEditingEnd,
                        V = e.onOutlineDone,
                        z = e.draftTextLayer,
                        q = e.onLayerUnselect,
                        K = e.onPaintSelect,
                        Y = e.onCropRotateCanvas,
                        Q = e.onOutlineSelect,
                        X = (0, p.useModelValues)(e.attachMedia, ["mediaEditorData", "caption", "id"]),
                        Z = (0, d.useRef)(null),
                        J = (0, d.useRef)(null),
                        $ = (0, d.useRef)(null),
                        ee = (0, d.useRef)(null),
                        te = (0, d.useRef)(null),
                        ne = (0, d.useRef)(null),
                        ae = (0, d.useRef)(null),
                        re = (0, d.useRef)(null),
                        ie = (0, d.useState)(M.default.empty()),
                        oe = (0, i.default)(ie, 2),
                        le = oe[0],
                        ue = oe[1],
                        se = (0, d.useState)(!1),
                        de = (0, i.default)(se, 2),
                        ce = (de[0], de[1]),
                        fe = (0, d.useState)(!1),
                        pe = (0, i.default)(fe, 2),
                        he = pe[0],
                        me = pe[1],
                        ve = (0, d.useState)(!1),
                        ge = (0, i.default)(ve, 2),
                        _e = ge[0],
                        xe = ge[1],
                        Ce = (0, d.useState)(!1),
                        ye = (0, i.default)(Ce, 2),
                        be = ye[0],
                        Se = ye[1],
                        je = (0, d.useState)(!1),
                        ke = (0, i.default)(je, 2),
                        Ee = ke[0],
                        we = ke[1],
                        Te = (0, d.useState)(!1),
                        Ie = (0, i.default)(Te, 2),
                        Pe = Ie[0],
                        Me = Ie[1],
                        Oe = function() {
                            me((function(e) {
                                return !e
                            }))
                        },
                        Ae = function() {
                            return X.mediaEditorData
                        },
                        Le = function() {
                            if (Z.current) {
                                var e = Z.current.getBoundingClientRect(),
                                    t = new M.default({
                                        width: e.width - 40,
                                        height: e.height - 40
                                    });
                                ue(t)
                            }
                        },
                        De = function() {
                            !_e && Ae().selectedLayer && q(), xe((function(e) {
                                return !e
                            })), Le()
                        },
                        Ne = function() {
                            return be
                        },
                        Re = function() {
                            Se((function(e) {
                                return !e
                            }))
                        },
                        Fe = function() {
                            if (he) Oe();
                            else if (_e) De();
                            else if (Ne()) V(), Re();
                            else {
                                if (!X.mediaEditorData.selectedLayer || z) return !1;
                                q()
                            }
                            return !0
                        };
                    (0, f.useListener)(window, "mousedown", (function(e) {
                        re.current = e.target
                    })), (0, f.useListener)(window, "click", (function() {
                        var e = re.current;
                        e !== Z.current && e !== $.current && e !== J.current || Fe()
                    }));
                    var Be = function() {
                            var e = X.mediaEditorData.selectedLayer;
                            e && G(e)
                        },
                        Ue = function(e) {
                            "Backspace" !== e.code || e.target instanceof HTMLInputElement || e.target instanceof HTMLDivElement && "true" === e.target.contentEditable || _e || Be()
                        },
                        Ge = function() {
                            var e = function() {
                                if (!ee.current) throw new Error("MediaEditor:canvas is not initialized");
                                return ee.current.getDataUrl()
                            }();
                            return l.default.dataURLtoFile(e)
                        },
                        He = function() {
                            if (null != ee.current) {
                                var e = ee.current.getStage().attrs,
                                    t = e.width,
                                    n = e.height;
                                if (0 !== t && 0 !== n) {
                                    var a = Ge(),
                                        r = window.URL.createObjectURL(a);
                                    X.updateEditedFile(a), X.updatePreview(r), X.updateFullPreview(r)
                                }
                            }
                        },
                        We = (0, c.default)((function() {
                            ae.current && ((0, k.cancelIdleCallback)(ae.current), ae.current = null), ae.current = (0, k.requestIdleCallback)(He)
                        }), 1e3),
                        Ve = function(e) {
                            (null == e ? void 0 : e.immediately) ? He(): We()
                        };
                    (0, d.useEffect)((function() {
                        return window.addEventListener("resize", Le), window.addEventListener("keydown", Ue), Le(),
                            function() {
                                window.removeEventListener("resize", Le), window.removeEventListener("keydown", Ue), Ve({
                                    immediately: !0
                                })
                            }
                    }), []);
                    var ze = function() {
                            if (_e) De();
                            else if (he) Oe();
                            else if (be) V(), Re();
                            else if (z) {
                                var e;
                                null === (e = ee.current) || void 0 === e || e.endTextEditing()
                            } else Ae().selectedLayer && q()
                        },
                        qe = function(e, t) {
                            e === h.MediaEditorAction.OutlineDone ? (Fe(), Re()) : e === h.MediaEditorAction.Outline ? (Ne() && Re(), t === h.MediaEditorAction.Outline && Re()) : e === h.MediaEditorAction.CropRotateCanvas && (Fe(), t === h.MediaEditorAction.CropRotateCanvas && De())
                        },
                        Ke = function(e, t) {
                            e === h.MediaEditorAction.OutlineDone ? Fe() : e === h.MediaEditorAction.Outline ? Ne() || Re() : e === h.MediaEditorAction.CropRotateCanvas ? (Fe(), De()) : t === h.MediaEditorAction.CropRotateCanvas && e !== h.MediaEditorAction.CropRotateCanvas && Fe()
                        },
                        Ye = function() {
                            var e = X.mediaEditorData;
                            return (0, O.calculateContainScale)(e.screenWidth, e.screenHeight, le, B)
                        },
                        Qe = function() {
                            var e;
                            return null === (e = ee.current) || void 0 === e ? void 0 : e.getBackground()
                        };
                    (0, d.useImperativeHandle)(t, (function() {
                        return {
                            updatePreview: Ve,
                            undoAction: qe,
                            redoAction: Ke,
                            getCanvasScale: Ye,
                            resetUIState: Fe,
                            getBackground: Qe
                        }
                    }));
                    var Xe, Ze = X.mediaEditorData,
                        Je = e.draftTextLayer || Ze.selectedLayer;
                    if (_e) Xe = (0, F.jsx)(C.CropRotateToolbar, {
                        canReset: Ze.isRotated() || Ze.isCropped(),
                        onRotateCanvas: function(e) {
                            Y(Ae().rotation + e, Ae().cropOrigin, Ae().cropSize)
                        },
                        onReset: function() {
                            Y(0, new P.default({
                                x: 0,
                                y: 0
                            }), Ae().size)
                        }
                    });
                    else if (be) Xe = (0, F.jsx)(I.OutlineToolbar, {
                        smoothing: e.outlineSmoothing,
                        onSmoothingToggle: e.onOutlineSmoothingToggle,
                        canReset: Ze.isOutlined(),
                        onReset: e.onOutlineReset
                    });
                    else if (Je) {
                        var $e = Je instanceof w.ImageLayer && Je.isBackground();
                        if (Je instanceof L.TextLayer) {
                            var et = (0, x.getAllColors)().map((function(e) {
                                var t = (0, x.getColorValue)(e),
                                    n = (0, x.getColorValue)(t.isLight() ? x.COLORS.BLACK : x.COLORS.WHITE);
                                return {
                                    primaryColor: t,
                                    secondaryColor: n
                                }
                            }));
                            Xe = (0, F.jsxs)(F.Fragment, {
                                children: [(0, F.jsx)(_.default, {
                                    ref: te,
                                    colors: et,
                                    onColorSelect: e.onTextColorSelect,
                                    selectedColor: Je.textColor
                                }), (0, F.jsx)(S.Font, {
                                    ref: ne,
                                    fonts: (0, j.getAllFonts)(),
                                    selectedFont: Je.font,
                                    selectedAlignment: Je.alignment,
                                    onFontSelect: e.onFontSelect,
                                    onAlignmentSelect: e.onAlignmentSelect
                                }), (0, F.jsx)(D.default, {
                                    checked: Je.textBackground,
                                    onBackgroundToggle: e.onTextBackgroundToggle
                                }), (0, F.jsx)(m.default, {
                                    icon: "delete",
                                    title: s.fbt._("Delete", null, {
                                        hk: "1XGJJN"
                                    }),
                                    onClick: Be
                                })]
                            })
                        } else $e || (Xe = (0, F.jsx)(F.Fragment, {
                            children: (0, F.jsx)(m.default, {
                                icon: "delete",
                                title: s.fbt._("Delete", null, {
                                    hk: "1XGJJN"
                                }),
                                onClick: Be
                            })
                        }))
                    } else he && (Xe = (0, F.jsxs)(F.Fragment, {
                        children: [(0, F.jsx)(_.default, {
                            colors: (0, x.getAllColors)().map((function(e) {
                                return {
                                    primaryColor: (0, x.getColorValue)(e)
                                }
                            })),
                            onColorSelect: e.onPaintColorSelect,
                            selectedColor: n
                        }), (0, F.jsx)(N.default, {
                            thicknesses: (0, R.getAllThicknesses)(),
                            onThicknessSelect: e.onPaintThicknessSelect,
                            selectedThickness: a
                        })]
                    }));
                    var tt = !Xe && !e.draftTextLayer && !e.sendAsSticker,
                        nt = (0, F.jsx)(b.FlexRow, {
                            className: (0, u.default)(E.default.captionInputContainer, (0, r.default)({}, E.default.captionInputHidden, !tt)),
                            justify: "center",
                            children: (0, F.jsx)(g.default, {
                                chat: e.chat,
                                caption: X.caption,
                                viewOnce: e.viewOnce,
                                viewOnceDisabled: e.viewOnceDisabled,
                                msgType: o.MSG_TYPE.IMAGE,
                                theme: "image",
                                onToggleViewOnce: e.onToggleViewOnce,
                                onChange: e.onCaptionChange,
                                onEnter: e.onEnter,
                                onFiles: e.onFiles,
                                setCaptionInputRef: function(t) {
                                    e.setCaptionInputRef(X.id, t)
                                }
                            }, X.id)
                        }),
                        at = (0, F.jsxs)(b.FlexRow, {
                            justify: "center",
                            align: "center",
                            className: E.default.footer,
                            ref: $,
                            children: [Xe && (0, F.jsx)(b.FlexRow, {
                                justify: "center",
                                align: "center",
                                className: E.default.bottomToolbar,
                                children: Xe
                            }), nt]
                        }),
                        rt = null;
                    _e && (rt = (0, F.jsx)(y.default, {
                        data: Ze,
                        rotation: Ae().rotation,
                        cropOrigin: Ae().cropOrigin,
                        cropSize: Ae().cropSize,
                        onCropChange: function(e, t) {
                            Y(Ae().rotation, e, t)
                        },
                        containerSize: le,
                        keepRatio: e.sendAsSticker,
                        sendAsSticker: e.sendAsSticker
                    }));
                    var it = _e || he || be || Ee || Pe || Boolean(e.draftTextLayer) || Boolean(Ae().selectedLayer);
                    return (0, F.jsxs)("div", {
                        className: E.default.container,
                        children: [(0, F.jsxs)(b.FlexRow, {
                            className: E.default.header,
                            ref: J,
                            children: [e.onClose ? (0, F.jsx)("div", {
                                onClick: e.onClose,
                                className: E.default.closeButton,
                                children: (0, F.jsx)(A.default, {
                                    name: "x"
                                })
                            }) : (0, F.jsx)("div", {
                                className: E.default.closeButtonPlaceholder
                            }), (0, F.jsx)(T.default, {
                                selectedLayer: Je,
                                inPaintMode: he,
                                inCropRotateMode: _e,
                                inTextEditingMode: Boolean(e.draftTextLayer),
                                inOutlineMode: be,
                                canUndo: e.canUndo,
                                canRedo: e.canRedo,
                                onPaintSelect: function() {
                                    Oe(), K()
                                },
                                onCropRotateSelect: function() {
                                    De()
                                },
                                onOutlineSelect: function() {
                                    Re(), Q()
                                },
                                onTextSelect: e.onTextSelect,
                                onEmojiSelect: e.onEmojiSelect,
                                onStickerSelect: e.onStickerSelect,
                                onToggleEmojiPanel: function(e) {
                                    we(e)
                                },
                                onToggleStickerPanel: function(e) {
                                    Me(e)
                                },
                                onUndo: e.onUndo,
                                onRedo: e.onRedo,
                                showOutline: e.sendAsSticker
                            }), (0, F.jsx)(b.FlexRow, {
                                className: E.default.headerRight,
                                justify: "end",
                                children: it && (0, F.jsx)(m.default, {
                                    onClick: ze,
                                    children: s.fbt._("Done", null, {
                                        hk: "2nVR7W"
                                    })
                                })
                            })]
                        }), (0, F.jsxs)("div", {
                            ref: Z,
                            className: (0, u.default)(E.default.canvasContainer, (0, r.default)({}, E.default.cropRotateContainer, _e)),
                            children: [(0, F.jsx)("div", {
                                className: E.default.canvas,
                                style: {
                                    display: _e ? "none" : "unset"
                                },
                                children: (0, F.jsx)(v.default, {
                                    ref: ee,
                                    data: Ze,
                                    inPaintMode: he,
                                    inOutlineMode: be,
                                    paintColor: n,
                                    paintThickness: a,
                                    outlineSmoothing: U,
                                    currentlyEditingTextLayer: e.currentlyEditingTextLayer,
                                    draftTextLayer: e.draftTextLayer,
                                    scale: Ye(),
                                    onLayerSelect: e.onLayerSelect,
                                    onLayerUnselect: e.onLayerUnselect,
                                    onLayerTranslate: e.onLayerTranslate,
                                    onLayerTransform: e.onLayerTransform,
                                    onTextEditingStart: function(e) {
                                        ce(!0), H(e)
                                    },
                                    onTextEditingEnd: function(e, t) {
                                        ce(!1), W(e, t)
                                    },
                                    onTextInputOutsideClick: function(e) {
                                        var t, n, a = e.target;
                                        return !(a instanceof HTMLElement && a.closest(`.${E.default.footer}`) && a !== $.current || (null === (t = te.current) || void 0 === t ? void 0 : t.isPanelVisible()) || (null === (n = ne.current) || void 0 === n ? void 0 : n.isMenuVisible()))
                                    },
                                    onPaintDrawEnd: e.onPaintDrawEnd,
                                    onOutlineDrawEnd: e.onOutlineDrawEnd,
                                    onOutlineDone: ze,
                                    canEditBackground: e.sendAsSticker,
                                    outlineEnabled: e.sendAsSticker
                                })
                            }), rt]
                        }), at]
                    })
                }));
            t.ImageBody = U
        },
        37286: (e, t, n) => {
            "use strict";
            var a = n(21314).default,
                r = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(n(59713)),
                o = r(n(87757)),
                l = r(n(48926)),
                u = r(n(34575)),
                s = r(n(93913)),
                d = r(n(2205)),
                c = r(n(99842)),
                f = n(15586),
                p = r(n(272)),
                h = r(n(3208)),
                m = n(79367),
                v = n(69202),
                g = r(n(11845)),
                _ = function(e, t) {
                    if (!t && e && e.__esModule) return e;
                    if (null === e || "object" != typeof e && "function" != typeof e) return {
                        default: e
                    };
                    var n = oe(t);
                    if (n && n.has(e)) return n.get(e);
                    var a = {},
                        r = Object.defineProperty && Object.getOwnPropertyDescriptor;
                    for (var i in e)
                        if ("default" !== i && Object.prototype.hasOwnProperty.call(e, i)) {
                            var o = r ? Object.getOwnPropertyDescriptor(e, i) : null;
                            o && (o.get || o.set) ? Object.defineProperty(a, i, o) : a[i] = e[i]
                        } a.default = e, n && n.set(e, a);
                    return a
                }(n(8924)),
                x = n(40787),
                C = r(n(94184)),
                y = n(9443),
                b = n(48360),
                S = n(67294),
                j = n(71988),
                k = r(n(78888)),
                E = n(65901),
                w = n(73763),
                T = r(n(30211)),
                I = r(n(94513)),
                P = r(n(78995)),
                M = r(n(53187)),
                O = r(n(18345)),
                A = n(55085),
                L = r(n(75304)),
                D = n(27968),
                N = n(45738),
                R = n(32012),
                F = n(41044),
                B = n(89826),
                U = r(n(33241)),
                G = n(63641),
                H = n(66739),
                W = r(n(50507)),
                V = n(45438),
                z = r(n(14755)),
                q = r(n(47916)),
                K = r(n(2011)),
                Y = n(43890),
                Q = n(85651),
                X = n(64585),
                Z = r(n(28706)),
                J = r(n(7665)),
                $ = n(73860),
                ee = n(55072),
                te = n(92428),
                ne = r(n(17746)),
                ae = r(n(41262)),
                re = r(n(82073)),
                ie = n(85893);

            function oe(e) {
                if ("function" != typeof WeakMap) return null;
                var t = new WeakMap,
                    n = new WeakMap;
                return (oe = function(e) {
                    return e ? n : t
                })(e)
            }
            var le = x.MSG_TYPE.IMAGE,
                ue = x.MSG_TYPE.VIDEO,
                se = x.MSG_TYPE.AUDIO,
                de = x.MSG_TYPE.STICKER,
                ce = 3 * $.DEFAULT_FONT_SIZE,
                fe = function(e) {
                    (0, d.default)(n, e);
                    var t = (0, c.default)(n);

                    function n(e) {
                        var r, i;
                        return (0, u.default)(this, n), (i = t.call(this, e))._setRefCanvasContainer = function(e) {
                            i._refCanvasContainer = e
                        }, i._setRefCanvas = function(e) {
                            i._refCanvas = e
                        }, i._setRefImageBody = function(e) {
                            i._refImageBody = e
                        }, i._setRefFileInput = function(e) {
                            i._refFileInput = e
                        }, i._setRefSendButton = function(e) {
                            i._refSendButton = e
                        }, i._mediaThumbRefMap = new Map, i._setRefMediaThumb = function(e, t) {
                            i._mediaThumbRefMap.set(e, t)
                        }, i._captionInputRefMap = new Map, i._setRefCaptionInput = function(e, t) {
                            i.props.mediaCollection.getActive() && !t || i._captionInputRefMap.set(e, t)
                        }, i._setRefHotKeys = function(e) {
                            i._refHotKeys = e
                        }, i._update = function(e, t) {
                            if (e !== i._getData()) {
                                var n, a, r, o = i.state.activeMedia;
                                if (o) o.updateMediaEditorData(e, {
                                    undoable: null !== (n = null == t ? void 0 : t.undoable) && void 0 !== n && n,
                                    lastAction: null !== (a = null == t ? void 0 : t.lastAction) && void 0 !== a ? a : null
                                }), i._updateUndoRedoState();
                                if (null == t ? void 0 : t.updatePreview) null === (r = i._refImageBody) || void 0 === r || r.updatePreview();
                                __LOG__(2)`MediaEditor: Updated MediaEditorData`
                            }
                        }, i._getData = function() {
                            var e = i.state.activeMedia;
                            return null == e ? T.default.create() : e.mediaEditorData
                        }, i._getBackground = function() {
                            var e;
                            return null === (e = i._refImageBody) || void 0 === e ? void 0 : e.getBackground()
                        }, i._handleUndo = function() {
                            var e = i.state.activeMedia;
                            if (e && e.canUndoMediaEditorData()) {
                                var t, n, a = e.lastMediaEditorAction;
                                e.undoMediaEditorData();
                                var r = e.lastMediaEditorAction;
                                i._updateUndoRedoState(), null === (t = i._refImageBody) || void 0 === t || t.updatePreview(), null === (n = i._refImageBody) || void 0 === n || n.undoAction(a, r)
                            }
                        }, i._handleRedo = function() {
                            var e = i.state.activeMedia;
                            if (e && e.canRedoMediaEditorData()) {
                                var t, n, a = e.lastMediaEditorAction;
                                e.redoMediaEditorData();
                                var r = e.lastMediaEditorAction;
                                i._updateUndoRedoState(), null === (t = i._refImageBody) || void 0 === t || t.updatePreview(), null === (n = i._refImageBody) || void 0 === n || n.redoAction(r, a)
                            }
                        }, i._updateUndoRedoState = function() {
                            i.setState((function(e) {
                                var t, n, a, r, o = null !== (t = null === (n = i.state.activeMedia) || void 0 === n ? void 0 : n.canUndoMediaEditorData()) && void 0 !== t && t,
                                    l = null !== (a = null === (r = i.state.activeMedia) || void 0 === r ? void 0 : r.canRedoMediaEditorData()) && void 0 !== a && a;
                                return e.canUndo !== o || e.canRedo !== l ? {
                                    canUndo: o,
                                    canRedo: l
                                } : null
                            }))
                        }, i._addImageLayer = function(e, t, n, a, r) {
                            var o = (0, p.default)(i._refImageBody, "_this._refImageBody").getCanvasScale(),
                                l = t.width * o,
                                u = t.width * o,
                                s = Math.min(r / l, r / u),
                                d = i._getData().addImageLayerToCenter({
                                    type: e,
                                    image: t,
                                    editable: !0,
                                    scale: s
                                });
                            i._update(d, {
                                updatePreview: !0,
                                undoable: !0
                            })
                        }, i._handleEmojiSelect = function() {
                            var e = (0, l.default)(o.default.mark((function e(t) {
                                var n, a, r, l;
                                return o.default.wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                        case 0:
                                            if (e.prev = 0, null != (n = A.EmojiUtil.getGlyphId(t))) {
                                                e.next = 4;
                                                break
                                            }
                                            return e.abrupt("return");
                                        case 4:
                                            return a = A.EmojiUtil.getGlyphPath(n, "xlarge").high, e.next = 7, he(a);
                                        case 7:
                                            r = e.sent, l = i.state.sendAsSticker ? 128 : 64, i._addImageLayer(B.ImageLayerType.Emoji, r, r.width, r.height, l), i.state.sendAsSticker && new W.default.WebcStickerMakerEvents({
                                                stickerMakerEventName: W.default.WEBC_STICKER_MAKER_EVENT_NAME_TYPE.EMOJI_ADDED
                                            }).commit(), e.next = 16;
                                            break;
                                        case 13:
                                            e.prev = 13, e.t0 = e.catch(0), E.Cmd.openToast((0, ie.jsx)(te.Toast, {
                                                msg: b.fbt._("Failed to add image", null, {
                                                    hk: "1e7nnp"
                                                }),
                                                id: (0, te.genId)()
                                            }));
                                        case 16:
                                        case "end":
                                            return e.stop()
                                    }
                                }), e, null, [
                                    [0, 13]
                                ])
                            })));
                            return function() {
                                return e.apply(this, arguments)
                            }
                        }(), i._handleStickerSelect = function() {
                            var e = (0, l.default)(o.default.mark((function e(t) {
                                var n, a, r, l, u;
                                return o.default.wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                        case 0:
                                            return e.prev = 0, a = t.mediaData.fullWidth, r = t.mediaData.fullHeight, e.next = 5, (0, y.detectWebpSupport)();
                                        case 5:
                                            if (!e.sent) {
                                                e.next = 13;
                                                break
                                            }
                                            return l = t.mediaData.filehash, u = H.MediaBlobCache.getOrCreateURL(l), e.next = 10, he(u);
                                        case 10:
                                            n = e.sent, e.next = 16;
                                            break;
                                        case 13:
                                            return e.next = 15, me(t.mediaData);
                                        case 15:
                                            n = e.sent;
                                        case 16:
                                            i._addImageLayer(B.ImageLayerType.Sticker, n, a, r, 128), i.state.sendAsSticker && new W.default.WebcStickerMakerEvents({
                                                stickerMakerEventName: W.default.WEBC_STICKER_MAKER_EVENT_NAME_TYPE.STICKER_ADDED
                                            }).commit(), e.next = 23;
                                            break;
                                        case 20:
                                            e.prev = 20, e.t0 = e.catch(0), E.Cmd.openToast((0, ie.jsx)(te.Toast, {
                                                msg: b.fbt._("Failed to add image", null, {
                                                    hk: "1e7nnp"
                                                }),
                                                id: (0, te.genId)()
                                            }));
                                        case 23:
                                        case "end":
                                            return e.stop()
                                    }
                                }), e, null, [
                                    [0, 20]
                                ])
                            })));
                            return function() {
                                return e.apply(this, arguments)
                            }
                        }(), i._handlePaintSelect = function() {
                            var e = i._getData().clearSelectedLayer();
                            i._update(e)
                        }, i._handleOutlineSelect = function() {
                            var e = i._getData().clearSelectedLayer();
                            i._update(e)
                        }, i._handleOutlineDone = function() {
                            var e = i._getBackground(),
                                t = i._getData();
                            if (e && !t.outlineLayer.isEmpty()) {
                                var n = t.cropCenter,
                                    a = e.width,
                                    r = e.height,
                                    o = new q.default({
                                        x: n.x - a / 2,
                                        y: n.y - r / 2
                                    }),
                                    l = -t.rotation,
                                    u = Math.max(a, r),
                                    s = t.cropSize.dimension,
                                    d = t.updateBackground(e, o, l, s * ((X.STICKER_DIMENSION - 2 * X.STICKER_PADDING) / X.STICKER_DIMENSION) / u).clearOutlinePaths();
                                i._update(d, {
                                    undoable: !0,
                                    updatePreview: !0,
                                    lastAction: j.MediaEditorAction.OutlineDone
                                }), i.state.sendAsSticker && new W.default.WebcStickerMakerEvents({
                                    stickerMakerEventName: W.default.WEBC_STICKER_MAKER_EVENT_NAME_TYPE.IMAGE_OUTLINED
                                }).commit()
                            }
                        }, i._handleOutlineReset = function() {
                            var e = i._getData().clearOutlinePaths();
                            i._update(e, {
                                undoable: !0,
                                updatePreview: !0
                            })
                        }, i._handleCropRotateCanvas = function(e, t, n) {
                            var a = i._getData().setRotation(e).setCrop(t, n);
                            i._update(a, {
                                undoable: !0,
                                updatePreview: !0,
                                lastAction: j.MediaEditorAction.CropRotateCanvas
                            }), i.state.sendAsSticker && new W.default.WebcStickerMakerEvents({
                                stickerMakerEventName: W.default.WEBC_STICKER_MAKER_EVENT_NAME_TYPE.IMAGE_CROPPED
                            }).commit()
                        }, i._handlePaintColorSelect = function(e) {
                            i.setState({
                                paintColor: e
                            })
                        }, i._handlePaintThicknessSelect = function(e) {
                            i.setState({
                                paintThickness: e
                            })
                        }, i._handleOutlineSmoothingToggle = function(e) {
                            i.setState({
                                outlineSmoothing: e
                            })
                        }, i._handleTextSelect = function() {
                            if (!i.state.currentlyEditingTextLayer) {
                                i._handleLayerUnselect();
                                var e = 1.2 / (0, p.default)(i._refImageBody, "_this._refImageBody").getCanvasScale();
                                if (i.state.sendAsSticker) {
                                    var t = i._getData().cropSize.dimension;
                                    e = ce * t / X.STICKER_DIMENSION / $.DEFAULT_FONT_SIZE
                                }
                                var n = {
                                        origin: i._getData().cropCenter,
                                        text: "",
                                        textColor: i.state.textColor,
                                        textBackground: i.state.textBackground,
                                        alignment: i.state.alignment,
                                        font: i.state.font,
                                        scale: e
                                    },
                                    a = i._getData().addTextLayer(n),
                                    r = (0, p.default)(a.lastTextLayer, "data.lastTextLayer");
                                i.setState({
                                    draftTextLayer: r,
                                    currentlyEditingTextLayer: null
                                })
                            }
                        }, i._handleFontSelect = function(e) {
                            i.setState({
                                font: e
                            });
                            var t = i._getData().selectedLayer,
                                n = i.state.draftTextLayer;
                            if (n) i.setState({
                                draftTextLayer: n.setFont(e)
                            });
                            else if (t && t instanceof $.TextLayer) {
                                var a = i._getData().setFont(t, e);
                                i._update(a, {
                                    updatePreview: !0,
                                    undoable: !0
                                })
                            }
                        }, i._handleAlignmentSelect = function(e) {
                            i.setState({
                                alignment: e
                            });
                            var t = i._getData().selectedLayer,
                                n = i.state.draftTextLayer;
                            if (n) i.setState({
                                draftTextLayer: n.setAlignment(e)
                            });
                            else if (t && t instanceof $.TextLayer) {
                                var a = i._getData().setAlignment(t, e);
                                i._update(a, {
                                    updatePreview: !0,
                                    undoable: !0
                                })
                            }
                        }, i._handleTextColorSelect = function(e) {
                            i.setState({
                                textColor: e
                            });
                            var t = i._getData().selectedLayer,
                                n = i.state.draftTextLayer;
                            if (n) i.setState({
                                draftTextLayer: n.setTextColor(e)
                            });
                            else if (t && t instanceof $.TextLayer) {
                                var a = i._getData().setTextColor(t, e);
                                i._update(a, {
                                    updatePreview: !0,
                                    undoable: !0
                                })
                            }
                        }, i._handleTextBackgroundToggle = function() {
                            var e = !i.state.textBackground;
                            i.setState({
                                textBackground: e
                            });
                            var t = i._getData().selectedLayer,
                                n = i.state.draftTextLayer;
                            if (n) i.setState({
                                draftTextLayer: n.setTextBackground(e)
                            });
                            else if (t && t instanceof $.TextLayer) {
                                var a = i._getData().setTextBackground(t, e);
                                i._update(a, {
                                    updatePreview: !0,
                                    undoable: !0
                                })
                            }
                        }, i._handleTextEditingStart = function(e) {
                            i.setState({
                                draftTextLayer: e,
                                currentlyEditingTextLayer: e
                            })
                        }, i._handleTextEditingEnd = function(e, t) {
                            var n;
                            if (t) {
                                var a = i._getData(),
                                    r = (0, p.default)(i.state.draftTextLayer, "_this.state.draftTextLayer").setText(t);
                                i.state.currentlyEditingTextLayer ? a = a.updateLayer((0, p.default)(i.state.currentlyEditingTextLayer, "_this.state.currentlyEditingTextLayer"), r) : (a = a.addTextLayer(r), i.state.sendAsSticker && new W.default.WebcStickerMakerEvents({
                                    stickerMakerEventName: W.default.WEBC_STICKER_MAKER_EVENT_NAME_TYPE.TEXT_ADDED
                                }).commit()), i._update(a, {
                                    updatePreview: !0,
                                    undoable: !0
                                })
                            } else {
                                var o = i.state.currentlyEditingTextLayer;
                                o && i._update(i._getData().deleteLayer(o), {
                                    updatePreview: !0,
                                    undoable: Boolean(e.text)
                                })
                            }
                            setTimeout((function() {
                                i.setState({
                                    draftTextLayer: null,
                                    currentlyEditingTextLayer: null
                                })
                            }), 0), null === (n = i._refHotKeys) || void 0 === n || n.focus()
                        }, i._handlePaintDrawEnd = function(e) {
                            i._update(i._getData().addPaintPath(e), {
                                undoable: !0,
                                updatePreview: !0
                            })
                        }, i._handleOutlineDrawEnd = function(e) {
                            i._update(i._getData().addOutlinePath(e), {
                                undoable: !0,
                                updatePreview: !0,
                                lastAction: j.MediaEditorAction.Outline
                            })
                        }, i._handleLayerUnselect = function() {
                            i._update(i._getData().clearSelectedLayer())
                        }, i._handleLayerSelect = function(e) {
                            if (e.editable) {
                                var t = i._getData().setSelectedLayer(e);
                                i._update(t), e instanceof $.TextLayer && i.setState({
                                    textColor: e.textColor,
                                    textBackground: e.textBackground,
                                    font: e.font
                                })
                            }
                        }, i._handleLayerTranslate = function(e, t) {
                            e instanceof B.ImageLayer && e.isBackground() ? i._update(i._getData().translateBackground(t), {
                                updatePreview: !0,
                                undoable: !0
                            }) : i._update(i._getData().translateLayer(e, t), {
                                updatePreview: !0,
                                undoable: !0
                            })
                        }, i._handleLayerTransform = function(e, t, n) {
                            e instanceof B.ImageLayer && e.isBackground() ? i._update(i._getData().transformBackground(t, n), {
                                updatePreview: !0,
                                undoable: !0
                            }) : i._update(i._getData().transformLayer(e, t, n), {
                                updatePreview: !0,
                                undoable: !0
                            })
                        }, i._handleLayerDelete = function(e) {
                            var t = i._getData().deleteLayer(e);
                            i._update(t, {
                                updatePreview: !0,
                                undoable: !0
                            })
                        }, i._handleMediaProcessUpdate = function() {
                            var e = i.props.mediaCollection;
                            if (e.canSend()) {
                                var t = e.uiProcessMsgs().errorMsgs;
                                t && (E.Cmd.openToast((0, ie.jsx)(te.Toast, {
                                    msg: t,
                                    id: (0, te.genId)()
                                })), 0 === e.getPreviewableMedias().length && i.props.onClose()), i.forceUpdate()
                            }
                        }, i._handleDrop = function(e) {
                            i.state.viewOnce || i.state.sendAsSticker || i._handleFilePick(e)
                        }, i._handleDragChange = function(e, t) {
                            i.state.viewOnce || i.state.sendAsSticker || (i.setState({
                                isDragging: e
                            }), e || t || i.props.mediaCollection.length || i.props.onClose())
                        }, i._handleCaptionChange = function(e) {
                            var t = i.state,
                                n = t.activeMedia,
                                a = t.isInitCaptionUsed;
                            if (n) {
                                var r = i.props.mediaCollection.indexOf(n);
                                n.updateCaption(e), 0 === r && "" === e && a && i.setState({
                                    isInitCaptionUsed: !1
                                })
                            }
                        }, i._handlePaste = function(e) {
                            e.preventDefault(), e.stopPropagation();
                            var t = new I.default(e.clipboardData);
                            t.hasFiles() && i._handleFiles(t)
                        }, i._handleFiles = function(e) {
                            var t = e.getFiles().filter((function(e) {
                                var t = (0, v.typeFromMimetype)(e.type);
                                return "image" === t || "video" === t
                            })).map((function(e) {
                                return {
                                    file: e
                                }
                            }));
                            i.props.mediaCollection.processAttachments(t, W.default.MEDIA_PICKER_ORIGIN_TYPE.PASTE)
                        }, i._handleAddFileClick = function() {
                            i._refFileInput && i._refFileInput.click()
                        }, i._handleFilePick = function(e) {
                            var t = i.props.getUnmountSignal();
                            (0, m.getFiles)(e).then((function(n) {
                                var a;
                                if (!t.aborted) return e.shiftKey && e.altKey && 1 === n.length && (i.setState({
                                    sendAsSticker: !0,
                                    paintThickness: ee.THICKNESS.XLARGE
                                }), a = !0), i.props.mediaCollection.processAttachments(n.map((function(e) {
                                    return {
                                        file: e,
                                        stickerMaker: a
                                    }
                                })), W.default.MEDIA_PICKER_ORIGIN_TYPE.CHAT_PHOTO_LIBRARY)
                            })).catch((0, f.filteredCatch)(_.MediaDragDropError, (function(e) {
                                i.props.mediaCollection.length || i.props.onDropText(e.src)
                            }))), e.target.value && (e.target.value = "")
                        }, i._handleEnter = function(e) {
                            var t;
                            if (i.state.activeMedia && !e.repeat && !e.shiftKey && !i.state.draftTextLayer) {
                                var n = i._getData().selectedLayer;
                                if (n instanceof $.TextLayer) return e.preventDefault(), e.stopPropagation(), void i._handleTextEditingStart(n);
                                (null === (t = i._refImageBody) || void 0 === t ? void 0 : t.resetUIState()) || i._handleSendFromMediaEditor()
                            }
                        }, i._handleArrowKey = function(e, t) {
                            if (i.state.activeMedia && !t.repeat && !i.state.draftTextLayer) {
                                var n = i.state.activeMedia,
                                    a = n && !n.caption,
                                    r = i._captionInputRefMap.get(n.id);
                                (a || r && !r.isFocused() || r && r.cursorIsAtStart()) && ("left" === e ? i._handlePrev() : i._handleNext())
                            }
                        }, i._handlePrev = function() {
                            i.props.mediaCollection.setPrevAsActive() && (i._refSendButton && !i.state.draftTextLayer && g.default.focus(i._refSendButton), i._scrollIntoView())
                        }, i._handleNext = function() {
                            i.props.mediaCollection.setNextAsActive() && (i._refSendButton && !i.state.draftTextLayer && g.default.focus(i._refSendButton), i._scrollIntoView())
                        }, i._scrollIntoView = function() {
                            var e = i.state.activeMedia;
                            if (e) {
                                var t = i._mediaThumbRefMap.get(e.id);
                                t && t.scrollIntoView()
                            }
                        }, i._handleSelectThumb = function(e) {
                            i.props.mediaCollection.setActive(e)
                        }, i._handleRemoveThumb = function(e, t) {
                            t.stopPropagation(), t.preventDefault(), i.props.mediaCollection.remove(e), 0 === i.props.mediaCollection.getValidMedias().length ? i._delayedClose = setTimeout((function() {
                                i.props.onClose()
                            }), 200) : i._refSendButton && g.default.focus(i._refSendButton)
                        }, i._handleSendFromMediaEditor = function(e) {
                            var t;
                            null == e || e.preventDefault(), null == e || e.stopPropagation();
                            var n = i.props.mediaCollection;
                            if (n.canSend()) {
                                var r = n.getPreviewableMedias();
                                if (0 !== r.length) {
                                    var o;
                                    if ((null === (t = i.state.activeMedia) || void 0 === t ? void 0 : t.mediaEditorData.hasEdits()) || i.state.sendAsSticker) null === (o = i._refImageBody) || void 0 === o || o.updatePreview({
                                        immediately: !0
                                    });
                                    var l = new Map,
                                        u = [];
                                    r.forEach((function(e) {
                                        var t = e.caption,
                                            a = i._captionInputRefMap.get(e.id);
                                        if (t && a) {
                                            var r = a.serialize(t);
                                            l.set(e.id, r)
                                        }
                                        if (e.editedFile && (e.mediaEditorData.hasEdits() || i.state.sendAsSticker)) {
                                            var o = n.replace(e.id, {
                                                file: e.editedFile,
                                                asSticker: i.state.sendAsSticker
                                            });
                                            u.push(o)
                                        }
                                    })), a.all(u).then((function() {
                                        var e = n.getPreviewableMedias();
                                        if (0 !== e.length) {
                                            var t = e.map((function(e) {
                                                var t, n = e.caption,
                                                    a = [],
                                                    r = l.get(e.id);
                                                if (r) {
                                                    var i = [r[0].trim(), r[1]],
                                                        o = i[0],
                                                        u = i[1];
                                                    o.length && (n = o, a = u.mentionedJidList || [])
                                                }
                                                return e.caption = null !== (t = n) && void 0 !== t ? t : void 0, {
                                                    media: e,
                                                    mentionedJidList: a
                                                }
                                            }));
                                            i.props.onSendMedia(t, {
                                                initCaptionUsed: i.state.isInitCaptionUsed,
                                                isViewOnce: i._canViewOnce() && i.state.viewOnce
                                            }), i._commitMediaEditorSendMetric(r)
                                        }
                                    }))
                                } else i.props.onClose()
                            }
                        }, i._handleToggleViewOnce = function(e) {
                            i.setState({
                                viewOnce: e
                            })
                        }, i._handleToggleStickerMaker = function() {
                            var e = !i.state.sendAsSticker && i._canSendAsSticker();
                            i.setState({
                                sendAsSticker: e,
                                paintThickness: e ? ee.THICKNESS.XLARGE : ee.THICKNESS.SMALL
                            })
                        }, i._canViewOnce = function() {
                            var e, t = i.props,
                                n = t.chat,
                                a = t.mediaCollection,
                                r = n.contact.isEnterprise;
                            return Y.ServerProps.viewOnceWrite && 1 === a.length && !0 === (null === (e = a.at(0)) || void 0 === e ? void 0 : e.isViewableOnce()) && !r && !i.props.sendAsSticker
                        }, i._canSendAsSticker = function() {
                            var e, t = i.props.mediaCollection;
                            return 1 === t.length && (null === (e = t.at(0)) || void 0 === e ? void 0 : e.type) === le
                        }, i._getMediaBody = function(e) {
                            var t = null,
                                n = i.state,
                                a = n.paintColor,
                                r = n.paintThickness,
                                o = n.outlineSmoothing,
                                l = n.canUndo,
                                u = n.canRedo,
                                s = Y.ServerProps.viewOnceWrite ? i.state.viewOnce : null;
                            switch (e.type) {
                                case de:
                                case le:
                                    t = (0, ie.jsx)(F.ImageBody, {
                                        ref: i._setRefImageBody,
                                        attachMedia: e,
                                        chat: i.props.chat,
                                        onCaptionChange: i._handleCaptionChange,
                                        onClose: "capture" === i.props.theme ? null : i.props.onClose,
                                        onEnter: i._handleSendFromMediaEditor,
                                        setCaptionInputRef: i._setRefCaptionInput,
                                        paintColor: a,
                                        paintThickness: r,
                                        outlineSmoothing: o,
                                        canUndo: l,
                                        canRedo: u,
                                        currentlyEditingTextLayer: i.state.currentlyEditingTextLayer,
                                        draftTextLayer: i.state.draftTextLayer,
                                        viewOnce: s,
                                        viewOnceDisabled: !i._canViewOnce(),
                                        sendAsSticker: i.state.sendAsSticker,
                                        onPaintSelect: i._handlePaintSelect,
                                        onOutlineSelect: i._handleOutlineSelect,
                                        onOutlineDone: i._handleOutlineDone,
                                        onOutlineReset: i._handleOutlineReset,
                                        onTextSelect: i._handleTextSelect,
                                        onTextBackgroundToggle: i._handleTextBackgroundToggle,
                                        onEmojiSelect: i._handleEmojiSelect,
                                        onStickerSelect: i._handleStickerSelect,
                                        onLayerSelect: i._handleLayerSelect,
                                        onLayerUnselect: i._handleLayerUnselect,
                                        onLayerDelete: i._handleLayerDelete,
                                        onLayerTranslate: i._handleLayerTranslate,
                                        onLayerTransform: i._handleLayerTransform,
                                        onTextEditingStart: i._handleTextEditingStart,
                                        onTextEditingEnd: i._handleTextEditingEnd,
                                        onTextColorSelect: i._handleTextColorSelect,
                                        onFontSelect: i._handleFontSelect,
                                        onAlignmentSelect: i._handleAlignmentSelect,
                                        onPaintColorSelect: i._handlePaintColorSelect,
                                        onPaintThicknessSelect: i._handlePaintThicknessSelect,
                                        onOutlineSmoothingToggle: i._handleOutlineSmoothingToggle,
                                        onCropRotateCanvas: i._handleCropRotateCanvas,
                                        onUndo: i._handleUndo,
                                        onRedo: i._handleRedo,
                                        onPaintDrawEnd: i._handlePaintDrawEnd,
                                        onOutlineDrawEnd: i._handleOutlineDrawEnd,
                                        onToggleViewOnce: i._handleToggleViewOnce,
                                        onFiles: i._handleFiles
                                    }, e.mediaEditorData.id);
                                    break;
                                case ue:
                                    t = (0, ie.jsx)(ae.default, {
                                        attachMedia: e,
                                        chat: i.props.chat,
                                        viewOnce: s,
                                        viewOnceDisabled: !i._canViewOnce(),
                                        setCaptionInputRef: i._setRefCaptionInput,
                                        onCaptionChange: i._handleCaptionChange,
                                        onClose: i.props.onClose,
                                        onEnter: i._handleSendFromMediaEditor,
                                        onToggleViewOnce: i._handleToggleViewOnce,
                                        onFiles: i._handleFiles
                                    }, e.id);
                                    break;
                                case se:
                                    t = (0, ie.jsx)(k.default, {
                                        item: e,
                                        onClose: i.props.onClose
                                    }, e.id);
                                    break;
                                default:
                                    t = "pdf" === (0, V.previewType)(e.mimetype) ? (0, ie.jsx)(z.default, {
                                        item: e,
                                        onClose: i.props.onClose
                                    }, e.id) : (0, ie.jsx)(L.default, {
                                        mimeType: e.mimetype,
                                        filesize: e.filesize,
                                        filename: e.filename,
                                        fileExt: e.fileExt,
                                        onClose: i.props.onClose
                                    }, e.id)
                            }
                            return t
                        }, i.getThumbs = function() {
                            var e = i.props.mediaCollection;
                            return (0, ie.jsx)(P.default, {
                                className: U.default.thumbs,
                                mediaCollection: e,
                                onClick: i._handleSelectThumb,
                                onClose: i._handleRemoveThumb,
                                onElementRef: i._setRefMediaThumb
                            })
                        }, i.state = {
                            paintColor: (0, w.getColorValue)(w.COLORS.BLUE),
                            paintThickness: e.sendAsSticker ? ee.THICKNESS.XLARGE : ee.THICKNESS.SMALL,
                            outlineSmoothing: !0,
                            textColor: (0, w.getColorValue)(w.COLORS.BLACK),
                            font: N.FONTS.SANS_SERIF,
                            textBackground: !0,
                            alignment: N.TextAlignment.CENTER,
                            isDragging: !1,
                            canUndo: !1,
                            canRedo: !1,
                            activeMedia: null,
                            prevActiveMedia: null,
                            isInitCaptionUsed: !1,
                            initCaption: null === (r = i.props.initCaption) || void 0 === r ? void 0 : r.text,
                            currentlyEditingTextLayer: null,
                            draftTextLayer: null,
                            viewOnce: !1,
                            sendAsSticker: e.sendAsSticker
                        }, i
                    }
                    return (0, s.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            var e, t = this,
                                n = this.props,
                                a = n.mediaCollection,
                                r = n.listeners;
                            a.isStickerMaker = this.state.sendAsSticker, r.add(a, "add remove reset", (function() {
                                t.forceUpdate()
                            })), r.add(a, "active-change change:state change:previewable", this._handleMediaProcessUpdate), r.add(E.Cmd, "toggle_sticker_maker", this._handleToggleStickerMaker), null === (e = this._refHotKeys) || void 0 === e || e.focus()
                        }
                    }, {
                        key: "componentDidUpdate",
                        value: function() {
                            this.props.mediaCollection.isStickerMaker = this.state.sendAsSticker
                        }
                    }, {
                        key: "componentWillUnmount",
                        value: function() {
                            this._delayedClose && clearTimeout(this._delayedClose)
                        }
                    }, {
                        key: "handleRequestDismiss",
                        value: function() {
                            var e;
                            return !(null === (e = this._refImageBody) || void 0 === e ? void 0 : e.resetUIState()) && (!this.state.draftTextLayer || (this.setState({
                                currentlyEditingTextLayer: null,
                                draftTextLayer: null
                            }), !1))
                        }
                    }, {
                        key: "_commitMediaEditorSendMetric",
                        value: function(e) {
                            if (this.state.sendAsSticker) return new W.default.StickerSend({
                                stickerSendOrigin: W.default.STICKER_SEND_ORIGIN_TYPE.STICKER_MAKER,
                                stickerIsAnimated: !1,
                                stickerIsFirstParty: !1,
                                stickerIsFromStickerMaker: !0
                            }).commit(), void new W.default.WebcStickerMakerEvents({
                                stickerMakerEventName: W.default.WEBC_STICKER_MAKER_EVENT_NAME_TYPE.SEND_STICKER
                            }).commit();
                            var t = 0,
                                n = 0,
                                a = 0,
                                r = 0,
                                i = 0,
                                o = 0;
                            e.forEach((function(e) {
                                var l = e.mediaEditorData;
                                e.type === le && (t++, l.hasEdits() && n++, l.paintLayer.paths.length > 0 && a++), l.layers.forEach((function(e) {
                                    e instanceof B.ImageLayer ? (e.isEmoji() && r++, e.isSticker() && i++) : e instanceof $.TextLayer && o++
                                }))
                            })), new W.default.WebcMediaEditorSend({
                                imageCount: t,
                                editedImageCount: n,
                                paintedImageCount: a,
                                emojiLayerCount: r,
                                stickerLayerCount: i,
                                textLayerCount: o
                            }).commit()
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e, t = this,
                                n = this.props.mediaCollection,
                                a = this.state.activeMedia,
                                r = n.getPreviewableMedias();
                            r.length > h.default.MAX_FILES && (r = r.slice(0, h.default.MAX_FILES)), n.canSend() ? a && (e = this._getMediaBody(a)) : e = (0, ie.jsx)("div", {
                                className: U.default.spinner,
                                children: (0, ie.jsx)(Q.Spinner, {
                                    color: "highlight"
                                }, "processing")
                            });
                            var o, l, u = this.state.isDragging ? (0, ie.jsx)("div", {
                                    className: U.default.dropOverlay,
                                    children: (0, ie.jsx)("div", {
                                        className: U.default.dropOverlayOutline,
                                        children: b.fbt._("Drag file here", null, {
                                            hk: "y9aHs"
                                        })
                                    })
                                }, "container") : null,
                                s = {
                                    enter: this._handleEnter,
                                    left: function(e) {
                                        return t._handleArrowKey("left", e)
                                    },
                                    right: function(e) {
                                        return t._handleArrowKey("right", e)
                                    }
                                },
                                d = "*" === V.DOC_MIMES ? "*" : [V.IMAGE_MIMES].join();
                            if (null != e)
                                if (r.length > 0 && (l = (0, ie.jsx)("div", {
                                        className: U.default.sendButton,
                                        tabIndex: "-1",
                                        ref: this._setRefSendButton,
                                        onKeyPress: function(e) {
                                            return e.preventDefault()
                                        },
                                        children: (0, ie.jsx)(K.default, {
                                            ariaLabel: b.fbt._("Send", null, {
                                                hk: "2JJUaP"
                                            }),
                                            large: !0,
                                            icon: (0, ie.jsx)(J.default, {
                                                name: "send",
                                                directional: !0
                                            }),
                                            count: 1 === r.length ? null : r.length,
                                            onClick: this._handleSendFromMediaEditor,
                                            disabled: !n.canSend()
                                        })
                                    })), "capture" === this.props.theme) o = (0, ie.jsx)("div", {
                                    className: U.default.captureFooter,
                                    children: l
                                });
                                else {
                                    var c, f = !this.state.viewOnce && !this.state.sendAsSticker && r.length < h.default.MAX_FILES,
                                        p = this.state.sendAsSticker ? null : (0, ie.jsx)(Z.default, {
                                            className: (0, C.default)(U.default.addMediaButton, (0, i.default)({}, U.default.addMediaButtonDisabled, !f)),
                                            disabled: !f,
                                            name: "media-editor-add",
                                            title: b.fbt._("Add file", null, {
                                                hk: "4Gvj3D"
                                            }),
                                            onClick: this._handleAddFileClick,
                                            "aria-label": b.fbt._("Add file", null, {
                                                hk: "4Gvj3D"
                                            })
                                        }, "media-more");
                                    r.length > 0 && (c = (0, ie.jsxs)(D.FlexRow, {
                                        className: U.default.filmstripContainer,
                                        justify: "center",
                                        align: "start",
                                        children: [this.getThumbs(), p]
                                    })), o = (0, ie.jsxs)("div", {
                                        className: U.default.footer,
                                        children: [c, l]
                                    })
                                } var m = (0, C.default)(U.default.container, (0, i.default)({}, U.default.previewOnly, a && a.type !== le)),
                                v = (0, ie.jsxs)(D.FlexColumn, {
                                    className: m,
                                    align: "stretch",
                                    children: [u, e, o, (0, ie.jsx)("input", {
                                        ref: this._setRefFileInput,
                                        type: "file",
                                        accept: d,
                                        style: {
                                            display: "none"
                                        },
                                        onChange: this._handleFilePick,
                                        multiple: !0
                                    })]
                                });
                            return "attach" === this.props.theme && (v = (0, ie.jsx)(M.default, {
                                theme: "media",
                                onDrop: this._handleDrop,
                                onDragChange: this._handleDragChange,
                                children: (0, ie.jsx)(O.default, {
                                    tabIndex: "-1",
                                    overflow: "hidden",
                                    onPaste: this._handlePaste,
                                    children: v
                                })
                            }, "attach-image-modal")), (0, ie.jsx)(R.HotKeys, {
                                handlers: s,
                                ref: this._setRefHotKeys,
                                children: v
                            })
                        }
                    }], [{
                        key: "getDerivedStateFromProps",
                        value: function(e, t) {
                            var n, a, r = e.mediaCollection.getActive(),
                                i = t.initCaption,
                                o = t.isInitCaptionUsed;
                            return o || t.activeMedia || !i || !r || r.type !== le && r.type !== ue || (r.caption = i, o = !0), {
                                prevActiveMedia: r,
                                activeMedia: r,
                                canUndo: null !== (n = null == r ? void 0 : r.canUndoMediaEditorData()) && void 0 !== n && n,
                                canRedo: null !== (a = null == r ? void 0 : r.canRedoMediaEditorData()) && void 0 !== a && a,
                                isInitCaptionUsed: o
                            }
                        }
                    }]), n
                }(S.Component);
            fe.defaultProps = {
                onClose: function() {},
                theme: "attach",
                sendAsSticker: !1
            }, fe.displayName = "MediaEditor";
            var pe = function(e) {
                (0, d.default)(n, e);
                var t = (0, c.default)(n);

                function n() {
                    return (0, u.default)(this, n), t.apply(this, arguments)
                }
                return (0, s.default)(n, [{
                    key: "handleRequestDismiss",
                    value: function() {
                        return this.getComponent().handleRequestDismiss()
                    }
                }]), n
            }((0, ne.default)((0, G.ListenerHOC)(fe)));

            function he(e) {
                return new a((function(t, n) {
                    var a = new Image;
                    a.onload = function() {
                        t(a)
                    }, a.onerror = n, a.src = e
                }))
            }

            function me() {
                return ve.apply(this, arguments)
            }

            function ve() {
                return (ve = (0, l.default)(o.default.mark((function e(t) {
                    var n, a, r, i, l, u, s, d, c;
                    return o.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                if (n = t.rgbaBuffer) {
                                    e.next = 14;
                                    break
                                }
                                if (a = H.MediaBlobCache.get(t.filehash)) {
                                    e.next = 5;
                                    break
                                }
                                throw new Error("Failed to get media blob");
                            case 5:
                                return e.next = 7, (0, v.blobToArrayBuffer)(a);
                            case 7:
                                return r = e.sent, e.next = 10, (0, re.default)(r);
                            case 10:
                                if (i = e.sent.frames[0]) {
                                    e.next = 13;
                                    break
                                }
                                throw new Error("Failed to get sticker first frame.");
                            case 13:
                                n = i.rgbaBuffer;
                            case 14:
                                return l = t.fullWidth, u = t.fullHeight, (s = document.createElement("canvas")).width = l, s.height = u, d = s.getContext("2d"), (c = d.createImageData(l, u)).data.set(new Uint8Array(n)), d.putImageData(c, 0, 0), e.abrupt("return", s);
                            case 24:
                            case "end":
                                return e.stop()
                        }
                    }), e)
                })))).apply(this, arguments)
            }
            t.default = pe
        },
        78888: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.onClose,
                    n = e.item,
                    a = n.mimetype,
                    u = n.fullPreview;
                return (0, l.jsxs)("div", {
                    className: o.default.container,
                    children: [(0, l.jsx)(i.default, {
                        onClose: t
                    }), (0, l.jsx)(r.default, {
                        mimeType: a,
                        url: u
                    })]
                })
            };
            var r = a(n(47461)),
                i = a(n(72580)),
                o = a(n(50983)),
                l = n(85893)
        },
        23390: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.data,
                    n = e.rotation,
                    a = e.cropOrigin,
                    v = e.cropSize,
                    g = e.containerSize,
                    _ = e.keepRatio,
                    x = e.onCropChange,
                    C = e.sendAsSticker,
                    y = t.resetCropRotate().setRotation(n),
                    b = (0, r.useRef)(),
                    S = (0, r.useRef)(),
                    j = v.width,
                    k = v.height,
                    E = a.x,
                    w = a.y,
                    T = (0, r.useRef)(v),
                    I = j / T.current.width,
                    P = k / T.current.height,
                    M = t.width,
                    O = t.height,
                    A = h(M, O, n),
                    L = A.width,
                    D = A.height,
                    N = new s.default({
                        width: g.width - 20,
                        height: g.height - 20
                    }),
                    R = (0, d.calculateContainScale)(n % 180 ? O : M, n % 180 ? M : O, N, f),
                    F = p / R,
                    B = new s.default({
                        width: M + 2 * F,
                        height: O + 2 * F
                    }),
                    U = h(B.width, B.height, n),
                    G = U.width,
                    H = U.height,
                    W = B.width / 2,
                    V = B.height / 2;
                (0, r.useEffect)((function() {
                    var e, t = b.current,
                        n = S.current;
                    t && n && 0 === t.nodes().length && (t.nodes([n]), null === (e = n.getLayer()) || void 0 === e || e.batchDraw())
                }));
                var z = function(e) {
                        var t = e.target,
                            n = Math.round(t.x()),
                            a = Math.round(t.y()),
                            r = Math.min(Math.round(t.width() * t.scaleX()), M - n),
                            i = Math.min(Math.round(t.height() * t.scaleY()), O - a);
                        x(new l.default({
                            x: n,
                            y: a
                        }), new s.default({
                            width: r,
                            height: i
                        }))
                    },
                    q = ["top-left", "top-right", "bottom-left", "bottom-right"];
                _ || q.push("top-center", "middle-right", "middle-left", "bottom-center");
                return (0, c.jsxs)("div", {
                    className: o.default.container,
                    children: [(0, c.jsx)(i.default, {
                        data: y,
                        scale: R,
                        canEditLayer: !1,
                        style: {
                            padding: p
                        },
                        outlineEnabled: C
                    }), (0, c.jsx)(u.Stage, {
                        className: o.default.cropperContainer,
                        width: Math.round(G * R),
                        height: Math.round(H * R),
                        scaleX: R,
                        scaleY: R,
                        children: (0, c.jsx)(u.Layer, {
                            rotation: n,
                            offsetX: W,
                            offsetY: V,
                            x: G / 2,
                            y: H / 2,
                            children: (0, c.jsxs)(u.Group, {
                                x: F,
                                y: F,
                                children: [(0, c.jsx)(u.Rect, {
                                    x: 0,
                                    y: 0,
                                    width: M,
                                    height: O,
                                    fill: "black",
                                    opacity: .6
                                }), (0, c.jsx)(u.Rect, {
                                    ref: S,
                                    fill: "red",
                                    x: E,
                                    y: w,
                                    width: T.current.width,
                                    height: T.current.height,
                                    scaleX: I,
                                    scaleY: P,
                                    draggable: !0,
                                    dragBoundFunc: function(e) {
                                        var t = h(j, k, n),
                                            a = t.width,
                                            r = t.height,
                                            i = function(e, t, n, a, r) {
                                                switch ((r % 360 + 360) % 360) {
                                                    case 0:
                                                        return {
                                                            x: e, y: t
                                                        };
                                                    case 90:
                                                        return {
                                                            x: e - n, y: t
                                                        };
                                                    case 180:
                                                        return {
                                                            y: t - a, x: e - n
                                                        };
                                                    case 270:
                                                        return {
                                                            x: e, y: t - a
                                                        };
                                                    default:
                                                        throw new Error("Unsupported angle")
                                                }
                                            }(e.x, e.y, a * R, r * R, n),
                                            o = i.x,
                                            l = i.y;
                                        return o < p ? o = p : (o - p) / R + a > L && (o = Math.round(L - a + F) * R), l < p ? l = p : (l - p) / R + r > D && (l = Math.round(D - r + F) * R),
                                            function(e, t, n, a, r) {
                                                switch ((r % 360 + 360) % 360) {
                                                    case 0:
                                                        return {
                                                            x: e, y: t
                                                        };
                                                    case 90:
                                                        return {
                                                            x: e + n, y: t
                                                        };
                                                    case 180:
                                                        return {
                                                            y: t + a, x: e + n
                                                        };
                                                    case 270:
                                                        return {
                                                            x: e, y: t + a
                                                        };
                                                    default:
                                                        throw new Error("Unsupported angle")
                                                }
                                            }(o, l, a * R, r * R, n)
                                    },
                                    onTransformEnd: z,
                                    onDragEnd: z,
                                    globalCompositeOperation: "destination-out"
                                }), (0, c.jsx)(u.Transformer, {
                                    ref: b,
                                    anchorStroke: "blue",
                                    anchorFill: "white",
                                    anchorSize: 10,
                                    anchorCornerRadius: 5,
                                    borderEnabled: !1,
                                    centeredScaling: !1,
                                    resizeEnabled: !0,
                                    rotateEnabled: !1,
                                    ignoreStroke: !0,
                                    boundBoxFunc: function(e, t) {
                                        var a = M * R + 20,
                                            r = O * R + 20,
                                            i = m(e, a, r, n, -n),
                                            o = m(t, a, r, n, -n);
                                        return Math.round(o.x) < p ? (o.x = p, o.width = i.width + (i.x - p)) : Math.round(o.width) < 20 ? (o.x = i.x, o.width = i.width) : Math.round(o.x + o.width) > Math.round(a) - p && (o.width = a - o.x - p), Math.round(o.y) < p ? (o.y = p, o.height = i.height + (i.y - p)) : Math.round(o.height) < 20 ? (o.y = i.y, o.height = i.height) : Math.round(o.y + o.height) > Math.round(r) - p && (o.height = r - o.y - p), m(o, a, r, 0, n)
                                    },
                                    keepRatio: _,
                                    enabledAnchors: q
                                }, "transformer")]
                            })
                        }, "cropper")
                    })]
                })
            };
            var r = n(67294),
                i = a(n(7844)),
                o = a(n(95664)),
                l = a(n(47916)),
                u = n(51349),
                s = a(n(97954)),
                d = n(23961),
                c = n(85893),
                f = new s.default({
                    width: 200,
                    height: 200
                }),
                p = 10;

            function h(e, t, n) {
                return {
                    width: n % 180 == 0 ? e : t,
                    height: n % 180 == 0 ? t : e
                }
            }

            function m(e, t, n, a, r) {
                var i = Math.max(t, n),
                    o = h(t, n, a),
                    u = (i - o.width) / 2,
                    s = (i - o.height) / 2,
                    d = new l.default({
                        x: e.x + u,
                        y: e.y + s
                    }),
                    c = new l.default({
                        x: i / 2,
                        y: i / 2
                    }),
                    f = d.rotate(c, r),
                    p = h(t, n, a + r),
                    m = (i - p.width) / 2,
                    v = (i - p.height) / 2;
                return {
                    x: f.x - m,
                    y: f.y - v,
                    width: e.width,
                    height: e.height,
                    rotation: e.rotation
                }
            }
        },
        75304: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, n = e.onClose,
                    a = e.filename,
                    p = e.filesize,
                    h = e.fileExt,
                    m = e.mimeType,
                    v = null != p ? s.default.filesize(p) : "",
                    g = null !== (t = f.get(m)) && void 0 !== t ? t : "preview-generic";
                return (0, c.jsxs)("div", {
                    className: u.default.container,
                    children: [(0, c.jsx)(l.default, {
                        onClose: n,
                        filename: a
                    }), (0, c.jsx)(o.FlexColumn, {
                        className: i.default.body,
                        align: "center",
                        justify: "center",
                        children: (0, c.jsxs)(o.FlexColumn, {
                            className: i.default.previewContainer,
                            align: "center",
                            justify: "center",
                            children: [(0, c.jsx)("div", {
                                className: i.default.previewIcon,
                                children: (0, c.jsx)(d.default, {
                                    name: g
                                })
                            }), (0, c.jsx)("div", {
                                className: i.default.header,
                                children: r.fbt._("No preview available", null, {
                                    hk: "3NAVbb"
                                })
                            }), (0, c.jsxs)("div", {
                                className: i.default.metadata,
                                children: [v, null != h && "" !== h ? ` - ${h.toUpperCase()}` : null]
                            })]
                        })
                    })]
                })
            };
            var r = n(48360),
                i = a(n(86325)),
                o = n(27968),
                l = a(n(72580)),
                u = a(n(50983)),
                s = a(n(9844)),
                d = a(n(7665)),
                c = n(85893),
                f = new Map([
                    ["text/plain", "preview-txt"],
                    ["text/rtf", "preview-doc"],
                    ["application/msword", "preview-doc"],
                    ["application/vnd.openxmlformats-officedocument.wordprocessingml.document", "preview-doc"],
                    ["text/csv", "preview-sheet"],
                    ["application/vnd.ms-excel", "preview-sheet"],
                    ["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet", "preview-sheet"],
                    ["application/vnd.ms-powerpoint", "preview-slides"],
                    ["application/vnd.openxmlformats-officedocument.presentationml.presentation", "preview-slides"],
                    ["audio/aac", "preview-audio"],
                    ["audio/mp4", "preview-audio"],
                    ["audio/amr", "preview-audio"],
                    ["audio/mpeg", "preview-audio"],
                    ["audio/ogg; codecs=opus", "preview-audio"],
                    ["audio/wav", "preview-audio"],
                    ["application/zip", "preview-compressed"]
                ])
        },
        72580: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.filename,
                    n = e.pageCount,
                    a = null;
                null != n && n > 0 && (a = o.default.t(146, {
                    count: n,
                    _plural: n
                }));
                return (0, u.jsxs)("div", {
                    className: (0, i.default)(s),
                    children: [(0, u.jsx)("button", {
                        "aria-label": r.fbt._("Close", null, {
                            hk: "17RE2w"
                        }),
                        onClick: e.onClose,
                        className: (0, i.default)(p),
                        children: (0, u.jsx)(l.default, {
                            "aria-hidden": !0,
                            color: "secondary",
                            name: "x"
                        })
                    }), (0, u.jsxs)("div", {
                        className: (0, i.default)(d),
                        children: [t && (0, u.jsx)("span", {
                            className: (0, i.default)(c),
                            children: t
                        }), null != a && (0, u.jsx)("span", {
                            className: (0, i.default)(f),
                            children: a
                        })]
                    })]
                })
            };
            var r = n(48360),
                i = a(n(56720)),
                o = a(n(9844)),
                l = a(n(7665)),
                u = n(85893),
                s = {
                    display: "p357zi0d",
                    alignItems: "gndfcl4n",
                    justifyContent: "o4u7okr9",
                    minHeight: "cl7oiv0o",
                    paddingTop: "fbgy3m38",
                    paddingEnd: "l9g3jx6n",
                    paddingBottom: "oq31bsqd",
                    paddingStart: "lyvj5e2u",
                    backgroundColor: "ej3x2ktq"
                },
                d = {
                    display: "p357zi0d",
                    flexGrow: "ggj6brxn",
                    flexShrink: "m0h2a7mj",
                    flexBasis: "rjo8vgbg",
                    flexDirection: "f8m0rgwh",
                    alignItems: "gndfcl4n"
                },
                c = {
                    fontSize: "f8jlpxt4",
                    color: "tl2vja3b"
                },
                f = {
                    marginTop: "hymafltn",
                    fontSize: "dsh4tgtl",
                    color: "pm5hny62"
                },
                p = {
                    cursor: "ajgl1lbb"
                }
        },
        14755: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.onClose,
                    n = e.item,
                    a = n.mimetype,
                    s = n.fullPreview,
                    d = n.fullPreviewSize,
                    c = n.documentPageCount,
                    f = n.filename;
                if (!(s && d && null != c && c > 0)) return (0, u.jsx)(i.default, {
                    mimeType: n.mimetype,
                    filesize: n.filesize,
                    filename: n.filename,
                    fileExt: n.fileExt,
                    onClose: t
                });
                return (0, u.jsxs)("div", {
                    className: l.default.container,
                    children: [(0, u.jsx)(o.default, {
                        onClose: t,
                        filename: f,
                        pageCount: c
                    }), (0, u.jsx)(r.default, {
                        fullPreview: s,
                        fullPreviewSize: d,
                        pageCount: c,
                        showPageCount: !1,
                        showBorder: !0,
                        mimeType: a,
                        filename: f
                    })]
                })
            };
            var r = a(n(92028)),
                i = a(n(75304)),
                o = a(n(72580)),
                l = a(n(50983)),
                u = n(85893)
        },
        41262: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.attachMedia,
                    n = e.onClose,
                    a = e.chat,
                    o = e.viewOnce,
                    p = e.viewOnceDisabled,
                    h = e.onCaptionChange,
                    m = e.onEnter,
                    v = e.setCaptionInputRef,
                    g = e.onToggleViewOnce,
                    _ = e.onFiles,
                    x = (0, i.useModelValues)(t, ["caption"]).caption;
                return (0, c.jsxs)("div", {
                    className: d.default.container,
                    children: [(0, c.jsx)(s.default, {
                        onClose: n
                    }), (0, c.jsx)(l.default, {
                        mimeType: t.mimetype,
                        url: t.fullPreview,
                        isGif: t.isGif,
                        size: t.fullPreviewSize,
                        processing: t.state === f,
                        preview: t.preview
                    }), (0, c.jsx)("div", {
                        className: d.default.footer,
                        children: (0, c.jsx)(u.default, {
                            chat: a,
                            caption: x,
                            viewOnce: o,
                            viewOnceDisabled: p,
                            msgType: r.MSG_TYPE.VIDEO,
                            theme: "video",
                            onToggleViewOnce: g,
                            onChange: h,
                            onEnter: m,
                            onFiles: _,
                            setCaptionInputRef: function(e) {
                                v(t.id, e)
                            }
                        }, t.id)
                    })]
                })
            };
            var r = n(40787),
                i = n(50857),
                o = n(71988),
                l = a(n(21791)),
                u = a(n(38053)),
                s = a(n(72580)),
                d = a(n(83178)),
                c = n(85893),
                f = o.ATTACH_MEDIA_STATE.PROCESSING
        },
        62281: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, n, a, d = e.children,
                    c = e.onClick,
                    f = e.icon,
                    p = e.caret,
                    h = e.disabled,
                    m = e.title,
                    v = e.selected;
                if ("string" == typeof f) switch (f) {
                    case "sans-serif":
                        n = (0, s.jsx)(u.default, {
                            name: "panel-emoji-flags",
                            display: "inline"
                        });
                        break;
                    case "checked":
                        n = (0, s.jsx)(u.default, {
                            name: "checkmark",
                            display: "inline"
                        });
                        break;
                    case "unchecked":
                        n = (0, s.jsx)(u.default, {
                            name: "x",
                            display: "inline"
                        });
                        break;
                    default:
                        f && (n = (0, s.jsx)(u.default, {
                            name: f,
                            display: "inline"
                        }))
                } else f && (n = f);
                if (p) switch (p) {
                    case "up":
                        a = (0, s.jsx)(u.default, {
                            name: "chevron-down-alt",
                            display: "inline",
                            className: o.default.rotate
                        });
                        break;
                    case "down":
                        a = (0, s.jsx)(u.default, {
                            name: "chevron-down-alt",
                            display: "inline"
                        })
                }
                return (0, s.jsxs)("div", {
                    role: "button",
                    tabIndex: "-1",
                    onClick: c,
                    className: (0, i.default)(o.default.container, e.className, (t = {}, (0, r.default)(t, o.default.disabled, h), (0, r.default)(t, o.default.selected, v), t)),
                    title: m,
                    children: [n && (0, s.jsx)(l.FlexRow, {
                        align: "center",
                        justify: "center",
                        className: o.default.icon,
                        children: n
                    }), d && (0, s.jsx)("span", {
                        className: o.default.body,
                        children: d
                    }), a && (0, s.jsx)("span", {
                        className: o.default.caret,
                        children: a
                    })]
                })
            };
            var r = a(n(59713)),
                i = a(n(94184)),
                o = a(n(11653)),
                l = n(27968),
                u = a(n(7665)),
                s = n(85893)
        },
        42462: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(63038)),
                i = n(67294),
                o = a(n(62281)),
                l = a(n(88254)),
                u = a(n(30605)),
                s = a(n(20923)),
                d = n(98169),
                c = n(27968),
                f = a(n(9844)),
                p = n(16835),
                h = a(n(93820)),
                m = n(85893);

            function v(e, t) {
                var n = e.colors,
                    a = e.onColorSelect,
                    v = e.selectedColor,
                    g = (0, i.useState)(null),
                    _ = (0, r.default)(g, 2),
                    x = _[0],
                    C = _[1],
                    y = function() {
                        C(null)
                    },
                    b = function() {
                        return Boolean(x)
                    };
                (0, i.useImperativeHandle)(t, (function() {
                    return {
                        isPanelVisible: b
                    }
                }));
                var S = n.map((function(e) {
                        var t = e.primaryColor;
                        e.secondaryColor;
                        return (0, m.jsx)(u.default, {
                            primaryColor: t,
                            onSelect: function() {
                                return a(t)
                            },
                            selected: Boolean(v && v.equals(t))
                        }, t.toString())
                    })),
                    j = null;
                return x && (j = (0, m.jsx)(p.UIE, {
                    displayName: "ColorPicker",
                    escapable: !0,
                    popable: !0,
                    requestDismiss: y,
                    children: (0, m.jsx)(h.default, {
                        contextMenu: x
                    })
                })), (0, m.jsxs)("div", {
                    className: l.default.container,
                    children: [(0, m.jsx)(c.FlexRow, {
                        className: l.default.colorChipsContainer,
                        children: S
                    }), (0, m.jsx)(o.default, {
                        onClick: function(e) {
                            e.preventDefault(), e.stopPropagation();
                            var t = {
                                menu: (0, m.jsx)(s.default, {
                                    onColorSelect: a,
                                    selectedColor: v,
                                    onColorPickerClose: y
                                }),
                                dirX: f.default.isRTL() ? d.DirX.RIGHT : d.DirX.LEFT,
                                dirY: d.DirY.BOTTOM,
                                type: "color_picker",
                                anchor: e.target
                            };
                            C(t)
                        },
                        caret: x ? "down" : "up"
                    }), j]
                })
            }
            var g = (0, i.forwardRef)(v);
            t.default = g
        },
        30605: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, n, a = e.primaryColor,
                    d = e.secondaryColor,
                    c = e.onSelect,
                    f = e.selected,
                    p = e.withBorder,
                    h = (0, l.useState)(!1),
                    m = (0, i.default)(h, 2),
                    v = m[0],
                    g = m[1],
                    _ = (0, l.useState)(!1),
                    x = (0, i.default)(_, 2),
                    C = x[0],
                    y = x[1];
                return (0, s.jsx)("div", {
                    onClick: c,
                    onMouseEnter: function() {
                        g(!0)
                    },
                    onMouseLeave: function() {
                        g(!1)
                    },
                    onMouseDown: function() {
                        y(!0)
                    },
                    onMouseUp: function() {
                        y(!1)
                    },
                    className: (0, o.default)(u.default.colorButton, (t = {}, (0, r.default)(t, u.default.selected, f), (0, r.default)(t, u.default.hover, v), (0, r.default)(t, u.default.active, C), t)),
                    style: {
                        backgroundColor: C && !f ? a.withAlpha(.2).toRgbaString() : "transparent"
                    },
                    children: (0, s.jsx)("div", {
                        className: (0, o.default)(u.default.primaryColorChip, (n = {}, (0, r.default)(n, u.default.colorChipWithBorder, p && a.isWhite()), (0, r.default)(n, u.default.primaryColorChipMedium, "medium" === e.theme), n)),
                        style: {
                            backgroundColor: a.toRgbaString()
                        },
                        children: d && f && (0, s.jsx)("div", {
                            className: u.default.secondaryColorChip,
                            style: {
                                backgroundColor: d.toRgbaString()
                            }
                        })
                    })
                })
            };
            var r = a(n(59713)),
                i = a(n(63038)),
                o = a(n(94184)),
                l = n(67294),
                u = a(n(38289)),
                s = n(85893)
        },
        54336: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(34575)),
                i = a(n(93913)),
                o = a(n(2205)),
                l = a(n(99842)),
                u = n(67294),
                s = n(28448),
                d = a(n(30605)),
                c = a(n(85088)),
                f = n(78839),
                p = n(32012),
                h = n(96197),
                m = n(85893),
                v = function(e) {
                    (0, o.default)(n, e);
                    var t = (0, l.default)(n);

                    function n() {
                        var e;
                        (0, r.default)(this, n);
                        for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++) i[o] = arguments[o];
                        return (e = t.call.apply(t, [this].concat(i)))._setRefHexColorInput = function(t) {
                            return e._refHexColorInput = t
                        }, e.state = {
                            inputColorVal: e.props.color.toHex(),
                            selectedColor: e.props.color
                        }, e._handleInputChange = function(t) {
                            var n = t.target.value;
                            if (e.setState({
                                    inputColorVal: n
                                }), n && (!n || (0, s.isValidHex)(n))) {
                                var a = s.Color.fromHex(n);
                                e.props.onChangeColor(a)
                            }
                        }, e._handleEnter = function() {
                            e.props.onColorPickerClose()
                        }, e
                    }
                    return (0, i.default)(n, [{
                        key: "render",
                        value: function() {
                            var e = this.props.color,
                                t = this.state.inputColorVal;
                            return (0, m.jsxs)("div", {
                                className: c.default.container,
                                style: {
                                    width: f.CONTAINER_WIDTH,
                                    height: f.INPUT_HEIGHT
                                },
                                children: [(0, m.jsx)(d.default, {
                                    withBorder: !0,
                                    primaryColor: e,
                                    selected: !1,
                                    theme: "medium"
                                }), (0, m.jsx)(p.HotKeys, {
                                    handlers: {
                                        enter: this._handleEnter
                                    },
                                    children: (0, m.jsx)(h.SelectableDiv, {
                                        selectable: !0,
                                        children: (0, m.jsx)("input", {
                                            type: "text",
                                            ref: this._setRefHexColorInput,
                                            className: c.default.input,
                                            value: t,
                                            onChange: this._handleInputChange
                                        })
                                    })
                                })]
                            })
                        }
                    }], [{
                        key: "getDerivedStateFromProps",
                        value: function(e, t) {
                            var n = {};
                            return e.color !== t.selectedColor && ((0, s.compareHex)(t.inputColorVal, e.color.toHex()) || (n.inputColorVal = e.color.toHex()), n.selectedColor = e.color), n
                        }
                    }]), n
                }(u.Component);
            t.default = v, v.displayName = "ColorPickerInput"
        },
        22756: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.color,
                    n = e.onChangeSelectedColor,
                    a = e.onChangeCanvasColor,
                    f = (0, i.useRef)(null),
                    p = (0, i.useState)(!1),
                    h = (0, r.default)(p, 2),
                    m = h[0],
                    v = h[1];
                (0, i.useEffect)((function() {
                    var e = f.current;
                    if (e) {
                        var t = e.getContext("2d"),
                            n = t.createLinearGradient(0, 0, e.width, 0);
                        n.addColorStop(0, "#ff0000"), n.addColorStop(1 / 6, "#ffff00"), n.addColorStop(1 / 6 * 2, "#00ff00"), n.addColorStop(.5, "#00ffff"), n.addColorStop(1 / 6 * 4, "#0000ff"), n.addColorStop(1 / 6 * 5, "#ff00ff"), n.addColorStop(1, "#ff0000"), t.fillStyle = n, t.fillRect(0, 0, e.width, e.height), (n = t.createLinearGradient(0, 0, 0, e.height)).addColorStop(0, "rgba(255, 255, 255, 1)"), n.addColorStop(.5, "rgba(255, 255, 255, 0)"), n.addColorStop(1, "rgba(255, 255, 255, 0)"), t.fillStyle = n, t.fillRect(0, 0, e.width, e.height), (n = t.createLinearGradient(0, 0, 0, e.height)).addColorStop(0, "rgba(0, 0, 0, 0)"), n.addColorStop(.5, "rgba(0, 0, 0, 0)"), n.addColorStop(1, "rgba(0, 0, 0, 1)"), t.fillStyle = n, t.fillRect(0, 0, e.width, e.height)
                    }
                }), []);
                var g = (0, d.getPositionFromColor)(t),
                    _ = (0, o.default)(n, s.THROTTLE_WAIT_TIME),
                    x = function(e, t) {
                        null != t && v(t);
                        var n = function(e) {
                                var t = f.current;
                                if (!t) return {
                                    x: 0,
                                    y: 0
                                };
                                var n = t.getBoundingClientRect(),
                                    a = e.clientX - n.left,
                                    r = e.clientY - n.top;
                                return a > n.width && (a = n.width - .1), a < 0 && (a = 0), r > n.height && (r = n.height), r < 0 && (r = .1), {
                                    x: a -= s.CURSOR_SIZE / 2,
                                    y: r -= s.CURSOR_SIZE / 2
                                }
                            }(e),
                            r = function(e) {
                                var t = f.current;
                                if (!t) return new l.Color(0, 0, 0);
                                var n = e.x + s.CURSOR_SIZE / 2,
                                    a = e.y + s.CURSOR_SIZE / 2,
                                    r = t.getContext("2d").getImageData(n, a, 1, 1).data;
                                return new l.Color(r[0], r[1], r[2])
                            }({
                                x: n.x,
                                y: n.y
                            });
                        _(r), a(r)
                    };
                return (0, c.jsxs)(c.Fragment, {
                    children: [(0, c.jsx)("canvas", {
                        width: s.CONTAINER_WIDTH,
                        height: s.CANVAS_HEIGHT,
                        className: u.default.canvas,
                        ref: f,
                        onMouseDown: function(e) {
                            x(e, !0)
                        },
                        onMouseMove: function(e) {
                            m && (e.stopPropagation(), e.preventDefault(), x(e))
                        },
                        onMouseUp: function(e) {
                            x(e, !1)
                        }
                    }), (0, c.jsx)("div", {
                        className: u.default.cursor,
                        style: {
                            width: s.CURSOR_SIZE,
                            height: s.CURSOR_SIZE,
                            left: g.x,
                            top: g.y,
                            backgroundColor: t.toRgbaString()
                        }
                    })]
                })
            };
            var r = a(n(63038)),
                i = n(67294),
                o = a(n(75967)),
                l = n(28448),
                u = a(n(28526)),
                s = n(78839),
                d = n(69401),
                c = n(85893)
        },
        78839: (e, t, n) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.THROTTLE_WAIT_TIME = t.INPUT_HEIGHT = t.DEFAULT_COLOR = t.CURSOR_SIZE = t.CONTAINER_WIDTH = t.CONTAINER_HEIGHT = t.CANVAS_HEIGHT = void 0;
            var a = n(28448);
            t.CONTAINER_WIDTH = 334;
            t.CONTAINER_HEIGHT = 203;
            var r = 150.22;
            t.CANVAS_HEIGHT = r;
            t.INPUT_HEIGHT = 52.78;
            t.CURSOR_SIZE = 20;
            var i = new a.Color(210, 252, 86);
            t.DEFAULT_COLOR = i;
            t.THROTTLE_WAIT_TIME = 900
        },
        20923: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.selectedColor,
                    n = e.onColorSelect,
                    a = (0, i.useState)(null != t ? t : u.DEFAULT_COLOR),
                    c = (0, r.default)(a, 2),
                    f = c[0],
                    p = c[1],
                    h = function(e) {
                        p(e)
                    },
                    m = function(e) {
                        n(e)
                    };
                return (0, d.jsxs)("div", {
                    className: s.default.container,
                    style: {
                        width: u.CONTAINER_WIDTH,
                        height: u.CONTAINER_HEIGHT
                    },
                    children: [(0, d.jsx)(l.default, {
                        color: f,
                        onChangeCanvasColor: h,
                        onChangeSelectedColor: m
                    }), (0, d.jsx)(o.default, {
                        color: f,
                        onChangeColor: function(e) {
                            h(e), m(e)
                        },
                        onColorPickerClose: e.onColorPickerClose
                    })]
                })
            };
            var r = a(n(63038)),
                i = n(67294),
                o = a(n(54336)),
                l = a(n(22756)),
                u = n(78839),
                s = a(n(53591)),
                d = n(85893)
        },
        50142: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.CropRotateToolbar = function(e) {
                var t = e.canReset,
                    n = e.onRotateCanvas,
                    a = e.onReset;
                return (0, u.jsxs)(l.FlexRow, {
                    className: o.default.container,
                    children: [(0, u.jsx)(i.default, {
                        className: o.default.rotateLeftButton,
                        icon: "media-editor-rotate-left",
                        title: r.fbt._("Rotate left", null, {
                            hk: "2t86bC"
                        }),
                        onClick: function() {
                            return n(-90)
                        }
                    }), (0, u.jsx)(i.default, {
                        icon: "media-editor-rotate-right",
                        title: r.fbt._("Rotate right", null, {
                            hk: "XqQCf"
                        }),
                        onClick: function() {
                            return n(90)
                        }
                    }), (0, u.jsx)(i.default, {
                        onClick: a,
                        disabled: !t,
                        children: r.fbt._("Reset", null, {
                            hk: "1aUuOP"
                        })
                    })]
                })
            };
            var r = n(48360),
                i = a(n(62281)),
                o = a(n(25708)),
                l = n(27968),
                u = n(85893)
        },
        51451: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.Font = void 0;
            var r = a(n(81109)),
                i = a(n(63038)),
                o = a(n(65668)),
                l = n(67294),
                u = a(n(62281)),
                s = n(27968),
                d = a(n(43685)),
                c = a(n(9194)),
                f = n(45738),
                p = n(16835),
                h = a(n(93820)),
                m = n(85893);

            function v(e, t) {
                var n = e.selectedFont,
                    a = e.fonts,
                    r = e.onFontSelect,
                    s = e.onAlignmentSelect,
                    v = e.selectedAlignment,
                    g = (0, l.useRef)(null),
                    x = (0, l.useState)(null),
                    C = (0, i.default)(x, 2),
                    y = C[0],
                    b = C[1],
                    S = function() {
                        return Boolean(y)
                    };
                (0, l.useImperativeHandle)(t, (function() {
                    return {
                        isMenuVisible: S
                    }
                }));
                var j, k = Boolean(y);
                return y && (j = (0, m.jsx)(p.UIE, {
                    displayName: "MediaEditorFontDropdown",
                    escapable: !0,
                    popable: !0,
                    requestDismiss: function() {
                        b(null)
                    },
                    children: (0, m.jsx)(h.default, {
                        contextMenu: y
                    })
                })), (0, m.jsxs)("div", {
                    ref: g,
                    className: d.default.container,
                    children: [(0, m.jsx)(u.default, {
                        onClick: function() {
                            if (!y && g.current) {
                                var e = (0, m.jsx)(c.default, {
                                    fonts: a,
                                    selectedFont: n,
                                    selectedAlignment: v,
                                    onFontSelect: r,
                                    onAlignmentSelect: s
                                });
                                b({
                                    menu: e,
                                    anchor: g.current
                                })
                            }
                        },
                        icon: (0, m.jsx)(_, {
                            font: n
                        }),
                        selected: k,
                        caret: k ? "down" : "up",
                        children: (0, m.jsx)("span", {
                            className: d.default.fontLabel,
                            children: (0, f.getFontTranslation)(n)
                        })
                    }), (0, m.jsx)(o.default, {
                        transitionName: "dropdown",
                        children: j
                    })]
                })
            }
            var g = (0, l.forwardRef)(v);

            function _(e) {
                var t = e.font;
                return (0, m.jsx)(s.FlexRow, {
                    className: d.default.icon,
                    style: (0, r.default)({}, (0, f.getFontStyle)(t)),
                    justify: "center",
                    align: "center",
                    children: (0, m.jsx)("div", {
                        "aria-hidden": "true",
                        children: "A"
                    })
                })
            }
            t.Font = g
        },
        9194: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.onFontSelect,
                    n = e.onAlignmentSelect,
                    a = e.selectedFont,
                    r = e.selectedAlignment;
                (0, o.useEffect)((function() {
                    c.default.loadAllFonts()
                }), []);
                var i = function(e, n) {
                    e.stopPropagation(), t(n)
                };
                return (0, h.jsxs)("div", {
                    children: [e.fonts.map((function(e) {
                        return (0, h.jsx)(v, {
                            font: e,
                            isSelectedFont: a === e,
                            onAction: i
                        }, e)
                    })), (0, h.jsx)(g, {
                        selectedAlignment: r,
                        onAction: function(e, t) {
                            e.stopPropagation(), n(t)
                        }
                    }, "alignment")]
                })
            };
            var r = a(n(59713)),
                i = a(n(94184)),
                o = n(67294),
                l = n(94680),
                u = n(27968),
                s = a(n(69520)),
                d = a(n(38128)),
                c = a(n(55643)),
                f = n(45738),
                p = a(n(7665)),
                h = n(85893),
                m = [{
                    alignment: f.TextAlignment.LEFT,
                    icon: "align-left"
                }, {
                    alignment: f.TextAlignment.CENTER,
                    icon: "align-center"
                }, {
                    alignment: f.TextAlignment.RIGHT,
                    icon: "align-right"
                }];

            function v(e) {
                var t, n = e.isSelectedFont,
                    a = e.font,
                    r = e.onAction;
                n && (t = (0, h.jsx)("span", {
                    className: d.default.selected,
                    children: (0, h.jsx)(p.default, {
                        name: "checkmark",
                        display: "inline"
                    })
                }));
                var i, o = (0, f.getFontTranslation)(a);
                switch (a) {
                    case f.FONTS.SANS_SERIF:
                        i = d.default.sansSerif;
                        break;
                    case f.FONTS.SERIF:
                        i = d.default.serif;
                        break;
                    case f.FONTS.NORICAN_REGULAR:
                        i = d.default.noricanRegular;
                        break;
                    case f.FONTS.BRYNDAN_WRITE:
                        i = d.default.bryndanWrite;
                        break;
                    case f.FONTS.OSWALD_HEAVY:
                        i = d.default.oswaldHeavy
                }
                return (0, h.jsx)(l.DropdownItem, {
                    action: function(e) {
                        return r(e, a)
                    },
                    children: (0, h.jsxs)("div", {
                        role: "button",
                        className: d.default.item,
                        style: (0, f.getFontStyle)(a),
                        children: [(0, h.jsx)("span", {
                            className: i,
                            children: o
                        }), t]
                    })
                })
            }

            function g(e) {
                var t = e.selectedAlignment,
                    n = e.onAction;
                return (0, h.jsx)(u.FlexRow, {
                    className: d.default.alignmentContainer,
                    justify: "around",
                    align: "center",
                    children: m.map((function(e) {
                        var a = e.alignment,
                            o = e.icon;
                        return (0, h.jsx)(s.default, {
                            children: (0, h.jsx)(l.DropdownItem, {
                                action: function(e) {
                                    return n(e, a)
                                },
                                children: (0, h.jsx)(p.default, {
                                    name: o,
                                    className: (0, i.default)(d.default.alignmentIcon, (0, r.default)({}, d.default.alignmentIconSelected, t))
                                })
                            })
                        }, o)
                    }))
                })
            }
        },
        7885: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.selectedLayer,
                    n = e.inPaintMode,
                    a = e.inCropRotateMode,
                    C = e.inTextEditingMode,
                    y = e.inOutlineMode,
                    b = e.canUndo,
                    S = e.canRedo,
                    j = e.onPaintSelect,
                    k = e.onCropRotateSelect,
                    E = e.onTextSelect,
                    w = e.onEmojiSelect,
                    T = e.onToggleEmojiPanel,
                    I = e.onStickerSelect,
                    P = e.onToggleStickerPanel,
                    M = e.onOutlineSelect,
                    O = e.onUndo,
                    A = e.onRedo,
                    L = e.showOutline,
                    D = (0, l.useState)(),
                    N = (0, r.default)(D, 2),
                    R = N[0],
                    F = N[1],
                    B = (0, l.useState)(),
                    U = (0, r.default)(B, 2),
                    G = U[0],
                    H = U[1],
                    W = (0, l.useRef)({});
                W.current = {
                    inPaintMode: n,
                    onEmojiSelect: w,
                    onStickerSelect: I,
                    onPaintSelect: j
                };
                var V = function() {
                        a ? k() : n ? j() : y && M()
                    },
                    z = function() {
                        F(null), T(!1)
                    },
                    q = function() {
                        H(null), P(!1)
                    };
                return (0, x.jsxs)(f.MenuBar, {
                    theme: "media-editor",
                    children: [L && (0, x.jsx)(f.MenuBarItem, {
                        icon: (0, x.jsx)(m.default, {
                            name: "scissors"
                        }),
                        a8nText: "outline-button",
                        title: o.fbt._("Outline", null, {
                            hk: "47JwiV"
                        }),
                        onClick: function(e) {
                            e.preventDefault(), y || V(), M()
                        },
                        selected: y
                    }, "outline"), (0, x.jsx)(f.MenuBarItem, {
                        icon: (0, x.jsx)(m.default, {
                            name: "media-editor-emoji"
                        }),
                        a8nText: "emoji-button",
                        title: o.fbt._("Emoji", null, {
                            hk: "3f1gtD"
                        }),
                        onClick: function(e) {
                            e.preventDefault(), e.stopPropagation(), V();
                            var t = (0, x.jsx)(s.EmojiPanel, {
                                onEmoji: function(e) {
                                    W.current.inPaintMode && W.current.onPaintSelect(), W.current.onEmojiSelect(e), z()
                                },
                                onFocusNext: z,
                                onFocusPrev: z
                            });
                            F({
                                menu: t,
                                dirY: u.DirY.TOP,
                                type: "emoji_picker",
                                anchor: e.target
                            }), T(!0)
                        },
                        selected: Boolean(R) || t instanceof d.ImageLayer && t.isEmoji()
                    }, "emoji"), (0, x.jsx)(f.MenuBarItem, {
                        icon: (0, x.jsx)(m.default, {
                            name: "media-editor-sticker"
                        }),
                        a8nText: "sticker-button",
                        title: o.fbt._("Sticker", null, {
                            hk: "4342bb"
                        }),
                        onClick: function(e) {
                            e.preventDefault(), e.stopPropagation(), V();
                            var t, n = function(e) {
                                W.current.inPaintMode && W.current.onPaintSelect(), W.current.onStickerSelect(e), q()
                            };
                            (0, i.isMDBackend)() ? p.ServerProps.webServerStickerPanel && (t = (0, x.jsx)(c.default, {
                                onSticker: n,
                                onFocusNext: q,
                                onFocusPrev: q
                            })): t = (0, x.jsx)(h.default, {
                                onSticker: n,
                                onFocusNext: q,
                                onFocusPrev: q
                            }), t && (H({
                                menu: t,
                                dirY: u.DirY.TOP,
                                type: "sticker_picker",
                                anchor: e.target
                            }), P(!0))
                        },
                        selected: Boolean(G) || t instanceof d.ImageLayer && t.isSticker()
                    }, "sticker"), (0, x.jsx)(f.MenuBarItem, {
                        icon: (0, x.jsx)(m.default, {
                            name: "media-editor-text"
                        }),
                        a8nText: "text-button",
                        title: o.fbt._("Text", null, {
                            hk: "12XnGO"
                        }),
                        onClick: function(e) {
                            e.preventDefault(), V(), E()
                        },
                        selected: C || t instanceof v.TextLayer
                    }, "text"), (0, x.jsx)(f.MenuBarItem, {
                        icon: (0, x.jsx)(m.default, {
                            name: "media-editor-drawing"
                        }),
                        a8nText: "paint-button",
                        title: o.fbt._("Paint", null, {
                            hk: "U5v5P"
                        }),
                        onClick: function(e) {
                            e.preventDefault(), n || V(), j()
                        },
                        selected: n
                    }, "paint"), (0, x.jsx)(f.MenuBarItem, {
                        icon: (0, x.jsx)(m.default, {
                            name: "media-editor-crop-rotate"
                        }),
                        a8nText: "crop-rotate-button",
                        title: o.fbt._("Crop & Rotate", null, {
                            hk: "3WqVhk"
                        }),
                        onClick: function(e) {
                            e.preventDefault(), a || V(), k()
                        },
                        selected: a
                    }, "crop-rotate"), (0, x.jsx)(f.MenuBarItem, {
                        icon: (0, x.jsx)(m.default, {
                            name: "media-editor-undo"
                        }),
                        a8nText: "undo-button",
                        title: o.fbt._("Undo", null, {
                            hk: "12qsD9"
                        }),
                        disabled: !b,
                        onClick: O
                    }, "undo"), (0, x.jsx)(f.MenuBarItem, {
                        icon: (0, x.jsx)(m.default, {
                            name: "media-editor-redo"
                        }),
                        a8nText: "redo-button",
                        title: o.fbt._("Redo", null, {
                            hk: "39SiUc"
                        }),
                        disabled: !S,
                        onClick: A
                    }, "redo"), G && (0, x.jsx)(g.UIE, {
                        displayName: "StickerPicker",
                        escapable: !0,
                        popable: !0,
                        requestDismiss: q,
                        children: (0, x.jsx)(_.default, {
                            contextMenu: G
                        })
                    }), R && (0, x.jsx)(g.UIE, {
                        displayName: "EmojiPicker",
                        escapable: !0,
                        popable: !0,
                        requestDismiss: z,
                        children: (0, x.jsx)(_.default, {
                            contextMenu: R
                        })
                    })]
                })
            };
            var r = a(n(63038)),
                i = n(78577),
                o = n(48360),
                l = n(67294),
                u = n(98169),
                s = n(10508),
                d = n(89826),
                c = a(n(55279)),
                f = n(91823),
                p = n(43890),
                h = a(n(78893)),
                m = a(n(7665)),
                v = n(73860),
                g = n(16835),
                _ = a(n(93820)),
                x = n(85893)
        },
        23289: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.OutlineToolbar = function(e) {
                var t = e.smoothing,
                    n = e.onSmoothingToggle,
                    a = e.canReset,
                    d = e.onReset;
                return (0, u.jsxs)(l.FlexRow, {
                    children: [(0, u.jsx)(o.default, {
                        className: (0, i.default)(s),
                        icon: "outline-smooth",
                        title: r.fbt._("Smooth", null, {
                            hk: "4vwxxi"
                        }),
                        selected: t,
                        onClick: function() {
                            return n(!0)
                        }
                    }), (0, u.jsx)(o.default, {
                        className: (0, i.default)(s),
                        icon: "outline-straight",
                        title: r.fbt._("Straight", null, {
                            hk: "3KyC8d"
                        }),
                        selected: !t,
                        onClick: function() {
                            return n(!1)
                        }
                    }), (0, u.jsx)(o.default, {
                        className: (0, i.default)(s),
                        onClick: d,
                        disabled: !a,
                        children: r.fbt._("Reset", null, {
                            hk: "1aUuOP"
                        })
                    })]
                })
            };
            var r = n(48360),
                i = a(n(56720)),
                o = a(n(62281)),
                l = n(27968),
                u = n(85893),
                s = {
                    marginTop: "tt8xd2xn",
                    marginEnd: "bugiwsl0",
                    marginBottom: "mpdn4nr2",
                    marginStart: "fooq7fky"
                }
        },
        36466: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.checked,
                    n = e.onBackgroundToggle,
                    a = (0, d.jsx)("div", {
                        className: (0, i.default)(s.default.cirle, (0, r.default)({}, s.default.circleFilled, t)),
                        children: t ? (0, d.jsx)("div", {
                            className: s.default.checked,
                            children: (0, d.jsx)(u.default, {
                                name: "checkmark"
                            })
                        }) : (0, d.jsx)("div", {
                            className: s.default.unchecked
                        })
                    });
                return (0, d.jsx)(l.default, {
                    icon: a,
                    onClick: n,
                    children: o.fbt._("Background", null, {
                        hk: "3Y8odq"
                    })
                })
            };
            var r = a(n(59713)),
                i = a(n(94184)),
                o = n(48360),
                l = a(n(62281)),
                u = a(n(7665)),
                s = a(n(13813)),
                d = n(85893)
        },
        63782: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.thicknesses.map((function(t, n) {
                    return (0, u.jsx)(s, {
                        thickness: t,
                        onThicknessSelect: e.onThicknessSelect,
                        selectedThickness: e.selectedThickness
                    }, n)
                }));
                return (0, u.jsx)("div", {
                    className: o.default.container,
                    children: t
                })
            };
            var r = a(n(59713)),
                i = a(n(94184)),
                o = a(n(92753)),
                l = n(55072),
                u = n(85893);

            function s(e) {
                return (0, u.jsx)("div", {
                    onClick: function() {
                        return e.onThicknessSelect(e.thickness)
                    },
                    className: (0, i.default)(o.default.thicknessButton, (0, r.default)({}, o.default.selected, e.selectedThickness && e.selectedThickness === e.thickness)),
                    children: (0, u.jsx)("div", {
                        className: o.default.thicknessChip,
                        style: {
                            height: (0, l.getThicknessValue)(e.thickness),
                            width: (0, l.getThicknessValue)(e.thickness)
                        }
                    })
                }, e.thickness.toString())
            }
        },
        69401: (e, t, n) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.getPositionFromColor = function(e) {
                var t = e.toHsl(),
                    n = a.CONTAINER_WIDTH * t.hue - a.CURSOR_SIZE / 2,
                    r = a.CANVAS_HEIGHT * (1 - t.lightness) - a.CURSOR_SIZE / 2;
                return {
                    x: n,
                    y: r
                }
            };
            var a = n(78839)
        },
        76249: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.getPointFromGroup = function(e) {
                return new r.default({
                    x: e.target.x() - e.target.offsetX(),
                    y: e.target.y() - e.target.offsetY()
                })
            }, t.getPointFromStage = function(e, t) {
                var n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
                if (!t) return new r.default({
                    x: 0,
                    y: 0
                });
                var a = t.getAbsoluteScale(),
                    i = a.x,
                    o = a.y,
                    l = t.content.getBoundingClientRect(),
                    u = e.clientX - l.left,
                    s = e.clientY - l.top;
                n && (u = Math.min(Math.max(0, u), l.width), s = Math.min(Math.max(0, s), l.height));
                return new r.default({
                    x: u / i,
                    y: s / o
                })
            }, t.getRotationFromGroup = function(e) {
                return e.target.rotation()
            }, t.getScaleFromGroup = function(e) {
                return e.target.scaleX()
            }, t.isEventOnAnchor = function(e) {
                var t, n;
                return null !== (t = null === (n = e.target.attrs.name) || void 0 === n ? void 0 : n.includes("anchor")) && void 0 !== t && t
            }, t.isStageCorner = function(e, t) {
                if (!t) return !1;
                var n = t.getAbsoluteScale(),
                    a = n.x,
                    r = n.y,
                    i = t.content.getBoundingClientRect(),
                    o = i.width,
                    l = i.height;
                return 0 === e.x && 0 === e.y || 0 === e.x && e.y === l / r || e.x === o / a && 0 === e.y || e.x === o / a && e.y === l / r
            };
            var r = a(n(47916))
        },
        51349: (e, t, n) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), Object.defineProperty(t, "Circle", {
                enumerable: !0,
                get: function() {
                    return a.Circle
                }
            }), Object.defineProperty(t, "Group", {
                enumerable: !0,
                get: function() {
                    return a.Group
                }
            }), Object.defineProperty(t, "Image", {
                enumerable: !0,
                get: function() {
                    return a.Image
                }
            }), Object.defineProperty(t, "Layer", {
                enumerable: !0,
                get: function() {
                    return a.Layer
                }
            }), Object.defineProperty(t, "Line", {
                enumerable: !0,
                get: function() {
                    return a.Line
                }
            }), Object.defineProperty(t, "Path", {
                enumerable: !0,
                get: function() {
                    return a.Path
                }
            }), Object.defineProperty(t, "Rect", {
                enumerable: !0,
                get: function() {
                    return a.Rect
                }
            }), Object.defineProperty(t, "Stage", {
                enumerable: !0,
                get: function() {
                    return a.Stage
                }
            }), Object.defineProperty(t, "Text", {
                enumerable: !0,
                get: function() {
                    return a.Text
                }
            }), Object.defineProperty(t, "Transformer", {
                enumerable: !0,
                get: function() {
                    return a.Transformer
                }
            });
            var a = n(77201);
            n(7643), n(71298), n(27149), n(87339), n(75244), n(23787), n(29516)
        },
        23961: (e, t) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.calculateContainScale = function(e, t, n, a) {
                if (0 === e || 0 === t) return 1;
                if (!n.isEmpty() && (e > n.width || t > n.height)) return Math.min(n.width / e, n.height / t);
                if (!a.isEmpty() && e < a.width && t < a.height) return Math.min(a.width / e, a.height / t);
                return 1
            }
        },
        47461: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.mimeType,
                    n = e.url;
                return (0, i.jsx)("div", {
                    className: r.default.container,
                    "data-animate-attach-media": !0,
                    children: (0, i.jsx)("div", {
                        className: r.default.media,
                        children: (0, i.jsx)("audio", {
                            controls: !0,
                            type: t,
                            src: n
                        })
                    })
                })
            };
            var r = a(n(81402)),
                i = n(85893)
        },
        77621: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, n, a = e.mimeType,
                    u = e.filename,
                    s = (0, r.default)(i.default.icon, null !== (t = null === (n = o.DOCUMENT_MIMETYPES[a]) || void 0 === n ? void 0 : n.icon) && void 0 !== t ? t : "icon-doc-generic");
                return (0, l.jsx)("div", {
                    className: i.default.container,
                    "data-animate-attach-media": !0,
                    children: (0, l.jsx)("div", {
                        className: i.default.media,
                        children: (0, l.jsxs)("div", {
                            className: i.default.document,
                            children: [(0, l.jsx)("div", {
                                className: s
                            }), (0, l.jsx)("div", {
                                className: i.default.text,
                                children: u
                            })]
                        })
                    })
                })
            };
            var r = a(n(94184)),
                i = a(n(78119)),
                o = n(45438),
                l = n(85893)
        },
        21791: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, n = e.mimeType,
                    a = e.url,
                    i = e.isGif,
                    s = e.size,
                    m = e.processing,
                    v = e.preview;
                switch (h[n].msgType) {
                    case "image":
                        t = (0, p.jsx)("img", {
                            alt: u.default.t(979),
                            src: a,
                            className: l.default.img
                        });
                        break;
                    case "video":
                        var g = i ? {
                                loop: !m,
                                autoPlay: !m,
                                muted: !1,
                                controls: !1
                            } : {},
                            _ = m ? (0, p.jsx)("div", {
                                className: l.default.spinner,
                                children: (0, p.jsx)(c.Spinner, {
                                    color: c.colorOptions.white,
                                    size: 50,
                                    stroke: 3
                                })
                            }) : null,
                            x = v ? (0, p.jsx)("img", {
                                alt: u.default.t(979),
                                className: l.default.staticPreview,
                                src: `data:image/jpeg;base64,${v}`
                            }) : null,
                            C = m ? null : (0, p.jsx)(f.default, (0, r.default)((0, r.default)({
                                controls: !0,
                                controlsList: "nodownload nofullscreen",
                                className: l.default.video
                            }, g), {}, {
                                src: a
                            }));
                        t = (0, p.jsxs)("div", {
                            className: (0, o.default)(l.default.img, l.default.videoContainer),
                            children: [_, C, x]
                        });
                        break;
                    case "audio":
                        t = (0, p.jsx)("audio", {
                            controls: !0,
                            className: l.default.audio,
                            type: n,
                            src: a
                        })
                }
                return (0, p.jsx)("div", {
                    className: l.default.container,
                    "data-animate-attach-media": !0,
                    children: (0, p.jsx)("div", {
                        className: l.default.media,
                        children: (0, p.jsx)(d.default, {
                            type: "scaleDown",
                            size: s,
                            children: t
                        })
                    })
                })
            };
            var r = a(n(81109)),
                i = a(n(35937)),
                o = a(n(94184)),
                l = a(n(39133)),
                u = a(n(9844)),
                s = n(45438),
                d = a(n(58497)),
                c = n(85651),
                f = a(n(61566)),
                p = n(85893),
                h = (0, i.default)(s.MIMETYPES, (function(e) {
                    return "image" === (null == e ? void 0 : e.msgType) || "video" === (null == e ? void 0 : e.msgType)
                }))
        },
        92028: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.fullPreview,
                    n = e.fullPreviewSize,
                    a = e.pageCount,
                    c = e.mimeType,
                    f = e.filename,
                    p = e.showPageCount,
                    h = void 0 === p || p,
                    m = e.showBorder,
                    v = void 0 !== m && m;
                if (t && n && null != a && a > 0) {
                    var g = u.default.t(146, {
                        count: a,
                        _plural: a
                    });
                    return (0, d.jsxs)("div", {
                        className: l.default.container,
                        "data-js-attach-preview": !0,
                        children: [(0, d.jsx)("div", {
                            className: l.default.preview,
                            children: (0, d.jsx)(s.default, {
                                type: "scaleDown",
                                size: n,
                                children: (0, d.jsx)("img", {
                                    alt: u.default.t(979),
                                    src: t,
                                    className: (0, i.default)(l.default.img, (0, r.default)({}, l.default.imgBorder, v))
                                })
                            })
                        }), h && (0, d.jsx)("div", {
                            className: l.default.caption,
                            children: g
                        })]
                    })
                }
                return (0, d.jsx)(o.default, {
                    mimeType: c,
                    filename: f
                })
            };
            var r = a(n(59713)),
                i = a(n(94184)),
                o = a(n(77621)),
                l = a(n(8338)),
                u = a(n(9844)),
                s = a(n(58497)),
                d = n(85893)
        },
        51241: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.disabled,
                    n = e.isOn,
                    a = e.mediaType,
                    _ = e.onChange,
                    x = e.noMargin,
                    C = (0, s.default)(f.NUX.EPHEMERAL_VIEW_ONCE, 1),
                    y = (0, r.default)(C, 2),
                    b = y[0],
                    S = y[1];
                return (0, u.useEffect)((function() {
                    if (n) {
                        if (!b) {
                            var e = a === o.MSG_TYPE.VIDEO ? l.fbt._("Video set to view once", null, {
                                    hk: "2L7ZJW"
                                }) : l.fbt._("Photo set to view once", null, {
                                    hk: "1jN7IR"
                                }),
                                t = (0, v.jsx)(h.Toast, {
                                    msg: e,
                                    id: (0, h.genId)("view-once-toast")
                                });
                            return c.Cmd.openToast(t),
                                function() {
                                    c.Cmd.closeToast(t)
                                }
                        }
                        var r = (0, v.jsx)(d.default, {
                            onOkClick: function() {
                                S(), c.Cmd.closeModal()
                            }
                        });
                        c.Cmd.openModal(r)
                    }
                }), [b, S, a, n]), (0, v.jsx)(m.default, {
                    a8nText: i.default.key("view-once-toggle"),
                    xstyle: [g.btnViewOnce, x && g.btnNoMargin, t && g.btnDisabled],
                    disabled: t,
                    onClick: function() {
                        return _(!n)
                    },
                    "aria-pressed": n,
                    children: (0, v.jsx)(p.default, {
                        "aria-label": n ? l.fbt._("Turn off view once", null, {
                            hk: "3cl8Dn"
                        }) : l.fbt._("Turn on view once", null, {
                            hk: "3pd2lD"
                        }),
                        name: n ? "view-once-media-select-on" : "view-once-media-select",
                        height: 26,
                        width: 26
                    })
                })
            };
            var r = a(n(63038)),
                i = a(n(84646)),
                o = n(40787),
                l = n(48360),
                u = n(67294),
                s = (a(n(56720)), a(n(52574))),
                d = a(n(4338)),
                c = n(65901),
                f = n(15849),
                p = a(n(7665)),
                h = n(92428),
                m = a(n(76080)),
                v = n(85893),
                g = {
                    btnViewOnce: {
                        display: "f804f6gw",
                        marginTop: "c46o30wg",
                        marginEnd: "bugiwsl0",
                        marginStart: "eab7llgz",
                        color: "svlsagor"
                    },
                    btnNoMargin: {
                        marginTop: "tt8xd2xn",
                        marginEnd: "jnwc1y2a",
                        marginBottom: "mpdn4nr2",
                        marginStart: "svoq16ka"
                    },
                    btnDisabled: {
                        cursor: "h2qzpyga",
                        opacity: "notw83rv"
                    }
                }
        },
        4338: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.onOkClick;
                return (0, h.jsx)(l.default, {
                    onOK: t,
                    cancelText: c.default.t(547),
                    onCancel: function() {
                        (0, u.openExternalLink)((0, r.getViewOnceFaqUrl)())
                    },
                    children: (0, h.jsxs)(s.FlexColumn, {
                        children: [(0, h.jsx)(d.default, {
                            xstyle: m.graphic,
                            align: "center",
                            children: (0, h.jsx)(f.default, {
                                name: "view-once-sender-nux",
                                width: 195,
                                height: 177
                            })
                        }), (0, h.jsx)(p.TextHeader, {
                            className: (0, o.default)(m.text),
                            theme: "popup-title",
                            children: i.fbt._("Send photos and videos that can be viewed only once", null, {
                                hk: "t5MUO"
                            })
                        }), (0, h.jsx)(p.TextParagraph, {
                            className: (0, o.default)(m.text),
                            color: "secondary",
                            children: i.fbt._("For more privacy, your photo or video will disappear from the chat after the recipient opens it once. Remember, people can always take screenshots.", null, {
                                hk: "Y4e8s"
                            })
                        })]
                    })
                })
            };
            var r = n(8917),
                i = n(48360),
                o = a(n(56720)),
                l = a(n(86777)),
                u = n(49012),
                s = n(27968),
                d = a(n(69520)),
                c = a(n(9844)),
                f = a(n(7665)),
                p = n(22552),
                h = n(85893),
                m = {
                    text: {
                        marginBottom: "or9x5nie"
                    },
                    graphic: {
                        marginBottom: "t4zgqcuo"
                    }
                }
        },
        29453: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function() {
                var e = (0, u.useState)(""),
                    t = (0, o.default)(e, 2),
                    n = t[0],
                    a = t[1],
                    k = (0, u.useState)([{
                        name: "",
                        key: E()
                    }, {
                        name: "",
                        key: E()
                    }]),
                    T = (0, o.default)(k, 2),
                    I = T[0],
                    P = T[1],
                    M = (0, u.useRef)(new Map),
                    O = (0, m.getMaxPollOptionCount)(),
                    A = function(e) {
                        var t, n = I[e];
                        n && (null === (t = M.current.get(n.key)) || void 0 === t || t.restoreFocus())
                    };
                return (0, x.jsx)(g.Modal, {
                    type: g.ModalTheme.Tower,
                    children: (0, x.jsxs)(f.default, {
                        children: [(0, x.jsx)(h.DrawerHeader, {
                            title: l.fbt._("Create Poll", null, {
                                hk: "2ScJhR"
                            }),
                            type: h.DRAWER_HEADER_TYPE.POPUP,
                            onCancel: function() {
                                return c.Cmd.closeModal()
                            }
                        }), (0, x.jsx)(p.default, {
                            children: (0, x.jsxs)("div", {
                                className: (0, s.default)(C),
                                children: [(0, x.jsx)("h2", {
                                    className: (0, s.default)(y),
                                    children: l.fbt._("Question", null, {
                                        hk: "rWgSd"
                                    })
                                }), (0, x.jsx)(_.TextInput, {
                                    a8n: "poll-question-input",
                                    focusOnMount: !0,
                                    hideFloatingLabel: !0,
                                    showRemaining: !0,
                                    supportsEmoji: !0,
                                    value: n,
                                    error: "",
                                    maxLength: (0, m.getMaxPollNameLength)(),
                                    onChange: function(e) {
                                        a(e)
                                    },
                                    onEnter: function() {},
                                    placeholder: l.fbt._("Type your poll question", null, {
                                        hk: "2eDguE"
                                    })
                                }), (0, x.jsx)("h2", {
                                    className: (0, s.default)(y),
                                    children: l.fbt._("Options", null, {
                                        hk: "x7mkv"
                                    })
                                }), (0, x.jsx)("div", {
                                    className: (0, s.default)(j),
                                    children: I.map((function(e, t) {
                                        return (0, x.jsx)(_.TextInput, {
                                            ref: function(t) {
                                                t ? M.current.set(e.key, t) : M.current.delete(e.key)
                                            },
                                            a8n: "poll-question-input",
                                            hideFloatingLabel: !0,
                                            showRemaining: !0,
                                            supportsEmoji: !0,
                                            value: e.name,
                                            error: "",
                                            maxLength: (0, m.getMaxPollOptionLength)(),
                                            onChange: function(n) {
                                                var a = (0, i.default)(I);
                                                a[t] = (0, r.default)((0, r.default)({}, e), {}, {
                                                    name: n
                                                }), P(function(e, t) {
                                                    if (e.length < 2 || e.length < t && "" !== e[e.length - 1].name) return [].concat((0, i.default)(e), [{
                                                        name: "",
                                                        key: E()
                                                    }]);
                                                    return e
                                                }(a, O))
                                            },
                                            onKeyDown: function(n) {
                                                if ("" !== e.name) return !1;
                                                switch (n.key) {
                                                    case v.KEYBOARD_EVENT_KEY_VALUE.BACKSPACE:
                                                        A(t - 1), P(w(I, e));
                                                        break;
                                                    case v.KEYBOARD_EVENT_KEY_VALUE.DELETE:
                                                        A(t + 1), P(w(I, e))
                                                }
                                                return !1
                                            },
                                            onBlur: function() {
                                                P(w(I, e))
                                            },
                                            onEnter: function() {},
                                            placeholder: l.fbt._("Add an option", null, {
                                                hk: "1RcNxe"
                                            })
                                        }, e.key)
                                    }))
                                }), (0, x.jsx)("h3", {
                                    className: (0, s.default)(b),
                                    children: l.fbt._({
                                        "*": "You can add up to {option} options.",
                                        _1: "You can add up to 1 option."
                                    }, [l.fbt._plural(O, "option")], {
                                        hk: "3le0rL"
                                    })
                                }), (0, x.jsx)("div", {
                                    className: (0, s.default)(S),
                                    children: (0, x.jsx)(d.default, {
                                        onClick: function() {
                                            c.Cmd.closeModal()
                                        },
                                        type: "primary",
                                        children: l.fbt._("Create Poll", null, {
                                            hk: "2WVyUA"
                                        })
                                    })
                                })]
                            })
                        })]
                    })
                })
            };
            var r = a(n(81109)),
                i = a(n(319)),
                o = a(n(63038)),
                l = n(48360),
                u = n(67294),
                s = a(n(56720)),
                d = a(n(51599)),
                c = n(65901),
                f = a(n(53187)),
                p = a(n(18345)),
                h = n(19288),
                m = n(2629),
                v = n(10549),
                g = n(73454),
                _ = n(68544),
                x = n(85893),
                C = {
                    boxSizing: "cm280p3y",
                    width: "nhajnb67",
                    minHeight: "ns2zzj6h",
                    paddingTop: "byg5ndfj",
                    paddingStart: "lyvj5e2u",
                    paddingEnd: "l9g3jx6n"
                },
                y = {
                    fontSize: "iqrewfee",
                    fontWeight: "nbipi2bn"
                },
                b = {
                    fontSize: "ovllcyds"
                },
                S = {
                    width: "ln8gz9je",
                    marginTop: "ignnouf6",
                    display: "p357zi0d",
                    justifyContent: "kcgo1i74"
                },
                j = {
                    maxHeight: "ml3td4pu",
                    overflowX: "i44ccddp",
                    overflowY: "ag5g9lrv"
                };
            var k = 0;

            function E() {
                var e = k.toString();
                return k++, e
            }

            function w(e, t) {
                return "" !== t.name ? e : e.filter((function(n, a) {
                    return n !== t || a === e.length - 1
                }))
            }
        },
        77353: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function() {
                var e = (0, o.default)(l.getAutoDownloadPhotos, l.setAutoDownloadPhotos),
                    t = (0, r.default)(e, 2),
                    n = t[0],
                    a = t[1],
                    c = (0, o.default)(l.getAutoDownloadAudio, l.setAutoDownloadAudio),
                    f = (0, r.default)(c, 2),
                    p = f[0],
                    h = f[1],
                    m = (0, o.default)(l.getAutoDownloadVideos, l.setAutoDownloadVideos),
                    v = (0, r.default)(m, 2),
                    g = v[0],
                    _ = v[1],
                    x = (0, o.default)(l.getAutoDownloadDocuments, l.setAutoDownloadDocuments),
                    C = (0, r.default)(x, 2),
                    y = C[0],
                    b = C[1];
                return (0, d.jsxs)(u.SettingsCheckList, {
                    children: [(0, d.jsx)(u.SettingsCheckListItem, {
                        a8nText: "option-photos",
                        id: "photos",
                        checked: n,
                        onChange: a,
                        children: i.fbt._("Photos", null, {
                            hk: "4wPArA"
                        })
                    }), (0, d.jsx)(u.SettingsCheckListItem, {
                        a8nText: "option-audio",
                        id: "audio",
                        checked: p,
                        onChange: h,
                        children: i.fbt._("Audio", null, {
                            hk: "eXaYA"
                        })
                    }), (0, d.jsx)(u.SettingsCheckListItem, {
                        a8nText: "option-videos",
                        id: "videos",
                        checked: g,
                        onChange: _,
                        children: i.fbt._("Videos", null, {
                            hk: "4yB3QY"
                        })
                    }), (0, d.jsx)(u.SettingsCheckListItem, {
                        a8nText: "option-documents",
                        id: "documents",
                        checked: y,
                        onChange: b,
                        children: i.fbt._("Documents", null, {
                            hk: "1UBrPi"
                        })
                    }), (0, d.jsx)(u.SettingsCheckListSection, {
                        children: (0, d.jsx)(s.TextDiv, {
                            theme: "muted",
                            children: i.fbt._("Voice Messages are always automatically downloaded for the best communication experience", null, {
                                hk: "jmuCZ"
                            })
                        })
                    })]
                })
            };
            var r = a(n(63038)),
                i = n(48360),
                o = a(n(5991)),
                l = n(1577),
                u = n(79348),
                s = n(22552),
                d = n(85893)
        },
        94362: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.labelId,
                    n = e.onAddLabel,
                    a = e.onUpdateLabel,
                    C = e.onCancel,
                    y = (0, l.default)((function() {
                        return t ? f.LabelCollection.assertGet(t) : void 0
                    })),
                    b = (0, o.useState)((function() {
                        var e;
                        return (null === (e = y.current) || void 0 === e ? void 0 : e.color) || void 0
                    })),
                    S = (0, r.default)(b, 2),
                    j = S[0],
                    k = S[1],
                    E = (0, o.useState)((function() {
                        var e;
                        return (null === (e = y.current) || void 0 === e ? void 0 : e.name) || ""
                    })),
                    w = (0, r.default)(E, 2),
                    T = w[0],
                    I = w[1],
                    P = (0, o.useState)(void 0),
                    M = (0, r.default)(P, 2),
                    O = M[0],
                    A = M[1],
                    L = function(e) {
                        var t = !0,
                            n = null;
                        return e && "" !== e.trim() || (t = !1), y.current && y.current.name === e || 0 === f.LabelCollection.where({
                            name: e
                        }).length || (t = !1, n = i.fbt._("Label name already exists", null, {
                            hk: "3du3mm"
                        })), {
                            passed: t,
                            error: n
                        }
                    };
                (0, o.useEffect)((function() {
                    n ? (f.LabelCollection.getNewLabelColor().then((function(e) {
                        k(e || "#d6d7d7")
                    })), (0, h.logLabelOperationEvent)(v.default.LABEL_OPERATIONS.VIEW, 1, v.default.LABEL_TARGETS.ADD_LABEL_DIALOG)) : a && (0, h.logLabelOperationEvent)(v.default.LABEL_OPERATIONS.VIEW, 1, v.default.LABEL_TARGETS.EDIT_LABEL_DIALOG)
                }), []);
                var D = function() {
                        if (!O) {
                            (0, h.logLabelOperationEvent)(v.default.LABEL_OPERATIONS.CLICK_POSITIVE, 1, n ? v.default.LABEL_TARGETS.ADD_LABEL_DIALOG : v.default.LABEL_TARGETS.EDIT_LABEL_DIALOG);
                            var e = T && T.trim(),
                                r = L(e || "");
                            r.passed ? (t && a ? a({
                                id: t,
                                color: j,
                                name: T
                            }, p.LABEL_PROPERTIES.NAME) : n && n(T || "", j), C ? C() : s.Cmd.closeModal()) : A(r.error)
                        }
                    },
                    N = !L(T.trim()).passed;
                return (0, x.jsx)(d.default, {
                    title: e.onUpdateLabel ? i.fbt._("Edit label", null, {
                        hk: "3QX44B"
                    }) : i.fbt._("Add new label", null, {
                        hk: "2JFfTv"
                    }),
                    okText: i.fbt._("OK", null, {
                        hk: "2KEeHb"
                    }),
                    onOK: D,
                    okDisabled: N,
                    onCancel: function() {
                        (0, h.logLabelOperationEvent)(v.default.LABEL_OPERATIONS.CLICK_NEGATIVE, 1, n ? v.default.LABEL_TARGETS.ADD_LABEL_DIALOG : v.default.LABEL_TARGETS.EDIT_LABEL_DIALOG), C ? C() : s.Cmd.closeModal()
                    },
                    children: (0, x.jsxs)("div", {
                        className: u.default.inputContainer,
                        children: [(0, x.jsx)("div", {
                            className: u.default.label,
                            children: j ? (0, m.renderLabelSvg)((0, c.intColorToHex)(j)) : (0, x.jsx)(g.Spinner, {
                                stroke: 5,
                                size: 20
                            })
                        }), (0, x.jsx)("div", {
                            className: u.default.input,
                            children: (0, x.jsx)(_.TextInput, {
                                a8n: "add-new-label-name-input",
                                focusOnMount: !0,
                                hideFloatingLabel: !0,
                                showRemaining: !0,
                                supportsEmoji: !0,
                                value: T,
                                error: O,
                                maxLength: 100,
                                onChange: function(e) {
                                    var t = L(e);
                                    I(e), A(t.passed ? void 0 : t.error)
                                },
                                onEnter: function(e) {
                                    e.stopPropagation(), D()
                                },
                                placeholder: i.fbt._("New label", null, {
                                    hk: "33ueym"
                                })
                            })
                        })]
                    })
                })
            };
            var r = a(n(63038)),
                i = n(48360),
                o = n(67294),
                l = a(n(62905)),
                u = a(n(54832)),
                s = n(65901),
                d = a(n(86777)),
                c = n(8961),
                f = n(14093),
                p = n(34083),
                h = n(72104),
                m = n(4267),
                v = a(n(50507)),
                g = n(85651),
                _ = n(68544),
                x = n(85893)
        },
        74360: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.product,
                    n = e.sessionId,
                    a = (0, s.useState)(!1),
                    b = (0, r.default)(a, 2),
                    S = b[0],
                    j = b[1],
                    k = (0, s.useState)(!1),
                    E = (0, r.default)(k, 2),
                    w = E[0],
                    T = E[1],
                    I = (0, s.useState)(""),
                    P = (0, r.default)(I, 2),
                    M = P[0],
                    O = P[1],
                    A = function() {
                        d.Cmd.closeModal()
                    };
                if (w) return (0, y.jsx)(c.default, {
                    title: u.fbt._("Request review", null, {
                        hk: "1Rp2pL"
                    }),
                    onOK: A,
                    children: (0, y.jsx)(_.TextDiv, {
                        children: u.fbt._("We will review the item and if it meets our guidelines, it will be added to your catalog.", null, {
                            hk: "4tmhbu"
                        })
                    })
                });
                var L = M.length < 1 || S;
                return (0, y.jsx)(c.default, {
                    title: u.fbt._("Request review", null, {
                        hk: "1Rp2pL"
                    }),
                    onOK: function() {
                        (0, p.logAppealProductCatalogClick)(n), j(!0);
                        var e = !0;
                        v.QPL.markerStart(g.QuickLogMarkerId.WHATSAPP_PRODUCT_APPEAL), (0, h.appealProduct)(t.id.toString(), M).then((function() {
                            t.canAppeal = !1, t.reviewStatus = m.PRODUCT_REVIEW_STATUS.PENDING, (0, p.logAppealProductCatalogSuccess)(n), j(!1), T(!0), e = !1, v.QPL.markerEnd(g.QuickLogMarkerId.WHATSAPP_PRODUCT_APPEAL, v.QuickLogActionType.SUCCESS)
                        })).catch((0, i.filteredCatch)(o.ServerStatusCodeError, (function(e) {
                            d.Cmd.openToast((0, y.jsx)(C.Toast, {
                                msg: u.fbt._("Failed to send review request.", null, {
                                    hk: "1MNBtG"
                                }),
                                id: (0, C.genId)("catalog_appeal_submission_failed")
                            })), (0, p.logAppealProductCatalogFailed)(n, e.status), j(!1)
                        }))).finally((function() {
                            e && v.QPL.markerEnd(g.QuickLogMarkerId.WHATSAPP_PRODUCT_APPEAL, v.QuickLogActionType.FAIL)
                        }))
                    },
                    onCancel: A,
                    okDisabled: L,
                    children: (0, y.jsxs)("form", {
                        children: [(0, y.jsx)(x.TextInput, {
                            a8n: "confirm-popup-text-input",
                            placeholder: u.fbt._("Enter reason for this request...", null, {
                                hk: "49sHMz"
                            }),
                            onChange: function(e) {
                                O(e)
                            },
                            value: M,
                            maxLength: 1e3
                        }), (0, y.jsx)(f.ExternalLink, {
                            href: l.default.WA_COMMERCE_POLICY_URL,
                            children: u.fbt._("Learn more", null, {
                                hk: "2S4fxr"
                            })
                        })]
                    })
                })
            };
            var r = a(n(63038)),
                i = n(15586),
                o = n(73435),
                l = a(n(3208)),
                u = n(48360),
                s = n(67294),
                d = n(65901),
                c = a(n(86777)),
                f = n(49012),
                p = n(56264),
                h = n(36949),
                m = n(46408),
                v = n(3298),
                g = n(4099),
                _ = n(22552),
                x = n(68544),
                C = n(92428),
                y = n(85893)
        },
        38174: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(48360),
                i = n(65901),
                o = n(65971),
                l = a(n(86777)),
                u = n(85893),
                s = function() {
                    i.Cmd.openModal((0, u.jsx)(l.default, {
                        okText: r.fbt._("OK", null, {
                            hk: "2KEeHb"
                        }),
                        onOK: function() {
                            return i.Cmd.closeModal()
                        },
                        children: (0, u.jsx)(o.ComplianceInfoHelpCenterBanner, {})
                    }))
                };
            t.default = s
        },
        69542: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(48360),
                i = n(65901),
                o = a(n(86777)),
                l = n(85893),
                u = function(e) {
                    i.Cmd.openModal((0, l.jsx)(o.default, {
                        title: r.fbt._("Information accuracy", null, {
                            hk: "1IkKdC"
                        }),
                        okText: r.fbt._("OK", null, {
                            hk: "2KEeHb"
                        }),
                        onOK: function() {
                            null == e || e(), i.Cmd.closeModal()
                        },
                        cancelText: r.fbt._("Go back", null, {
                            hk: "3k17TN"
                        }),
                        onCancel: function() {
                            return i.Cmd.closeModal()
                        },
                        children: (0, l.jsxs)(l.Fragment, {
                            children: [r.fbt._("By continuing, you confirm that all information you have provided is correct and current.", null, {
                                hk: "3VB7Ib"
                            }), (0, l.jsx)("br", {}), (0, l.jsx)("br", {}), r.fbt._("You are required by law to update this info on WhatsApp if it ever changes.", null, {
                                hk: "3FF6ZU"
                            })]
                        })
                    }))
                };
            t.default = u
        },
        73012: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, n = (0, c.default)(),
                    a = (0, d.useState)(null === (t = v.LabelCollection.labelColorPalette) || void 0 === t ? void 0 : t.colors),
                    r = (0, i.default)(a, 2),
                    u = r[0],
                    m = r[1],
                    _ = (0, d.useRef)(null);
                (0, d.useEffect)((function() {
                    return (0, l.default)(v.LabelCollection.getLabelColorPalette(), n).then((function(e) {
                            m(e)
                        })).catch((0, o.catchAbort)((function() {}))),
                        function() {
                            var e;
                            null === (e = _.current) || void 0 === e || e.cancel()
                        }
                }), []);
                var C = (0, y.jsx)(x.Spinner, {
                    stroke: 6,
                    size: 24
                });
                u && (C = (0, y.jsx)(S, {
                    labelId: e.labelId,
                    onBack: e.onClose,
                    onUpdateColor: e.onUpdateColor,
                    colors: u,
                    currentColor: e.currentColor
                }));
                return (0, y.jsxs)(f.default, {
                    children: [(0, y.jsx)(h.DrawerHeader, {
                        title: s.fbt._("Choose color", null, {
                            hk: "16haXO"
                        }),
                        onBack: e.onClose,
                        type: h.DRAWER_HEADER_TYPE.LARGE
                    }), (0, y.jsx)(p.default, {
                        children: (0, y.jsx)("div", {
                            className: g.default.container,
                            children: C
                        })
                    })]
                })
            };
            var r = a(n(59713)),
                i = a(n(63038)),
                o = n(396),
                l = a(n(15584)),
                u = a(n(94184)),
                s = n(48360),
                d = n(67294),
                c = a(n(22190)),
                f = a(n(53187)),
                p = a(n(18345)),
                h = n(19288),
                m = n(8961),
                v = n(14093),
                g = a(n(44616)),
                _ = n(34083),
                x = n(85651),
                C = a(n(7665)),
                y = n(85893);

            function b(e) {
                var t, n = e.onUpdateColor,
                    a = e.labelId,
                    o = e.colorInt,
                    l = e.onBack,
                    s = (0, d.useState)(!1),
                    c = (0, i.default)(s, 2),
                    f = c[0],
                    p = c[1],
                    h = e.isSelected ? (0, y.jsx)(C.default, {
                        name: "checkmark-medium"
                    }) : null,
                    v = function() {
                        f || p(!0)
                    },
                    x = (0, u.default)(g.default.wallpaperColorCanvas, (t = {}, (0, r.default)(t, g.default.canvasHover, f), (0, r.default)(t, g.default.canvasActive, e.isSelected), t));
                return (0, y.jsx)("span", {
                    className: x,
                    style: {
                        backgroundColor: (0, m.intColorToHex)(e.colorInt)
                    },
                    onMouseOver: v,
                    onMouseEnter: v,
                    onMouseLeave: function() {
                        f && p(!1)
                    },
                    onClick: function() {
                        n({
                            id: a,
                            color: o
                        }, _.LABEL_PROPERTIES.COLOR), l()
                    },
                    children: h
                })
            }

            function S(e) {
                for (var t = e.currentColor, n = e.colors.map((function(n) {
                        return (0, y.jsx)(b, {
                            onUpdateColor: e.onUpdateColor,
                            colorInt: n,
                            onBack: e.onBack,
                            labelId: e.labelId,
                            isSelected: t === n
                        }, n)
                    })), a = 0; a < 2; a++) n.push((0, y.jsx)("div", {
                    className: g.default.wallpaperColorEmpty
                }, "emptyEl" + a));
                return n
            }
        },
        89187: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.onDeleteLabel,
                    n = (0, l.useState)(0),
                    a = (0, r.default)(n, 2),
                    j = a[0],
                    k = a[1],
                    E = (0, u.default)((function() {
                        return new i.default([], (function(e) {
                            return e.id
                        }))
                    }));
                (0, l.useEffect)((function() {
                    (0, g.logLabelOperationEvent)(_.default.LABEL_OPERATIONS.VIEW, void 0, _.default.LABEL_TARGETS.LABELS_SCREEN)
                }), []);
                var w = null;
                w = j > 0 ? (0, S.jsx)(x.default, {
                    selectedModels: E.current,
                    onCancel: function() {
                        E.current.unsetAll(), k(0)
                    },
                    onDelete: function() {
                        var e = E.current.getSelected();
                        (0, g.logLabelOperationEvent)(_.default.LABEL_OPERATIONS.VIEW, e.length, _.default.LABEL_TARGETS.DELETE_LABEL_DIALOG), s.Cmd.openModal((0, S.jsx)(d.default, {
                            okText: o.fbt._("Yes", null, {
                                hk: "12b9aE"
                            }),
                            cancelText: o.fbt._("No", null, {
                                hk: "4G38V6"
                            }),
                            onCancel: function() {
                                (0, g.logLabelOperationEvent)(_.default.LABEL_OPERATIONS.CLICK_NEGATIVE, 1, _.default.LABEL_TARGETS.DELETE_LABEL_DIALOG), s.Cmd.closeModal()
                            },
                            onOK: function() {
                                (0, g.logLabelOperationEvent)(_.default.LABEL_OPERATIONS.CLICK_POSITIVE, 1, _.default.LABEL_TARGETS.DELETE_LABEL_DIALOG),
                                function(e) {
                                    s.Cmd.closeModal(), E.current.unsetAll(), t(e)
                                }(e)
                            },
                            children: m.default.t(375, {
                                _plural: e.length
                            })
                        }))
                    },
                    theme: "drawer-header"
                }) : (0, S.jsx)(p.DrawerHeader, {
                    title: o.fbt._("Labels", null, {
                        hk: "t1hII"
                    }),
                    onBack: e.onClose,
                    type: p.DRAWER_HEADER_TYPE.LARGE
                });
                var T = (0, h.canEditLabel)() && (0, S.jsx)("div", {
                    className: v.default.addLabelBtContainer,
                    children: (0, S.jsx)(y.Round, {
                        large: !0,
                        onClick: e.openAddLabel,
                        children: (0, S.jsx)(b.default, {
                            name: "plus-large"
                        })
                    })
                });
                return (0, S.jsxs)(c.default, {
                    theme: "settings",
                    children: [w, (0, S.jsx)(f.default, {
                        children: (0, S.jsx)(C.default, {
                            shouldScrollIntoViewAndSelect: function() {
                                return {
                                    shouldScrollIntoView: !0,
                                    shouldSelect: !1
                                }
                            },
                            selectedLabels: E.current,
                            renderContext: "label-list",
                            onMultiSelect: function() {
                                var e = E.current.getSelected().length;
                                k(e)
                            },
                            onLabelClick: e.onLabelClick
                        })
                    }), T]
                })
            };
            var r = a(n(63038)),
                i = a(n(64709)),
                o = n(48360),
                l = n(67294),
                u = a(n(62905)),
                s = n(65901),
                d = a(n(86777)),
                c = a(n(53187)),
                f = a(n(18345)),
                p = n(19288),
                h = n(2629),
                m = a(n(9844)),
                v = a(n(39132)),
                g = n(72104),
                _ = a(n(50507)),
                x = a(n(13599)),
                C = a(n(79236)),
                y = n(80385),
                b = a(n(7665)),
                S = n(85893)
        },
        90882: (e, t, n) => {
            "use strict";
            var a = n(95318);
            t.Z = function(e) {
                var t = e.labelId,
                    n = e.openLabelColorDrawer,
                    a = e.onEditLabel,
                    v = e.onRemoveLabel,
                    g = (0, l.default)(),
                    _ = (0, u.default)((function() {
                        return new r.default([], (function(e) {
                            return e.id.toString()
                        }))
                    })).current;
                (0, s.useListener)(_, "all", (function() {
                    return g()
                })), (0, o.useEffect)((function() {
                    (0, y.logLabelOperationEvent)(j.default.LABEL_OPERATIONS.VIEW, void 0, j.default.LABEL_TARGETS.LABEL_DETAILS_SCREEN)
                }), []);
                var S = function() {
                        _.unsetAll()
                    },
                    T = function() {
                        var e = _.getSelected();
                        (0, y.logLabelOperationEvent)(j.default.LABEL_OPERATIONS.CLICK_NEGATIVE, e.length, j.default.LABEL_TARGETS.BULK_UNLABEL_DIALOG), c.Cmd.closeModal()
                    },
                    M = function(e) {
                        for (var t, n, a = 0; a < e.length; a++) {
                            if (e[a] instanceof E.Msg ? n = !0 : t = !0, t && n) return !0
                        }
                        return !1
                    }(_.getSelected()),
                    O = _.getSelected().length > 0 ? (0, I.jsx)(k.default, {
                        labelEditEnabled: !M,
                        onRemoveLabel: function() {
                            var e = _.getSelected();
                            if (v) {
                                var n = C.LabelCollection.assertGet(t);
                                (0, y.logLabelOperationEvent)(j.default.LABEL_OPERATIONS.VIEW, e.length, j.default.LABEL_TARGETS.BULK_UNLABEL_DIALOG), c.Cmd.openModal((0, I.jsx)(f.default, {
                                    title: x.default.t(712, {
                                        count: e.length,
                                        labelName: n.name,
                                        _plural: e.length
                                    }),
                                    okText: i.fbt._("OK", null, {
                                        hk: "2KEeHb"
                                    }),
                                    cancelText: i.fbt._("Cancel", null, {
                                        hk: "H0gNq"
                                    }),
                                    onCancel: T,
                                    onOK: function() {
                                        return function(e, t) {
                                            c.Cmd.closeModal(), S(), v(e, t), (0, y.logLabelOperationEvent)(j.default.LABEL_OPERATIONS.CLICK_POSITIVE, t.length, j.default.LABEL_TARGETS.BULK_UNLABEL_DIALOG)
                                        }(t, e)
                                    }
                                }))
                            }
                        },
                        selectedModels: _,
                        onCancel: S,
                        theme: "drawer-header"
                    }) : (0, I.jsx)(m.DrawerHeader, {
                        onBack: e.onClose,
                        menu: (0, I.jsx)(P, {
                            openColorPicker: function() {
                                var e = C.LabelCollection.assertGet(t);
                                n(t, e.color)
                            },
                            openEditLabel: function() {
                                a && a(t)
                            }
                        }),
                        type: m.DRAWER_HEADER_TYPE.LABELS,
                        children: (0, I.jsx)(b.Labels, {
                            labels: [e.labelId],
                            renderAsCircle: !0,
                            showName: !0,
                            theme: "drawer-title"
                        })
                    });
                return (0, I.jsxs)(p.default, {
                    theme: "settings",
                    children: [O, (0, I.jsx)(h.default, {
                        children: (0, I.jsx)(d.default, {
                            hideMultiSelectBar: !0,
                            multiSelection: _,
                            labelFilter: e.labelId,
                            settings: w.default,
                            selectable: !0
                        })
                    })]
                })
            };
            var r = a(n(64709)),
                i = n(48360),
                o = n(67294),
                l = a(n(45764)),
                u = a(n(62905)),
                s = n(91285),
                d = a(n(62058)),
                c = n(65901),
                f = a(n(86777)),
                p = a(n(53187)),
                h = a(n(18345)),
                m = n(19288),
                v = n(98169),
                g = n(94680),
                _ = n(2629),
                x = a(n(9844)),
                C = n(14093),
                y = n(72104),
                b = n(4267),
                S = n(91823),
                j = a(n(50507)),
                k = a(n(13599)),
                E = n(82380),
                w = a(n(43463)),
                T = a(n(7665)),
                I = n(85893);

            function P(e) {
                var t = e.openColorPicker,
                    n = e.openEditLabel;
                return (0, _.canEditLabel)() ? (0, I.jsx)(S.MenuBarItem, {
                    a8nText: "starred-menu",
                    icon: (0, I.jsx)(T.default, {
                        name: "menu"
                    }),
                    title: x.default.t(604),
                    children: (0, I.jsxs)(v.Dropdown, {
                        type: "dropdown_menu",
                        flipOnRTL: !0,
                        dirX: v.DirX.LEFT,
                        children: [(0, I.jsx)(g.DropdownItem, {
                            a8n: "menu-item",
                            action: t,
                            children: i.fbt._("Choose color", null, {
                                hk: "16haXO"
                            })
                        }), (0, I.jsx)(g.DropdownItem, {
                            a8n: "menu-item",
                            action: n,
                            children: i.fbt._("Edit label", null, {
                                hk: "3QX44B"
                            })
                        })]
                    }, "labelChooseColor")
                }) : null
            }
        },
        42724: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.modelsToUpdate,
                    n = e.onLabelUpdateComplete,
                    a = (0, s.default)((function() {
                        return new i.default([], (function(e) {
                            return e.id
                        }))
                    })),
                    T = (0, l.useRef)(new Set),
                    I = a.current,
                    P = T.current,
                    M = (0, u.default)(),
                    O = (0, l.useMemo)((function() {
                        var e, n = (e = {}, t.forEach((function(t) {
                            var n = (0, b.unproxy)(t);
                            n.labels && n.labels.forEach((function(t) {
                                e[t] = e[t] ? ++e[t] : 1
                            }))
                        })), e);
                        return (0, r.default)(n, (function(e) {
                            return e === t.length ? E : e > 0 ? w : k
                        }))
                    }), []),
                    A = (0, j.jsx)(d.default, {
                        a8nText: "popup-controls-ok",
                        type: "primary",
                        disabled: 0 === P.size,
                        onClick: function() {
                            (0, g.logLabelOperationEvent)(x.default.LABEL_OPERATIONS.CLICK_POSITIVE, t.length, x.default.LABEL_TARGETS.LABEL_COMBINED_DIALOG);
                            var e = I.list,
                                a = I.selected,
                                r = e.map((function(e, t) {
                                    return {
                                        id: e.id,
                                        type: a[t] ? "add" : "remove"
                                    }
                                }));
                            v.LabelCollection.addOrRemoveLabels(r, t), n && n()
                        },
                        children: m.default.t(722)
                    }, 1),
                    L = (0, j.jsx)(d.default, {
                        a8nText: "popup-controls-cancel",
                        type: "secondary",
                        onClick: e.onCancel,
                        children: o.fbt._("Cancel", null, {
                            hk: "H0gNq"
                        })
                    }, 0),
                    D = (0, h.canEditLabel)() && (0, j.jsx)("div", {
                        className: _.default.newLabelBtn,
                        children: (0, j.jsxs)(d.default, {
                            a8nText: "popup-controls-cancel",
                            type: "simplified",
                            onClick: e.onAddNewLabel,
                            children: [(0, j.jsx)(S.default, {
                                name: "plus-large",
                                className: _.default.plus,
                                display: "inline"
                            }), o.fbt._("NEW LABEL", null, {
                                hk: "4xjp4I"
                            })]
                        }, 2)
                    });
                return (0, j.jsx)(C.Modal, {
                    type: C.ModalTheme.Tower,
                    children: (0, j.jsxs)(c.default, {
                        theme: "labels",
                        children: [(0, j.jsx)(p.DrawerHeader, {
                            title: o.fbt._("Label items", null, {
                                hk: "2xOVMD"
                            }),
                            type: p.DRAWER_HEADER_TYPE.POPUP,
                            onCancel: e.onCancel
                        }), (0, j.jsx)(f.default, {
                            "data-list-scroll-container": !0,
                            theme: "padding",
                            children: (0, j.jsx)(y.default, {
                                shouldScrollIntoViewAndSelect: e.shouldScrollIntoViewAndSelect,
                                initialLabelState: O,
                                selectedLabels: I,
                                renderContext: "label-selection",
                                onLabelClick: e.onLabelClick,
                                onMultiSelect: function(e) {
                                    e && (O[e] === w ? P.add("{labelId}_changed") : P.has(e) ? P.delete(e) : P.add(e), M())
                                }
                            })
                        }), D, (0, j.jsxs)("div", {
                            className: _.default.actionBtns,
                            children: [L, A]
                        })]
                    }, "mange_label_modal")
                })
            };
            var r = a(n(66604)),
                i = a(n(64709)),
                o = n(48360),
                l = n(67294),
                u = a(n(45764)),
                s = a(n(62905)),
                d = a(n(51599)),
                c = a(n(53187)),
                f = a(n(18345)),
                p = n(19288),
                h = n(2629),
                m = a(n(9844)),
                v = n(14093),
                g = n(72104),
                _ = a(n(27053)),
                x = a(n(50507)),
                C = n(73454),
                y = a(n(79236)),
                b = n(68220),
                S = a(n(7665)),
                j = n(85893),
                k = 0,
                E = 1,
                w = 2
        },
        70135: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(34575)),
                i = a(n(93913)),
                o = a(n(81506)),
                l = a(n(2205)),
                u = a(n(99842)),
                s = a(n(51463)),
                d = a(n(84646)),
                c = n(48360),
                f = n(67294),
                p = n(84533),
                h = a(n(9837)),
                m = n(29830),
                v = n(65901),
                g = a(n(86777)),
                _ = n(65002),
                x = n(20050),
                C = a(n(71562)),
                y = a(n(53187)),
                b = a(n(18345)),
                S = a(n(61876)),
                j = n(19288),
                k = n(75993),
                E = n(73568),
                w = a(n(23803)),
                T = a(n(92546)),
                I = a(n(9844)),
                P = n(63641),
                M = a(n(7665)),
                O = n(85893),
                A = function(e) {
                    (0, l.default)(n, e);
                    var t = (0, u.default)(n);

                    function n() {
                        var e;
                        (0, r.default)(this, n);
                        for (var a = arguments.length, i = new Array(a), l = 0; l < a; l++) i[l] = arguments[l];
                        return (e = t.call.apply(t, [this].concat(i))).flatListController = new T.default, e._handleBlockConfirm = function(e) {
                            (0, p.blockContact)(e).catch((function() {})), v.Cmd.closeModal()
                        }, e._handleBlock = function() {
                            v.Cmd.openModal((0, O.jsx)(C.default, {
                                title: I.default.t(136),
                                filter: function(e) {
                                    return !!x.ContactCollection.isFilteredContact(e) && (!m.BlocklistCollection.get(e.id) || I.default.t(693))
                                },
                                onCancel: function() {
                                    return v.Cmd.closeModal()
                                },
                                onSelect: (0, s.default)(e._handleBlockConfirm)
                            }))
                        }, e._handleUnblockConfirm = function(e) {
                            (0, p.unblockContact)(e).catch((function() {})), v.Cmd.closeModal()
                        }, e._handleUnblockCancel = function() {
                            v.Cmd.closeModal()
                        }, e._handleUnblock = function(t, n) {
                            v.Cmd.openModal((0, O.jsx)(g.default, {
                                okText: I.default.t(781),
                                onOK: e._handleUnblockConfirm.bind((0, o.default)(e), n),
                                cancelText: c.fbt._("Cancel", null, {
                                    hk: "H0gNq"
                                }),
                                onCancel: e._handleUnblockCancel,
                                children: I.default.t(782, {
                                    contact: n.formattedName
                                })
                            }))
                        }, e.renderItem = function(t) {
                            var n = t.blocklist.contact();
                            return (0, O.jsx)(_.Contact, {
                                contact: n,
                                onClick: e._handleUnblock,
                                onDelete: e._handleUnblock,
                                waitIdle: !0
                            }, n.id.toString())
                        }, e
                    }
                    return (0, i.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this;
                            this.props.listeners.add(m.BlocklistCollection, "add remove", (function() {
                                e.forceUpdate()
                            }))
                        }
                    }, {
                        key: "getData",
                        value: function() {
                            return m.BlocklistCollection.map((function(e) {
                                return {
                                    itemKey: e.id.toString(),
                                    blocklist: e
                                }
                            }))
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e, t;
                            return m.BlocklistCollection.length > 0 ? (e = (0, O.jsx)(w.default, {
                                flatListControllers: [this.flatListController],
                                className: h.default.list,
                                children: (0, O.jsx)(E.FlatList, {
                                    flatListController: this.flatListController,
                                    direction: "vertical",
                                    data: this.getData(),
                                    renderItem: this.renderItem
                                })
                            }), t = (0, O.jsx)("div", {
                                "data-a8n": d.default.key("blocked-description"),
                                className: h.default.hint,
                                children: I.default.t(135)
                            })) : e = (0, O.jsx)(k.Blocked, {}), (0, O.jsxs)(y.default, {
                                children: [(0, O.jsx)(j.DrawerHeader, {
                                    title: I.default.t(175),
                                    onBack: this.props.onClose,
                                    type: j.DRAWER_HEADER_TYPE.LARGE
                                }), (0, O.jsx)("div", {
                                    className: h.default.button,
                                    children: (0, O.jsx)(S.default, {
                                        a8nText: "li-add-blocked",
                                        onClick: this._handleBlock,
                                        icon: (0, O.jsx)(M.default, {
                                            name: "add-user",
                                            directional: !0
                                        }),
                                        children: I.default.t(136)
                                    })
                                }), (0, O.jsxs)(b.default, {
                                    children: [e, t]
                                })]
                            })
                        }
                    }]), n
                }(f.Component);
            A.displayName = "BlockedDrawer";
            var L = (0, P.ListenerHOC)(A);
            t.default = L
        },
        96002: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(59713)),
                i = a(n(63038)),
                o = n(15586),
                l = a(n(272)),
                u = n(46814),
                s = n(70166),
                d = a(n(3208)),
                c = n(72565),
                f = n(69202),
                p = W(n(8924)),
                h = a(n(10646)),
                m = a(n(65668)),
                v = a(n(94184)),
                g = n(48360),
                _ = n(67294),
                x = a(n(62905)),
                C = a(n(22232)),
                y = a(n(51241)),
                b = a(n(14306)),
                S = n(65901),
                j = a(n(53187)),
                k = a(n(18345)),
                E = n(19288),
                w = n(7244),
                T = a(n(9844)),
                I = n(89694),
                P = a(n(61640)),
                M = W(n(94200)),
                O = a(n(37286)),
                A = a(n(50507)),
                L = a(n(58497)),
                D = a(n(57393)),
                N = n(80385),
                R = n(43890),
                F = n(85651),
                B = a(n(7665)),
                U = a(n(61566)),
                G = n(85893);

            function H(e) {
                if ("function" != typeof WeakMap) return null;
                var t = new WeakMap,
                    n = new WeakMap;
                return (H = function(e) {
                    return e ? n : t
                })(e)
            }

            function W(e, t) {
                if (!t && e && e.__esModule) return e;
                if (null === e || "object" != typeof e && "function" != typeof e) return {
                    default: e
                };
                var n = H(t);
                if (n && n.has(e)) return n.get(e);
                var a = {},
                    r = Object.defineProperty && Object.getOwnPropertyDescriptor;
                for (var i in e)
                    if ("default" !== i && Object.prototype.hasOwnProperty.call(e, i)) {
                        var o = r ? Object.getOwnPropertyDescriptor(e, i) : null;
                        o && (o.get || o.set) ? Object.defineProperty(a, i, o) : a[i] = e[i]
                    } return a.default = e, n && n.set(e, a), a
            }
            var V = "ANIMATING",
                z = "LOADING",
                q = "RECORDING",
                K = "SENDING";

            function Y(e, t) {
                var n = e.chat,
                    a = e.disposeStream,
                    H = e.onCaptured,
                    W = e.onBack,
                    Y = e.onSend,
                    Q = (0, _.useRef)(null),
                    X = (0, _.useRef)(null),
                    Z = (0, _.useRef)(null),
                    J = (0, _.useRef)(null),
                    $ = (0, _.useRef)(null),
                    ee = (0, _.useState)(void 0),
                    te = (0, i.default)(ee, 2),
                    ne = te[0],
                    ae = te[1],
                    re = (0, _.useState)(void 0),
                    ie = (0, i.default)(re, 2),
                    oe = ie[0],
                    le = ie[1],
                    ue = (0, _.useState)(!1),
                    se = (0, i.default)(ue, 2),
                    de = se[0],
                    ce = se[1],
                    fe = (0, _.useState)(void 0),
                    pe = (0, i.default)(fe, 2),
                    he = pe[0],
                    me = pe[1],
                    ve = (0, _.useState)(V),
                    ge = (0, i.default)(ve, 2),
                    _e = ge[0],
                    xe = ge[1],
                    Ce = (0, _.useState)(void 0),
                    ye = (0, i.default)(Ce, 2),
                    be = ye[0],
                    Se = ye[1],
                    je = function(e, t) {
                        var n;
                        e ? (null === (n = X.current) || void 0 === n || n.call(X), X.current = t, xe(z), Se(e), (0, M.isSrcObjectInVideoElement)() || (e ? (window.URL.revokeObjectURL(Z.current), Z.current = window.URL.createObjectURL(e)) : (window.URL.revokeObjectURL(Z.current), Z.current = void 0))) : _e === V && xe(z)
                    },
                    ke = (0, x.default)((function() {
                        return new u.ShiftTimer((function(e) {
                            var t = e.stream,
                                n = e.disposeStream;
                            je(t, n)
                        }))
                    })),
                    Ee = (0, x.default)((function() {
                        return new u.ShiftTimer((function(e) {
                            var t, n = e.stream,
                                a = e.disposeStream;
                            n && a && (null === (t = X.current) || void 0 === t || t.call(X));
                            (0, M.isSrcObjectInVideoElement)() || (Z.current = window.URL.revokeObjectURL(Z.current))
                        }))
                    })),
                    we = function() {
                        n && n.setAttachMediaContents(null)
                    };
                (0, _.useEffect)((function() {
                    return ke.current.onOrBefore(300, {
                            stream: e.stream,
                            disposeStream: e.disposeStream
                        }),
                        function() {
                            ke.current.cancel(), Z.current && window.URL.revokeObjectURL(Z.current), null == a || a(), Q.current && Q.current.logCancel(), we()
                        }
                }), []);
                var Te = function(e, t) {
                    ke.current.forceRunNow({
                        stream: e,
                        disposeStream: t
                    })
                };
                (0, _.useImperativeHandle)(t, (function() {
                    return {
                        loadNewStreamTimerUpdate: Te,
                        loadNewStream: je
                    }
                }));
                var Ie, Pe, Me, Oe, Ae, Le, De = function() {
                        var e = ne;
                        if (Y)
                            if (oe) {
                                var t, n, a = null === (t = J.current) || void 0 === t ? void 0 : t.refInput,
                                    r = [];
                                if (ne && a) {
                                    var i = a.serialize(ne),
                                        o = [i[0].trim(), i[1]],
                                        l = o[0],
                                        u = o[1];
                                    l.length && (e = l, r = u.mentionedJidList || [])
                                }
                                Y({
                                    caption: e,
                                    getImg: D.default.createFromBase64Jpeg(h.default.parseDataURL(oe).data),
                                    isViewOnce: de,
                                    mentionedJidList: r
                                }), null === (n = Q.current) || void 0 === n || n.logSend({
                                    isViewOnce: de
                                })
                            } else __LOG__(4, void 0, new Error, !0)`Assertion failed!`, SEND_LOGS("capture-drawer-no-img");
                        else __LOG__(4, void 0, new Error, !0)`Assertion failed!`, SEND_LOGS("capture-drawer-no-onSend")
                    },
                    Ne = "capture-cover" === e.theme ? "cover" : "contain";
                switch (_e) {
                    case V:
                    case z:
                        if (Ae = (0, G.jsx)(F.Spinner, {
                                stroke: 4,
                                size: 50
                            }), _e === V) break;
                    case q:
                        var Re = (0, v.default)(b.default.video, (0, r.default)({}, b.default.videoInactive, be && _e === z)),
                            Fe = be ? (0, G.jsx)(U.default, {
                                autoPlay: !0,
                                ref: $,
                                onPlay: function(e) {
                                    xe(q), me({
                                        width: e.videoWidth,
                                        height: e.videoHeight
                                    })
                                },
                                src: Z.current ? Z.current : void 0,
                                srcObject: Z.current ? void 0 : be
                            }) : null;
                        Me = be ? (0, G.jsx)("div", {
                            children: (0, G.jsx)(L.default, {
                                type: Ne,
                                size: he,
                                children: (0, G.jsx)("div", {
                                    className: Re,
                                    "data-animage-capture-webcam": !0,
                                    children: Fe
                                })
                            })
                        }, "webcam") : null, Ie = _e === q ? (0, G.jsx)("div", {
                            className: b.default.btn,
                            children: (0, G.jsx)(N.Round, {
                                large: !0,
                                onClick: function() {
                                    var e, t = null === (e = $.current) || void 0 === e ? void 0 : e.underlyingVideo();
                                    if (t) {
                                        var r = document.createElement("canvas");
                                        r.height = t.videoHeight, r.width = t.videoWidth;
                                        var i = r.getContext("2d");
                                        if (i)
                                            if (i.translate(r.width, 0), i.scale(-1, 1), i.drawImage(t, 0, 0, t.videoWidth, t.videoHeight), H)(0, s.canvasToBlob)(r).then((function(e) {
                                                H(e)
                                            }));
                                            else {
                                                Ee.current.onOrBefore(500, {
                                                    stream: be,
                                                    disposeStream: a
                                                });
                                                var o = new I.MediaPickerStatsLogger;
                                                o.logAdd("CAPTURE_MEDIA", "image", A.default.MEDIA_PICKER_ORIGIN_TYPE.MENU_CAMERA_CAPTURE), o.chatRecipients = (null == n ? void 0 : n.groupMetadata) ? n.groupMetadata.participants.length : 1, Q.current = o;
                                                var u = r.toDataURL("image/jpeg"),
                                                    d = (0, c.dataURLtoBlob)(u);
                                                n && (n.attachMediaContents || n.setAttachMediaContents(new C.default({
                                                    chatParticipantCount: n.getParticipantCount()
                                                })), (0, l.default)(n.attachMediaContents, "chat.attachMediaContents").processAttachments([{
                                                    file: (0, f.createFile)([d], "", {
                                                        type: "image/jpeg"
                                                    })
                                                }])), le(u), xe(K), Se(void 0)
                                            }
                                        else __LOG__(3)`CaptureDrawer:onCapture can not get 2d context`
                                    }
                                },
                                children: (0, G.jsx)(B.default, {
                                    name: "camera"
                                })
                            })
                        }, "btn-capture") : null;
                        break;
                    case K:
                        if (Me = (0, G.jsx)(L.default, {
                                type: Ne,
                                size: he,
                                children: (0, G.jsx)("img", {
                                    alt: "",
                                    className: b.default.image,
                                    "data-animate-capture-snapshot": !0,
                                    src: oe
                                })
                            }), n) {
                            var Be = (0, l.default)(n.attachMediaContents, "chat.attachMediaContents");
                            Me = (0, G.jsx)(O.default, {
                                theme: "capture",
                                chat: n,
                                initCaption: null,
                                mediaCollection: Be,
                                onDropText: function() {},
                                onSendMedia: function(e) {
                                    var t = (arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}).isViewOnce;
                                    if (Y)
                                        if (0 === e.length) __LOG__(4, void 0, new Error, !0)`Assertion failed!`, SEND_LOGS("capture-drawer-no-img");
                                        else {
                                            var n, a, r = (0, l.default)(e[0], "medias[0]"),
                                                i = r.media,
                                                o = r.mentionedJidList,
                                                u = i.file;
                                            u instanceof Blob && (Y({
                                                getImg: D.default.createFromData(u, u.type),
                                                caption: null !== (n = i.caption) && void 0 !== n ? n : void 0,
                                                isViewOnce: t,
                                                mentionedJidList: o
                                            }), null === (a = Q.current) || void 0 === a || a.logSend({
                                                isViewOnce: t
                                            })), we()
                                        }
                                    else __LOG__(4, void 0, new Error, !0)`Assertion failed!`, SEND_LOGS("capture-drawer-no-onSend")
                                }
                            })
                        }
                        Ie = (0, G.jsx)("div", {
                            className: (0, v.default)(b.default.btn, b.default.btnSend),
                            children: (0, G.jsx)(N.Round, {
                                large: !0,
                                onClick: De,
                                children: (0, G.jsx)(B.default, {
                                    name: "send",
                                    directional: !0
                                })
                            })
                        }, "btn-send"), Pe = (0, G.jsxs)("div", {
                            className: b.default.retakeBtn,
                            onClick: function() {
                                ae(void 0), xe(z), we();
                                var e = M.start("camera"),
                                    t = e.asyncStream,
                                    n = e.disposeStream;
                                X.current = n, t.then((function(e) {
                                    e && ((0, M.isSrcObjectInVideoElement)() || (Z.current = window.URL.createObjectURL(e)), Se(e))
                                })).catch((0, o.filteredCatch)(p.GUM.NotAllowedError, (function() {
                                    W(), S.Cmd.openModal((0, G.jsx)(w.GuidePopup, {
                                        messaging: w.Messaging.CAMERA_FAIL,
                                        type: w.TYPE.GUIDE_UNBLOCK
                                    }))
                                }))).catch((0, o.filteredCatch)(p.GUM.GUMError, (function() {
                                    W(), S.Cmd.openModal((0, G.jsx)(w.GuidePopup, {
                                        messaging: w.Messaging.CAMERA_MISSING,
                                        type: w.TYPE.GUIDE_NONE
                                    }))
                                })))
                            },
                            children: [(0, G.jsx)("div", {
                                className: b.default.retakeIcon,
                                children: (0, G.jsx)(B.default, {
                                    name: "return"
                                })
                            }), g.fbt._("Retake", null, {
                                hk: "tGeQz"
                            })]
                        }), Oe = e.chat ? (0, G.jsxs)("div", {
                            className: b.default.captionInput,
                            children: [(0, G.jsx)(P.default, {
                                ref: J,
                                chat: e.chat,
                                maxLength: d.default.MAX_CAPTION_LENGTH,
                                multiline: !0,
                                onEnter: De,
                                onChange: function(e) {
                                    ae(e)
                                },
                                placeholder: T.default.t(134),
                                showRemaining: !0,
                                spellCheck: !0,
                                supportsEmoji: !0,
                                value: ne
                            }), R.ServerProps.viewOnceWrite ? (0, G.jsx)(y.default, {
                                disabled: (Le = null == n ? void 0 : n.contact.isEnterprise, !(R.ServerProps.viewOnceWrite && !Le)),
                                isOn: de,
                                mediaType: "image",
                                onChange: function(e) {
                                    ce(e)
                                }
                            }) : null]
                        }) : null;
                        break;
                    default:
                        __LOG__(2)`captureDrawer:render Unhandled video capture state ${_e}`
                }
                var Ue = e.caption ? (0, G.jsx)(m.default, {
                        transitionName: "media-caption",
                        className: b.default.caption,
                        children: Oe
                    }) : null,
                    Ge = (0, G.jsxs)("div", {
                        className: b.default.footer,
                        children: [Ue, (0, G.jsx)(m.default, {
                            transitionName: "pop_delay",
                            children: Ie
                        })]
                    });
                return _e === K && (Ge = null), (0, G.jsxs)(j.default, {
                    theme: e.theme,
                    children: [(0, G.jsx)(E.DrawerHeader, {
                        title: T.default.t(772),
                        type: E.DRAWER_HEADER_TYPE.OFFSET,
                        onCancel: e.onBack,
                        children: Pe
                    }), (0, G.jsxs)(k.default, {
                        overflow: "hidden",
                        children: [(0, G.jsxs)("div", {
                            className: b.default.container,
                            children: [Ae, (0, G.jsx)("div", {
                                className: b.default.body,
                                children: (0, G.jsx)(m.default, {
                                    transitionName: "capture",
                                    className: b.default.videoContainer,
                                    children: Me
                                })
                            })]
                        }), Ge]
                    })]
                }, "attach-capture-modal")
            }
            Y.defaultProps = {
                caption: !1
            };
            var Q = (0, _.forwardRef)(Y);
            t.default = Q
        },
        6862: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = u.default.isRTL();
                return (0, s.jsx)("div", {
                    className: (0, r.default)(d.container),
                    children: (0, s.jsx)(l.FlexRow, {
                        align: "start",
                        justify: "start",
                        wrap: "wrap",
                        children: e.categories.map((function(n) {
                            return (0, s.jsx)(o.default, {
                                "aria-label": i.fbt._("Unselect category", null, {
                                    hk: "2Swokr"
                                }),
                                onClick: function() {
                                    return e.onRemoveItem(n.id)
                                },
                                label: n.localized_display_name,
                                postfixIcon: t ? void 0 : "round-x-inv",
                                prefixIcon: t ? "round-x-inv" : void 0,
                                xstyle: d.chip
                            }, n.id.toString())
                        }))
                    })
                })
            };
            var r = a(n(94184)),
                i = n(48360),
                o = (a(n(56720)), a(n(8352))),
                l = n(27968),
                u = a(n(9844)),
                s = n(85893),
                d = {
                    container: {
                        paddingTop: "b7n2qyd4",
                        paddingEnd: "iffbo4e8",
                        paddingBottom: "s8gyl5p1",
                        paddingStart: "khscay3k",
                        backgroundColor: "sjyhwr5o",
                        borderTop: "dl47i6rc"
                    },
                    chip: {
                        marginTop: "dj1c3cmq",
                        marginEnd: "bugiwsl0",
                        marginBottom: "mpdn4nr2",
                        marginStart: "svoq16ka"
                    }
                }
        },
        4706: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(319)),
                i = a(n(87757)),
                o = a(n(48926)),
                l = a(n(63038)),
                u = a(n(29521)),
                s = a(n(84646)),
                d = a(n(22060)),
                c = a(n(11845)),
                f = a(n(82309)),
                p = a(n(65668)),
                h = a(n(94184)),
                m = n(48360),
                v = n(67294),
                g = a(n(56720)),
                _ = n(18297),
                x = n(65901),
                C = a(n(6080)),
                y = a(n(53187)),
                b = a(n(18345)),
                S = n(19288),
                j = n(75993),
                k = a(n(23803)),
                E = a(n(92546)),
                w = a(n(52336)),
                T = n(26224),
                I = a(n(9844)),
                P = a(n(98755)),
                M = n(80385),
                O = n(96197),
                A = n(85651),
                L = a(n(7665)),
                D = n(44851),
                N = n(22552),
                R = n(92428),
                F = n(85893),
                B = {
                    search: {
                        paddingTop: "mw9hwy0h",
                        paddingEnd: "ixsqo53d",
                        paddingBottom: "ekpn4oxx",
                        paddingStart: "iy3dfvyp",
                        marginTop: "s15egc35",
                        marginEnd: "r67mms0c",
                        marginBottom: "pel5o5rz",
                        marginStart: "m0ig7u5t",
                        backgroundColor: "ihvf49ua"
                    },
                    inputArea: {
                        display: "l7jjieqr",
                        width: "ln8gz9je",
                        height: "bvcnfjzh",
                        paddingTop: "ppypbuwx",
                        paddingEnd: "f9ovudaz",
                        paddingBottom: "s8gyl5p1",
                        paddingStart: "gx1rr48f",
                        marginTop: "tt8xd2xn",
                        marginEnd: "jnwc1y2a",
                        marginBottom: "mpdn4nr2",
                        marginStart: "svoq16ka",
                        fontSize: "bze30y65",
                        lineHeight: "jgi8eev7",
                        color: "mfzfak1c",
                        verticalAlign: "fewfhwl7",
                        backgroundColor: "thr4l2wc",
                        borderTop: "q4zabkcz",
                        borderEnd: "jkanexlp",
                        borderBottom: "thn59n0e",
                        borderStart: "nsmrnv0a",
                        outline: "gk6igrwd"
                    },
                    inputLine: {
                        position: "g0rxnol2",
                        width: "ln8gz9je",
                        minHeight: "g4oj0cdv",
                        maxHeight: "f0mh0h6e",
                        paddingTop: "n1yiu2zv",
                        paddingEnd: "f9ovudaz",
                        paddingBottom: "przvwfww",
                        paddingStart: "mjn2akup",
                        overflowY: "ag5g9lrv",
                        fontSize: "bze30y65",
                        fontWeight: "e1gr2w1z",
                        lineHeight: "htjsae3x",
                        backgroundColor: "thr4l2wc",
                        borderTop: "q4zabkcz",
                        borderEnd: "jkanexlp",
                        borderStart: "nsmrnv0a",
                        borderBottom: "ob9ouq0z",
                        outline: "gk6igrwd",
                        transition: "qbtd8e50"
                    },
                    drawerSection: {
                        zIndex: "b9fczbqn",
                        display: "p357zi0d",
                        justifyContent: "j1p1mz06",
                        paddingBottom: "hjz8m82x",
                        marginTop: "ignnouf6",
                        textAlign: "qfejxiq4"
                    },
                    inputAreaSizer: {
                        position: "snyj76hw",
                        visibility: "kojwoqec"
                    },
                    contacts: {
                        position: "g0rxnol2",
                        flexGrow: "ggj6brxn",
                        flexShrink: "m0h2a7mj",
                        flexBasis: "l07amlnk",
                        overflowX: "gfz4du6o",
                        overflowY: "ag5g9lrv",
                        backgroundColor: "ihvf49ua"
                    },
                    paragraph: {
                        paddingTop: "b8cdf3jl",
                        paddingEnd: "h5uqwbaf",
                        paddingBottom: "q1tx93la",
                        paddingStart: "kjjye8e3",
                        fontSize: "f8jlpxt4",
                        lineHeight: "jgi8eev7",
                        textAlign: "qfejxiq4",
                        color: "pm5hny62",
                        backgroundColor: "ihvf49ua",
                        borderBottom: "daad4uqs"
                    },
                    spinner: {
                        backgroundColor: "ihvf49ua",
                        display: "p357zi0d",
                        justifyContent: "ac2vgrno",
                        paddingTop: "gzqlv4l6",
                        paddingEnd: "f9ovudaz",
                        paddingBottom: "lhcgb2gc",
                        paddingStart: "gx1rr48f"
                    }
                },
                U = (0, v.forwardRef)((function(e) {
                    var t = (0, R.genId)("max_subgroup_toast"),
                        n = (0, _.getABPropConfigValue)("parent_group_link_limit") - e.currentSubgroupCount,
                        a = (0, v.useState)(""),
                        U = (0, l.default)(a, 2),
                        G = U[0],
                        H = U[1],
                        W = (0, v.useState)([]),
                        V = (0, l.default)(W, 2),
                        z = V[0],
                        q = V[1],
                        K = (0, v.useState)([]),
                        Y = (0, l.default)(K, 2),
                        Q = Y[0],
                        X = Y[1],
                        Z = (0, v.useState)(!0),
                        J = (0, l.default)(Z, 2),
                        $ = J[0],
                        ee = J[1],
                        te = (0, v.useRef)(new E.default),
                        ne = (0, v.useRef)(),
                        ae = (0, v.useRef)();
                    (0, v.useEffect)((function() {
                        c.default.focus(ae.current)
                    }));
                    var re = function() {
                        var e = (0, o.default)(i.default.mark((function e() {
                            var t, n;
                            return i.default.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        return ee(!0), e.next = 3, (0, D.syncAndGetAdminedGroups)();
                                    case 3:
                                        t = e.sent, n = t.filter((function(e) {
                                            var t = w.default.get(e.id.toString());
                                            return (null == t ? void 0 : t.groupType) === T.GroupType.DEFAULT
                                        })), X(n), ee(!1);
                                    case 7:
                                    case "end":
                                        return e.stop()
                                }
                            }), e)
                        })));
                        return function() {
                            return e.apply(this, arguments)
                        }
                    }();
                    (0, v.useEffect)((function() {
                        re()
                    }), []);
                    var ie, oe = function() {
                        d.default.shouldIndicateFocus(), c.default.focus(ae.current)
                    };
                    z.length > 0 && (ie = (0, F.jsx)(M.Round, {
                        a8nText: "group-participants-btn",
                        onClick: function() {
                            e.onSubmit(z)
                        },
                        children: (0, F.jsx)(L.default, {
                            name: "checkmark",
                            directional: !0
                        })
                    }));
                    var le, ue = function() {
                        var e = (0, u.default)(Q, z, (function(e, t) {
                            return e.id === t.id
                        }));
                        if (!G) return e;
                        var t = I.default.accentFold(G),
                            n = (0, f.default)(t);
                        return e.filter((function(e) {
                            return e.searchMatch(t, n)
                        }))
                    }();
                    return le = 0 === ue.length ? (0, F.jsx)(j.SearchGroups, {}) : (0, F.jsx)(C.default, {
                        ref: ne,
                        flatListController: te.current,
                        contacts: ue,
                        onClick: function(e, a) {
                            ! function(e) {
                                if (z.length >= n) {
                                    var a = m.fbt._("", null, {
                                        hk: "ZY1JV"
                                    });
                                    x.Cmd.openToast((0, F.jsx)(R.Toast, {
                                        msg: a,
                                        id: t
                                    }))
                                } else q([].concat((0, r.default)(z), [e])), H("")
                            }(a)
                        },
                        onFocusSearch: oe,
                        showPersonGroupDivisionHeader: !0,
                        isCommunityCreation: !0,
                        disabled: z.length >= n
                    }), (0, F.jsxs)(y.default, {
                        children: [(0, F.jsx)(S.DrawerHeader, {
                            title: m.fbt._("", null, {
                                hk: "2ildtF"
                            }).toString(),
                            type: S.DRAWER_HEADER_TYPE.LARGE,
                            onBack: e.onBack
                        }), (0, F.jsxs)(b.default, {
                            children: [(0, F.jsx)(N.TextParagraph, {
                                xstyle: B.paragraph,
                                children: m.fbt._("", null, {
                                    hk: "3nnXVI"
                                })
                            }), $ ? (0, F.jsx)("div", {
                                className: (0, g.default)(B.spinner),
                                children: (0, F.jsx)(A.Spinner, {})
                            }) : (0, F.jsxs)(F.Fragment, {
                                children: [(0, F.jsx)("div", {
                                    className: (0, g.default)(B.search),
                                    children: (0, F.jsxs)("div", {
                                        className: (0, g.default)(B.inputLine),
                                        children: [(0, F.jsx)("div", {
                                            "data-list-scroll-container": !0,
                                            children: (0, F.jsx)(P.default, {
                                                theme: "list-names",
                                                contacts: z,
                                                onDelete: function(e, t) {
                                                    ! function(e) {
                                                        q(z.filter((function(t) {
                                                            return !e.id.equals(t.id)
                                                        })))
                                                    }(t)
                                                },
                                                onFocusSearch: oe
                                            })
                                        }), (0, F.jsx)("input", {
                                            "data-a8n": s.default.key("inputarea"),
                                            className: (0, h.default)((0, g.default)(B.inputArea), O.SELECTABLE_INPUT_CSS_CLASS),
                                            ref: ae,
                                            placeholder: m.fbt._("", null, {
                                                hk: "5ZAVL"
                                            }),
                                            onChange: function(e) {
                                                return H(e.target.value)
                                            },
                                            value: G,
                                            type: "text"
                                        }), (0, F.jsx)("span", {
                                            className: (0, g.default)(B.inputAreaSizer),
                                            children: G
                                        })]
                                    })
                                }), (0, F.jsx)(k.default, {
                                    className: (0, g.default)(B.contacts),
                                    flatListControllers: [te.current],
                                    children: le
                                })]
                            }), (0, F.jsx)(p.default, {
                                transitionName: "btn",
                                className: (0, g.default)(B.drawerSection),
                                children: ie
                            })]
                        })]
                    })
                }));
            t.default = U
        },
        47161: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(319)),
                i = a(n(272)),
                o = n(48360),
                l = n(67294),
                u = a(n(56720)),
                s = n(18297),
                d = a(n(88186)),
                c = n(4481),
                f = n(65901),
                p = a(n(86777)),
                h = n(66834),
                m = a(n(53187)),
                v = a(n(18345)),
                g = n(19288),
                _ = a(n(46821)),
                x = n(73568),
                C = a(n(23803)),
                y = a(n(92546)),
                b = a(n(47081)),
                S = a(n(84287)),
                j = a(n(7665)),
                k = n(85893),
                E = {
                    panelBody: {
                        zIndex: "jnl3jror",
                        display: "p357zi0d",
                        flexDirection: "f8m0rgwh",
                        flexGrow: "ggj6brxn",
                        overflowY: "ag5g9lrv",
                        backgroundColor: "ihvf49ua"
                    },
                    roundIcon: {
                        height: "brqbuz94",
                        width: "nfc7olq2",
                        overflowX: "gfz4du6o",
                        overflowY: "r7fjleex"
                    },
                    announcementIcon: {
                        backgroundColor: "se52eggw"
                    },
                    announcementSpeaker: {
                        color: "q3u0wlip"
                    }
                },
                w = (0, k.jsx)(S.default, {
                    children: (0, k.jsx)(j.default, {
                        name: "plus",
                        directional: !0
                    })
                }),
                T = (0, k.jsx)(S.default, {
                    children: (0, k.jsx)(j.default, {
                        name: "link"
                    })
                }),
                I = (0, k.jsx)(S.default, {
                    xstyle: [E.roundIcon, E.announcementIcon],
                    theme: "transparent",
                    children: (0, k.jsx)(j.default, {
                        name: "announcement-speaker",
                        directional: !0,
                        height: 32,
                        width: 32,
                        iconXstyle: E.announcementSpeaker
                    })
                });

            function P(e) {
                var t = e.data;
                return (0, k.jsx)(d.default, {
                    primary: t.name,
                    image: t.icon,
                    secondary: t.secondary
                })
            }
            var M = (0, l.forwardRef)((function(e, t) {
                var n = e.joinedSubgroups,
                    a = e.unjoinedSubgroups,
                    j = e.onNewGroupFlow,
                    M = e.onExistingGroupFlow,
                    O = e.onBack,
                    A = (0, s.getABPropConfigValue)("parent_group_link_limit"),
                    L = (0, l.useRef)(null),
                    D = (0, l.useRef)(new y.default),
                    N = n.length + a.length - 1,
                    R = [].concat((0, r.default)(n), (0, r.default)(a)).map((function(e) {
                        var t = c.ChatCollection.assertGet(e.toString()),
                            n = (0, i.default)(t.groupMetadata, "groupChat.groupMetadata"),
                            a = t.title();
                        if (!0 === n.defaultSubgroup) return {
                            itemKey: a,
                            name: a,
                            icon: I,
                            secondary: o.fbt._("", null, {
                                hk: "21RRQt"
                            }),
                            announcementGroup: !0
                        };
                        var r, l = (0, k.jsx)(h.DetailImage, {
                            id: e
                        });
                        return r = null != n.participants ? (0, b.default)(n.participants) : o.fbt._("", null, {
                            hk: "1Q2Jqa"
                        }), {
                            name: a,
                            itemKey: e.toString(),
                            icon: (0, k.jsx)(S.default, {
                                xstyle: E.roundIcon,
                                theme: "transparent",
                                children: l
                            }),
                            secondary: r,
                            announcementGroup: !1
                        }
                    })).sort((function(e) {
                        return e.announcementGroup ? -1 : 1
                    })),
                    F = function() {
                        f.Cmd.openModal((0, k.jsx)(p.default, {
                            onOK: function() {
                                return f.Cmd.closeModal()
                            },
                            children: o.fbt._("", null, {
                                hk: "2i88hJ"
                            })
                        }))
                    };
                return (0, l.useImperativeHandle)(t, (function() {
                    return {
                        restoreFocus: function() {
                            var e;
                            return null === (e = L.current) || void 0 === e ? void 0 : e.focus()
                        },
                        getElement: function() {
                            return L.current
                        }
                    }
                })), (0, k.jsxs)(m.default, {
                    children: [(0, k.jsx)(g.DrawerHeader, {
                        title: o.fbt._("", null, {
                            hk: "jfMJx"
                        }),
                        type: g.DRAWER_HEADER_TYPE.LARGE,
                        onBack: O
                    }), (0, k.jsxs)(v.default, {
                        children: [(0, k.jsxs)(_.default, {
                            children: [(0, k.jsx)("div", {
                                "data-list-scroll-offset": !0,
                                ref: L,
                                children: (0, k.jsx)(d.default, {
                                    image: w,
                                    primary: o.fbt._("", null, {
                                        hk: "1LoFaq"
                                    }),
                                    onClick: function() {
                                        N >= A ? F() : j()
                                    }
                                })
                            }), (0, k.jsx)("div", {
                                "data-list-scroll-offset": !0,
                                children: (0, k.jsx)(d.default, {
                                    image: T,
                                    primary: o.fbt._("", null, {
                                        hk: "1CsADY"
                                    }),
                                    onClick: function() {
                                        N >= A ? F() : M()
                                    }
                                })
                            })]
                        }), (0, k.jsx)(_.default, {
                            title: o.fbt._("", null, {
                                hk: "uK7K1"
                            }),
                            children: (0, k.jsx)(C.default, {
                                flatListControllers: [D.current],
                                className: (0, u.default)(E.panelBody),
                                id: "pane-side",
                                children: (0, k.jsx)(x.FlatList, {
                                    flatListController: D.current,
                                    direction: "vertical",
                                    data: R,
                                    renderItem: function(e) {
                                        return (0, k.jsx)(P, {
                                            data: e
                                        })
                                    }
                                })
                            })
                        })]
                    })]
                })
            }));
            t.default = M
        },
        15001: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = (0, o.default)(e.onContinue),
                    n = r.fbt._("", null, {
                        hk: "1ZjYYW"
                    }),
                    a = (0, v.jsx)(h.default, {
                        name: "communities-nux"
                    }),
                    _ = r.fbt._("", null, {
                        hk: "4fVDKS"
                    }),
                    x = (0, v.jsx)(h.default, {
                        name: "triple-dots",
                        width: 22,
                        height: 22
                    }),
                    C = r.fbt._("", null, {
                        hk: "2J8MAM"
                    }),
                    y = r.fbt._("", null, {
                        hk: "4fVDKS"
                    }),
                    b = r.fbt._("", null, {
                        hk: "2J8MAM"
                    }),
                    S = (0, v.jsx)(h.default, {
                        name: "announcement-speaker",
                        width: 22,
                        height: 22
                    });
                return (0, v.jsxs)(l.default, {
                    children: [(0, v.jsx)(s.DrawerHeader, {
                        title: r.fbt._("", null, {
                            hk: "GzfEK"
                        }),
                        type: s.DRAWER_HEADER_TYPE.LARGE
                    }), (0, v.jsxs)(u.default, {
                        children: [(0, v.jsxs)(d.default, {
                            animation: !1,
                            className: (0, i.default)(g.main),
                            children: [(0, v.jsx)(c.FlexRow, {
                                align: "center",
                                justify: "center",
                                children: (0, v.jsx)(f.default, {
                                    xstyle: g.badge,
                                    children: a
                                })
                            }), (0, v.jsx)(c.FlexRow, {
                                align: "center",
                                justify: "center",
                                children: (0, v.jsx)(m.TextHeader, {
                                    xstyle: g.header,
                                    size: "24",
                                    color: "dark",
                                    weight: "bold",
                                    children: n
                                })
                            }), (0, v.jsxs)("div", {
                                className: (0, i.default)(g.infoArea),
                                children: [(0, v.jsx)(c.FlexColumn, {
                                    xstyle: g.iconColumn,
                                    children: x
                                }), (0, v.jsxs)(c.FlexColumn, {
                                    xstyle: g.textArea,
                                    children: [(0, v.jsx)(m.TextHeader, {
                                        theme: "title",
                                        children: _
                                    }), (0, v.jsx)(m.TextParagraph, {
                                        theme: "muted",
                                        xstyle: g.subText,
                                        children: C
                                    })]
                                })]
                            }), (0, v.jsxs)("div", {
                                className: (0, i.default)(g.infoArea),
                                children: [(0, v.jsx)(c.FlexColumn, {
                                    xstyle: g.iconColumn,
                                    children: S
                                }), (0, v.jsxs)(c.FlexColumn, {
                                    xstyle: g.textArea,
                                    children: [(0, v.jsx)(m.TextHeader, {
                                        theme: "title",
                                        children: y
                                    }), (0, v.jsx)(m.TextParagraph, {
                                        theme: "muted",
                                        xstyle: g.subText,
                                        children: b
                                    })]
                                })]
                            })]
                        }), (0, v.jsx)("div", {
                            className: (0, i.default)(g.nextButton),
                            children: (0, v.jsx)(p.Round, {
                                a8nText: "create-group-btn",
                                onClick: t,
                                children: (0, v.jsx)(h.default, {
                                    name: "arrow-forward"
                                })
                            })
                        })]
                    })]
                })
            };
            var r = n(48360),
                i = a(n(56720)),
                o = a(n(7539)),
                l = a(n(53187)),
                u = a(n(18345)),
                s = n(19288),
                d = a(n(46821)),
                c = n(27968),
                f = a(n(69520)),
                p = n(80385),
                h = a(n(7665)),
                m = n(22552),
                v = n(85893),
                g = {
                    main: {
                        paddingBottom: "lnhl94cj"
                    },
                    nextButton: {
                        zIndex: "b9fczbqn",
                        display: "p357zi0d",
                        justifyContent: "j1p1mz06",
                        paddingBottom: "fwm24tzf",
                        marginTop: "mnhq3yws",
                        textAlign: "qfejxiq4"
                    },
                    badge: {
                        borderTopStartRadius: "boajuire",
                        borderTopEndRadius: "o93wvyfv",
                        borderBottomEndRadius: "i5w8n1e6",
                        borderBottomStartRadius: "cnpay6qi",
                        color: "qiqvuef5",
                        fontSize: "rwfn434h",
                        marginTop: "rek1qe2c",
                        paddingTop: "eujn52yf",
                        paddingEnd: "abxuf49s",
                        paddingBottom: "ckm995li",
                        paddingStart: "mhcwslh8",
                        textTransform: "ofejerhi"
                    },
                    header: {
                        marginTop: "rek1qe2c",
                        marginEnd: "k1jo73ug",
                        marginBottom: "mpdn4nr2",
                        marginStart: "isfiuinm",
                        width: "gha8fw27",
                        textAlign: "qfejxiq4"
                    },
                    infoArea: {
                        display: "p357zi0d",
                        marginTop: "mnhq3yws",
                        marginEnd: "k1jo73ug",
                        marginBottom: "mpdn4nr2",
                        marginStart: "isfiuinm",
                        maxWidth: "dknb6df3"
                    },
                    textArea: {
                        paddingStart: "bmj4fdax"
                    },
                    subText: {
                        paddingTop: "jvpa774f"
                    },
                    iconColumn: {
                        paddingTop: "tspiaou6"
                    }
                }
        },
        71115: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(272)),
                i = n(48360),
                o = n(67294),
                l = a(n(56720)),
                u = a(n(7539)),
                s = n(18297),
                d = a(n(51599)),
                c = a(n(88186)),
                f = n(65901),
                p = a(n(86777)),
                h = n(66834),
                m = a(n(53187)),
                v = a(n(18345)),
                g = n(19288),
                _ = a(n(46821)),
                x = n(73568),
                C = a(n(23803)),
                y = a(n(92546)),
                b = a(n(47081)),
                S = a(n(52336)),
                j = n(73454),
                k = a(n(23024)),
                E = n(80385),
                w = a(n(84287)),
                T = a(n(7665)),
                I = a(n(76080)),
                P = n(85893),
                M = {
                    addGroupButton: {
                        paddingBottom: "a15vwmim",
                        marginTop: "o9i7y497"
                    },
                    panelBody: {
                        zIndex: "jnl3jror",
                        display: "p357zi0d",
                        flexDirection: "f8m0rgwh",
                        flexGrow: "ggj6brxn",
                        overflowY: "ag5g9lrv",
                        backgroundColor: "ihvf49ua"
                    },
                    nextButton: {
                        zIndex: "b9fczbqn",
                        display: "p357zi0d",
                        justifyContent: "j1p1mz06",
                        paddingBottom: "hjz8m82x",
                        marginTop: "ignnouf6",
                        textAlign: "qfejxiq4",
                        animationName: "s0bejz76",
                        animationDuration: "oauresqk",
                        animationTimingFunction: "pqvv99ib"
                    },
                    roundIcon: {
                        height: "brqbuz94",
                        width: "nfc7olq2",
                        overflowX: "gfz4du6o",
                        overflowY: "r7fjleex"
                    },
                    announcementIcon: {
                        backgroundColor: "se52eggw"
                    },
                    announcementSpeaker: {
                        color: "q3u0wlip"
                    },
                    groupIcon: {
                        height: "ppled2lx",
                        width: "ln8gz9je"
                    }
                },
                O = (0, P.jsx)(w.default, {
                    children: (0, P.jsx)(T.default, {
                        name: "plus",
                        directional: !0
                    })
                }),
                A = (0, P.jsx)(w.default, {
                    children: (0, P.jsx)(T.default, {
                        name: "link"
                    })
                }),
                L = (0, P.jsx)(w.default, {
                    xstyle: [M.roundIcon, M.announcementIcon],
                    theme: "transparent",
                    children: (0, P.jsx)(T.default, {
                        name: "announcement-speaker",
                        directional: !0,
                        height: 32,
                        width: 32,
                        iconXstyle: M.announcementSpeaker
                    })
                });

            function D(e) {
                var t = e.data,
                    n = e.isAnnouncementGroup,
                    a = e.onRemoveGroup;
                return n ? (0, P.jsx)(c.default, {
                    primary: t.name,
                    image: t.icon,
                    secondary: t.secondary
                }) : (0, P.jsx)(c.default, {
                    primary: t.name,
                    image: t.icon,
                    secondary: t.secondary,
                    detail: (0, P.jsx)(I.default, {
                        onClick: function() {
                            return a(t.itemKey)
                        },
                        children: (0, P.jsx)(T.default, {
                            name: "x"
                        })
                    })
                })
            }
            var N = (0, o.forwardRef)((function(e, t) {
                var n = (0, s.getABPropConfigValue)("parent_group_link_limit"),
                    a = (0, o.useRef)(null),
                    I = (0, o.useRef)(new y.default),
                    N = (0, u.default)((function() {
                        e.onCreateCommunity()
                    })),
                    R = e.groups.map((function(e) {
                        e.subject;
                        var t, n, a = e.icon,
                            o = void 0 === a ? null : a,
                            u = e.id,
                            s = void 0 === u ? null : u,
                            d = e.tempId,
                            c = void 0 === d ? null : d,
                            f = e.participants,
                            p = void 0 === f ? null : f;
                        return null != s ? (t = (0, P.jsx)(h.DetailImage, {
                            id: s
                        }), null != p && (n = (0, b.default)(p))) : (t = null != o ? (0, P.jsx)("img", {
                            src: o,
                            alt: "Group icon",
                            className: (0, l.default)(M.groupIcon)
                        }) : (0, P.jsx)(T.default, {
                            name: "default-group",
                            xstyle: M.groupIcon,
                            className: k.default.defaultGroupIcon
                        }), n = i.fbt._("", null, {
                            hk: "1Q2Jqa"
                        })), {
                            itemKey: (0, r.default)(null != c ? c : null == s ? void 0 : s.toString(), "tempId ?? id?.toString()"),
                            name: e.subject,
                            icon: (0, P.jsx)(w.default, {
                                xstyle: M.roundIcon,
                                theme: "transparent",
                                children: t
                            }),
                            secondary: n
                        }
                    }));
                R.unshift({
                    itemKey: e.name,
                    name: e.name,
                    icon: L,
                    secondary: i.fbt._("", null, {
                        hk: "21RRQt"
                    })
                });
                var F, B = function() {
                    f.Cmd.openModal((0, P.jsx)(p.default, {
                        onOK: function() {
                            return f.Cmd.closeModal()
                        },
                        children: i.fbt._("", null, {
                            hk: "2i88hJ"
                        })
                    }))
                };
                return (0, o.useImperativeHandle)(t, (function() {
                    return {
                        restoreFocus: function() {
                            var e;
                            return null === (e = a.current) || void 0 === e ? void 0 : e.focus()
                        },
                        getElement: function() {
                            return a.current
                        }
                    }
                })), e.groups.length > 0 && (F = (0, P.jsx)(E.Round, {
                    a8nText: "create-group-btn",
                    onClick: N,
                    children: (0, P.jsx)(T.default, {
                        name: "checkmark"
                    })
                })), (0, P.jsxs)(m.default, {
                    children: [(0, P.jsx)(g.DrawerHeader, {
                        title: i.fbt._("", null, {
                            hk: "4xaIXe"
                        }),
                        type: g.DRAWER_HEADER_TYPE.LARGE,
                        onBack: e.onBack
                    }), (0, P.jsxs)(v.default, {
                        children: [(0, P.jsxs)(_.default, {
                            children: [(0, P.jsx)("div", {
                                "data-list-scroll-offset": !0,
                                children: (0, P.jsx)("div", {
                                    className: (0, l.default)(M.addGroupButton),
                                    ref: a,
                                    children: (0, P.jsx)(c.default, {
                                        image: O,
                                        primary: i.fbt._("", null, {
                                            hk: "1LoFaq"
                                        }),
                                        onClick: function() {
                                            e.groups.length >= n ? B() : e.onNewGroupFlow()
                                        }
                                    })
                                })
                            }), (0, P.jsx)("div", {
                                "data-list-scroll-offset": !0,
                                children: (0, P.jsx)("div", {
                                    className: (0, l.default)(M.addGroupButton),
                                    children: (0, P.jsx)(c.default, {
                                        image: A,
                                        primary: i.fbt._("", null, {
                                            hk: "1CsADY"
                                        }),
                                        onClick: function() {
                                            if (e.groups.length >= n) B();
                                            else if (null != S.default.findFirst((function(e) {
                                                    return e.participants.iAmAdmin()
                                                }))) e.onExistingGroupFlow();
                                            else {
                                                var t = (0, P.jsx)(d.default, {
                                                        type: "secondary",
                                                        onClick: function() {
                                                            return f.Cmd.closeModal()
                                                        },
                                                        children: i.fbt._("Cancel", null, {
                                                            hk: "w74ws"
                                                        })
                                                    }, 0),
                                                    a = (0, P.jsx)(d.default, {
                                                        type: "primary",
                                                        onClick: function() {
                                                            f.Cmd.closeModal(), e.onNewGroupFlow()
                                                        },
                                                        children: i.fbt._("", null, {
                                                            hk: "3Aq8lH"
                                                        })
                                                    }, 1);
                                                f.Cmd.openModal((0, P.jsx)(j.Modal, {
                                                    actions: [t, a],
                                                    children: (0, P.jsx)("div", {
                                                        children: i.fbt._("", null, {
                                                            hk: "2SsDzN"
                                                        })
                                                    })
                                                }))
                                            }
                                        }
                                    })
                                })
                            })]
                        }), (0, P.jsx)(_.default, {
                            title: i.fbt._("", null, {
                                hk: "uK7K1"
                            }),
                            children: (0, P.jsx)(C.default, {
                                flatListControllers: [I.current],
                                className: (0, l.default)(M.panelBody),
                                id: "pane-side",
                                children: (0, P.jsx)(x.FlatList, {
                                    flatListController: I.current,
                                    direction: "vertical",
                                    data: R,
                                    renderItem: function(t) {
                                        return (0, P.jsx)(D, {
                                            data: t,
                                            isAnnouncementGroup: t.itemKey === e.name,
                                            onRemoveGroup: e.onRemoveGroup
                                        })
                                    }
                                })
                            })
                        }), (0, P.jsx)("div", {
                            className: (0, l.default)(M.nextButton),
                            children: F
                        })]
                    })]
                })
            }));
            t.default = N
        },
        24980: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(63038)),
                i = a(n(84646)),
                o = a(n(65668)),
                l = n(48360),
                u = n(67294),
                s = a(n(56720)),
                d = a(n(7539)),
                c = a(n(53187)),
                f = a(n(18345)),
                p = n(19288),
                h = a(n(46821)),
                m = a(n(454)),
                v = n(76110),
                g = a(n(49309)),
                _ = n(80385),
                x = n(43890),
                C = a(n(7665)),
                y = n(68544),
                b = n(85893),
                S = {
                    marginTop: "ignnouf6",
                    marginEnd: "bcfko8ch",
                    marginBottom: "bibl1e27",
                    marginStart: "dl2ettod"
                },
                j = {
                    zIndex: "b9fczbqn",
                    display: "p357zi0d",
                    justifyContent: "j1p1mz06",
                    paddingBottom: "hjz8m82x",
                    marginTop: "ignnouf6",
                    textAlign: "qfejxiq4"
                },
                k = (0, u.forwardRef)((function(e, t) {
                    var n, a, k = (0, u.useRef)(null),
                        E = (0, u.useRef)(null),
                        w = (0, u.useState)(null !== (n = e.name) && void 0 !== n ? n : ""),
                        T = (0, r.default)(w, 2),
                        I = T[0],
                        P = T[1],
                        M = (0, u.useState)(null !== (a = e.description) && void 0 !== a ? a : ""),
                        O = (0, r.default)(M, 2),
                        A = O[0],
                        L = O[1],
                        D = (0, u.useState)(e.imgBlob),
                        N = (0, r.default)(D, 2),
                        R = N[0],
                        F = N[1];
                    (0, u.useEffect)((function() {
                        var e;
                        null === (e = k.current) || void 0 === e || e.restoreFocus()
                    }), []);
                    var B = (0, d.default)((function() {
                        var t = (0, m.default)(I.trim());
                        e.onContinue(t, A, R)
                    }));
                    (0, u.useImperativeHandle)(t, (function() {
                        return {
                            restoreFocus: function() {
                                var e;
                                return null === (e = k.current) || void 0 === e ? void 0 : e.restoreFocus()
                            },
                            getElement: function() {
                                return E.current
                            }
                        }
                    }));
                    var U = I.trim().length > 0,
                        G = U ? (0, b.jsx)("div", {
                            className: (0, s.default)(j),
                            children: (0, b.jsx)(_.Round, {
                                a8nText: "create-group-btn",
                                onClick: B,
                                children: (0, b.jsx)(C.default, {
                                    name: "arrow-forward"
                                })
                            })
                        }) : null;
                    return (0, b.jsxs)(c.default, {
                        children: [(0, b.jsx)(p.DrawerHeader, {
                            title: l.fbt._("", null, {
                                hk: "GzfEK"
                            }),
                            type: p.DRAWER_HEADER_TYPE.LARGE,
                            onBack: e.onBack
                        }), (0, b.jsxs)(f.default, {
                            children: [(0, b.jsxs)(h.default, {
                                animation: !1,
                                children: [(0, b.jsx)("div", {
                                    className: (0, s.default)(S),
                                    children: (0, b.jsx)(v.PhotoPickerLoadable, {
                                        type: g.default.COMMUNITY,
                                        attachToChat: !1,
                                        startImage: R,
                                        onImageSet: function(e, t) {
                                            F(t)
                                        }
                                    })
                                }), (0, b.jsx)("div", {
                                    "data-a8n": i.default.key("community-subject"),
                                    className: (0, s.default)(S),
                                    ref: E,
                                    children: (0, b.jsx)(y.TextInput, {
                                        ref: function(e) {
                                            k.current = e
                                        },
                                        value: I,
                                        maxLength: 25,
                                        showRemaining: !0,
                                        onChange: function(e) {
                                            P(e)
                                        },
                                        placeholder: l.fbt._("", null, {
                                            hk: "1Yj1bU"
                                        }),
                                        onEnter: U ? B : function() {},
                                        supportsEmoji: !0
                                    })
                                }), (0, b.jsx)("div", {
                                    "data-a8n": i.default.key("community-description"),
                                    className: (0, s.default)(S),
                                    children: (0, b.jsx)(y.TextInput, {
                                        value: A,
                                        maxLength: x.ServerProps.groupDescLength,
                                        showRemaining: !0,
                                        onChange: function(e) {
                                            L(e)
                                        },
                                        placeholder: l.fbt._("", null, {
                                            hk: "2jZNJ7"
                                        }),
                                        onEnter: U ? B : function() {}
                                    })
                                })]
                            }), (0, b.jsx)(o.default, {
                                transitionName: "btn",
                                children: G
                            })]
                        })]
                    })
                }));
            t.default = k
        },
        47081: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.filter((function(e) {
                        return !e.contact.isMe && e.contact.shortName
                    })).slice(0, 3).map((function(e) {
                        return e.contact.shortName
                    })),
                    n = e.length - t.length - 1,
                    a = r.default.t(1013);
                t.length + n < 3 ? t.forEach((function(e, n) {
                    n === t.length - 1 ? a += r.default.t(405) + e : a += r.default.t(407) + e
                })) : a += r.default.t(407) + t.join(r.default.t(407));
                n > 0 && (a += r.default.t(405) + r.default.t(507, {
                    count: n,
                    _plural: n
                }));
                return a
            };
            var r = a(n(9844))
        },
        15201: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(63038)),
                i = a(n(22060)),
                o = a(n(11845)),
                l = a(n(82309)),
                u = n(48360),
                s = n(67294),
                d = a(n(1323)),
                c = a(n(23734)),
                f = a(n(88186)),
                p = n(20050),
                h = a(n(13600)),
                m = a(n(6080)),
                v = a(n(53187)),
                g = a(n(18345)),
                _ = n(19288),
                x = n(75993),
                C = a(n(92546)),
                y = n(2629),
                b = n(32012),
                S = a(n(9844)),
                j = a(n(17094)),
                k = a(n(84287)),
                E = a(n(7665)),
                w = n(85893),
                T = (0, s.forwardRef)((function(e, t) {
                    var n = e.title,
                        a = e.onBack,
                        T = e.onClick,
                        I = e.onNewGroup,
                        P = e.onNewCommunity,
                        M = (0, s.useState)(""),
                        O = (0, r.default)(M, 2),
                        A = O[0],
                        L = O[1],
                        D = (0, s.useRef)(),
                        N = (0, s.useRef)(),
                        R = (0, s.useRef)(),
                        F = (0, s.useMemo)((function() {
                            return p.ContactCollection.frequentContacts("message")
                        }), [p.ContactCollection.length]),
                        B = Boolean(A),
                        U = (0, s.useMemo)((function() {
                            return B ? [] : F
                        }), [B, F]),
                        G = (0, s.useState)((function() {
                            return new C.default
                        })),
                        H = (0, r.default)(G, 1)[0],
                        W = (0, s.useCallback)((function(e) {
                            p.ContactCollection.ensureSorted();
                            var t = "string" == typeof e ? e : A;
                            if (!t) return p.ContactCollection.getFilteredContacts();
                            var n = p.ContactCollection.getFilteredContacts().concat(p.ContactCollection.filter((function(e) {
                                    return e.name && !e.isMe && !e.isPSA && !e.isWAContact
                                }))),
                                a = S.default.accentFold(t),
                                r = (0, l.default)(a);
                            return n.filter((function(e) {
                                return e.searchMatch(a, r)
                            }))
                        }), [A]);
                    (0, s.useEffect)((function() {
                        o.default.focus(D.current)
                    }), []);
                    var V, z, q, K = (0, s.useCallback)((function() {
                            i.default.shouldIndicateFocus(), o.default.focus(D.current)
                        }), []),
                        Y = (0, s.useCallback)((function(e) {
                            var t = N.current;
                            null != t && (e.preventDefault(), e.stopPropagation(), i.default.shouldIndicateFocus(), t.focusFirst())
                        }), []),
                        Q = (0, d.default)((function(e) {
                            return L(e)
                        }), 100),
                        X = (0, s.useCallback)((function(e) {
                            R.current = e, Q(e)
                        }), [Q]),
                        Z = (0, s.useCallback)((function(e) {
                            e.preventDefault(), e.stopPropagation();
                            var t = U[0];
                            if (t) return i.default.shouldIndicateFocus(), void T(e, t);
                            var n = W(R.current)[0];
                            n && (i.default.shouldIndicateFocus(), T(e, n))
                        }), [T, W, U]),
                        J = W();
                    if (V = 0 === J.length ? A ? (0, x.SearchWithKeyword)(A) : (0, x.SearchWithoutKeyword)() : (0, w.jsx)(m.default, {
                            ref: N,
                            contacts: J,
                            flatListController: H,
                            frequentContacts: U,
                            onClick: T,
                            onFocusSearch: K,
                            showPersonGroupDivisionHeader: !!A
                        }), !A) {
                        var $ = (0, w.jsx)(k.default, {
                                children: (0, w.jsx)(E.default, {
                                    name: "default-group",
                                    height: 36,
                                    width: 36,
                                    directional: !0,
                                    className: h.default.defaultGroupIcon
                                })
                            }),
                            ee = (0, w.jsx)(k.default, {
                                children: (0, w.jsx)(E.default, {
                                    name: "community-group",
                                    directional: !0
                                })
                            });
                        z = (0, w.jsx)("div", {
                            "data-list-scroll-offset": !0,
                            children: (0, w.jsxs)("div", {
                                className: h.default.newGroupButton,
                                children: [(0, w.jsx)(f.default, {
                                    image: $,
                                    primary: u.fbt._("New group", null, {
                                        hk: "43A4qP"
                                    }),
                                    onClick: I
                                }), (0, w.jsx)(c.default, {})]
                            })
                        }), q = (0, y.communityCreationEnabled)() ? (0, w.jsx)("div", {
                            "data-list-scroll-offset": !0,
                            children: (0, w.jsxs)("div", {
                                className: h.default.newGroupButton,
                                children: [(0, w.jsx)(f.default, {
                                    image: ee,
                                    primary: u.fbt._("", null, {
                                        hk: "GzfEK"
                                    }),
                                    onClick: P
                                }), (0, w.jsx)(c.default, {})]
                            })
                        }) : null
                    }
                    return (0, w.jsxs)(v.default, {
                        ref: t,
                        children: [(0, w.jsx)(_.DrawerHeader, {
                            title: n,
                            type: _.DRAWER_HEADER_TYPE.LARGE,
                            onBack: a
                        }), (0, w.jsx)(b.HotKeys, {
                            handlers: {
                                down: Y
                            },
                            children: (0, w.jsx)(j.default, {
                                ref: D,
                                onSearch: X,
                                onEnter: Z,
                                placeholder: S.default.t(725)
                            })
                        }), (0, w.jsxs)(g.default, {
                            flatListControllers: [H],
                            children: [z, q, V]
                        })]
                    }, "contact-modal")
                }));
            t.default = T
        },
        54482: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = (0, f.useModelValues)(e.msg, ["id", "star", "type", "isGif", "isViewOnce", "labels", "numTimesForwarded", "isFrequentlyForwarded"]),
                    n = (0, R.default)(),
                    a = (0, s.default)(),
                    U = (0, p.default)(),
                    G = (0, u.useRef)(null),
                    H = (0, u.useRef)(null),
                    W = (0, d.default)((function() {
                        return new w.default.UiAction({
                            uiActionType: w.default.UI_ACTION_TYPE.MSG_INFO_OPEN,
                            uiActionPreloaded: !0
                        })
                    })),
                    V = (0, u.useState)(void 0),
                    z = (0, r.default)(V, 2),
                    q = z[0],
                    K = z[1],
                    Y = (0, u.useState)(!1),
                    Q = (0, r.default)(Y, 2),
                    X = Q[0],
                    Z = Q[1];
                (0, c.useListener)(null == q ? void 0 : q.played, ["add", "remove"], a), (0, c.useListener)(null == q ? void 0 : q.read, ["add", "remove"], a), (0, c.useListener)(null == q ? void 0 : q.delivery, ["add", "remove"], a), (0, c.useListener)(t, ["remove"], (function(e, t) {
                    t === T.MsgCollection && (null == n || n.uie.requestDismiss())
                })), (0, u.useEffect)((function() {
                    var e;
                    I.MsgInfoCollection.find(t.id).then((function(e) {
                        U.aborted || K(e)
                    })).catch((function() {
                        Z(!0), m.Cmd.openToast((0, B.jsx)(N.Toast, {
                            msg: l.fbt._("Couldn't display message info. Try again later.", null, {
                                hk: "mRFf6"
                            }),
                            id: (0, N.genId)("msg_info_failed")
                        }))
                    }));
                    var n = null === (e = G.current) || void 0 === e ? void 0 : e.container;
                    t.type === o.MSG_TYPE.IMAGE && n && (n.scrollTop = n.scrollHeight);
                    var a = W.current;
                    a && (a.markUiActionT(), Object.assign(a, (0, S.getGroupMetricsFromChatWid)(t.chat.id)), a.commit(), (0, O.logUiActionShadowPrivateStatsTestEvents)(), W.current = void 0)
                }), []);
                var J, $, ee, te = function() {
                    var e;
                    return null === (e = H.current) || void 0 === e ? void 0 : e.getMsgComponentRef()
                };
                if (q) {
                    var ne, ae, re, ie, oe, le, ue, se = [],
                        de = t.type === o.MSG_TYPE.PTT;
                    if (de || t.isViewOnce) $ = de ? l.fbt._("Seen", null, {
                        hk: "2XnbT5"
                    }) : l.fbt._("Seen", null, {
                        hk: "n9K7N"
                    }), ie = q.played.head(), oe = null === (ue = ie) || void 0 === ue ? void 0 : ue.t, le = (0, B.jsx)("span", {
                        className: g.default.icon,
                        children: (0, B.jsx)(D.default, {
                            name: de ? "status-ptt" : "view-once-viewed",
                            className: g.default.statusBlue
                        })
                    }), se.push((0, B.jsx)(v.default, {
                        title: de ? k.default.t(613) : l.fbt._("Opened", null, {
                            hk: "4lUnhv"
                        }),
                        t: oe,
                        icon: le
                    }, "played"));
                    ie = q.read.head(), oe = null === (ne = ie) || void 0 === ne ? void 0 : ne.t, le = (0, B.jsx)("span", {
                        className: g.default.icon,
                        children: (0, B.jsx)(D.default, {
                            name: "status-dblcheck",
                            className: g.default.ack
                        })
                    }), $ = null !== (ae = $) && void 0 !== ae ? ae : k.default.t(615), se.push((0, B.jsx)(v.default, {
                        title: $,
                        t: oe,
                        icon: le
                    }, "read")), ie = q.delivery.head(), oe = null === (re = ie) || void 0 === re ? void 0 : re.t, le = (0, B.jsx)("span", {
                        className: g.default.icon,
                        children: (0, B.jsx)(D.default, {
                            name: "status-dblcheck"
                        })
                    }), se.push((0, B.jsx)(v.default, {
                        title: k.default.t(611),
                        t: oe,
                        icon: le
                    }, "delivery")), !A.ServerProps.hfmStringChanges && t.numTimesForwarded > 0 && !t.isFrequentlyForwarded && se.push((0, B.jsx)(P.default, {
                        msg: t
                    }, "forward")), J = (0, B.jsx)(y.default, {
                        theme: "padding",
                        children: se
                    })
                }
                q || X || (ee = (0, B.jsx)("div", {
                    className: g.default.spinner,
                    children: (0, B.jsx)(L.Spinner, {
                        size: 50,
                        stroke: 4
                    })
                }, "spinner"));
                var ce = null;
                t.labels && t.labels.length > 0 && (0, b.canDisplayLabel)() && (ce = (0, B.jsx)(y.default, {
                    theme: "padding",
                    children: (0, B.jsx)(j.default, {
                        labels: t.labels
                    })
                }));
                return (0, B.jsxs)(_.default, {
                    theme: "striped",
                    children: [(0, B.jsx)(C.DrawerHeader, {
                        title: k.default.t(610),
                        type: C.DRAWER_HEADER_TYPE.SMALL,
                        rtlFixIfOnDarwin: !0,
                        onCancel: function() {
                            null == n || n.uie.requestDismiss()
                        }
                    }), (0, B.jsx)(M.default, {
                        ref: G,
                        chatPreference: h.default.assertGet("defaultPreference"),
                        children: (0, B.jsx)(F.Wrapper, {
                            msg: t,
                            ref: H,
                            displayType: i.DISPLAY_TYPE.MSG_INFO,
                            isMsgVisible: function(e) {
                                var n = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                                return e === t.id && (!!n || te())
                            },
                            position: E.MsgPosition.END,
                            onProductClick: e.onProductClick
                        })
                    }), (0, B.jsxs)(x.default, {
                        children: [ce, (0, B.jsxs)("div", {
                            className: g.default.body,
                            children: [ee, J]
                        })]
                    })]
                }, "message-info-modal")
            };
            var r = a(n(63038)),
                i = n(44741),
                o = n(40787),
                l = n(48360),
                u = n(67294),
                s = a(n(45764)),
                d = a(n(62905)),
                c = n(91285),
                f = n(50857),
                p = a(n(22190)),
                h = a(n(88549)),
                m = n(65901),
                v = a(n(91884)),
                g = a(n(52697)),
                _ = a(n(53187)),
                x = a(n(18345)),
                C = n(19288),
                y = a(n(46821)),
                b = n(2629),
                S = n(23571),
                j = a(n(16516)),
                k = a(n(9844)),
                E = n(83592),
                w = a(n(50507)),
                T = n(94413),
                I = n(29289),
                P = a(n(76997)),
                M = a(n(80233)),
                O = n(26329),
                A = n(43890),
                L = n(85651),
                D = a(n(7665)),
                N = n(92428),
                R = a(n(93958)),
                F = n(43026),
                B = n(85893)
        },
        34045: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.supportTag,
                    n = e.onSend,
                    a = e.onFailure,
                    P = e.onCancel,
                    M = e.onEmail,
                    O = (0, p.default)(),
                    A = (0, f.useState)(""),
                    L = (0, i.default)(A, 2),
                    D = L[0],
                    N = L[1],
                    R = (0, f.useState)(null),
                    F = (0, i.default)(R, 2),
                    B = F[0],
                    U = F[1],
                    G = (0, f.useState)(!0),
                    H = (0, i.default)(G, 2),
                    W = H[0],
                    V = H[1],
                    z = (0, f.useState)(!1),
                    q = (0, i.default)(z, 2),
                    K = q[0],
                    Y = q[1],
                    Q = (0, f.useRef)(null);
                (0, f.useEffect)((function() {
                    var e;
                    null === (e = Q.current) || void 0 === e || e.restoreFocus()
                }), []);
                var X = function(e) {
                        return e.length >= 10
                    },
                    Z = function(e) {
                        e.stopPropagation()
                    },
                    J = {
                        enter: Z
                    };
                K && (J.esc = Z);
                if ((0, u.isMDBackend)()) {
                    var $ = "contact-us-include-device";
                    return (0, T.jsx)(g.default, {
                        title: c.fbt._("Contact us", null, {
                            hk: "1FJ2cU"
                        }),
                        okDisabled: !X(D) || K,
                        okSpinner: K,
                        okText: S.default.t(745),
                        onOK: function() {
                            if (X(D)) {
                                var e = (0, r.default)((0, r.default)({}, d.UA.parser.getResult()), {}, {
                                    "Device ID": (0, y.assertGetMe)()
                                });
                                t && (e = (0, r.default)((0, r.default)({}, e), {}, {
                                    context: t
                                }));
                                var i = W ? JSON.stringify(e) : void 0;
                                Y(!0), null == n || n({
                                    description: D
                                }), __LOG__(2)`InAppSupport: Sending support request with deviceInfo=${W}:${null!=i?i:"n/a"}`, (0, l.default)((0, j.sendSupportRequest)(D, i), O).then((function(e) {
                                    null != e.message ? (v.Cmd.closeModal(), v.Cmd.openToast((0, T.jsx)(w.Toast, {
                                        msg: c.fbt._("Your question has been sent to WhatsApp Support. We'll respond in a WhatsApp chat shortly.", null, {
                                            hk: "2wt947"
                                        }),
                                        id: (0, w.genId)()
                                    }))) : a && a({
                                        description: D
                                    })
                                })).catch((0, o.catchAbort)((function() {}))).finally((function() {
                                    Y(!1)
                                }))
                            } else U(S.default.t(756))
                        },
                        onCancel: K ? void 0 : function() {
                            null == P || P(), v.Cmd.closeModal()
                        },
                        children: (0, T.jsx)(b.HotKeys, {
                            handlers: J,
                            children: (0, T.jsxs)(x.FlexColumn, {
                                align: "stretch",
                                children: [(0, T.jsx)(E.TextInput, {
                                    error: B,
                                    maxLength: 5e3,
                                    onChange: function(e) {
                                        N(e)
                                    },
                                    placeholder: c.fbt._("Tell us how we can help", null, {
                                        hk: "1R8W3F"
                                    }),
                                    ref: Q,
                                    value: D
                                }), (0, T.jsx)(C.default, {
                                    xstyle: I.deviceInfo,
                                    grow: 1,
                                    children: (0, T.jsx)(k.TextParagraph, {
                                        theme: "muted-small",
                                        children: c.fbt._("Include device information? (optional)", null, {
                                            hk: "1nGqHl"
                                        })
                                    })
                                }), (0, T.jsxs)(x.FlexRow, {
                                    children: [(0, T.jsx)(C.default, {
                                        xstyle: I.deviceInfoLabel,
                                        grow: 1,
                                        children: (0, T.jsx)("label", {
                                            htmlFor: $,
                                            children: (0, T.jsxs)(k.TextParagraph, {
                                                theme: "plain",
                                                children: [c.fbt._("Technical details like your model and settings can help us answer your question.", null, {
                                                    hk: "1Edwn1"
                                                }), " ", (0, T.jsx)(_.ExternalLink, {
                                                    href: (0, s.getSupportChatFaqUrl)(),
                                                    children: S.default.t(547)
                                                })]
                                            })
                                        })
                                    }), (0, T.jsx)(C.default, {
                                        xstyle: I.deviceInfoCheckbox,
                                        grow: 0,
                                        children: (0, T.jsx)(h.CheckBox, {
                                            checked: W,
                                            id: $,
                                            onChange: function() {
                                                V(!W)
                                            }
                                        })
                                    })]
                                }), (0, T.jsx)(x.FlexRow, {
                                    children: (0, T.jsx)(C.default, {
                                        xstyle: I.emailLink,
                                        grow: 1,
                                        children: (0, T.jsx)(m.default, {
                                            onClick: function() {
                                                M && (v.Cmd.closeModal(), M({
                                                    description: D
                                                }))
                                            },
                                            children: c.fbt._("Get support via email", null, {
                                                hk: "3vajRd"
                                            })
                                        })
                                    })
                                })]
                            })
                        })
                    })
                }
                return (0, T.jsx)(g.default, {
                    okText: c.fbt._("OK", null, {
                        hk: "2KEeHb"
                    }),
                    onOK: function() {
                        return v.Cmd.closeModal()
                    },
                    title: c.fbt._("Contact us", null, {
                        hk: "1FJ2cU"
                    }),
                    children: (0, T.jsx)(k.TextParagraph, {
                        theme: "plain",
                        children: c.fbt._("The support request form is not yet available for desktop. Use your phone to submit it.", null, {
                            hk: "2Jk5Da"
                        })
                    })
                })
            };
            var r = a(n(81109)),
                i = a(n(63038)),
                o = n(396),
                l = a(n(15584)),
                u = n(78577),
                s = n(8917),
                d = n(10253),
                c = n(48360),
                f = n(67294),
                p = (a(n(56720)), a(n(22190))),
                h = n(91404),
                m = a(n(81288)),
                v = n(65901),
                g = a(n(86777)),
                _ = n(49012),
                x = n(27968),
                C = a(n(69520)),
                y = n(1577),
                b = n(32012),
                S = a(n(9844)),
                j = n(4049),
                k = n(22552),
                E = n(68544),
                w = n(92428),
                T = n(85893),
                I = {
                    deviceInfo: {
                        marginBottom: "t4zgqcuo",
                        marginTop: "opp68qpq"
                    },
                    deviceInfoCheckbox: {
                        minWidth: "r7yn1a4o"
                    },
                    deviceInfoLabel: {
                        paddingEnd: "l9g3jx6n"
                    },
                    emailLink: {
                        marginTop: "opp68qpq"
                    }
                }
        },
        8681: (e, t, n) => {
            "use strict";
            var a = n(21314).default,
                r = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function() {
                var e = (0, d.default)(),
                    t = (0, s.useState)(!1),
                    n = (0, i.default)(t, 2),
                    r = n[0],
                    p = n[1];
                (0, s.useEffect)((function() {
                    (0, l.default)(a.resolve(v.isEnabled()), e).then((function(e) {
                        p(e)
                    })).catch((0, o.catchAbort)((function() {}))).catch((function(e) {
                        __LOG__(3)`Unknown error while getting initial auto launch settings, ${String(e)}`
                    }))
                }), []);
                var g = function() {
                    var t = !r,
                        n = t ? v.enable() : v.disable();
                    (0, l.default)(a.resolve(n), e).then((function() {
                        p(t)
                    })).catch((0, o.catchAbort)((function() {})))
                };
                return (0, m.jsx)("div", {
                    className: f.default.container,
                    children: (0, m.jsxs)("div", {
                        className: f.default.section,
                        onClick: g,
                        children: [(0, m.jsx)("div", {
                            "data-a8n": u.default.key("menu-icon-auto-launch"),
                            className: f.default.control,
                            children: (0, m.jsx)(c.CheckBox, {
                                onChange: g,
                                checked: r
                            })
                        }), (0, m.jsx)("div", {
                            className: f.default.label,
                            children: h.default.t(683)
                        })]
                    })
                })
            };
            var i = r(n(63038)),
                o = n(396),
                l = r(n(15584)),
                u = r(n(84646)),
                s = n(67294),
                d = r(n(22190)),
                c = n(91404),
                f = r(n(61043)),
                p = r(n(17847)),
                h = r(n(9844)),
                m = n(85893),
                v = p.default.require("AutoLauncher")
        },
        55315: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(8681)),
                i = a(n(53187)),
                o = a(n(18345)),
                l = n(19288),
                u = a(n(9844)),
                s = n(85893),
                d = function(e) {
                    var t = e.onClose;
                    return (0, s.jsxs)(i.default, {
                        children: [(0, s.jsx)(l.DrawerHeader, {
                            a8n: "drawer-title-desktop-settings",
                            title: u.default.t(381),
                            onBack: t,
                            type: l.DRAWER_HEADER_TYPE.LARGE
                        }), (0, s.jsx)(o.default, {
                            children: (0, s.jsx)(r.default, {})
                        })]
                    })
                };
            t.default = d
        },
        26004: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(63038)),
                i = n(73466),
                o = n(48360),
                l = n(50857),
                u = a(n(5991)),
                s = n(65901),
                d = n(2629),
                c = a(n(9844)),
                f = n(66821),
                p = n(79348),
                h = n(68220),
                m = n(22552),
                v = n(85893),
                g = function(e) {
                    var t, n = (0, l.useModelValues)(e.mute, ["isMuted", "expiration", "isCallMuted", "callExpiration"]),
                        a = (0, l.useModelValues)(e.reactionsMute, ["isMuted", "expiration", "isCallMuted", "callExpiration"]),
                        g = (0, u.default)((function() {
                            return f.MuteCollection.getGlobalNotifications()
                        }), (function(e) {
                            return f.MuteCollection.setGlobalNotifications(e)
                        })),
                        _ = (0, r.default)(g, 2),
                        x = _[0],
                        C = _[1],
                        y = (0, u.default)((function() {
                            return f.MuteCollection.getOutgoingMessageSound()
                        }), (function(e) {
                            return f.MuteCollection.setOutgoingMessageSound(e)
                        })),
                        b = (0, r.default)(y, 2),
                        S = (b[0], b[1], (0, u.default)((function() {
                            return f.MuteCollection.getGlobalSounds()
                        }), (function(e) {
                            return f.MuteCollection.setGlobalSounds(e)
                        }))),
                        j = (0, r.default)(S, 2),
                        k = j[0],
                        E = j[1],
                        w = (0, u.default)((function() {
                            return f.MuteCollection.getGlobalCallRingtone()
                        }), (function(e) {
                            return f.MuteCollection.setGlobalCallRingtone(e)
                        })),
                        T = (0, r.default)(w, 2),
                        I = T[0],
                        P = T[1],
                        M = (0, u.default)((function() {
                            return f.MuteCollection.getGlobalPreviews()
                        }), (function(e) {
                            return f.MuteCollection.setGlobalPreviews(e)
                        })),
                        O = (0, r.default)(M, 2),
                        A = O[0],
                        L = O[1],
                        D = (0, u.default)((function() {
                            return f.MuteCollection.getCollapseMuted()
                        }), (function(e) {
                            return f.MuteCollection.setCollapseMuted(e)
                        })),
                        N = (0, r.default)(D, 2),
                        R = (N[0], N[1], []);
                    window.Notification && (R.push((0, v.jsx)(p.SettingsCheckListItem, {
                        a8nText: "option-desktop-notifications",
                        id: "desktop-notifications",
                        checked: x,
                        onChange: C,
                        children: c.default.t(684)
                    }, 0)), R.push((0, v.jsxs)(p.SettingsCheckListItem, {
                        a8nText: "options-msg-previews",
                        disabled: !x,
                        id: "msg-previews",
                        checked: A,
                        onChange: L,
                        children: [c.default.t(685), (0, v.jsx)(m.TextDiv, {
                            theme: "muted",
                            children: c.default.t(686)
                        })]
                    }, 1)));
                    var F = n.expiration,
                        B = n.callExpiration,
                        U = n.isMuted,
                        G = n.isCallMuted;
                    if ((0, d.receiveReactionsEnabled)()) {
                        var H = a.expiration,
                            W = a.isMuted;
                        t = (0, v.jsxs)(p.SettingsCheckListItem, {
                            a8nText: "option-reactions-mute-desktop-notifications",
                            id: "reactions-mute-desktop-notifications",
                            checked: W,
                            onChange: function() {
                                s.Cmd.muteAll((0, h.unproxy)(a), !a.isMuted, !0)
                            },
                            children: [o.fbt._("Turn off all reactions notifications", null, {
                                hk: "34XbQa"
                            }), W && null != H ? (0, v.jsx)(m.TextDiv, {
                                theme: "muted",
                                children: i.Clock.untilStr(H)
                            }) : null]
                        })
                    }
                    var V = (0, v.jsx)(p.SettingsCheckListItem, {
                            a8nText: "option-call-ringtone",
                            id: "call-ringtone",
                            checked: I,
                            onChange: P,
                            children: o.fbt._("Incoming Call Ringtone", null, {
                                hk: "3BWlOo"
                            })
                        }),
                        z = (0, v.jsxs)(p.SettingsCheckListItem, {
                            a8nText: "option-mute-desktop-call-notifications",
                            id: "mute-desktop-call-notifications",
                            checked: G,
                            onChange: function() {
                                s.Cmd.muteAllCall((0, h.unproxy)(n), !n.isCallMuted)
                            },
                            children: [o.fbt._("Turn off all desktop incoming calls", null, {
                                hk: "4yasC9"
                            }), G && null != B ? (0, v.jsx)(m.TextDiv, {
                                theme: "muted",
                                children: i.Clock.untilStr(B)
                            }) : null]
                        });
                    return (0, v.jsxs)(p.SettingsCheckList, {
                        children: [(0, v.jsx)(p.SettingsCheckListItem, {
                            a8nText: "option-sounds",
                            id: "sounds",
                            checked: k,
                            onChange: E,
                            children: c.default.t(687)
                        }), undefined, undefined, R, undefined, t, (0, v.jsxs)(p.SettingsCheckListItem, {
                            a8nText: "option-mute-desktop-notifications",
                            id: "mute-desktop-notifications",
                            checked: U,
                            onChange: function() {
                                s.Cmd.muteAll((0, h.unproxy)(n), !n.isMuted, !1)
                            },
                            children: [o.fbt._("Turn off all desktop notifications", null, {
                                hk: "JXF2W"
                            }), U && null != F ? (0, v.jsx)(m.TextDiv, {
                                theme: "muted",
                                children: i.Clock.untilStr(F)
                            }) : null]
                        }), V, z]
                    })
                };
            t.default = g
        },
        19868: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function() {
                return (0, o.jsx)("div", {
                    className: i.default.dropOverlay,
                    children: (0, o.jsx)("div", {
                        className: i.default.dropOverlayOutline,
                        children: r.fbt._("Drag file here", null, {
                            hk: "y9aHs"
                        })
                    })
                }, "container")
            };
            var r = n(48360),
                i = a(n(17731)),
                o = n(85893)
        },
        76722: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.rootRef,
                    n = e.disabled,
                    a = e.onClick,
                    f = e.children,
                    p = function(e) {
                        var t = (0, i.useState)(),
                            n = (0, r.default)(t, 2),
                            a = n[0],
                            o = n[1],
                            u = (0, i.useState)(),
                            s = (0, r.default)(u, 2),
                            d = s[0],
                            c = s[1],
                            f = (0, l.default)({
                                root: e,
                                rootMargin: null != a ? `-${a.offsetHeight}px` : void 0
                            }),
                            p = (0, r.default)(f, 2),
                            h = p[0],
                            m = p[1].isIntersecting;
                        return (0, i.useEffect)((function() {
                            if (null != e && null != a && null != d) {
                                if (m) a.style.removeProperty("right");
                                else {
                                    var t = e.offsetWidth - (e.clientWidth + 2 * e.clientLeft);
                                    a.style.setProperty("right", `${t}px`)
                                }
                                d.style.setProperty("min-height", `${a.offsetHeight}px`)
                            }
                        }), [m, e, a, d]), [m, function(e) {
                            h(e), c(e)
                        }, o]
                    }(t),
                    h = (0, r.default)(p, 3),
                    m = h[0],
                    v = h[1],
                    g = h[2];
                return (0, d.jsx)("div", {
                    ref: v,
                    className: (0, o.default)(c.ctaPlaceholder),
                    children: (0, d.jsx)(s.default, {
                        ref: g,
                        xstyle: [m ? null : c.ctaContainerSticky],
                        theme: "sticky-button-section",
                        children: (0, d.jsx)(u.default, {
                            type: "primary",
                            onClick: a,
                            disabled: n,
                            className: (0, o.default)(c.ctaButton),
                            children: f
                        })
                    })
                })
            };
            var r = a(n(63038)),
                i = n(67294),
                o = a(n(56720)),
                l = a(n(18822)),
                u = a(n(51599)),
                s = a(n(46821)),
                d = n(85893),
                c = {
                    ctaContainerSticky: {
                        position: "ly2gu7o9",
                        bottom: "jxacihee",
                        left: "tukmaf4q",
                        boxShadow: "th8ck7tu"
                    },
                    ctaButton: {
                        display: "f804f6gw",
                        marginBottom: "pel5o5rz"
                    },
                    ctaPlaceholder: {
                        marginBottom: "brac1wpa"
                    }
                }
        },
        37261: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.E2EChangeModal = function(e) {
                var t = (0, i.useModelValues)(e.contact, ["formattedShortName"]),
                    n = r.fbt._("OK", null, {
                        hk: "2KEeHb"
                    }),
                    a = t.formattedShortName,
                    d = u.default.t(934, {
                        contactName: a
                    }),
                    c = u.default.t(933, {
                        contactName: a
                    });
                return (0, s.jsx)(l.default, {
                    title: d,
                    onOK: function() {
                        return o.Cmd.closeModal()
                    },
                    okText: n,
                    children: c
                })
            };
            var r = n(48360),
                i = n(50857),
                o = n(65901),
                l = a(n(86777)),
                u = a(n(9844)),
                s = n(85893)
        },
        5847: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.EditImageDrawer = function(e) {
                var t, n = e.attributionUrl,
                    a = e.onRetake,
                    T = e.retryText,
                    I = e.onFinished,
                    P = (0, s.default)(),
                    M = (0, u.useRef)(),
                    O = (0, u.useRef)(null),
                    A = (0, d.default)((function() {
                        return new C.default
                    })),
                    L = (0, u.useState)(!1),
                    D = (0, r.default)(L, 2),
                    N = D[0],
                    R = D[1],
                    F = (0, u.useState)({
                        width: 500,
                        height: 361
                    }),
                    B = (0, r.default)(F, 2),
                    U = B[0],
                    G = B[1],
                    H = (0, u.useState)((function() {
                        return new v.default(e.img)
                    })),
                    W = (0, r.default)(H, 1)[0];
                (0, c.useListener)(A.current, "change:isInitialized", (function() {
                    P()
                }));
                var V, z = N ? (0, E.jsx)("div", {
                    className: m.default.btnSend,
                    children: (0, E.jsx)(S.Round, {
                        large: !0,
                        onClick: function() {
                            var e, t;
                            null === (t = M.current) || void 0 === t || t.saveCanvas(), null === (e = O.current) || void 0 === e || e.crop().then((function(e) {
                                var t = e.thumb,
                                    n = e.full;
                                I(t, n), W.cleanUp()
                            }))
                        },
                        children: (0, E.jsx)(j.default, {
                            name: "checkmark-large"
                        })
                    })
                }, "btn-send") : null;
                A.current.isInitialized && (V = (0, E.jsx)(b.default, {
                    editedMedia: W,
                    stage: A.current.stage,
                    cropOverlay: A.current.cropOverlay,
                    mediaContainer: A.current.mediaContainer,
                    drawCanvas: function(e, t) {
                        var n;
                        null === (n = M.current) || void 0 === n || n.drawCanvas(e, t)
                    },
                    ref: O
                }));
                var q, K = (0, E.jsx)(x.default, {
                    className: m.default.mediaElement,
                    editedMedia: W,
                    mediaEditController: A.current,
                    fitType: "cover",
                    ref: M
                });
                if (a) {
                    var Y;
                    switch (T) {
                        case w.NONE:
                            Y = null;
                            break;
                        case w.RETAKE:
                            Y = l.fbt._("Retake", null, {
                                hk: "tGeQz"
                            });
                            break;
                        case w.RESTART:
                        default:
                            Y = l.fbt._("Upload", null, {
                                hk: "3FMQvb"
                            })
                    }
                    q = (0, E.jsxs)("button", {
                        className: m.default.retake,
                        onClick: a,
                        children: [(0, E.jsx)("div", {
                            className: m.default.retakeIcon,
                            children: (0, E.jsx)(j.default, {
                                name: "return"
                            })
                        }), Y]
                    })
                }
                var Q = n ? (0, E.jsxs)("div", {
                        className: m.default.attribution,
                        children: [(0, E.jsx)(g.ExternalLink, {
                            className: m.default.attributionLink,
                            href: n,
                            children: i.default.hostname(n)
                        }), (0, E.jsxs)("span", {
                            children: [l.fbt._("Image may be subject to copyright.", null, {
                                hk: "XoHv1"
                            }), (0, E.jsx)(g.ExternalLink, {
                                href: (0, k.getTosUrl)(),
                                children: l.fbt._("Terms of Service", null, {
                                    hk: "1Lpm6J"
                                })
                            })]
                        })]
                    }) : null,
                    X = (0, E.jsxs)("div", {
                        className: m.default.footer,
                        children: [(0, E.jsx)(o.default, {
                            transitionName: "btn",
                            children: z
                        }), Q]
                    }),
                    Z = null !== (t = e.imageSize) && void 0 !== t ? t : {
                        width: 500,
                        height: 361
                    };
                return (0, E.jsxs)(f.default, {
                    theme: "edit",
                    children: [(0, E.jsx)(h.DrawerHeader, {
                        title: _.default.t(140),
                        type: "offset",
                        onCancel: e.onCancel,
                        children: q
                    }), (0, E.jsxs)(p.default, {
                        overflow: "hidden",
                        children: [(0, E.jsxs)("div", {
                            className: m.default.mediaBody,
                            children: [V, (0, E.jsx)("div", {
                                className: m.default.containerBackground,
                                children: (0, E.jsx)(o.default, {
                                    transitionName: "capture",
                                    children: (0, E.jsx)(y.default, {
                                        type: "cover",
                                        size: Z,
                                        onObjectLoad: function(e) {
                                            null != e && e instanceof HTMLElement && (!U || U.width === e.clientWidth && U.height === e.clientHeight || G({
                                                width: e.clientWidth,
                                                height: e.clientHeight
                                            }), N || R(!0))
                                        },
                                        children: K
                                    })
                                })
                            })]
                        }), X]
                    })]
                }, "attach-edit-modal")
            }, t.RETRY_OPTIONS = void 0;
            var r = a(n(63038)),
                i = a(n(10646)),
                o = a(n(65668)),
                l = n(48360),
                u = n(67294),
                s = a(n(45764)),
                d = a(n(62905)),
                c = n(91285),
                f = a(n(53187)),
                p = a(n(18345)),
                h = n(19288),
                m = a(n(37783)),
                v = a(n(43620)),
                g = n(49012),
                _ = a(n(9844)),
                x = a(n(29418)),
                C = a(n(21782)),
                y = a(n(58497)),
                b = a(n(9319)),
                S = n(80385),
                j = a(n(7665)),
                k = n(92909),
                E = n(85893),
                w = {
                    NONE: "none",
                    RETAKE: "retake",
                    RESTART: "restart"
                };
            t.RETRY_OPTIONS = w
        },
        43620: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(34575)),
                i = a(n(82492)),
                o = n(69202),
                l = a(n(10646));
            t.default = function e(t, n, a, u) {
                var s = this;
                (0, r.default)(this, e), this.updateEditData = function(e) {
                    s.saveEdits(), s.editData = (0, i.default)({}, s.editData, e)
                }, this.updateEditItems = function(e, t) {
                    s.saveEdits();
                    var n = [];
                    s.editData.items && s.editData.items.forEach((function(e) {
                        e !== t && n.push(e)
                    })), n.push(e), s.editData.items = n
                }, this.saveEdits = function() {
                    var t = new e(s.media, s.originalImage, s.editData, s.previous);
                    s.previous = t
                }, this.revertEdit = function() {
                    s.previous && (s.editData = s.previous.editData, s.previous = s.previous.previous)
                }, this.saveEditsFromCanvas = function(e) {
                    var t = e.toDataURL();
                    s.editedImage || (s.editedImage = new Image), s.editedImage.src = t
                }, this.exportEditedMedia = function() {
                    if (s.hasEdits() && s.editedImage) {
                        var e = s.editedImage.src;
                        return l.default.dataURLtoFile(e)
                    }
                    return s.media instanceof File ? s.media : (0, o.createFile)([s.media], "", {
                        type: s.media.type
                    })
                }, this.hasEdits = function() {
                    return !!s.previous && s.editedImage
                }, this.cleanUp = function() {
                    window.URL.revokeObjectURL(s.originalImage.src)
                }, this.media = t, n ? this.originalImage = n : (this.originalImage = new Image, this.originalImage.src = window.URL.createObjectURL(t)), this.previous = u, this.editData = {
                    height: 0,
                    width: 0,
                    offsetX: 0,
                    offsetY: 0,
                    rotation: 0,
                    scale: 1,
                    items: [],
                    baseItem: null
                }, (0, i.default)(this.editData, a)
            }
        },
        29418: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(319)),
                i = a(n(63038)),
                o = n(4710),
                l = n(8587),
                u = n(67294),
                s = a(n(9378)),
                d = a(n(88805)),
                c = a(n(58497)),
                f = a(n(6220)),
                p = n(85893);

            function h(e, t) {
                var n = e.mediaEditController,
                    a = e.editedMedia,
                    h = e.mediaPickerStatsLogger,
                    m = e.activeMediaId,
                    v = (0, u.useRef)(null),
                    g = (0, u.useRef)(null),
                    _ = (0, u.useRef)(null),
                    x = (0, u.useRef)(null),
                    C = (0, u.useState)({
                        height: 1,
                        width: 1
                    }),
                    y = (0, i.default)(C, 2),
                    b = y[0],
                    S = y[1],
                    j = (0, u.useState)(null),
                    k = (0, i.default)(j, 2),
                    E = k[0],
                    w = k[1],
                    T = (0, u.useState)(null),
                    I = (0, i.default)(T, 2),
                    P = (I[0], I[1]),
                    M = function(e, t) {
                        if (v.current) {
                            var i = v.current;
                            t && h && h.logChange(m || -1, t);
                            var u = a.editData,
                                s = function(e) {
                                    var t;
                                    return E ? t = E : (t = new o.Easel.Stage(e)).enableMouseOver(), n.stage = t, t
                                }(i);
                            e && (i.width = u.width, i.height = u.height), s.removeAllChildren(), null != u.baseItem && s.addChild(u.baseItem), u.items && s.addChild.apply(s, (0, r.default)(u.items));
                            var d = a.originalImage.naturalWidth,
                                c = a.originalImage.naturalHeight;
                            s.regX = d / 2, s.regY = c / 2, s.rotation = u.rotation, (0, l.isNonZeroNumber)(u.width) && (0, l.isNonZeroNumber)(u.height) && (s.x = u.width / 2 + u.scale * u.offsetX, s.y = u.height / 2 + u.scale * u.offsetY), s.scaleX = u.scale, s.scaleY = u.scale, s.update(), S({
                                width: i.width,
                                height: i.height
                            }), w(s)
                        }
                    },
                    O = function() {
                        var e = a.editData;
                        a.editedImage = null;
                        var t = a.originalImage;
                        if (e.width || e.height || (e.width = t.naturalWidth, e.height = t.naturalHeight), !e.baseItem) {
                            var n = new o.Easel.Bitmap(t);
                            e.baseItem = n
                        }
                        M(!0)
                    },
                    A = function() {
                        M(!0);
                        var e = v.current;
                        e && a.saveEditsFromCanvas(e)
                    },
                    L = function(e) {
                        e && (e.children.forEach((function(e) {
                            e.removeAllEventListeners()
                        })), e.removeAllEventListeners(), e.removeAllChildren(), e.enableMouseOver(0), e.clear())
                    };
                (0, u.useEffect)((function() {
                    var e;
                    (e = a.originalImage).complete ? O() : e.onload = O, P(g.current), x.current = new o.Easel.Stage(_.current), x.current.autoClear = !1, x.current.enableMouseOver(), g.current && (n.mediaContainer = g.current), n.cropOverlay = x.current
                }), []), (0, s.default)((function() {
                    var e = a.originalImage;
                    e.complete || (e.onload = void 0), A(), L(E), L(x.current)
                }));
                var D = function(e, t) {
                    S({
                        width: e,
                        height: t
                    })
                };
                (0, u.useImperativeHandle)(t, (function() {
                    return {
                        saveCanvas: A,
                        drawCanvas: M,
                        updateCanvasSize: D
                    }
                }));
                var N = (0, p.jsx)("canvas", {
                    ref: _,
                    className: d.default.cropOverlay
                });
                return (0, p.jsx)("div", {
                    className: e.className,
                    ref: g,
                    children: (0, p.jsxs)(c.default, {
                        type: e.fitType || "scaleDown",
                        size: b,
                        children: [N, (0, p.jsx)(f.default, {
                            ref: v,
                            className: d.default.mediaViewerImg
                        })]
                    })
                })
            }
            var m = (0, u.forwardRef)(h);
            t.default = m
        },
        21782: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(34575)),
                i = a(n(93913)),
                o = a(n(2205)),
                l = a(n(99842)),
                u = n(64287),
                s = function(e) {
                    (0, o.default)(n, e);
                    var t = (0, l.default)(n);

                    function n() {
                        var e;
                        (0, r.default)(this, n);
                        for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++) i[o] = arguments[o];
                        return (e = t.call.apply(t, [this].concat(i))).stage = (0, u.prop)(), e.cropOverlay = (0, u.prop)(), e.mediaContainer = (0, u.prop)(), e.isInitialized = (0, u.derived)((function() {
                            return !!this.stage && !!this.cropOverlay && !!this.mediaContainer
                        }), ["stage", "cropOverlay", "mediaContainer"]), e
                    }
                    return (0, i.default)(n, [{
                        key: "clearStage",
                        value: function(e) {
                            e && (e.children.forEach((function(e) {
                                e.removeAllEventListeners()
                            })), e.removeAllEventListeners(), e.removeAllChildren(), e.clear())
                        }
                    }]), n
                }(u.BaseModel),
                d = (0, u.defineModel)(s);
            t.default = d
        },
        85493: (e, t) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.PROF_PIC_THUMB_SIDE = t.PROF_PIC_MIN_SIDE = t.PROF_PIC_MAX_SIDE = void 0;
            t.PROF_PIC_MIN_SIDE = 192;
            t.PROF_PIC_MAX_SIDE = 640;
            t.PROF_PIC_THUMB_SIDE = 96
        },
        9319: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(87757)),
                i = a(n(48926)),
                o = function(e, t) {
                    if (!t && e && e.__esModule) return e;
                    if (null === e || "object" != typeof e && "function" != typeof e) return {
                        default: e
                    };
                    var n = h(t);
                    if (n && n.has(e)) return n.get(e);
                    var a = {},
                        r = Object.defineProperty && Object.getOwnPropertyDescriptor;
                    for (var i in e)
                        if ("default" !== i && Object.prototype.hasOwnProperty.call(e, i)) {
                            var o = r ? Object.getOwnPropertyDescriptor(e, i) : null;
                            o && (o.get || o.set) ? Object.defineProperty(a, i, o) : a[i] = e[i]
                        } a.default = e, n && n.set(e, a);
                    return a
                }(n(36667)),
                l = n(4710),
                u = n(67294),
                s = n(91285),
                d = n(85493),
                c = a(n(27)),
                f = a(n(7665)),
                p = n(85893);

            function h(e) {
                if ("function" != typeof WeakMap) return null;
                var t = new WeakMap,
                    n = new WeakMap;
                return (h = function(e) {
                    return e ? n : t
                })(e)
            }
            var m = 1.1;

            function v(e, t) {
                var n = e.editedMedia,
                    a = e.cropOverlay,
                    h = e.drawCanvas,
                    v = (0, u.useRef)(0),
                    g = function(e) {
                        var t = v.current,
                            a = n.editData,
                            r = Math.max(2 * t / a.width, 2 * t / a.height),
                            i = Math.max(e, r);
                        if (a.width * e < t || a.height * e < t) return !1;
                        var o = -t / i + a.width / 2,
                            l = t / i - a.width / 2,
                            u = -t / i + a.height / 2,
                            s = t / i - a.height / 2;
                        return {
                            scale: i,
                            offsetX: Math.min(Math.max(a.offsetX, l), o),
                            offsetY: Math.min(Math.max(a.offsetY, s), u)
                        }
                    },
                    _ = function() {
                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : m,
                            t = n.editData,
                            a = 0 !== e ? e : m,
                            r = g(t.scale * a);
                        r && (t.scale = r.scale, t.offsetX = r.offsetX, t.offsetY = r.offsetY, h())
                    },
                    x = function() {
                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : m,
                            t = n.editData,
                            a = 0 !== e ? e : m,
                            r = g(t.scale / a);
                        r && (t.scale = r.scale, t.offsetX = r.offsetX, t.offsetY = r.offsetY, h())
                    };
                (0, s.useListener)(a.canvas, "mousewheel", (function(e) {
                    e.deltaY > 0 ? _(1.02) : x(1.02)
                }));
                var C = function(e, t) {
                    var a = n.editData,
                        r = e.stageX - t.x,
                        i = e.stageY - t.y,
                        o = a.offsetX + r / a.scale,
                        l = a.offsetY + i / a.scale,
                        u = function(e, t) {
                            var a = v.current,
                                r = n.editData,
                                i = (e - r.width / 2) * r.scale,
                                o = (e + r.width / 2) * r.scale,
                                l = (t + r.height / 2) * r.scale;
                            return {
                                x: i < -a && o > a,
                                y: (t - r.height / 2) * r.scale < -a && l > a
                            }
                        }(o, l);
                    u.x && (a.offsetX = o), u.y && (a.offsetY = l), t.x = e.stageX, t.y = e.stageY, h()
                };
                (0, u.useEffect)((function() {
                    n.saveEdits();
                    var e, t = n.editData,
                        r = a.canvas;
                    e = t.baseItem ? t.baseItem.getBounds() : {
                        width: 0,
                        height: 0
                    }, r.style.display = "block", r.width = e.width, r.height = e.height;
                    var i = new l.Easel.Shape;
                    i.graphics.beginFill("rgba(0, 0, 0, 0.1)"), i.graphics.drawRect(0, 0, e.width, e.height), i.regX = e.width / 2, i.regY = e.height / 2, i.x = e.width / 2, i.y = e.height / 2, i.on("mousedown", (function(e) {
                        var t = {
                                x: e.stageX,
                                y: e.stageY
                            },
                            n = i.on("pressmove", C, null, !1, t);
                        i.on("pressup", (function() {
                            i.off("pressmove", n)
                        }), null, !0)
                    })), i.cursor = "move";
                    var o = r.getContext("2d"),
                        u = r.width,
                        s = r.height,
                        d = u / s > 500 / 361 ? s / 361 : u / 500;
                    v.current = Math.min(361, 500) / 2 * .9 * d;
                    var c = v.current;
                    o.fillStyle = "rgba(0, 0, 0, 0.5)", o.fillRect(0, 0, u, s), o.globalCompositeOperation = "destination-out", o.beginPath(), o.arc(u / 2, s / 2, c, 0, 2 * Math.PI, !0), o.fillStyle = "#ffffff", o.fill(), a.addChild(i), a.update()
                }), []);
                var y = function() {
                    var e = (0, i.default)(r.default.mark((function e() {
                        var t, a, i, l, u, s, c, f, p;
                        return r.default.wrap((function(e) {
                            for (;;) switch (e.prev = e.next) {
                                case 0:
                                    if (a = n.editData, i = null === (t = n.editedImage) || void 0 === t ? void 0 : t.src, l = v.current, i) {
                                        e.next = 5;
                                        break
                                    }
                                    throw new Error("empty image");
                                case 5:
                                    return s = u = 2 * l, u > d.PROF_PIC_MAX_SIDE ? s = d.PROF_PIC_MAX_SIDE : u < d.PROF_PIC_MIN_SIDE && (s = d.PROF_PIC_MIN_SIDE), e.next = 10, o.crop(i, (a.width - 2 * l) / 2, (a.height - 2 * l) / 2, 2 * l, 2 * l, s, s, o.DATA_URL | o.CANVAS);
                                case 10:
                                    return c = e.sent, f = c.images.dataUrl, e.next = 14, o.crop(c.images.canvas, 0, 0, d.PROF_PIC_THUMB_SIDE, d.PROF_PIC_THUMB_SIDE);
                                case 14:
                                    return p = e.sent, e.abrupt("return", {
                                        thumb: p.images.dataUrl,
                                        full: f
                                    });
                                case 16:
                                case "end":
                                    return e.stop()
                            }
                        }), e)
                    })));
                    return function() {
                        return e.apply(this, arguments)
                    }
                }();
                return (0, u.useImperativeHandle)(t, (function() {
                    return {
                        crop: y
                    }
                })), (0, p.jsxs)("div", {
                    className: c.default.scaler,
                    children: [(0, p.jsx)("div", {
                        className: c.default.scalerButton,
                        onClick: function() {
                            _()
                        },
                        children: (0, p.jsx)(f.default, {
                            name: "plus"
                        })
                    }), (0, p.jsx)("div", {
                        className: c.default.scalerButton,
                        onClick: function() {
                            x()
                        },
                        children: (0, p.jsx)(f.default, {
                            name: "minus"
                        })
                    })]
                })
            }
            var g = (0, u.forwardRef)(v);
            t.default = g
        },
        6220: (e, t, n) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var a = n(67294),
                r = n(85893);

            function i(e, t) {
                return (0, r.jsx)("canvas", {
                    className: e.className,
                    ref: t
                })
            }

            function o(e, t) {
                return e.className === t.className
            }
            var l = (0, a.memo)((0, a.forwardRef)(i), o);
            t.default = l
        },
        74715: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, n = (0, l.useState)(e.initialDuration),
                    a = (0, r.default)(n, 2),
                    C = a[0],
                    y = a[1],
                    b = (0, s.default)(v.NUX.EPHEMERAL),
                    S = (0, r.default)(b, 2),
                    j = S[0],
                    k = S[1],
                    E = function(e) {
                        return y(parseInt(e.target.value, 10))
                    };
                t = j ? (0, _.jsx)(f.default, {
                    fromMe: !0
                }) : (0, _.jsxs)(_.Fragment, {
                    children: [(0, _.jsx)(g.TextParagraph, {
                        xstyle: x.explanation,
                        children: o.fbt._("All new messages in this chat will disappear after the selected duration.", null, {
                            hk: "4lToiN"
                        })
                    }), (0, h.getAllDurations)().map((function(e) {
                        var t = e.value,
                            n = e.label;
                        return (0, _.jsx)("div", {
                            className: (0, u.default)(x.option),
                            children: (0, _.jsxs)("label", {
                                className: (0, u.default)(x.label),
                                children: [(0, _.jsx)("input", {
                                    type: "radio",
                                    className: (0, u.default)(x.input),
                                    value: String(t),
                                    checked: t === C,
                                    onChange: E
                                }), n]
                            })
                        }, `option-${t}`)
                    }))]
                });
                return (0, _.jsx)(c.default, {
                    title: j ? void 0 : o.fbt._("Disappearing messages", null, {
                        hk: "384ocn"
                    }),
                    onOK: j ? function() {
                        k()
                    } : function() {
                        e.onDurationSelected(C), d.Cmd.closeModal()
                    },
                    onCancel: j ? function() {
                        (0, p.openExternalLink)((0, i.getEphemeralFaqUrl)())
                    } : function() {
                        d.Cmd.closeModal()
                    },
                    cancelText: j ? m.default.t(547) : o.fbt._("Cancel", null, {
                        hk: "H0gNq"
                    }),
                    children: t
                })
            };
            var r = a(n(63038)),
                i = n(8917),
                o = n(48360),
                l = n(67294),
                u = a(n(56720)),
                s = a(n(52574)),
                d = n(65901),
                c = a(n(86777)),
                f = a(n(71842)),
                p = n(49012),
                h = n(25206),
                m = a(n(9844)),
                v = n(15849),
                g = n(22552),
                _ = n(85893),
                x = {
                    option: {
                        display: "p357zi0d",
                        alignItems: "gndfcl4n",
                        height: "sai7fuui"
                    },
                    label: {
                        display: "f804f6gw",
                        cursor: "ajgl1lbb"
                    },
                    input: {
                        marginEnd: "claouzo6",
                        verticalAlign: "neme6l2y"
                    },
                    explanation: {
                        marginBottom: "t4zgqcuo"
                    }
                }
        },
        15733: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.frequentlyForwardedCount,
                    n = e.totalCount,
                    a = (0, c.jsxs)("span", {
                        className: u.default.text,
                        children: [1 === t && 1 === n ? i.fbt._("This message will be marked as forwarded many times.", null, {
                            hk: "37i1m9"
                        }) : i.fbt._("One or more messages will be marked as forwarded many times.", null, {
                            hk: "1Z8wFQ"
                        }), " ", (0, c.jsx)(l.ExternalLink, {
                            href: (0, r.getFrequentlyForwardedFaqUrl)(),
                            children: s.default.t(547)
                        })]
                    });
                return (0, c.jsxs)("div", {
                    className: u.default.wrapper,
                    children: [(0, c.jsx)("div", {
                        className: u.default.icon,
                        children: (0, c.jsx)(d.default, {
                            name: "highly-forwarded"
                        })
                    }), (0, c.jsx)(o.default, {
                        theme: "plain",
                        primary: a,
                        idle: !0
                    })]
                })
            };
            var r = n(8917),
                i = n(48360),
                o = a(n(88186)),
                l = n(49012),
                u = a(n(19517)),
                s = a(n(9844)),
                d = a(n(7665)),
                c = n(85893)
        },
        85077: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(63038)),
                i = n(396),
                o = n(15586),
                l = n(45121),
                u = a(n(15584)),
                s = n(73435),
                d = n(78577),
                c = function(e, t) {
                    if (!t && e && e.__esModule) return e;
                    if (null === e || "object" != typeof e && "function" != typeof e) return {
                        default: e
                    };
                    var n = F(t);
                    if (n && n.has(e)) return n.get(e);
                    var a = {},
                        r = Object.defineProperty && Object.getOwnPropertyDescriptor;
                    for (var i in e)
                        if ("default" !== i && Object.prototype.hasOwnProperty.call(e, i)) {
                            var o = r ? Object.getOwnPropertyDescriptor(e, i) : null;
                            o && (o.get || o.set) ? Object.defineProperty(a, i, o) : a[i] = e[i]
                        } a.default = e, n && n.set(e, a);
                    return a
                }(n(8924)),
                f = n(48360),
                p = n(67294),
                h = n(50857),
                m = a(n(22190)),
                v = a(n(88186)),
                g = n(65901),
                _ = a(n(22261)),
                x = n(66834),
                C = a(n(53187)),
                y = a(n(18345)),
                b = a(n(61876)),
                S = n(19288),
                j = n(73008),
                k = n(75993),
                E = n(34755),
                w = a(n(99223)),
                T = a(n(9025)),
                I = n(3995),
                P = a(n(9844)),
                M = n(45065),
                O = n(96197),
                A = n(4865),
                L = a(n(59782)),
                D = a(n(7665)),
                N = n(92428),
                R = n(85893);

            function F(e) {
                if ("function" != typeof WeakMap) return null;
                var t = new WeakMap,
                    n = new WeakMap;
                return (F = function(e) {
                    return e ? n : t
                })(e)
            }
            var B = "group-invite-link-anchor",
                U = 0,
                G = 1,
                H = 2;

            function W(e) {
                var t, n = e.state,
                    a = e.chat,
                    r = e.groupMetadata,
                    i = e.onDrawerButtonClick,
                    o = e.onSendLinkButtonClick;
                if (n === U) t = (0, R.jsx)(k.LoadingWithText, {
                    text: P.default.t(485)
                });
                else if (n === G) t = (0, R.jsx)(k.LoadingWithText, {
                    text: P.default.t(493, {
                        groupName: a.contact.name
                    })
                });
                else {
                    var l = r.groupInviteLink,
                        u = null;
                    document.queryCommandSupported("copy") && (u = (0, R.jsx)(_.default, {
                        elementId: B
                    }));
                    var s = (0, R.jsx)(x.DetailImage, {
                            id: a.id,
                            size: 82,
                            quality: x.DetailImageQuality.High
                        }),
                        d = (0, R.jsx)("span", {
                            className: w.default.linkContainer,
                            children: (0, R.jsx)(O.SelectableLink, {
                                id: B,
                                href: l,
                                selectable: !0,
                                children: l
                            })
                        });
                    t = (0, R.jsxs)(y.default, {
                        children: [(0, R.jsx)(v.default, {
                            image: s,
                            primary: (0, R.jsx)(j.EmojiText, {
                                text: a.contact.name,
                                direction: "auto"
                            }),
                            theme: "identity",
                            secondary: d
                        }), (0, R.jsx)("div", {
                            className: w.default.descContainer,
                            children: P.default.t(488)
                        }), (0, R.jsx)(L.default, {
                            onClick: o
                        }), u, (0, R.jsx)(b.default, {
                            a8nText: "li-revoke-link",
                            icon: (0, R.jsx)(D.default, {
                                name: "revoke",
                                className: w.default.icon
                            }),
                            onClick: i,
                            children: f.fbt._("Reset link", null, {
                                hk: "37cdK4"
                            })
                        })]
                    })
                }
                return t
            }

            function V(e, t) {
                var n = e.onBack,
                    a = e.chat,
                    v = (0, p.useState)(U),
                    _ = (0, r.default)(v, 2),
                    x = _[0],
                    y = _[1],
                    b = (0, m.default)(),
                    j = (0, h.useModelValues)(e.groupMetadata, ["inviteCode", "groupInviteLink"]),
                    k = function(e) {
                        switch (e) {
                            case 401:
                                return P.default.t(490);
                            case 403:
                                return f.fbt._("You can't view this group's invite link because you're no longer a participant.", null, {
                                    hk: "4fEfyY"
                                });
                            case 404:
                                return f.fbt._("You can't view this group's invite link because this group has ended.", null, {
                                    hk: "2fhpj0"
                                });
                            case 436:
                                return f.fbt._("Invite via link is temporarily unavailable for this group.", null, {
                                    hk: "11ALNM"
                                });
                            default:
                                return P.default.t(491)
                        }
                    };
                (0, p.useEffect)((function() {
                    (0, u.default)((0, E.queryGroupInviteCode)(j), b).then((function() {
                        y(H)
                    })).catch((0, o.filteredCatch)(s.ServerStatusCodeError, (function(e) {
                        ! function(e) {
                            var t = k(e);
                            n(), 436 === e && ((0, d.isMDBackend)() && (0, M.queryAndUpdateGroupMetadataById)(a.id), (0, I.openGrowthLockedModal)(!0)), g.Cmd.openToast((0, R.jsx)(N.Toast, {
                                msg: t,
                                id: (0, N.genId)()
                            }))
                        }(e.statusCode)
                    }))).catch((0, i.catchAbort)((function() {})))
                }), []);
                var w = function() {
                    y(G);
                    var e = (0, E.revokeGroupInvite)(j);
                    (0, l.delayMs)(500).then((function() {
                        return e
                    })).then((function() {
                        g.Cmd.openToast((0, R.jsx)(N.Toast, {
                            msg: f.fbt._("The previous invite link is now reset and a new invite link has been created.", null, {
                                hk: "2RPI3K"
                            }),
                            id: (0, N.genId)()
                        })), y(H)
                    })).catch((0, o.filteredCatch)(s.ServerStatusCodeError, (function(e) {
                        ! function(e) {
                            var t = k(e);
                            n(), g.Cmd.openToast((0, R.jsx)(N.Toast, {
                                msg: t,
                                id: (0, N.genId)()
                            }))
                        }(e.statusCode)
                    }))).catch((0, o.filteredCatch)(c.Unmount, (function() {})))
                };
                return (0, R.jsxs)(C.default, {
                    ref: t,
                    children: [(0, R.jsx)(S.DrawerHeader, {
                        title: f.fbt._("Invite to group via link", null, {
                            hk: "3vDtFL"
                        }),
                        onBack: e.onBack,
                        rtlFixIfOnDarwin: !0,
                        type: S.DRAWER_HEADER_TYPE.SMALL
                    }), (0, R.jsx)(W, {
                        state: x,
                        chat: a,
                        groupMetadata: j,
                        onDrawerButtonClick: function() {
                            g.Cmd.openModal((0, R.jsx)(T.default, {
                                pushTransition: "none",
                                popTransition: "none",
                                chat: a,
                                onConfirm: w
                            }), {
                                transition: "modal-flow"
                            })
                        },
                        onSendLinkButtonClick: function() {
                            g.Cmd.openModal((0, R.jsx)(A.SendGroupInviteFlowLoadable, {
                                chat: a
                            }), {
                                transition: "modal-flow"
                            })
                        }
                    })]
                })
            }
            var z = (0, p.forwardRef)(V);
            t.default = z
        },
        4485: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.onConfirm;
                return (0, s.jsx)(o.default, {
                    title: r.fbt._("Reset link", null, {
                        hk: "37cdK4"
                    }),
                    onOK: function() {
                        t(), i.Cmd.closeModal()
                    },
                    okText: r.fbt._("Reset link", null, {
                        hk: "37cdK4"
                    }),
                    onCancel: function() {
                        i.Cmd.closeModal()
                    },
                    cancelText: r.fbt._("Cancel", null, {
                        hk: "H0gNq"
                    }),
                    children: (0, s.jsx)("div", {
                        className: l.default.confirmationText,
                        children: u.default.t(492, {
                            groupName: e.chat.contact.name
                        })
                    })
                })
            };
            var r = n(48360),
                i = n(65901),
                o = a(n(86777)),
                l = a(n(58529)),
                u = a(n(9844)),
                s = n(85893)
        },
        57027: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = (0, m.useModelValues)(e.msg, ["id", "star", "type", "isGif", "isViewOnce", "labels", "numTimesForwarded", "isFrequentlyForwarded", "chat"]),
                    n = (0, f.default)(),
                    a = (0, v.default)(),
                    o = (0, K.default)(),
                    l = (0, p.default)((function() {
                        return new j.default
                    })),
                    T = (0, p.default)((function() {
                        return new D.default.UiAction({
                            uiActionType: D.default.UI_ACTION_TYPE.MSG_INFO_OPEN,
                            uiActionPreloaded: !0
                        })
                    })),
                    P = (0, c.useRef)(null),
                    F = (0, c.useRef)(null),
                    G = (0, c.useState)(void 0),
                    H = (0, i.default)(G, 2),
                    V = H[0],
                    z = H[1],
                    X = (0, c.useState)(!1),
                    Z = (0, i.default)(X, 2),
                    J = Z[0],
                    ee = Z[1];
                (0, c.useEffect)((function() {
                    var e;
                    R.MsgInfoCollection.find(t.id).then((function(e) {
                        a.aborted || z(e)
                    })).catch((function() {
                        ee(!0), _.Cmd.openToast((0, Q.jsx)(q.Toast, {
                            msg: d.fbt._("Couldn't display message info. Try again later.", null, {
                                hk: "mRFf6"
                            }),
                            id: (0, q.genId)("msg_info_failed")
                        }))
                    }));
                    var n = null === (e = P.current) || void 0 === e ? void 0 : e.container;
                    t.type === s.MSG_TYPE.IMAGE && n && (n.scrollTop = n.scrollHeight);
                    var r = T.current;
                    if (r) {
                        var i = E.default.get(t.chat.id),
                            o = null == i ? void 0 : i.cachedDeviceSizeBucket;
                        null != o && (r.sizeBucket = o), Object.assign(r, (0, w.getGroupMetricsFromChatWid)(t.chat.id)), r.markUiActionT(), r.commit(), (0, U.logUiActionShadowPrivateStatsTestEvents)(), T.current = void 0
                    }
                }), []);
                var te, ne = function() {
                    var e;
                    return null === (e = F.current) || void 0 === e ? void 0 : e.getMsgComponentRef()
                };
                (0, h.useListener)(null == V ? void 0 : V.played, ["add", "remove"], n), (0, h.useListener)(null == V ? void 0 : V.read, ["add", "remove"], n), (0, h.useListener)(null == V ? void 0 : V.delivery, ["add", "remove"], n), (0, h.useListener)(t, "remove", (function(e, t) {
                    t === N.MsgCollection && (null == o || o.uie.requestDismiss())
                })), V || J || (te = (0, Q.jsx)("div", {
                    className: I.default.spinner,
                    children: (0, Q.jsx)(W.Spinner, {
                        size: 50,
                        stroke: 4
                    })
                }, "spinner"));
                var ae = function() {
                        var e = [],
                            n = t.type === s.MSG_TYPE.PTT,
                            a = n || t.isViewOnce;
                        if (V && a) {
                            var i = n ? M.SECTIONS.PLAYED_HEADER : M.SECTIONS.VIEWED_HEADER;
                            e.push({
                                kind: "section",
                                type: i,
                                itemKey: i,
                                height: 50
                            }), e.push.apply(e, (0, r.default)(V.played.map((function(e) {
                                return {
                                    participant: e,
                                    kind: "row",
                                    itemKey: e.id.toString(),
                                    height: S.DEFAULT_ITEM_HEIGHT
                                }
                            })))), V.playedRemaining > 0 && (i = n ? M.SECTIONS.PLAYED_FOOTER : M.SECTIONS.VIEWED_FOOTER, e.push({
                                kind: "section",
                                type: i,
                                itemKey: i,
                                height: 50
                            }))
                        }
                        return V && (V.read.length > 0 || V.playedRemaining > 0) && (e.push({
                            kind: "section",
                            type: a ? M.SECTIONS.SEEN_HEADER : M.SECTIONS.READ_HEADER,
                            itemKey: M.SECTIONS.READ_HEADER,
                            height: 50
                        }), e.push.apply(e, (0, r.default)(V.read.map((function(e) {
                            return {
                                participant: e,
                                kind: "row",
                                itemKey: e.id.toString(),
                                height: S.DEFAULT_ITEM_HEIGHT
                            }
                        })))), V.readRemaining > 0 && e.push({
                            kind: "section",
                            type: M.SECTIONS.READ_FOOTER,
                            itemKey: a ? M.SECTIONS.SEEN_FOOTER : M.SECTIONS.READ_FOOTER,
                            height: 50
                        })), V && (V.delivery.length > 0 || V.deliveryRemaining > 0) && (e.push({
                            kind: "section",
                            type: M.SECTIONS.DELIVERED_HEADER,
                            itemKey: M.SECTIONS.DELIVERED_HEADER,
                            height: 50
                        }), e.push.apply(e, (0, r.default)(V.delivery.map((function(e) {
                            return {
                                participant: e,
                                kind: "row",
                                itemKey: e.id.toString(),
                                height: S.DEFAULT_ITEM_HEIGHT
                            }
                        })))), V.deliveryRemaining > 0 && e.push({
                            kind: "section",
                            type: M.SECTIONS.DELIVERED_FOOTER,
                            itemKey: M.SECTIONS.DELIVERED_FOOTER,
                            height: 50
                        })), t.numTimesForwarded > 0 && !t.isFrequentlyForwarded && e.push({
                            kind: "section",
                            type: M.SECTIONS.FORWARD_COUNT,
                            itemKey: M.SECTIONS.FORWARD_COUNT,
                            height: 60
                        }), e
                    }(),
                    re = ae.length ? (0, Q.jsx)(S.FlatList, {
                        flatListController: l.current,
                        direction: "vertical",
                        forceConsistentRenderCount: !1,
                        data: ae,
                        renderItem: function(e) {
                            return (0, Q.jsx)($, {
                                data: e,
                                msg: t,
                                msgInfo: V
                            })
                        }
                    }) : null,
                    ie = null;
                t.labels && t.labels.length > 0 && (0, k.canDisplayLabel)() && (ie = (0, Q.jsx)(b.default, {
                    theme: "padding",
                    children: (0, Q.jsx)(O.default, {
                        labels: t.labels
                    })
                }));
                return (0, Q.jsxs)(x.default, {
                    theme: "striped",
                    children: [(0, Q.jsx)(y.DrawerHeader, {
                        title: A.default.t(610),
                        type: y.DRAWER_HEADER_TYPE.SMALL,
                        rtlFixIfOnDarwin: !0,
                        onCancel: function() {
                            null == o || o.uie.requestDismiss()
                        }
                    }), (0, Q.jsx)(B.default, {
                        ref: P,
                        chatPreference: g.default.assertGet("defaultPreference"),
                        children: (0, Q.jsx)(Y.Wrapper, {
                            msg: t,
                            ref: F,
                            displayType: u.DISPLAY_TYPE.MSG_INFO,
                            isMsgVisible: function(e) {
                                var n = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                                return e === t.id && (!!n || ne())
                            },
                            position: L.MsgPosition.END,
                            onProductClick: e.onProductClick
                        })
                    }), (0, Q.jsxs)(C.default, {
                        flatListControllers: [l.current],
                        children: [ie, te, (0, Q.jsx)("div", {
                            className: I.default.list,
                            children: re
                        })]
                    })]
                }, "message-info-modal")
            };
            var r = a(n(319)),
                i = a(n(63038)),
                o = a(n(272)),
                l = a(n(84646)),
                u = n(44741),
                s = n(40787),
                d = n(48360),
                c = n(67294),
                f = a(n(45764)),
                p = a(n(62905)),
                h = n(91285),
                m = n(50857),
                v = a(n(22190)),
                g = a(n(88549)),
                _ = n(65901),
                x = a(n(53187)),
                C = a(n(18345)),
                y = n(19288),
                b = a(n(46821)),
                S = n(73568),
                j = a(n(92546)),
                k = n(2629),
                E = a(n(52336)),
                w = n(23571),
                T = a(n(50329)),
                I = a(n(42188)),
                P = a(n(31195)),
                M = n(21943),
                O = a(n(16516)),
                A = a(n(9844)),
                L = n(83592),
                D = a(n(50507)),
                N = n(94413),
                R = n(29289),
                F = a(n(76997)),
                B = a(n(80233)),
                U = n(26329),
                G = a(n(62861)),
                H = n(43890),
                W = n(85651),
                V = a(n(7665)),
                z = n(22552),
                q = n(92428),
                K = a(n(93958)),
                Y = n(43026),
                Q = n(85893);

            function X(e) {
                var t = e.msg;
                return H.ServerProps.hfmStringChanges ? null : (0, Q.jsx)("div", {
                    className: I.default.forwardCount,
                    children: (0, Q.jsx)(F.default, {
                        msg: t
                    })
                })
            }

            function Z(e) {
                var t = e.participant;
                return (0, Q.jsx)(T.default, {
                    msgInfoParticipant: t,
                    contact: t.contact,
                    theme: "drawer-list"
                })
            }

            function J(e) {
                var t, n, a = e.section,
                    r = e.msg;
                switch (a) {
                    case M.SECTIONS.PLAYED_HEADER:
                        n = (0, Q.jsx)(V.default, {
                            name: "status-ptt",
                            className: I.default.statusBlue
                        }), t = A.default.t(614);
                        break;
                    case M.SECTIONS.READ_HEADER:
                        n = (0, Q.jsx)(V.default, {
                            name: "status-dblcheck",
                            className: I.default.ack
                        }), t = A.default.t(616);
                        break;
                    case M.SECTIONS.SEEN_HEADER:
                        n = (0, Q.jsx)(V.default, {
                            name: "status-dblcheck",
                            className: I.default.ack
                        }), t = r.isViewOnce ? d.fbt._("Seen by", null, {
                            hk: "3MxARC"
                        }) : d.fbt._("Seen by", null, {
                            hk: "3vzp0U"
                        });
                        break;
                    case M.SECTIONS.DELIVERED_HEADER:
                        n = (0, Q.jsx)(V.default, {
                            name: "status-dblcheck"
                        }), t = A.default.t(612);
                        break;
                    case M.SECTIONS.VIEWED_HEADER:
                        n = (0, Q.jsx)(V.default, {
                            name: "view-once-viewed",
                            className: I.default.statusBlue
                        }), t = d.fbt._("Opened by", null, {
                            hk: "1BkoM7"
                        });
                        break;
                    default:
                        return __LOG__(4, void 0, new Error)`Invalid SECTION for group message info section header`, null
                }
                return n = (0, Q.jsx)("div", {
                    className: I.default.titleIcon,
                    children: n
                }), (0, Q.jsx)("div", {
                    "data-a8n": l.default.key("msg-info-title"),
                    className: I.default.title,
                    children: (0, Q.jsx)(G.default, {
                        side: n,
                        ellipsify: !0,
                        children: (0, Q.jsx)(z.TextSpan, {
                            theme: "section-title",
                            children: t
                        })
                    })
                })
            }

            function $(e) {
                var t = e.data,
                    n = e.msg,
                    a = e.msgInfo;
                if ("row" === t.kind) return (0, Q.jsx)(Z, {
                    participant: t.participant
                }, t.participant.id.toString());
                if (t.type === M.SECTIONS.FORWARD_COUNT) return (0, Q.jsx)(X, {
                    msg: n
                });
                switch (t.type) {
                    case M.SECTIONS.PLAYED_HEADER:
                    case M.SECTIONS.READ_HEADER:
                    case M.SECTIONS.SEEN_HEADER:
                    case M.SECTIONS.DELIVERED_HEADER:
                    case M.SECTIONS.VIEWED_HEADER:
                        return (0, Q.jsx)(J, {
                            msg: n,
                            section: t.type
                        });
                    default:
                        return (0, Q.jsx)(P.default, {
                            section: t.type,
                            msgInfo: (0, o.default)(a, "msgInfo")
                        }, t.type)
                }
            }
        },
        31195: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, n, a, c = (0, i.useModelValues)(e.msgInfo, ["playedRemaining", "readRemaining", "deliveryRemaining"]);
                switch (e.section) {
                    case l.SECTIONS.PLAYED_FOOTER:
                    case l.SECTIONS.VIEWED_FOOTER:
                        t = c.playedRemaining, n = c.playedRemaining;
                        break;
                    case l.SECTIONS.READ_FOOTER:
                    case l.SECTIONS.SEEN_FOOTER:
                        t = c.readRemaining, n = c.readRemaining;
                        break;
                    case l.SECTIONS.DELIVERED_FOOTER:
                        t = c.deliveryRemaining, n = c.deliveryRemaining;
                        break;
                    default:
                        return __LOG__(4, void 0, new Error)`Invalid SECTION for group message info section footer`, null
                }
                if (null == t || 0 === t) return null;
                a = {
                    count: t,
                    _plural: n
                };
                var f = u.default.t(617, a);
                return (0, d.jsx)("div", {
                    "data-a8n": r.default.key("msg-info-remaining"),
                    className: o.default.footer,
                    children: (0, d.jsx)(s.TextSpan, {
                        theme: "muted",
                        children: f
                    })
                })
            };
            var r = a(n(84646)),
                i = n(50857),
                o = a(n(42188)),
                l = n(21943),
                u = a(n(9844)),
                s = n(22552),
                d = n(85893)
        },
        21943: (e, t, n) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.SECTIONS = void 0;
            var a = n(76672).Mirrored(["DELIVERED_FOOTER", "DELIVERED_HEADER", "FORWARD_COUNT", "PLAYED_FOOTER", "PLAYED_HEADER", "READ_FOOTER", "READ_HEADER", "SEEN_FOOTER", "SEEN_HEADER", "VIEWED_FOOTER", "VIEWED_HEADER"]);
            t.SECTIONS = a
        },
        91522: (e, t, n) => {
            "use strict";
            var a = n(21314).default,
                r = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.onClose,
                    n = e.gid,
                    r = e.onSend,
                    k = (0, s.useRef)(null),
                    E = (0, s.useRef)(null),
                    w = (0, s.useState)(u.fbt._("Invitation to join my WhatsApp group", null, {
                        hk: "2WNS77"
                    }).toString()),
                    T = (0, i.default)(w, 2),
                    I = T[0],
                    P = T[1],
                    M = (0, j.jsx)(y.Round, {
                        a8nText: "group-participants-btn",
                        large: !0,
                        onClick: function() {
                            var e;
                            (e = C.ProfilePicThumbCollection.get(n), new a((function(t) {
                                e && e.img ? (0, v.default)(e.img).then((function(e) {
                                    if (e.ok) return e.blob();
                                    t(void 0)
                                })).then((function(e) {
                                    if (e) {
                                        var n = new FileReader;
                                        n.onloadend = function() {
                                            var e = n.result;
                                            if (null != e) {
                                                var a = e.toString().split(",")[1];
                                                t(a)
                                            } else t(void 0)
                                        }, n.readAsDataURL(e)
                                    }
                                })).catch((function() {
                                    return t(void 0)
                                })) : t(void 0)
                            }))).then((function(e) {
                                r(I, e)
                            }))
                        },
                        children: (0, j.jsx)(b.default, {
                            name: "send",
                            directional: !0
                        })
                    }),
                    O = (0, j.jsx)(c.DetailImage, {
                        id: e.gid
                    }),
                    A = (0, j.jsx)(m.EmojiText, {
                        text: e.subject
                    });
                return (0, j.jsx)(_.Modal, {
                    type: _.ModalTheme.Invite,
                    children: (0, j.jsxs)(f.default, {
                        theme: "invite",
                        children: [(0, j.jsx)(h.DrawerHeader, {
                            type: h.DRAWER_HEADER_TYPE.POPUP,
                            title: u.fbt._("Send invite to...", null, {
                                hk: "2Yaa3P"
                            }),
                            onCancel: function() {
                                t()
                            }
                        }), (0, j.jsxs)(p.default, {
                            children: [(0, j.jsx)("div", {
                                className: g.default.search,
                                children: (0, j.jsx)("div", {
                                    "data-list-scroll-container": !0,
                                    children: (0, j.jsx)(x.default, {
                                        ref: k,
                                        theme: "list-names",
                                        contacts: e.participants.map((function(e) {
                                            return e.contact
                                        }))
                                    })
                                })
                            }), (0, j.jsx)("div", {
                                className: g.default.commentInput,
                                children: (0, j.jsx)(S.TextInput, {
                                    a8n: "groups-v4-invite-add-comment-input",
                                    ref: E,
                                    value: I,
                                    showRemaining: !0,
                                    maxLength: o.default.MAX_CAPTION_LENGTH,
                                    onChange: function(e) {
                                        P(e)
                                    },
                                    theme: "v4-invite-caption",
                                    supportsEmoji: !0
                                })
                            }), (0, j.jsx)(l.default, {
                                transitionName: "btn",
                                className: g.default.onSendInvite,
                                children: M
                            }), (0, j.jsx)("div", {
                                className: g.default.groupInfo,
                                children: (0, j.jsx)(d.default, {
                                    idle: !0,
                                    image: O,
                                    primary: A,
                                    secondary: u.fbt._("WhatsApp group invite", null, {
                                        hk: "Yox1t"
                                    }),
                                    theme: "group_v4_invite"
                                })
                            })]
                        })]
                    })
                })
            };
            var i = r(n(63038)),
                o = r(n(3208)),
                l = r(n(65668)),
                u = n(48360),
                s = n(67294),
                d = r(n(88186)),
                c = n(66834),
                f = r(n(53187)),
                p = r(n(18345)),
                h = n(19288),
                m = n(73008),
                v = r(n(99282)),
                g = r(n(19685)),
                _ = n(73454),
                x = r(n(98755)),
                C = n(30194),
                y = n(80385),
                b = r(n(7665)),
                S = n(68544),
                j = n(85893)
        },
        50504: (e, t, n) => {
            "use strict";
            var a = n(21314).default,
                r = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(n(63038)),
                o = r(n(63105)),
                l = r(n(35161)),
                u = n(45121),
                s = r(n(82309)),
                d = n(67294),
                c = r(n(1323)),
                f = r(n(62905)),
                p = n(97397),
                h = n(75993),
                m = r(n(9844)),
                v = r(n(41502)),
                g = r(n(18894)),
                _ = n(85893);

            function x(e) {
                var t, n, a = e.subtitle,
                    r = e.active,
                    i = e.chat,
                    o = e.onClick,
                    l = "boolean" != typeof a;
                return l && (t = a, n = "group-modal"), (0, _.jsx)(p.Chat, {
                    chat: i,
                    contact: i.contact,
                    mode: p.Mode.INFO,
                    active: r,
                    secondary: t,
                    noContext: !0,
                    theme: n,
                    onClick: l ? void 0 : o.bind(null, i)
                })
            }

            function C(e, t) {
                var r = e.onCancel,
                    C = e.chats,
                    y = e.filter,
                    b = void 0 === y ? function() {
                        return !0
                    } : y,
                    S = e.onGroup,
                    j = (0, f.default)((function() {
                        return new g.default([], (function(e) {
                            return e
                        }))
                    })),
                    k = (0, d.useState)(!0),
                    E = (0, i.default)(k, 2),
                    w = E[0],
                    T = E[1],
                    I = (0, d.useState)(void 0),
                    P = (0, i.default)(I, 2),
                    M = P[0],
                    O = P[1];
                (0, d.useEffect)((function() {
                    (0, u.delayMs)(300).then((function() {
                        return a.all((0, l.default)((0, o.default)(C, (function(e) {
                            var t;
                            return null === (t = e.groupMetadata) || void 0 === t ? void 0 : t.stale
                        })), (function(e) {
                            var t;
                            return n(52336).default.update(null === (t = e.groupMetadata) || void 0 === t ? void 0 : t.id).catch((function() {}))
                        })))
                    })).then((function() {
                        return T(!1)
                    }))
                }), []);
                var A = (0, c.default)(O, 100),
                    L = w ? (0, _.jsx)(h.Loading, {}) : (0, _.jsx)(h.SearchGroups, {});
                return (0, _.jsx)(v.default, {
                    title: m.default.t(926),
                    data: function() {
                        if (w) return [];
                        var e = m.default.accentFold(M),
                            t = (0, s.default)(e),
                            n = C.filter((function(n) {
                                return b(n) && (!e || e && n.contact.searchMatch(e, t))
                            }));
                        return j.current.init(n.filter((function(e) {
                            return !0 === b(e)
                        })).map((function(e) {
                            return e.id
                        }))), n.map((function(e) {
                            return {
                                chat: e,
                                itemKey: e.id.toString()
                            }
                        }))
                    }(),
                    renderItem: function(e) {
                        var t = e.chat;
                        return (0, _.jsx)(x, {
                            chat: t,
                            subtitle: b(t),
                            active: j.current,
                            onClick: S
                        })
                    },
                    emptyState: L,
                    selection: j.current,
                    onCancel: r,
                    onSearch: A,
                    onSelect: function(e, t) {
                        if (t instanceof p.Mode) {
                            var n = t.props.chat;
                            !0 === b(n) && S(t.props.chat)
                        }
                    },
                    ref: t,
                    searchPlaceholder: m.default.t(728)
                })
            }
            var y = (0, d.forwardRef)(C);
            t.default = y
        },
        97437: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = (0, l.useRef)(-1),
                    n = (0, l.useRef)(!1),
                    a = function(e, a) {
                        (0, C.logSessionEvent)(e, t.current, a), n.current = !0
                    };
                (0, l.useEffect)((function() {
                    return t.current = performance.now(), s.AssetLoader.loadAsset(E, s.LOAD_PRIORITY.HELP_ANIMATED_DOODLE),
                        function() {
                            n.current || a(y.default.CONTACT_US_EXIT_STATE.CANCELLED)
                        }
                }), []);
                var u, w = function() {
                        a(y.default.CONTACT_US_EXIT_STATE.PROBLEM_DESCRIPTION)
                    },
                    T = function(e) {
                        a(y.default.CONTACT_US_EXIT_STATE.EMAIL_SEND, e)
                    },
                    I = function() {};
                i.UA.isElectron && (u = (0, k.jsx)(h.default, {
                    a8nText: "li-licenses",
                    onClick: function() {
                        d.Cmd.openModal((0, k.jsx)(x.LicensesPopupLoadable, {
                            onOk: I
                        }))
                    },
                    icon: (0, k.jsx)(b.default, {
                        name: "settings-document",
                        height: 24
                    }),
                    children: o.fbt._("Licenses", null, {
                        hk: "39PWhp"
                    })
                }));
                return (0, k.jsxs)(f.default, {
                    children: [(0, k.jsx)(m.DrawerHeader, {
                        a8n: "drawer-title-help",
                        title: _.default.t(520),
                        onBack: e.onClose,
                        type: m.DRAWER_HEADER_TYPE.LARGE
                    }), (0, k.jsxs)(p.default, {
                        children: [(0, k.jsx)("div", {
                            className: g.default.animation
                        }), (0, k.jsx)(j.default, {
                            className: g.default.versionInfo
                        }), (0, k.jsx)(h.default, {
                            a8nText: "li-faq",
                            icon: (0, k.jsx)(b.default, {
                                name: "settings-help"
                            }),
                            onClick: function() {
                                (0, v.openExternalLink)((0, r.getFaqUrl)()), a(y.default.CONTACT_US_EXIT_STATE.FAQ)
                            },
                            children: o.fbt._("Help Center", null, {
                                hk: "22rPCE"
                            })
                        }), (0, k.jsx)(h.default, {
                            a8nText: "li-contact-us",
                            icon: (0, k.jsx)(b.default, {
                                name: "group"
                            }),
                            onClick: function() {
                                d.Cmd.openModal((0, k.jsx)(c.default, {
                                    onCancel: w,
                                    onSend: T
                                }))
                            },
                            children: _.default.t(754)
                        }), u, (0, k.jsx)(h.default, {
                            a8nText: "li-tos",
                            icon: (0, k.jsx)(b.default, {
                                name: "settings-document",
                                height: 24
                            }),
                            onClick: function() {
                                n.current = !0, (0, v.openExternalLink)((0, S.getTosUrl)())
                            },
                            children: o.fbt._("Terms and Privacy Policy", null, {
                                hk: "y6imq"
                            })
                        }), undefined, undefined]
                    })]
                })
            };
            var r = n(8917),
                i = n(10253),
                o = n(48360),
                l = n(67294),
                u = a(n(68971)),
                s = n(52423),
                d = n(65901),
                c = a(n(94779)),
                f = a(n(53187)),
                p = a(n(18345)),
                h = a(n(61876)),
                m = n(19288),
                v = n(49012),
                g = a(n(7078)),
                _ = a(n(9844)),
                x = n(3473),
                C = n(77839),
                y = a(n(50507)),
                b = a(n(7665)),
                S = n(92909),
                j = a(n(68605)),
                k = n(85893),
                E = {
                    id: "animated-doodle",
                    selectors: [`.${g.default.animation}`],
                    low: {
                        default: u.default
                    },
                    high: {
                        default: u.default
                    }
                }
        },
        22366: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.search = function() {
                return v.apply(this, arguments)
            };
            var r = a(n(87757)),
                i = a(n(48926)),
                o = a(n(10646)),
                l = a(n(44843)),
                u = function(e, t) {
                    if (!t && e && e.__esModule) return e;
                    if (null === e || "object" != typeof e && "function" != typeof e) return {
                        default: e
                    };
                    var n = d(t);
                    if (n && n.has(e)) return n.get(e);
                    var a = {},
                        r = Object.defineProperty && Object.getOwnPropertyDescriptor;
                    for (var i in e)
                        if ("default" !== i && Object.prototype.hasOwnProperty.call(e, i)) {
                            var o = r ? Object.getOwnPropertyDescriptor(e, i) : null;
                            o && (o.get || o.set) ? Object.defineProperty(a, i, o) : a[i] = e[i]
                        } a.default = e, n && n.set(e, a);
                    return a
                }(n(8924)),
                s = a(n(9844));

            function d(e) {
                if ("function" != typeof WeakMap) return null;
                var t = new WeakMap,
                    n = new WeakMap;
                return (d = function(e) {
                    return e ? n : t
                })(e)
            }
            var c = "https://www.bingapis.com/api/v6/images/search",
                f = "D41D8CD98F00B204E9800998ECF8427E4F4A7492",
                p = "Square",
                h = "Medium",
                m = {
                    ar: "ar-SA",
                    da: "da-DK",
                    de: "de-DE",
                    en: "en-US",
                    es: "es-US",
                    fi: "fi-FI",
                    fr: "fr-FR",
                    it: "it-IT",
                    ko: "ko-KR",
                    nl: "nl-NL",
                    pl: "pl-PL",
                    "pt-BR": "pt-BR",
                    ru: "ru-RU",
                    sv: "sv-SE",
                    tr: "tr-TR",
                    "zh-CN": "zh-CN",
                    "zh-TW": "zh-TW",
                    "zh-HK": "zh-HK"
                };

            function v() {
                return (v = (0, i.default)(r.default.mark((function e(t, n) {
                    var a, i, d, v, g, _ = arguments;
                    return r.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                return a = _.length > 2 && void 0 !== _[2] ? _[2] : 30, i = {
                                    q: t,
                                    SafeSearch: "Strict",
                                    appid: f,
                                    mkt: m[s.default.getLocale()] || m.en,
                                    size: h,
                                    aspect: p,
                                    count: a,
                                    offset: n
                                }, d = o.default.build(c, i), e.next = 5, l.default.get(d, l.default.RESP_TYPE.JSON);
                            case 5:
                                if ((v = e.sent).response.hasOwnProperty("_type")) {
                                    e.next = 8;
                                    break
                                }
                                throw new u.InvalidServerResponseError(d, status, `Not a valid Bing response: ${JSON.stringify(v.response)}`);
                            case 8:
                                if ("ErrorResponse" !== v.response._type) {
                                    e.next = 11;
                                    break
                                }
                                throw g = v.response, new u.BingServerError(t, v.status, g);
                            case 11:
                                if ("Images" === v.response._type) {
                                    e.next = 13;
                                    break
                                }
                                throw new u.InvalidServerResponseError(d, status, `Did not receive an image search response, potentially malformed query ${JSON.stringify(v.response)}`);
                            case 13:
                                return e.abrupt("return", v.response);
                            case 14:
                            case "end":
                                return e.stop()
                        }
                    }), e)
                })))).apply(this, arguments)
            }
        },
        79054: (e, t, n) => {
            "use strict";
            var a = n(6089).default,
                r = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, n = e.onImageSelected,
                    r = (0, x.default)(),
                    D = (0, g.useRef)(null),
                    N = (0, g.useRef)(null),
                    R = (0, g.useRef)(null),
                    F = (0, g.useRef)(!1),
                    B = (0, g.useRef)(null),
                    U = (0, g.useState)({}),
                    G = (0, i.default)(U, 2),
                    H = G[0],
                    W = G[1],
                    V = (0, g.useState)(!1),
                    z = (0, i.default)(V, 2),
                    q = z[0],
                    K = z[1],
                    Y = (0, g.useState)(0),
                    Q = (0, i.default)(Y, 2),
                    X = Q[0],
                    Z = Q[1],
                    J = (0, g.useState)(""),
                    $ = (0, i.default)(J, 2),
                    ee = $[0],
                    te = $[1],
                    ne = (0, g.useState)([]),
                    ae = (0, i.default)(ne, 2),
                    re = ae[0],
                    ie = ae[1],
                    oe = (0, g.useState)(0),
                    le = (0, i.default)(oe, 2),
                    ue = le[0],
                    se = le[1],
                    de = (0, _.default)((function(e, t) {
                        F.current = !1;
                        var n = new a,
                            r = C.search(e, t).then((function(t) {
                                var a;
                                if (n.signal.aborted) throw new s.AbortError;
                                r === (null === (a = B.current) || void 0 === a ? void 0 : a.promise) && (! function(e, t) {
                                    var n, a, r = (0, u.default)(t.value, (function(e) {
                                            return e.thumbnailUrl
                                        })),
                                        i = (0, l.default)(t.value, (function(e) {
                                            return {
                                                id: e.imageId,
                                                name: e.name,
                                                thumbUrl: e.thumbnailUrl
                                            }
                                        })),
                                        s = t.value.length;
                                    ee === e ? (Z(t.nextOffset ? t.nextOffset : X + s), ie((0, o.default)(re, i)), se(null !== (n = t.totalEstimatedMatches) && void 0 !== n ? n : 0), W(Object.assign(r, H))) : (W(r), Z(t.nextOffset ? t.nextOffset : X + s), te(ee), ie(i), se(null !== (a = t.totalEstimatedMatches) && void 0 !== a ? a : 0))
                                }(e, t), K(!1))
                            })).catch((0, s.catchAbort)((function() {}))).catch((function() {
                                var e;
                                __LOG__(3, !0)`Image search failed`, y.Cmd.openToast((0, L.jsx)(O.Toast, {
                                    msg: v.fbt._("Image search failed", null, {
                                        hk: "9pHyN"
                                    }),
                                    id: (0, O.genId)()
                                })), r === (null === (e = B.current) || void 0 === e ? void 0 : e.promise) && K(!1)
                            })).finally((function() {
                                var e;
                                r === (null === (e = B.current) || void 0 === e ? void 0 : e.promise) && (B.current = null)
                            }));
                        B.current = {
                            promise: r,
                            controller: n
                        }, K(!0)
                    }), 750),
                    ce = function() {
                        de.cancel(), F.current && (F.current = !1), B.current && B.current.controller.abort()
                    },
                    fe = function() {
                        W({}), K(!1), Z(0), te(""), ie([]), se(0)
                    },
                    pe = function(e) {
                        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
                        F.current = !0, de(e, t)
                    },
                    he = j.DRAWER_HEADER_TYPE.POPUP;
                t = 0 === re.length ? q ? (0, L.jsx)(k.SearchingImages, {}) : ee ? (0, L.jsx)(k.ImageSearchEmpty, {}) : (0, L.jsx)(k.BeforeImageSearch, {}) : (0, L.jsx)(I.default, {
                    ref: R,
                    canLoadMore: X < ue,
                    isLoadingMore: q,
                    thumbnails: re,
                    onFocusPrev: function() {
                        f.default.shouldIndicateFocus(), p.default.focus(D.current)
                    },
                    onImageClick: function(e) {
                        var t = H[e];
                        if (t) {
                            var a, i = t.contentUrl;
                            if (m.UA.isElectron) a = (0, M.default)((function() {
                                return (0, E.default)(i)
                            })).then((function(e) {
                                if (200 !== e.status) throw new h.ServerStatusError(null, i, e.status);
                                return e.blob()
                            }));
                            else {
                                if ((0, c.isMDBackend)()) throw new Error("This call is only supported in non-MD mode");
                                a = A.default.downloadImage(i)
                            }
                            a.then((function(e) {
                                if (!r.aborted) {
                                    if (!(e instanceof Blob)) throw new h.ImageError("Server did not respond with image bytes", i);
                                    n(e, t.hostPageUrl)
                                }
                            })).catch((function() {
                                __LOG__(3, !0)`Image search failed`, y.Cmd.openToast((0, L.jsx)(O.Toast, {
                                    msg: v.fbt._("Failed to load image", null, {
                                        hk: "1k5xX"
                                    }),
                                    id: (0, O.genId)()
                                }))
                            }))
                        }
                    },
                    onRequestMoreImages: function() {
                        F.current || B.current || !ue || X >= ue || pe(ee, X)
                    }
                });
                return (0, L.jsxs)(b.default, {
                    children: [(0, L.jsx)(j.DrawerHeader, {
                        title: v.fbt._("Image Search", null, {
                            hk: "p4JUz"
                        }),
                        type: he,
                        onBack: e.onBack,
                        onCancel: e.onCancel
                    }), (0, L.jsxs)(S.default, {
                        children: [(0, L.jsx)(T.HotKeys, {
                            ref: N,
                            handlers: {
                                down: function(e) {
                                    e.repeat || R.current && D.current && D.current.cursorIsAtEnd() && (e.preventDefault(), e.stopPropagation(), f.default.shouldIndicateFocus(), null != R.current && p.default.focus(R.current))
                                }
                            },
                            onFocus: function() {
                                f.default.maybeIndicateFocus(N.current)
                            },
                            children: (0, L.jsx)(P.default, {
                                ref: D,
                                placeholder: v.fbt._("Enter search term here", null, {
                                    hk: "sgCKx"
                                }),
                                onSearch: function(e) {
                                    var t = (e || "").trim();
                                    if (!t) return ce(), void fe();
                                    (0, d.numCodepoints)(t) < w.FTS_MIN_CHARS || t !== ee && (ce(), fe(), pe(t))
                                },
                                loading: q
                            })
                        }), t]
                    })]
                })
            };
            var i = r(n(63038)),
                o = r(n(57043)),
                l = r(n(35161)),
                u = r(n(24350)),
                s = n(396),
                d = n(27767),
                c = n(78577),
                f = r(n(22060)),
                p = r(n(11845)),
                h = N(n(8924)),
                m = n(10253),
                v = n(48360),
                g = n(67294),
                _ = r(n(1323)),
                x = r(n(22190)),
                C = N(n(22366)),
                y = n(65901),
                b = r(n(53187)),
                S = r(n(18345)),
                j = n(19288),
                k = n(75993),
                E = r(n(99282)),
                w = n(29322),
                T = n(32012),
                I = r(n(5282)),
                P = r(n(17094)),
                M = r(n(78984)),
                O = n(92428),
                A = r(n(54270)),
                L = n(85893);

            function D(e) {
                if ("function" != typeof WeakMap) return null;
                var t = new WeakMap,
                    n = new WeakMap;
                return (D = function(e) {
                    return e ? n : t
                })(e)
            }

            function N(e, t) {
                if (!t && e && e.__esModule) return e;
                if (null === e || "object" != typeof e && "function" != typeof e) return {
                    default: e
                };
                var n = D(t);
                if (n && n.has(e)) return n.get(e);
                var a = {},
                    r = Object.defineProperty && Object.getOwnPropertyDescriptor;
                for (var i in e)
                    if ("default" !== i && Object.prototype.hasOwnProperty.call(e, i)) {
                        var o = r ? Object.getOwnPropertyDescriptor(e, i) : null;
                        o && (o.get || o.set) ? Object.defineProperty(a, i, o) : a[i] = e[i]
                    } return a.default = e, n && n.set(e, a), a
            }
        },
        78984: (e, t, n) => {
            "use strict";
            var a = n(21314).default,
                r = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                return (0, s.promiseLoop)(function() {
                    var t = (0, o.default)(i.default.mark((function t(n, a, r) {
                        var o, l;
                        return i.default.wrap((function(t) {
                            for (;;) switch (t.prev = t.next) {
                                case 0:
                                    return o = (0, u.delayMs)(f.expBackoff(r, 6e4, void 0, .1)), t.prev = 1, t.next = 4, m();
                                case 4:
                                    return t.next = 6, e();
                                case 6:
                                    if (!((l = t.sent).status >= 500 && l.status < 600)) {
                                        t.next = 9;
                                        break
                                    }
                                    return t.abrupt("return", o);
                                case 9:
                                    n(l), t.next = 15;
                                    break;
                                case 12:
                                    return t.prev = 12, t.t0 = t.catch(1), t.abrupt("return", o);
                                case 15:
                                case "end":
                                    return t.stop()
                            }
                        }), t, null, [
                            [1, 12]
                        ])
                    })));
                    return function() {
                        return t.apply(this, arguments)
                    }
                }())
            };
            var i = r(n(87757)),
                o = r(n(48926)),
                l = r(n(6410)),
                u = n(45121),
                s = n(33219),
                d = n(1146),
                c = r(n(79632)),
                f = function(e, t) {
                    if (!t && e && e.__esModule) return e;
                    if (null === e || "object" != typeof e && "function" != typeof e) return {
                        default: e
                    };
                    var n = h(t);
                    if (n && n.has(e)) return n.get(e);
                    var a = {},
                        r = Object.defineProperty && Object.getOwnPropertyDescriptor;
                    for (var i in e)
                        if ("default" !== i && Object.prototype.hasOwnProperty.call(e, i)) {
                            var o = r ? Object.getOwnPropertyDescriptor(e, i) : null;
                            o && (o.get || o.set) ? Object.defineProperty(a, i, o) : a[i] = e[i]
                        } a.default = e, n && n.set(e, a);
                    return a
                }(n(21661)),
                p = n(74950);

            function h(e) {
                if ("function" != typeof WeakMap) return null;
                var t = new WeakMap,
                    n = new WeakMap;
                return (h = function(e) {
                    return e ? n : t
                })(e)
            }

            function m() {
                return p.Socket.state === d.SOCKET_STATE.CONNECTED ? a.resolve() : (0, c.default)(p.Socket, "change:state", (0, l.default)({
                    state: d.SOCKET_STATE.CONNECTED
                }))
            }
        },
        51657: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function() {
                var e = (t = h.ServerProps.pttPlaybackSpeedEnabled ? g : [], [
                    [f.default.t(651), l.default.TOGGLE_UNREAD],
                    [f.default.t(661), l.default.TOGGLE_MUTE],
                    [f.default.t(643), l.default.TOGGLE_ARCHIVE],
                    [f.default.t(646), l.default.DELETE_OR_EXIT_CHAT],
                    [o.fbt._("Pin Chat", null, {
                        hk: "3l6ovX"
                    }), l.default.TOGGLE_PIN],
                    [o.fbt._("Search", null, {
                        hk: "3CChip"
                    }), l.default.SEARCH],
                    [o.fbt._("Search Chat", null, {
                        hk: "eUGKg"
                    }), l.default.SEARCH_IN_CHAT],
                    [f.default.t(662), l.default.OPEN_NEW_CHAT],
                    [f.default.t(655), l.default.GO_TO_NEXT_CHAT],
                    [f.default.t(656), l.default.GO_TO_PREV_CHAT],
                    [f.default.t(663), l.default.OPEN_NEW_GROUP],
                    [f.default.t(664), l.default.OPEN_PROFILE]
                ].concat((0, i.default)(t), [
                    [f.default.t(602), l.default.OPEN_SETTINGS],
                    [o.fbt._("Emoji Panel", null, {
                        hk: "2sDpHl"
                    }), l.default.OPEN_EMOJI_PANEL],
                    [o.fbt._("Gif Panel", null, {
                        hk: "28HQaF"
                    }), l.default.OPEN_GIF_PANEL],
                    [o.fbt._("Sticker Panel", null, {
                        hk: "4y6bgb"
                    }), l.default.OPEN_STICKER_PANEL]
                ])).map((function(e, t) {
                    var n = (0, r.default)(e, 3),
                        a = n[0],
                        i = n[1],
                        o = n[2],
                        l = void 0 === o || o,
                        u = (0, v.jsx)(d.KeyboardShortcut, {
                            action: i,
                            addModifiers: l
                        });
                    if (u) return (0, v.jsxs)("div", {
                        className: c.default.section,
                        children: [(0, v.jsx)("div", {
                            className: c.default.action,
                            title: a,
                            children: a
                        }), (0, v.jsx)("div", {
                            className: c.default.shortcut,
                            children: u
                        })]
                    }, t)
                }));
                var t;
                return (0, v.jsx)(s.default, {
                    onOK: function() {
                        u.Cmd.closeModal()
                    },
                    okText: o.fbt._("OK", null, {
                        hk: "2KEeHb"
                    }),
                    type: p.ModalTheme.Flex,
                    children: (0, v.jsxs)("div", {
                        className: c.default.container,
                        children: [(0, v.jsx)(m.TextSpan, {
                            theme: "popup-title",
                            children: o.fbt._("Keyboard shortcuts", null, {
                                hk: "1uFFXP"
                            })
                        }), (0, v.jsx)("div", {
                            className: c.default.list,
                            children: e
                        })]
                    })
                })
            };
            var r = a(n(63038)),
                i = a(n(319)),
                o = n(48360),
                l = a(n(9747)),
                u = n(65901),
                s = a(n(86777)),
                d = n(88175),
                c = a(n(38899)),
                f = a(n(9844)),
                p = n(73454),
                h = n(43890),
                m = n(22552),
                v = n(85893),
                g = [
                    [o.fbt._("Increase Speed of Selected Voice Message", null, {
                        hk: "YQPbc"
                    }), l.default.INCREASE_PTT_SPEED, !1],
                    [o.fbt._("Decrease Speed of Selected Voice Message", null, {
                        hk: "uHTZ8"
                    }), l.default.DECREASE_PTT_SPEED, !1]
                ]
        },
        46039: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, a, h = e.onOk,
                    m = (0, o.useState)(void 0),
                    v = (0, r.default)(m, 2),
                    g = v[0],
                    _ = v[1];
                (0, o.useEffect)((function() {
                    n.e(9223).then(n.bind(n, 88221)).catch((function() {
                        return null
                    })).then((function(e) {
                        _(null == e ? void 0 : e.default)
                    }))
                }), []), g || (t = (0, p.jsx)("div", {
                    className: s.default.spinner,
                    children: (0, p.jsx)(c.Spinner, {
                        size: 50,
                        stroke: 4
                    })
                }, "spinner"));
                g && (a = (0, p.jsx)("div", {
                    className: s.default.textContainer,
                    children: g
                }));
                return (0, p.jsx)(u.default, {
                    okText: i.fbt._("OK", null, {
                        hk: "2KEeHb"
                    }),
                    onOK: function() {
                        null == h || h(), l.Cmd.closeModal()
                    },
                    type: d.ModalTheme.Flex,
                    children: (0, p.jsxs)("div", {
                        className: s.default.container,
                        children: [(0, p.jsx)(f.TextSpan, {
                            theme: "popup-title",
                            children: i.fbt._("Licenses", null, {
                                hk: "39PWhp"
                            })
                        }), a, t]
                    })
                })
            };
            var r = a(n(63038)),
                i = n(48360),
                o = n(67294),
                l = n(65901),
                u = a(n(86777)),
                s = a(n(43588)),
                d = n(73454),
                c = n(85651),
                f = n(22552),
                p = n(85893)
        },
        42154: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.ID_SEPARATOR = t.Cluster = void 0;
            var r = a(n(319)),
                i = a(n(34575)),
                o = a(n(93913)),
                l = a(n(92810)),
                u = n(10532);
            t.ID_SEPARATOR = ",";
            var s = function() {
                function e() {
                    var t = this;
                    (0, i.default)(this, e), this.participants = new l.default;
                    for (var n = arguments.length, a = new Array(n), r = 0; r < n; r++) a[r] = arguments[r];
                    a.forEach((function(e) {
                        return t.add(e)
                    }))
                }
                return (0, o.default)(e, [{
                    key: "id",
                    get: function() {
                        return this.participants.map((function(e) {
                            return e.id.toString()
                        })).join(",")
                    }
                }, {
                    key: "center",
                    get: function() {
                        var e = this.participants.map((function(e) {
                                return e.lat
                            })),
                            t = this.participants.map((function(e) {
                                return e.lng
                            }));
                        return {
                            lat: (Math.min.apply(Math, (0, r.default)(e)) + Math.max.apply(Math, (0, r.default)(e))) / 2,
                            lng: (Math.min.apply(Math, (0, r.default)(t)) + Math.max.apply(Math, (0, r.default)(t))) / 2
                        }
                    }
                }, {
                    key: "lat",
                    get: function() {
                        return this.center.lat
                    }
                }, {
                    key: "lng",
                    get: function() {
                        return this.center.lng
                    }
                }, {
                    key: "length",
                    get: function() {
                        return this.participants.length
                    }
                }, {
                    key: "northeast",
                    get: function() {
                        var e = this.participants.map((function(e) {
                                return e.lat
                            })),
                            t = this.participants.map((function(e) {
                                return e.lng
                            }));
                        return {
                            lat: Math.max.apply(Math, (0, r.default)(e)),
                            lng: Math.max.apply(Math, (0, r.default)(t))
                        }
                    }
                }, {
                    key: "southwest",
                    get: function() {
                        var e = this.participants.map((function(e) {
                                return e.lat
                            })),
                            t = this.participants.map((function(e) {
                                return e.lng
                            }));
                        return {
                            lat: Math.min.apply(Math, (0, r.default)(e)),
                            lng: Math.min.apply(Math, (0, r.default)(t))
                        }
                    }
                }, {
                    key: "add",
                    value: function(e) {
                        this.participants.add(e)
                    }
                }, {
                    key: "hasSingleParticipant",
                    value: function() {
                        return 1 === this.length
                    }
                }, {
                    key: "fits",
                    value: function(e, t, n) {
                        var a = this.center,
                            r = a.lat,
                            i = a.lng,
                            o = e.lat,
                            l = e.lng,
                            s = (0, u.getMetersBetweenLatLngs)(r, i, r, l),
                            d = (0, u.getMetersBetweenLatLngs)(r, i, o, i),
                            c = (0, u.getMetersPerPixel)(r, t);
                        return s / c <= n && d / c <= n
                    }
                }]), e
            }();
            t.Cluster = s
        },
        45080: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.onParticipantSelected,
                    n = e.participants,
                    a = (0, r.default)((function() {
                        return new d.default
                    }));
                return (0, m.jsxs)("div", {
                    className: i.default.container,
                    children: [(0, m.jsxs)("div", {
                        className: i.default.header,
                        children: [(0, m.jsx)("div", {
                            className: i.default.left,
                            children: (0, m.jsx)("span", {
                                className: i.default.close,
                                onClick: e.onClearSelected,
                                children: (0, m.jsx)(p.default, {
                                    name: "x"
                                })
                            })
                        }), (0, m.jsx)("div", {
                            className: i.default.right,
                            children: c.default.t(551, {
                                count: e.participants.length,
                                _plural: e.participants.length
                            })
                        })]
                    }), (0, m.jsx)(s.default, {
                        className: i.default.list,
                        flatListControllers: [a.current],
                        children: (0, m.jsx)(u.FlatList, {
                            data: n.map((function(e) {
                                return {
                                    itemKey: e.id.toString(),
                                    participant: e
                                }
                            })),
                            flatListController: a.current,
                            direction: "vertical",
                            defaultItemHeight: 48,
                            renderItem: function(e) {
                                var n = e.participant;
                                return (0, m.jsx)(v, {
                                    participant: n,
                                    onClick: function() {
                                        return t(n.contact.id.toString())
                                    }
                                })
                            }
                        })
                    })]
                })
            };
            var r = a(n(62905)),
                i = a(n(25075)),
                o = n(66834),
                l = a(n(67049)),
                u = n(73568),
                s = a(n(23803)),
                d = a(n(92546)),
                c = a(n(9844)),
                f = n(1191),
                p = a(n(7665)),
                h = a(n(60880)),
                m = n(85893);

            function v(e) {
                var t = e.onClick,
                    n = e.participant,
                    a = n.isMe ? (0, m.jsx)("div", {
                        className: i.default.time,
                        children: (0, m.jsx)(l.default, {
                            reason: "live-location-time",
                            children: (0, m.jsx)(h.default, {
                                participant: n
                            })
                        })
                    }) : null;
                return (0, m.jsxs)("div", {
                    className: i.default.item,
                    onClick: t,
                    children: [(0, m.jsx)("div", {
                        className: i.default.left,
                        children: (0, m.jsx)(o.DetailImage, {
                            id: n.contact.id,
                            size: 28
                        })
                    }), (0, m.jsxs)("div", {
                        className: i.default.right,
                        children: [(0, m.jsx)("div", {
                            className: i.default.name,
                            children: (0, m.jsx)(f.Name, {
                                contact: n.contact,
                                titlify: !0,
                                ellipsify: !0,
                                you: !0
                            })
                        }), a]
                    })]
                })
            }
        },
        93139: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.cluster = function(e, t, n, a) {
                var o = new Map;
                if (!e.length) return o;
                for (var l = e.filter((function(e) {
                        return e !== n
                    })).sort((function(e, t) {
                        return e.lat - t.lat
                    })), u = function(e) {
                        var n = l[e],
                            u = void 0;
                        if (o.forEach((function(e) {
                                !u && e.fits(n, t, a) && (u = e)
                            })), u) {
                            var s = u,
                                d = u.id;
                            o.delete(d), s.add(n)
                        } else u = new i.Cluster(n);
                        o.set((0, r.default)(u, "clusterToAdd").id, (0, r.default)(u, "clusterToAdd"))
                    }, s = 0; s < l.length; s++) u(s);
                if (n && e.length !== l.length) {
                    var d = new i.Cluster(n);
                    o.set(d.id, d)
                }
                return o
            }, t.findClusterForParticipant = function(e, t) {
                var n, a = e.values();
                for (;
                    (n = a.next()) && !n.done;) {
                    var r = n.value;
                    if (r.participants.get(t)) return r
                }
                return null
            }, t.participantInCluster = function(e, t) {
                return e.split(i.ID_SEPARATOR).includes(t.toString())
            }, t.singleParticipantClusterId = function(e) {
                return !e.includes(i.ID_SEPARATOR)
            };
            var r = a(n(272)),
                i = n(42154)
        },
        28871: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.STALE_THRESHOLD = t.PIN_SIZE = t.MARKER_SIZE = t.IMAGE_SIZE = t.IMAGE_BORDER_SIZE = t.GLOW_SIZE = t.AVATAR_SIZE = void 0, t.getSmallestElapsedTime = i, t.isStale = function(e) {
                return i(e) >= 600
            };
            var r = a(n(319));
            t.STALE_THRESHOLD = 600;
            t.IMAGE_SIZE = 40;
            t.IMAGE_BORDER_SIZE = 2;
            t.GLOW_SIZE = 4;
            t.PIN_SIZE = 4;
            t.AVATAR_SIZE = 44;

            function i(e) {
                var t = e.participants.map((function(e) {
                    return e.elapsedTime()
                }));
                return Math.min.apply(Math, (0, r.default)(t))
            }
            t.MARKER_SIZE = 52
        },
        70533: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(34575)),
                i = a(n(93913)),
                o = a(n(2205)),
                l = a(n(99842)),
                u = n(73466),
                s = a(n(71613)),
                d = n(48360),
                c = n(67294),
                f = a(n(53187)),
                p = a(n(18345)),
                h = n(19288),
                m = a(n(93531)),
                v = a(n(55878)),
                g = a(n(9844)),
                _ = n(63641),
                x = a(n(68660)),
                C = n(95313),
                y = a(n(33416)),
                b = a(n(61897)),
                S = a(n(7665)),
                j = n(85893),
                k = function(e) {
                    (0, o.default)(n, e);
                    var t = (0, l.default)(n);

                    function n(e) {
                        var a;
                        return (0, r.default)(this, n), (a = t.call(this, e))._handleClose = function() {
                            a.props.onClose ? a.props.onClose() : a.props.uim.uie.requestDismiss()
                        }, a._handleRoadmapSelected = function() {
                            a.setState({
                                mapType: C.MapType.ROADMAP
                            })
                        }, a._handleSatelliteSelected = function() {
                            a.setState({
                                mapType: C.MapType.SATELLITE
                            })
                        }, a._handleTerrainSelected = function() {
                            a.setState({
                                mapType: C.MapType.TERRAIN
                            })
                        }, a._handleTrafficToggled = function() {
                            a.setState((function(e) {
                                return {
                                    showTraffic: !e.showTraffic
                                }
                            }))
                        }, a._handleMarkerSelected = function(e) {
                            a.setState({
                                markerSelected: e
                            })
                        }, a.state = {
                            mapType: C.MapType.ROADMAP,
                            showTraffic: !1,
                            markerSelected: !1,
                            online: s.default.online
                        }, a
                    }
                    return (0, i.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this;
                            this.props.listeners.add(s.default, "change:online", (function() {
                                e.setState({
                                    online: s.default.online
                                })
                            }))
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e, t, n, a, r = (0, j.jsx)(y.default, {
                                    onRoadmapSelected: this._handleRoadmapSelected,
                                    onSatelliteSelected: this._handleSatelliteSelected,
                                    onTerrainSelected: this._handleTerrainSelected,
                                    onTrafficToggled: this._handleTrafficToggled,
                                    showTraffic: this.state.showTraffic
                                }),
                                i = this.props.msg,
                                o = i.finalLat,
                                l = i.finalLng,
                                s = i.finalTimeOffset,
                                c = i.lat,
                                m = i.lng,
                                _ = i.senderObj,
                                C = i.t,
                                b = this.state,
                                k = b.mapType,
                                E = b.showTraffic,
                                w = b.markerSelected;
                            return void 0 === o || void 0 === l || void 0 === s ? (e = c, t = m, n = C) : (e = o, t = l, n = C + s), a = b.online ? (0, j.jsxs)("div", {
                                className: v.default.wrapper,
                                children: [(0, j.jsx)(x.default, {
                                    contact: _,
                                    lat: e,
                                    lng: t,
                                    mapType: k,
                                    showTraffic: E,
                                    markerSelected: w,
                                    onMarkerSelected: this._handleMarkerSelected
                                }), (0, j.jsxs)("div", {
                                    className: v.default.notification,
                                    children: [(0, j.jsx)("div", {
                                        className: v.default.ended,
                                        children: d.fbt._("Live location ended", null, {
                                            hk: "1qhVqb"
                                        })
                                    }), (0, j.jsx)("div", {
                                        className: v.default.lastUpdated,
                                        children: u.Clock.liveLocationLastUpdatedStr(n)
                                    })]
                                })]
                            }) : (0, j.jsx)("div", {
                                className: v.default.offline,
                                children: (0, j.jsxs)("div", {
                                    children: [(0, j.jsx)("div", {
                                        className: v.default.circle,
                                        children: (0, j.jsx)(S.default, {
                                            name: "live-location-disconnected"
                                        })
                                    }), (0, j.jsx)("div", {
                                        className: v.default.text,
                                        children: g.default.t(583)
                                    })]
                                })
                            }), (0, j.jsxs)(f.default, {
                                children: [(0, j.jsx)(h.DrawerHeader, {
                                    title: d.fbt._("Expired Location", null, {
                                        hk: "2bVGaN"
                                    }),
                                    type: h.DRAWER_HEADER_TYPE.SMALL,
                                    menu: r,
                                    onCancel: this._handleClose
                                }), (0, j.jsx)(p.default, {
                                    children: a
                                })]
                            })
                        }
                    }]), n
                }(c.PureComponent);
            k.CONCERNS = {
                msg: ["finalLat", "finalLng", "finalTimeOffset", "lat", "lng", "senderObj", "t"]
            }, k.displayName = "ExpiredLocationDrawer";
            var E = (0, m.default)((0, _.ListenerHOC)((0, b.default)(k, k.CONCERNS)));
            t.default = E
        },
        68660: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(34575)),
                i = a(n(93913)),
                o = a(n(2205)),
                l = a(n(99842)),
                u = n(46814),
                s = n(67294),
                d = n(43990),
                c = n(95313),
                f = a(n(53575)),
                p = n(85893),
                h = function(e) {
                    (0, o.default)(n, e);
                    var t = (0, l.default)(n);

                    function n(e) {
                        var a;
                        return (0, r.default)(this, n), (a = t.call(this, e)).setMap = function(e) {
                            return a.map = e
                        }, a.mapOnClick = function() {
                            a.dismissMarkerTimer.debounceAndCap(50, 100)
                        }, a.markerOnClick = function() {
                            a.dismissMarkerTimer.isScheduled() && a.dismissMarkerTimer.cancel(), a.props.onMarkerSelected(!0)
                        }, a.getPixelPositionOffset = function(e, t) {
                            return {
                                x: -e / 2,
                                y: -t
                            }
                        }, a.dismissMarkerTimer = new u.ShiftTimer((function() {
                            a.props.markerSelected && a.props.onMarkerSelected(!1)
                        })), a
                    }
                    return (0, i.default)(n, [{
                        key: "componentWillUnmount",
                        value: function() {
                            this.dismissMarkerTimer.isScheduled() && this.dismissMarkerTimer.cancel()
                        }
                    }, {
                        key: "getMapPaneName",
                        value: function() {
                            return d.OverlayView.OVERLAY_MOUSE_TARGET
                        }
                    }, {
                        key: "getMarkers",
                        value: function() {
                            var e = this,
                                t = this.props,
                                n = t.lat,
                                a = t.lng,
                                r = t.contact,
                                i = t.markerSelected;
                            return (0, p.jsx)(f.default, {
                                marker: {
                                    isLive: !1,
                                    contact: r,
                                    lat: n,
                                    lng: a,
                                    selected: i,
                                    onClick: function(t) {
                                        return e.markerOnClick(t)
                                    }
                                }
                            })
                        }
                    }, {
                        key: "getTrafficLayer",
                        value: function() {
                            return this.props.showTraffic ? (0, p.jsx)(d.TrafficLayer, {
                                autoRefresh: !0
                            }) : null
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e = this.props,
                                t = e.lat,
                                n = e.lng;
                            return (0, p.jsxs)(d.GoogleMap, {
                                ref: this.setMap,
                                defaultCenter: {
                                    lat: t,
                                    lng: n
                                },
                                defaultOptions: this.props.getMapOptions(),
                                defaultZoom: c.INITIAL_ZOOM,
                                mapTypeId: this.props.mapType,
                                onClick: this.mapOnClick,
                                children: [this.getMarkers(), this.getTrafficLayer()]
                            })
                        }
                    }]), n
                }(s.Component);
            h.displayName = "ExpiredLocationMap";
            var m = (0, c.withConfig)((0, d.withScriptjs)((0, d.withGoogleMap)(h)));
            t.default = m
        },
        17174: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(59713)),
                i = a(n(34575)),
                o = a(n(93913)),
                l = a(n(2205)),
                u = a(n(99842)),
                s = a(n(41609)),
                d = a(n(23493)),
                c = a(n(71613)),
                f = a(n(67082)),
                p = n(84460),
                h = a(n(94184)),
                m = n(48360),
                v = n(67294),
                g = a(n(45080)),
                _ = n(93139),
                x = n(65901),
                C = n(28871),
                y = a(n(53187)),
                b = a(n(18345)),
                S = n(19288),
                j = a(n(93531)),
                k = a(n(81964)),
                E = a(n(9844)),
                w = n(63641),
                T = a(n(16284)),
                I = a(n(76142)),
                P = n(95313),
                M = a(n(33416)),
                O = a(n(47211)),
                A = a(n(70099)),
                L = a(n(61897)),
                D = n(68220),
                N = a(n(7665)),
                R = a(n(36450)),
                F = n(92428),
                B = n(85893),
                U = ["click", "mousedown", "mousemove", "scroll"],
                G = "ACTIVE",
                H = "INACTIVE",
                W = "OFFLINE",
                V = function(e) {
                    (0, l.default)(n, e);
                    var t = (0, u.default)(n);

                    function n(e) {
                        var a;
                        return (0, i.default)(this, n), (a = t.call(this, e))._handleParticipantAdd = function() {
                            var e = a.state,
                                t = e.zoomLevel,
                                n = e.selectedParticipantId;
                            a._updateMinZoomClusters(), a.setState({
                                clusters: a._getClusters(t, n)
                            })
                        }, a._handleParticipantRemove = function(e) {
                            var t = a.state,
                                n = t.selectedClusterId,
                                r = t.selectedParticipantId,
                                i = t.zoomLevel;
                            a._updateMinZoomClusters();
                            var o = n,
                                l = r;
                            n && (0, _.participantInCluster)(n, e.id) && (o = null), f.default.equals(r, e.id) && (l = null), a.setState({
                                selectedClusterId: o,
                                selectedParticipantId: l,
                                clusters: a._getClusters(i, l)
                            })
                        }, a._handleParticipantDisable = function(e) {
                            if (!e.isMe) {
                                var t = e.contact.formattedName;
                                x.Cmd.openToast((0, B.jsx)(F.Toast, {
                                    msg: E.default.t(566, {
                                        name: t
                                    }),
                                    id: (0, F.genId)()
                                }))
                            }
                        }, a._handleLocationChanged = function() {
                            var e = a.state,
                                t = e.zoomLevel,
                                n = e.selectedParticipantId;
                            a._updateMinZoomClusters(), a.setState({
                                clusters: a._getClusters(t, n)
                            })
                        }, a._handleIdle = function() {
                            var e = a.props.chat.liveLocation;
                            e && (e.stopViewingMap(), a.setState({
                                status: H
                            }))
                        }, a.onActivity = (0, d.default)((function() {
                            a._removeIdleTimeout(), a._addIdleTimeout()
                        }), 250), a._handleRefresh = function() {
                            var e = a.props.chat.liveLocation;
                            e && (e.startViewingMap(), a.setState({
                                status: G
                            }))
                        }, a._handleClose = function() {
                            a.props.onClose ? a.props.onClose() : a.props.uim.uie.requestDismiss()
                        }, a._handleMarkerSelected = function(e) {
                            e ? (0, _.singleParticipantClusterId)(e) ? a._handleParticipantSelected(e) : a._handleClusterSelected(e) : a._handleClearSelected()
                        }, a._handleClearSelected = function() {
                            var e = a.state,
                                t = e.selectedParticipantId,
                                n = e.selectedClusterId,
                                r = e.zoomLevel;
                            (t || n) && a.setState({
                                selectedParticipantId: null,
                                selectedClusterId: null,
                                clusters: a._getClusters(r)
                            })
                        }, a._handleClusterSelected = function(e) {
                            a.state.selectedClusterId !== e && a.setState({
                                selectedParticipantId: null,
                                selectedClusterId: e
                            })
                        }, a._handleParticipantSelected = function(e) {
                            var t = a.state,
                                n = t.selectedParticipantId,
                                r = t.zoomLevel,
                                i = (0, p.createWid)(e);
                            f.default.equals(n, i) || a.setState({
                                selectedParticipantId: i,
                                selectedClusterId: null,
                                clusters: a._getClusters(r, i)
                            })
                        }, a._handleStopSharing = function(e) {
                            e.preventDefault(), e.stopPropagation();
                            var t = a.props.chat;
                            x.Cmd.openModal((0, B.jsx)(T.default, {
                                chat: t
                            }))
                        }, a._handleRoadmapSelected = function() {
                            a.setState({
                                mapType: P.MapType.ROADMAP
                            })
                        }, a._handleSatelliteSelected = function() {
                            a.setState({
                                mapType: P.MapType.SATELLITE
                            })
                        }, a._handleTerrainSelected = function() {
                            a.setState({
                                mapType: P.MapType.TERRAIN
                            })
                        }, a._handleTrafficToggled = function() {
                            a.setState((function(e) {
                                return {
                                    showTraffic: !e.showTraffic
                                }
                            }))
                        }, a._handleBackToCenter = function() {
                            a.setState({
                                selectedParticipantId: null,
                                selectedClusterId: null,
                                atCenter: !0,
                                clusters: a._getClusters(a.state.zoomLevel)
                            })
                        }, a._handleMapMoved = function(e, t) {
                            a.setState((function(n) {
                                var r = {};
                                if (n.zoomLevel !== e) {
                                    var i = a._getClusters(e, n.selectedParticipantId);
                                    Object.assign(r, {
                                        zoomLevel: e,
                                        clusters: i
                                    })
                                }
                                return a._hasValidParticipants() && n.atCenter !== t && Object.assign(r, {
                                    atCenter: t
                                }), (0, s.default)(r) ? null : r
                            }))
                        }, a._updateMinZoomClusters(), a.state = {
                            clusters: a._getClusters(P.INITIAL_ZOOM),
                            selectedClusterId: null,
                            selectedParticipantId: null,
                            mapType: P.MapType.ROADMAP,
                            showTraffic: !1,
                            zoomLevel: P.INITIAL_ZOOM,
                            atCenter: !0,
                            status: c.default.online ? G : W
                        }, a
                    }
                    return (0, o.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            this._listenToModelChange(), this._listenToNetworkChange(), this._startCheckingForIdle();
                            var e = this.props.chat.liveLocation;
                            e && (e.startViewingMap(), this._addParticipantListeners(e))
                        }
                    }, {
                        key: "componentWillUnmount",
                        value: function() {
                            this.onActivity.cancel();
                            var e = this.props.chat.liveLocation;
                            e && e.stopViewingMap()
                        }
                    }, {
                        key: "_addParticipantListeners",
                        value: function(e) {
                            this.props.listeners.add(e.participants, "add", this._handleParticipantAdd), this.props.listeners.add(e.participants, "remove", this._handleParticipantRemove), this.props.listeners.add(e.participants, "change:disabled", this._handleParticipantDisable), this.props.listeners.add(e.participants, "change:valid", this._handleLocationChanged)
                        }
                    }, {
                        key: "_removeParticipantListeners",
                        value: function(e) {
                            this.props.listeners.remove(e.participants, "add", this._handleParticipantAdd), this.props.listeners.remove(e.participants, "remove", this._handleParticipantRemove), this.props.listeners.remove(e.participants, "change:disabled", this._handleParticipantDisable), this.props.listeners.remove(e.participants, "change:valid", this._handleLocationChanged)
                        }
                    }, {
                        key: "_listenToModelChange",
                        value: function() {
                            var e = this,
                                t = this.props.chat;
                            this.props.listeners.add((0, D.unproxy)(t), "change:liveLocation", (function() {
                                var n = t.liveLocation;
                                n && (e._removeParticipantListeners(n), e._addParticipantListeners(n));
                                var a = e.state.zoomLevel;
                                e.setState({
                                    clusters: e._getClusters(a)
                                })
                            }))
                        }
                    }, {
                        key: "_listenToNetworkChange",
                        value: function() {
                            var e = this;
                            this.props.listeners.add(c.default, "change:online", (function() {
                                c.default.online || e._stopCheckingForIdle(), e.setState({
                                    status: c.default.online ? G : W
                                })
                            }))
                        }
                    }, {
                        key: "_startCheckingForIdle",
                        value: function() {
                            this._addIdleTimeout(), this._addActivityListeners()
                        }
                    }, {
                        key: "_stopCheckingForIdle",
                        value: function() {
                            this._removeIdleTimeout(), this._removeActivityListeners()
                        }
                    }, {
                        key: "_addIdleTimeout",
                        value: function() {
                            this._idleTimeoutId = this.props.setTimeout(this._handleIdle, 18e4)
                        }
                    }, {
                        key: "_removeIdleTimeout",
                        value: function() {
                            null != this._idleTimeoutId && this.props.clearTimeout(this._idleTimeoutId), this._idleTimeoutId = null
                        }
                    }, {
                        key: "_addActivityListeners",
                        value: function() {
                            var e = this;
                            U.forEach((function(t) {
                                e.props.listeners.add(document, t, e.onActivity)
                            }))
                        }
                    }, {
                        key: "_removeActivityListeners",
                        value: function() {
                            var e = this;
                            U.forEach((function(t) {
                                e.props.listeners.remove(document, t, e.onActivity)
                            }))
                        }
                    }, {
                        key: "_updateMinZoomClusters",
                        value: function() {
                            var e = this.getParticipants(),
                                t = e ? e.validLocations() : [];
                            this._minZoomClusters = (0, _.cluster)(t, P.MIN_ZOOM, null, C.MARKER_SIZE)
                        }
                    }, {
                        key: "getParticipants",
                        value: function() {
                            var e = this.props.chat.liveLocation;
                            return e ? e.participants : null
                        }
                    }, {
                        key: "_hasValidParticipants",
                        value: function() {
                            var e = this.getParticipants();
                            return !!e && !!e.validLocations().length
                        }
                    }, {
                        key: "_getOpenFromCluster",
                        value: function() {
                            var e = this.getParticipants();
                            if (!e || 0 === e.length) return null;
                            var t = this.props.openFrom,
                                n = null;
                            if (t) n = t;
                            else {
                                var a = e.at(0);
                                a && (n = a.id)
                            }
                            return n ? (0, _.findClusterForParticipant)(this._minZoomClusters, n) : null
                        }
                    }, {
                        key: "_getClusters",
                        value: function(e, t) {
                            var n = this.getParticipants(),
                                a = null,
                                r = [];
                            n && (t && (a = n.get(t)), r = n.validLocations());
                            var i = r,
                                o = [];
                            if (this._minZoomClusters.size > 1) {
                                var l = this._getOpenFromCluster();
                                if (l) {
                                    var u = l.participants;
                                    i = u.validLocations(), o = r.filter((function(e) {
                                        var t = e.id;
                                        return !u.get(t)
                                    }))
                                }
                            }
                            return {
                                primary: (0, _.cluster)(i, e, a, C.MARKER_SIZE),
                                secondary: (0, _.cluster)(o, e, a, C.MARKER_SIZE)
                            }
                        }
                    }, {
                        key: "_getList",
                        value: function() {
                            var e, t = this.state,
                                n = t.clusters,
                                a = t.selectedClusterId,
                                r = this.getParticipants();
                            if (null == r ? void 0 : r.length) {
                                if (a) {
                                    var i = n.primary.get(a) || n.secondary.get(a);
                                    if (i) {
                                        var o = i.participants;
                                        e = (0, B.jsx)(g.default, {
                                            participants: o,
                                            onParticipantSelected: this._handleParticipantSelected,
                                            onClearSelected: this._handleClearSelected
                                        })
                                    }
                                }
                                e || (e = (0, B.jsx)(O.default, {
                                    participants: r,
                                    onParticipantSelected: this._handleParticipantSelected,
                                    onStopSharing: this._handleStopSharing
                                }))
                            }
                            return e
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e, t;
                            this.props.isFirstLevel ? e = this._handleClose : t = this._handleClose;
                            var n, a, i = this.state,
                                o = i.selectedParticipantId,
                                l = i.selectedClusterId,
                                u = i.mapType,
                                s = i.showTraffic,
                                d = i.atCenter,
                                c = i.status,
                                f = c === G ? (0, B.jsx)(M.default, {
                                    onRoadmapSelected: this._handleRoadmapSelected,
                                    onSatelliteSelected: this._handleSatelliteSelected,
                                    onTerrainSelected: this._handleTerrainSelected,
                                    onTrafficToggled: this._handleTrafficToggled,
                                    showTraffic: s
                                }) : null;
                            if (c === G || c === H) {
                                var p = o && o.toString() || l;
                                n = (0, B.jsxs)("div", {
                                    className: k.default.wrapper,
                                    children: [(0, B.jsx)("div", {
                                        className: (0, h.default)(k.default.backToCenter, (0, r.default)({}, k.default.visible, !d)),
                                        onClick: this._handleBackToCenter,
                                        children: (0, B.jsx)(N.default, {
                                            name: "return"
                                        })
                                    }), (0, B.jsx)(I.default, {
                                        clusters: this.state.clusters.primary,
                                        secondaryClusters: this.state.clusters.secondary,
                                        selectedMarkerId: p,
                                        openFrom: this.props.openFrom,
                                        mapType: u,
                                        showTraffic: s,
                                        atCenter: d,
                                        onMarkerSelected: this._handleMarkerSelected,
                                        onClearSelected: this._handleClearSelected,
                                        onLocationChanged: this._handleLocationChanged,
                                        onMapMoved: this._handleMapMoved
                                    }), this._getList()]
                                })
                            }
                            if (c === H || c === W) {
                                var v = c === H,
                                    g = v ? "live-location-refresh" : "live-location-disconnected",
                                    _ = v ? m.fbt._("Click to continue viewing live location", null, {
                                        hk: "4j5wQx"
                                    }) : E.default.t(583);
                                a = (0, B.jsx)(A.default, {
                                    inactive: v,
                                    svgName: g,
                                    text: _,
                                    onClick: v ? this._handleRefresh : void 0
                                })
                            }
                            return (0, B.jsxs)(y.default, {
                                children: [(0, B.jsx)(S.DrawerHeader, {
                                    title: m.fbt._("Live Location", null, {
                                        hk: "1LvIwY"
                                    }),
                                    type: S.DRAWER_HEADER_TYPE.SMALL,
                                    menu: f,
                                    onBack: t,
                                    onCancel: e
                                }), (0, B.jsxs)(b.default, {
                                    children: [n, a]
                                })]
                            })
                        }
                    }]), n
                }(v.PureComponent);
            V.CONCERNS = {
                chat: ["id", "liveLocation"]
            }, V.displayName = "LiveLocationDrawer";
            var z = (0, j.default)((0, R.default)((0, w.ListenerHOC)((0, L.default)(V, V.CONCERNS))));
            t.default = z
        },
        76142: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(63038)),
                i = a(n(34575)),
                o = a(n(93913)),
                l = a(n(2205)),
                u = a(n(99842)),
                s = a(n(23279)),
                d = n(46814),
                c = n(67294),
                f = n(43990),
                p = n(95313),
                h = a(n(53575)),
                m = n(10532),
                v = n(85893),
                g = 1e-4,
                _ = function(e) {
                    (0, l.default)(n, e);
                    var t = (0, u.default)(n);

                    function n(e) {
                        var a;
                        return (0, i.default)(this, n), (a = t.call(this, e)).setMap = function(e) {
                            return a.map = e
                        }, a._handleLocationChanged = function(e) {
                            var t = a.props,
                                n = t.clusters,
                                r = t.atCenter,
                                i = t.selectedMarkerId;
                            if (a.props.onLocationChanged(), !i && r) a._viewAllClusters();
                            else if (i && i === e) {
                                var o = n.get(i);
                                o && a._viewSingleCluster(o)
                            }
                        }, a.handleIdle = (0, s.default)((function() {
                            var e = a.map;
                            if (e) {
                                var t = e.getZoom();
                                if (a._zoomingToAllClusters) {
                                    a._defaultZoomLevel = t, a._zoomingToAllClusters = !1;
                                    var n = a._zoomHistory;
                                    if (n.prev.preZoom === n.curr.postZoom && n.prev.postZoom === n.curr.preZoom) return
                                }
                                a.props.onMapMoved(t, a.atCenter())
                            }
                        }), 100), a._handleDragStart = function() {
                            var e = a.map;
                            if (e) {
                                var t = e.getZoom();
                                a.props.onMapMoved(t, !1)
                            }
                        }, a.handleResize = (0, s.default)((function() {
                            a._setMapLatLngDiff()
                        }), 250), a.mapOnClick = function() {
                            a.dismissMarkerTimer.debounceAndCap(50, 100)
                        }, a.markerOnClick = function(e, t) {
                            a.dismissMarkerTimer.isScheduled() && a.dismissMarkerTimer.cancel(), a.props.onMarkerSelected(t)
                        }, a.dismissMarkerTimer = new d.ShiftTimer((function() {
                            a.props.selectedMarkerId && a.props.onClearSelected()
                        })), a._defaultLatDiff = a._defaultLngDiff = .01, a._defaultZoomLevel = -1, a._zoomingToAllClusters = !1, a._zoomHistory = {
                            prev: {
                                preZoom: -1,
                                postZoom: -1
                            },
                            curr: {
                                preZoom: -1,
                                postZoom: -1
                            }
                        }, a
                    }
                    return (0, o.default)(n, [{
                        key: "componentWillUnmount",
                        value: function() {
                            this.handleIdle.cancel(), this.handleResize.cancel(), window.removeEventListener("resize", this.handleResize), this.dismissMarkerTimer.isScheduled() && this.dismissMarkerTimer.cancel()
                        }
                    }, {
                        key: "componentDidMount",
                        value: function() {
                            window.addEventListener("resize", this.handleResize), this._setMapLatLngDiff(), this._viewAllClusters()
                        }
                    }, {
                        key: "componentDidUpdate",
                        value: function(e) {
                            var t = this.props,
                                n = t.clusters,
                                a = t.secondaryClusters,
                                r = t.selectedMarkerId,
                                i = t.atCenter,
                                o = e.selectedMarkerId;
                            if (this._setMapLatLngDiff(), n.size && (!o || r || i))
                                if (r && o !== r) {
                                    var l = n.get(r) || a.get(r);
                                    l && this._viewSingleCluster(l)
                                } else !r && i && this._viewAllClusters()
                        }
                    }, {
                        key: "_viewAllClusters",
                        value: function() {
                            var e = this.props.clusters;
                            0 === e.size || this.atCenter() || (this._zoomToFitAllClusters(e), this._centerAllClusters(e))
                        }
                    }, {
                        key: "_viewSingleCluster",
                        value: function(e) {
                            this._zoomToFitSingleCluster(e), this._centerSingleCluster(e)
                        }
                    }, {
                        key: "_zoomToFitAllClusters",
                        value: function(e) {
                            var t = this.map;
                            if (t) {
                                this._zoomingToAllClusters = !0, this._zoomHistory.prev.preZoom = this._zoomHistory.curr.preZoom, this._zoomHistory.curr.preZoom = t.getZoom();
                                var n = this.getBounds(e),
                                    a = e.entries().next();
                                if (1 !== e.size || a.done) this._boundsTooSmall(n) ? t.fitBounds(this._getDefaultBounds(n.getCenter())) : t.fitBounds(n);
                                else {
                                    var i = (0, r.default)(a.value, 2)[1];
                                    this._zoomToFitSingleCluster(i, !1)
                                }
                                this._zoomHistory.prev.postZoom = this._zoomHistory.curr.postZoom, this._zoomHistory.curr.postZoom = t.getZoom()
                            }
                        }
                    }, {
                        key: "_zoomToFitSingleCluster",
                        value: function(e) {
                            var t = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1],
                                n = this.map;
                            if (n && (!t || !this._boundsTooSmall(n.getBounds()))) {
                                var a = e.northeast,
                                    r = e.southwest,
                                    i = new google.maps.LatLng(a.lat, a.lng),
                                    o = new google.maps.LatLng(r.lat, r.lng),
                                    l = new google.maps.LatLngBounds(o, i);
                                this._boundsTooSmall(l) ? n.fitBounds(this._getDefaultBounds(l.getCenter())) : n.fitBounds(l)
                            }
                        }
                    }, {
                        key: "_centerAllClusters",
                        value: function(e) {
                            var t = this.getBounds(e).getCenter();
                            this._centerMap(t)
                        }
                    }, {
                        key: "_centerSingleCluster",
                        value: function(e) {
                            var t = new google.maps.LatLng(e.center);
                            this._centerMap(t)
                        }
                    }, {
                        key: "_centerMap",
                        value: function(e) {
                            var t = this.map;
                            t && (t.getCenter().equals(e) || t.panTo(e))
                        }
                    }, {
                        key: "_getInitialCenter",
                        value: function() {
                            return this.getBounds(this.props.clusters).getCenter()
                        }
                    }, {
                        key: "getBounds",
                        value: function(e) {
                            var t = new google.maps.LatLngBounds;
                            return e.forEach((function(e) {
                                t.extend({
                                    lat: e.lat,
                                    lng: e.lng
                                })
                            })), t
                        }
                    }, {
                        key: "_boundsTooSmall",
                        value: function(e) {
                            var t = e.getNorthEast(),
                                n = e.getSouthWest(),
                                a = t.lat() - n.lat(),
                                r = t.lng() - n.lng(),
                                i = Math.abs(a) < this._defaultLatDiff,
                                o = Math.abs(r) < this._defaultLngDiff;
                            return i || o
                        }
                    }, {
                        key: "_getDefaultBounds",
                        value: function(e) {
                            var t = new google.maps.LatLng(e.lat() - this._defaultLatDiff / 2, e.lng() - this._defaultLngDiff / 2),
                                n = new google.maps.LatLng(e.lat() + this._defaultLatDiff / 2, e.lng() + this._defaultLngDiff / 2);
                            return new google.maps.LatLngBounds(t, n)
                        }
                    }, {
                        key: "atCenter",
                        value: function() {
                            var e = this.map;
                            if (!e) return !0;
                            var t = e.getCenter(),
                                n = this._getInitialCenter(),
                                a = t.lat() - n.lat(),
                                r = t.lng() - n.lng();
                            return Math.abs(a) < g && Math.abs(r) < g && this._defaultZoomLevel === e.getZoom()
                        }
                    }, {
                        key: "_setMapLatLngDiff",
                        value: function() {
                            var e = this.map;
                            if (e) {
                                var t = e.getCenter(),
                                    n = e.getDiv(),
                                    a = (0, m.getMetersPerPixel)(t.lat(), p.INITIAL_ZOOM),
                                    r = n.offsetWidth * a,
                                    i = n.offsetHeight * a;
                                this._defaultLatDiff = (0, m.getLatDiff)(i), this._defaultLngDiff = (0, m.getLngDiff)(r, t.lat())
                            }
                        }
                    }, {
                        key: "getMarkers",
                        value: function() {
                            var e = this,
                                t = this.props,
                                n = t.clusters,
                                a = t.secondaryClusters,
                                r = t.selectedMarkerId,
                                i = [],
                                o = function(t, n) {
                                    i.push((0, v.jsx)(h.default, {
                                        marker: {
                                            isLive: !0,
                                            cluster: t,
                                            onLocationChanged: function() {
                                                return e._handleLocationChanged(n)
                                            },
                                            selected: r === n,
                                            onClick: function(t) {
                                                return e.markerOnClick(t, n)
                                            }
                                        }
                                    }, n))
                                };
                            return n.forEach(o), a.forEach(o), i
                        }
                    }, {
                        key: "getTrafficLayer",
                        value: function() {
                            return this.props.showTraffic ? (0, v.jsx)(f.TrafficLayer, {
                                autoRefresh: !0
                            }) : null
                        }
                    }, {
                        key: "render",
                        value: function() {
                            return (0, v.jsxs)(f.GoogleMap, {
                                ref: this.setMap,
                                defaultCenter: this._getInitialCenter(),
                                defaultOptions: this.props.getMapOptions(),
                                defaultZoom: p.INITIAL_ZOOM,
                                mapTypeId: this.props.mapType,
                                onClick: this.mapOnClick,
                                onDragStart: this._handleDragStart,
                                onIdle: this.handleIdle,
                                children: [this.getMarkers(), this.getTrafficLayer()]
                            })
                        }
                    }]), n
                }(c.Component);
            _.displayName = "LiveLocationMap";
            var x = (0, p.withConfig)((0, f.withScriptjs)((0, f.withGoogleMap)(_)));
            t.default = x
        },
        95313: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.MapType = t.MIN_ZOOM = t.INITIAL_ZOOM = void 0, t.withConfig = function(e) {
                return function(t) {
                    (0, l.default)(a, t);
                    var n = (0, u.default)(a);

                    function a() {
                        var e;
                        (0, i.default)(this, a);
                        for (var t = arguments.length, r = new Array(t), o = 0; o < t; o++) r[o] = arguments[o];
                        return (e = n.call.apply(n, [this].concat(r))).state = {
                            authFailed: !0 === window.gm_authFailed
                        }, e._onAuthFailed = function() {
                            window.gm_authFailed = !0, e.setState({
                                authFailed: !0
                            });
                            var t = e._getUrl();
                            __LOG__(4, void 0, new Error, !0)`url: ${t}\ntarget: ${"electron-renderer"}`, SEND_LOGS("google-map-auth-failed")
                        }, e
                    }
                    return (0, o.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            window.gm_authFailure = this._onAuthFailed
                        }
                    }, {
                        key: "componentWillUnmount",
                        value: function() {
                            window.gm_authFailure = void 0
                        }
                    }, {
                        key: "_getUrl",
                        value: function() {
                            var e = {
                                client: "gme-whatsappinc",
                                v: "3",
                                libraries: "geometry,drawing,places",
                                t: Math.floor(Date.now() / 864e5)
                            };
                            return s.default.build("https://maps.googleapis.com/maps/api/js", e)
                        }
                    }, {
                        key: "getMapOptions",
                        value: function() {
                            return {
                                clickableIcons: !1,
                                fullscreenControl: !1,
                                keyboardShortcuts: !1,
                                mapTypeControl: !1,
                                minZoom: 3,
                                streetViewControl: !1,
                                zoomControl: !0,
                                zoomControlOptions: {
                                    position: google.maps.ControlPosition.TOP_RIGHT
                                }
                            }
                        }
                    }, {
                        key: "render",
                        value: function() {
                            if (this.state.authFailed) return (0, h.jsx)("div", {
                                className: f.default.authFailed,
                                children: d.fbt._("Failed to load Google Maps", null, {
                                    hk: "2k0Pgj"
                                })
                            });
                            var t = this._getUrl(),
                                n = (0, h.jsx)("div", {
                                    className: f.default.loading,
                                    children: (0, h.jsx)(p.Spinner, {
                                        color: "highlight"
                                    })
                                }),
                                a = (0, h.jsx)("div", {
                                    className: f.default.container
                                }),
                                i = (0, h.jsx)("div", {
                                    className: f.default.map
                                });
                            return (0, h.jsx)(e, (0, r.default)({
                                googleMapURL: t,
                                loadingElement: n,
                                containerElement: a,
                                mapElement: i,
                                getMapOptions: this.getMapOptions
                            }, this.props))
                        }
                    }]), a
                }(c.Component)
            };
            var r = a(n(81109)),
                i = a(n(34575)),
                o = a(n(93913)),
                l = a(n(2205)),
                u = a(n(99842)),
                s = a(n(10646)),
                d = n(48360),
                c = n(67294),
                f = a(n(82165)),
                p = n(85651),
                h = n(85893),
                m = n(76672)({
                    ROADMAP: "roadmap",
                    SATELLITE: "satellite",
                    TERRAIN: "terrain"
                });
            t.MapType = m;
            t.INITIAL_ZOOM = 15;
            t.MIN_ZOOM = 3
        },
        53575: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(59713)),
                i = a(n(34575)),
                o = a(n(93913)),
                l = a(n(2205)),
                u = a(n(99842)),
                s = a(n(94184)),
                d = n(67294),
                c = n(43990),
                f = a(n(99633)),
                p = n(28871),
                h = n(63641),
                m = a(n(24725)),
                v = a(n(2377)),
                g = a(n(36450)),
                _ = a(n(48955)),
                x = n(85893),
                C = function(e) {
                    (0, l.default)(n, e);
                    var t = (0, u.default)(n);

                    function n(e) {
                        var a;
                        return (0, i.default)(this, n), (a = t.call(this, e))._setOverlay = function(e) {
                            a.overlay = e
                        }, a._handleLocationChanged = function() {
                            a.props.marker.isLive && a.props.marker.onLocationChanged()
                        }, a._handleLastUpdatedTimeChanged = function() {
                            if (a.props.marker.isLive) {
                                null != a.timeoutId && (a.props.clearTimeout(a.timeoutId), a.timeoutId = null);
                                var e = (0, p.isStale)(a.props.marker.cluster);
                                a.state.stale !== e && a.setState({
                                    stale: e
                                }), e || a._setStaleTimeout()
                            }
                        }, a._getPixelPositionOffset = function(e, t) {
                            return {
                                x: -e / 2,
                                y: -t
                            }
                        }, a.state = {
                            stale: !e.marker.isLive || (0, p.isStale)(e.marker.cluster)
                        }, a
                    }
                    return (0, o.default)(n, [{
                        key: "_setStaleTimeout",
                        value: function() {
                            var e = this;
                            if (this.props.marker.isLive) {
                                var t = this.props.marker.cluster,
                                    n = p.STALE_THRESHOLD - (0, p.getSmallestElapsedTime)(t);
                                n <= 0 || (this.timeoutId = this.props.setTimeout((function() {
                                    return e.setState({
                                        stale: !0
                                    })
                                }), 1e3 * n))
                            }
                        }
                    }, {
                        key: "componentDidMount",
                        value: function() {
                            var e = this;
                            if (this.props.marker.isLive) {
                                var t = this.props.marker.cluster;
                                (0, p.isStale)(t) || this._setStaleTimeout(), t.participants.forEach((function(t) {
                                    e.props.listeners.add(t, "change:lat change:lng", e._handleLocationChanged), e.props.listeners.add(t, "change:lastUpdated", e._handleLastUpdatedTimeChanged)
                                }))
                            }
                        }
                    }, {
                        key: "_getMapPaneName",
                        value: function() {
                            return this.props.marker.onClick ? c.OverlayView.OVERLAY_MOUSE_TARGET : c.OverlayView.OVERLAY_LAYER
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e, t, n, a, i, o = this.props.marker,
                                l = o.onClick,
                                u = o.selected,
                                d = this.state.stale;
                            if (this.props.marker.isLive) {
                                var h = this.props.marker.cluster;
                                t = h.lat, n = h.lng, a = h.participants.map((function(e) {
                                    return e.id
                                }))
                            } else t = this.props.marker.lat, n = this.props.marker.lng, a = [this.props.marker.contact.id];
                            if (u) {
                                var g, C, y;
                                if (this.props.marker.isLive) {
                                    var b = this.props.marker.cluster,
                                        S = b.participants,
                                        j = b.hasSingleParticipant() ? S.at(0) : null;
                                    j && (g = j.id, C = j.accuracy, y = j.isMe)
                                } else {
                                    var k = this.props.marker.contact;
                                    g = k.id, y = k.isMe
                                }
                                g && (i = (0, x.jsx)(v.default, {
                                    id: g,
                                    lat: t,
                                    lng: n,
                                    accuracy: C,
                                    isMe: y || !1,
                                    markerSize: p.MARKER_SIZE
                                }))
                            }
                            return (0, x.jsx)(c.OverlayView, {
                                ref: this._setOverlay,
                                position: {
                                    lat: t,
                                    lng: n
                                },
                                mapPaneName: this._getMapPaneName(),
                                getPixelPositionOffset: this._getPixelPositionOffset,
                                children: (0, x.jsx)(_.default.Provider, {
                                    value: this.context,
                                    children: (0, x.jsxs)("div", {
                                        className: (0, s.default)(m.default.container, (0, r.default)({}, m.default.selected, u)),
                                        onClick: l,
                                        children: [i, (0, x.jsx)("div", {
                                            className: (0, s.default)(m.default.glow, (e = {}, (0, r.default)(e, m.default.stale, d), (0, r.default)(e, m.default.expired, !this.props.marker.isLive), e)),
                                            style: {
                                                height: p.AVATAR_SIZE,
                                                width: p.AVATAR_SIZE,
                                                padding: p.GLOW_SIZE
                                            },
                                            children: (0, x.jsx)("div", {
                                                children: (0, x.jsx)(f.default, {
                                                    ids: a,
                                                    size: p.IMAGE_SIZE,
                                                    border: !0,
                                                    showCount: !0
                                                })
                                            })
                                        }), (0, x.jsx)("div", {
                                            className: (0, s.default)(m.default.pin, (0, r.default)({}, m.default.selected, u)),
                                            style: {
                                                height: p.PIN_SIZE,
                                                width: p.PIN_SIZE,
                                                marginLeft: (p.MARKER_SIZE - p.PIN_SIZE) / 2
                                            }
                                        })]
                                    })
                                })
                            })
                        }
                    }]), n
                }(d.Component);
            C.contextType = _.default, C.displayName = "LiveLocationMarker";
            var y = (0, g.default)((0, h.ListenerHOC)(C));
            t.default = y
        },
        33416: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                return (0, d.jsx)(u.MenuBarItem, {
                    a8nText: "live-location-map-menu",
                    icon: (0, d.jsx)(s.default, {
                        name: "menu"
                    }),
                    title: l.default.t(604),
                    children: (0, d.jsxs)(i.Dropdown, {
                        type: "dropdown_menu",
                        flipOnRTL: !0,
                        dirX: i.DirX.LEFT,
                        dirY: i.DirY.BOTTOM,
                        children: [(0, d.jsx)(o.DropdownItem, {
                            a8n: "mi-roadmap-view menu-item",
                            action: e.onRoadmapSelected,
                            children: r.fbt._("Map view", null, {
                                hk: "2d2FOv"
                            })
                        }), (0, d.jsx)(o.DropdownItem, {
                            a8n: "mi-satellite-view menu-item",
                            action: e.onSatelliteSelected,
                            children: r.fbt._("Satellite view", null, {
                                hk: "QnsuG"
                            })
                        }), (0, d.jsx)(o.DropdownItem, {
                            a8n: "mi-terrain-view menu-item",
                            action: e.onTerrainSelected,
                            children: r.fbt._("Terrain view", null, {
                                hk: "3LpQsK"
                            })
                        }), (0, d.jsx)(o.DropdownItem, {
                            a8n: "mi-traffic menu-item",
                            action: e.onTrafficToggled,
                            children: e.showTraffic ? r.fbt._("Hide traffic", null, {
                                hk: "1GfpvE"
                            }) : r.fbt._("Show traffic", null, {
                                hk: "21KWWk"
                            })
                        })]
                    })
                })
            };
            var r = n(48360),
                i = n(98169),
                o = n(94680),
                l = a(n(9844)),
                u = n(91823),
                s = a(n(7665)),
                d = n(85893)
        },
        47211: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.onParticipantSelected,
                    n = e.onStopSharing,
                    a = e.participants,
                    r = (0, o.default)((function() {
                        return new c.default
                    })),
                    l = (0, i.useMemo)((function() {
                        return a.map((function(e) {
                            return {
                                itemKey: e.id.toString(),
                                contentKey: e.valid ? "valid" : "invalid",
                                participant: e
                            }
                        }))
                    }), [a]);
                return (0, m.jsx)(d.default, {
                    className: p.default.list,
                    flatListControllers: [r.current],
                    children: (0, m.jsx)(s.FlatList, {
                        data: l,
                        renderItem: function(e) {
                            var a = e.participant;
                            return (0, m.jsx)(v, {
                                participant: a,
                                onStopSharing: n,
                                onParticipantSelected: t
                            })
                        },
                        flatListController: r.current,
                        direction: "vertical"
                    })
                })
            };
            var r = n(48360),
                i = n(67294),
                o = a(n(62905)),
                l = n(65002),
                u = a(n(67049)),
                s = n(73568),
                d = a(n(23803)),
                c = a(n(92546)),
                f = a(n(9844)),
                p = a(n(4910)),
                h = a(n(60880)),
                m = n(85893);

            function v(e) {
                var t = e.onParticipantSelected,
                    n = e.onStopSharing,
                    a = e.participant,
                    i = a.valid ? (0, m.jsx)(u.default, {
                        reason: "live-location-time",
                        children: (0, m.jsx)(h.default, {
                            participant: a
                        })
                    }) : f.default.t(572),
                    o = a.valid ? function() {
                        return t(a.contact.id.toString())
                    } : null,
                    s = a.isMe ? (0, m.jsx)("div", {
                        onClick: n,
                        className: p.default.stopSharingButton,
                        children: r.fbt._("Stop Sharing", null, {
                            hk: "14LWdj"
                        })
                    }) : null;
                return (0, m.jsx)(l.Contact, {
                    contact: a.contact,
                    secondary: i,
                    onClick: o,
                    detail: s
                })
            }
        },
        2377: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(59713)),
                i = a(n(34575)),
                o = a(n(93913)),
                l = a(n(2205)),
                u = a(n(99842)),
                s = a(n(94184)),
                d = n(48360),
                c = n(67294),
                f = n(65901),
                p = n(70593),
                h = n(20050),
                m = n(94680),
                v = n(49012),
                g = n(68985),
                _ = a(n(9844)),
                x = n(42876),
                C = n(1191),
                y = a(n(60136)),
                b = a(n(7665)),
                S = n(16835),
                j = a(n(93820)),
                k = n(85893),
                E = function(e) {
                    (0, l.default)(n, e);
                    var t = (0, u.default)(n);

                    function n(e) {
                        var a;
                        return (0, i.default)(this, n), (a = t.call(this, e)).mouseEnter = function() {
                            a.state.hover || a.setState({
                                hover: !0
                            })
                        }, a.mouseLeave = function() {
                            a.state.hover && a.setState({
                                hover: !1
                            })
                        }, a._handleDirection = function() {
                            var e = a.props,
                                t = e.lat,
                                n = e.lng;
                            (0, v.openExternalLink)((0, x.getDirectionUrl)(t, n))
                        }, a._handleMessage = function() {
                            var e = a.props.id;
                            (0, g.findChat)(e).then((function(e) {
                                e.active && f.Cmd.existsDrawerRight((function(e) {
                                    e && 2 === p.Column.column && f.Cmd.closeDrawerRight()
                                })), f.Cmd.openChatFromUnread(e).then((function(t) {
                                    t && f.Cmd.focusChatTextInput(e)
                                }))
                            }))
                        }, a._handleContextOpen = function(e) {
                            var t = null == e ? void 0 : e.target;
                            a.setState({
                                contextMenu: {
                                    menu: a._getContextMenu(),
                                    anchor: t
                                }
                            })
                        }, a._handleContextClose = function() {
                            a.setState({
                                contextMenu: !1
                            })
                        }, a.state = {
                            hover: !1,
                            contextMenu: !1
                        }, a
                    }
                    return (0, o.default)(n, [{
                        key: "_getContextMenu",
                        value: function() {
                            var e = [];
                            return e.push((0, k.jsx)(m.DropdownItem, {
                                a8n: "get-directions",
                                action: this._handleDirection,
                                children: d.fbt._("Get directions", null, {
                                    hk: "MwnzW"
                                })
                            }, "direction")), e.push((0, k.jsx)(m.DropdownItem, {
                                a8n: "send-message",
                                action: this._handleMessage,
                                children: d.fbt._("Message", null, {
                                    hk: "mZ5DE"
                                })
                            }, "message")), e
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e = this.props,
                                t = e.id,
                                n = e.accuracy,
                                a = e.isMe,
                                i = e.markerSize,
                                o = h.ContactCollection.assertGet(t),
                                l = (0, k.jsx)("div", {
                                    className: y.default.name,
                                    children: (0, k.jsx)(C.Name, {
                                        ellipsify: !0,
                                        you: !0,
                                        contact: o
                                    })
                                }),
                                u = null != n ? (0, k.jsx)("div", {
                                    className: y.default.status,
                                    children: _.default.t(550, {
                                        accuracy: n,
                                        _plural: n
                                    })
                                }) : null,
                                d = a ? null : (0, k.jsx)("div", {
                                    onClick: this._handleContextOpen,
                                    className: y.default.menuButton,
                                    children: (0, k.jsx)(b.default, {
                                        name: "down"
                                    })
                                }),
                                c = (0, k.jsx)("div", {
                                    className: y.default.triangle
                                }),
                                f = !a && this.state.contextMenu ? (0, k.jsx)(S.UIE, {
                                    displayName: "LiveLocationPopupContextMenu",
                                    escapable: !0,
                                    popable: !0,
                                    requestDismiss: this._handleContextClose,
                                    children: (0, k.jsx)(j.default, {
                                        contextMenu: this.state.contextMenu
                                    })
                                }) : null;
                            return (0, k.jsxs)("div", {
                                className: (0, s.default)(y.default.container, (0, r.default)({}, y.default.twoLines, !!u)),
                                style: {
                                    transform: `translateX(calc(-50% + ${i/2}px))`
                                },
                                children: [(0, k.jsxs)("div", {
                                    className: y.default.popup,
                                    onMouseOver: this.mouseEnter,
                                    onMouseEnter: this.mouseEnter,
                                    onMouseDown: this.mouseLeave,
                                    onMouseUp: this.mouseEnter,
                                    onMouseLeave: this.mouseLeave,
                                    children: [l, u, d]
                                }), c, f]
                            })
                        }
                    }]), n
                }(c.Component);
            t.default = E, E.displayName = "LiveLocationPopup"
        },
        70099: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                return (0, o.jsx)("div", {
                    className: e.inactive ? r.default.inactive : r.default.offline,
                    onClick: e.onClick,
                    children: (0, o.jsxs)("div", {
                        children: [(0, o.jsx)("div", {
                            className: r.default.circle,
                            children: (0, o.jsx)(i.default, {
                                name: e.svgName
                            })
                        }), (0, o.jsx)("div", {
                            className: r.default.text,
                            children: e.text
                        })]
                    })
                })
            };
            var r = a(n(81964)),
                i = a(n(7665)),
                o = n(85893)
        },
        60880: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(63038)),
                i = n(48360),
                o = n(67294),
                l = a(n(68389)),
                u = n(91285),
                s = n(85456),
                d = a(n(9844)),
                c = n(85893),
                f = function(e) {
                    var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
                        n = e;
                    t && (n += 59);
                    var a = 3600,
                        r = Math.floor(n / a),
                        i = n % a,
                        o = Math.floor(i / 60);
                    return {
                        hours: r,
                        minutes: o
                    }
                },
                p = function(e) {
                    var t, n, a, r;
                    return e.isMe ? (t = e.remainingTime(), n = f(t, !0), a = n.hours, r = n.minutes, a > 0 ? r > 0 ? d.default.t(558, {
                        hours: a,
                        minutes: r
                    }) : d.default.t(557, {
                        hours: a,
                        _plural: a
                    }) : d.default.t(559, {
                        minutes: r,
                        _plural: r
                    })) : function(e) {
                        var t = f(e),
                            n = t.hours,
                            a = t.minutes;
                        return n > 0 ? a > 0 ? d.default.t(568, {
                            hours: n,
                            minutes: a
                        }) : d.default.t(567, {
                            hours: n,
                            _plural: n
                        }) : a > 0 ? d.default.t(569, {
                            minutes: a,
                            _plural: a
                        }) : i.fbt._("Updated just now", null, {
                            hk: "29EIVi"
                        })
                    }(e.elapsedTime())
                },
                h = function(e) {
                    var t = e.participant,
                        n = (0, o.useState)((function() {
                            return p(t)
                        })),
                        a = (0, r.default)(n, 2),
                        i = a[0],
                        d = a[1];
                    (0, u.useListener)(t, t.isMe ? "change:expiration" : "change:lastUpdated", (function(e) {
                        return d(p(e))
                    }));
                    var f = (0, l.default)((function() {
                            return d(p(t))
                        }), 6e4),
                        h = (0, r.default)(f, 2),
                        m = h[0],
                        v = h[1],
                        g = (0, s.useManualTimeout)((function() {
                            d(p(t)), m()
                        })),
                        _ = (0, r.default)(g, 1)[0],
                        x = t.expiration,
                        C = t.lastUpdated;
                    return (0, o.useEffect)((function() {
                        var e = function(e) {
                            return e.isMe ? e.remainingTime() : e.elapsedTime()
                        }(t) % 60;
                        v(), _(1e3 * e)
                    }), [x, C]), (0, c.jsx)("span", {
                        children: i
                    })
                };
            t.default = h
        },
        10532: (e, t) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.getLatDiff = function(e) {
                return r(e / n)
            }, t.getLngDiff = function(e, t) {
                var i = n * Math.cos(a(t));
                return r(e / i)
            }, t.getMetersBetweenLatLngs = function(e, t, r, i) {
                var o = a(r - e),
                    l = a(i - t),
                    u = Math.sin(o / 2) * Math.sin(o / 2) + Math.cos(a(e)) * Math.cos(a(r)) * Math.sin(l / 2) * Math.sin(l / 2),
                    s = 2 * Math.atan2(Math.sqrt(u), Math.sqrt(1 - u));
                return n * s
            }, t.getMetersPerPixel = function(e, t) {
                var n = Math.cos(e * Math.PI / 180),
                    a = 1 / Math.pow(2, t);
                return 156543.03392 * n * a
            };
            var n = 6371e3;

            function a(e) {
                return e * (Math.PI / 180)
            }

            function r(e) {
                return e * (180 / Math.PI)
            }
        },
        76885: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(48360),
                i = n(67294),
                o = a(n(77353)),
                l = a(n(53187)),
                u = a(n(18345)),
                s = n(19288),
                d = n(85893),
                c = (0, i.forwardRef)((function(e, t) {
                    return (0, d.jsxs)(l.default, {
                        ref: t,
                        children: [(0, d.jsx)(s.DrawerHeader, {
                            a8n: "drawer-title-auto-download",
                            title: r.fbt._("Media Auto-Download", null, {
                                hk: "2iFTSV"
                            }),
                            onBack: e.onClose,
                            type: s.DRAWER_HEADER_TYPE.LARGE
                        }), (0, d.jsx)(u.default, {
                            children: (0, d.jsx)(o.default, {}, "auto-download")
                        })]
                    })
                }));
            t.default = c
        },
        64533: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(63038)),
                i = a(n(84646)),
                o = a(n(65668)),
                l = n(48360),
                u = n(67294),
                s = a(n(7539)),
                d = n(65901),
                c = a(n(53187)),
                f = a(n(81218)),
                p = a(n(18345)),
                h = n(19288),
                m = a(n(46821)),
                v = a(n(454)),
                g = a(n(74715)),
                _ = n(1577),
                x = n(26574),
                C = n(50215),
                y = a(n(9844)),
                b = n(64759),
                S = a(n(68401)),
                j = n(76110),
                k = a(n(49309)),
                E = n(80385),
                w = a(n(7665)),
                T = n(22552),
                I = n(68544),
                P = n(85893);

            function M(e) {
                var t, n = e.ephemeralDuration,
                    a = e.handleEphemeralDurationClick;
                if (!(0, b.isDisappearingModeEnabled)()) return null;
                t = n > 0 ? (0, b.isEphemeral24HDurationEnabled)() ? (0, C.getDisappearingMessageDurationString)(n) : y.default.t(447) : y.default.t(446);
                var r = (0, P.jsx)(w.default, {
                    className: S.default.chevronIcon,
                    name: "chevron-right-alt",
                    directional: !0
                });
                return (0, P.jsx)(m.default, {
                    children: (0, P.jsxs)(f.default, {
                        onClick: a,
                        side: r,
                        multiline: !0,
                        children: [(0, P.jsx)("div", {
                            className: S.default.header,
                            children: (0, P.jsx)(T.TextHeader, {
                                level: "3",
                                theme: "title",
                                children: l.fbt._("Disappearing messages", null, {
                                    hk: "384ocn"
                                })
                            })
                        }), (0, P.jsx)(T.TextParagraph, {
                            theme: "muted",
                            children: t
                        })]
                    })
                })
            }
            var O = (0, u.forwardRef)((function(e, t) {
                var n = e.participants,
                    a = void 0 === n ? [] : n,
                    l = e.onSubmit,
                    f = (0, u.useRef)(null),
                    C = (0, u.useRef)(null),
                    T = (0, u.useState)(e.subject || ""),
                    O = (0, r.default)(T, 2),
                    A = O[0],
                    L = O[1],
                    D = (0, u.useState)(e.thumb),
                    N = (0, r.default)(D, 2),
                    R = N[0],
                    F = N[1],
                    B = (0, u.useState)(e.full),
                    U = (0, r.default)(B, 2),
                    G = U[0],
                    H = U[1],
                    W = (0, u.useState)((function() {
                        var e, t, n;
                        if ((0, b.isDisappearingModeEnabled)()) {
                            var a = (0, _.getMaybeMeUser)();
                            a && (n = (0, x.getDisappearingModeSettingForUser)(a))
                        }
                        return null !== (e = null === (t = n) || void 0 === t ? void 0 : t.duration) && void 0 !== e ? e : 0
                    })),
                    V = (0, r.default)(W, 2),
                    z = V[0],
                    q = V[1];
                (0, u.useEffect)((function() {
                    var e;
                    null === (e = f.current) || void 0 === e || e.restoreFocus()
                }), []);
                var K = (0, s.default)((function() {
                        var e = (0, v.default)(A.trim());
                        l(e, R, G, z, a)
                    })),
                    Y = A.trim().length > 0,
                    Q = Y ? (0, P.jsx)("div", {
                        className: S.default.nextButton,
                        children: (0, P.jsx)(E.Round, {
                            a8nText: "create-group-btn",
                            onClick: K,
                            children: (0, P.jsx)(w.default, {
                                name: "checkmark-medium"
                            })
                        })
                    }) : null;
                return (0, u.useImperativeHandle)(t, (function() {
                    return {
                        restoreFocus: function() {
                            var e;
                            return null === (e = f.current) || void 0 === e ? void 0 : e.restoreFocus()
                        },
                        getElement: function() {
                            return C.current
                        }
                    }
                })), (0, P.jsxs)(c.default, {
                    children: [(0, P.jsx)(h.DrawerHeader, {
                        title: y.default.t(669),
                        type: h.DRAWER_HEADER_TYPE.LARGE,
                        onBack: e.onBack
                    }), (0, P.jsxs)(p.default, {
                        children: [(0, P.jsxs)(m.default, {
                            children: [(0, P.jsx)("div", {
                                className: S.default.section,
                                children: (0, P.jsx)(j.PhotoPickerLoadable, {
                                    type: k.default.GROUP,
                                    attachToChat: !1,
                                    startImage: G,
                                    onImageSet: function(e, t) {
                                        F(e), H(t)
                                    }
                                })
                            }), (0, P.jsx)("div", {
                                "data-a8n": i.default.key("group-subject"),
                                className: S.default.section,
                                ref: C,
                                children: (0, P.jsx)(I.TextInput, {
                                    ref: f,
                                    value: A,
                                    maxLength: 25,
                                    showRemaining: !0,
                                    onChange: function(e) {
                                        L(e)
                                    },
                                    placeholder: y.default.t(510),
                                    onEnter: Y ? K : function() {},
                                    supportsEmoji: !0
                                })
                            })]
                        }), (0, P.jsx)(M, {
                            ephemeralDuration: z,
                            handleEphemeralDurationClick: function() {
                                d.Cmd.openModal((0, P.jsx)(g.default, {
                                    initialDuration: z,
                                    onDurationSelected: q
                                }))
                            }
                        }), (0, P.jsx)(o.default, {
                            transitionName: "btn",
                            children: Q
                        })]
                    })]
                })
            }));
            t.default = O
        },
        93581: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(34575)),
                i = a(n(93913)),
                o = a(n(2205)),
                l = a(n(99842)),
                u = a(n(63105)),
                s = a(n(41609)),
                d = a(n(91966)),
                c = a(n(84646)),
                f = a(n(22060)),
                p = a(n(11845)),
                h = a(n(82309)),
                m = a(n(65668)),
                v = a(n(94184)),
                g = n(48360),
                _ = n(67294),
                x = n(84533),
                C = n(65901),
                y = a(n(86777)),
                b = n(20050),
                S = a(n(6080)),
                j = a(n(53187)),
                k = a(n(18345)),
                E = n(19288),
                w = n(75993),
                T = a(n(23803)),
                I = a(n(92546)),
                P = n(2629),
                M = n(32012),
                O = a(n(9844)),
                A = a(n(6672)),
                L = a(n(98755)),
                D = n(80385),
                N = n(96197),
                R = n(85651),
                F = a(n(7665)),
                B = n(92428),
                U = a(n(17746)),
                G = n(85893),
                H = (0, B.genId)("max_participant_toast"),
                W = function(e) {
                    (0, o.default)(n, e);
                    var t = (0, l.default)(n);

                    function n() {
                        var e;
                        (0, r.default)(this, n);
                        for (var a = arguments.length, i = new Array(a), o = 0; o < a; o++) i[o] = arguments[o];
                        return (e = t.call.apply(t, [this].concat(i))).state = {
                            searchText: "",
                            participants: e.props.participants,
                            shouldFocus: !0,
                            isBusy: !1
                        }, e.flatListController = new I.default, e.setRefParticipantList = function(t) {
                            e.refParticipantList = t
                        }, e.setRefList = function(t) {
                            e.refList = t
                        }, e._handleKeyDown = function(t) {
                            if ("Backspace" === t.key && !e.state.searchText && !(0, s.default)(e.state.participants)) {
                                t.preventDefault();
                                var n = e.state.participants;
                                e.setState({
                                    participants: n.slice(0, n.length - 1),
                                    shouldFocus: !0
                                })
                            }
                        }, e._handleInput = function(t) {
                            e.setState({
                                searchText: t.target.value
                            })
                        }, e._handleReset = function() {
                            e.setState({
                                searchText: "",
                                shouldFocus: !0
                            })
                        }, e.focus = function() {
                            p.default.focus(e.refInput)
                        }, e._handleBack = function() {
                            e.props.onBack()
                        }, e._handleContinue = function() {
                            e.props.onContinue(e.state.participants)
                        }, e._handleDelete = function(t, n) {
                            var a = (0, u.default)(e.state.participants, (function(e) {
                                return !e.id.equals(n.id)
                            }));
                            e.setState({
                                participants: a,
                                shouldFocus: !a.length
                            })
                        }, e._handleContactClick = function(t, n) {
                            e.state.participants.find((function(e) {
                                return e.id.equals(n.id)
                            })) ? e._removeContact(n) : n.isBlocked() ? C.Cmd.openModal((0, G.jsx)(y.default, {
                                title: O.default.t(136),
                                onOK: function() {
                                    e._unblockAndAddContact(n), C.Cmd.closeModal()
                                },
                                onCancel: function() {
                                    return C.Cmd.closeModal()
                                },
                                okText: g.fbt._("Yes", null, {
                                    hk: "12b9aE"
                                }),
                                cancelText: g.fbt._("No", null, {
                                    hk: "4G38V6"
                                }),
                                children: g.fbt._("The contact you have selected is blocked. Would you like to unblock them and add them to the group?", null, {
                                    hk: "3i4hjJ"
                                })
                            })) : e.addContact(n)
                        }, e._handleFocusList = function(t) {
                            e.refList && (t.preventDefault(), t.stopPropagation(), f.default.shouldIndicateFocus(), e.refList && e.refList.focusFirst())
                        }, e._handleFocusParticipants = function(t) {
                            t.repeat || e.refInput && 0 !== e.refInput.selectionStart || e.refParticipantList && (t.preventDefault(), t.stopPropagation(), e.refParticipantList && e.refParticipantList.focusLast())
                        }, e._handleSelectFirst = function(t) {
                            t.preventDefault(), t.stopPropagation();
                            var n = e.getFilteredContacts()[0];
                            n && e._handleContactClick(t, n)
                        }, e._handleFocusSearch = function() {
                            f.default.shouldIndicateFocus(), p.default.focus(e.refInput)
                        }, e.setRefInput = function(t) {
                            e.refInput = t
                        }, e._setRefSizer = function(t) {
                            e._refSizer = t
                        }, e
                    }
                    return (0, i.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            this.focus()
                        }
                    }, {
                        key: "componentDidUpdate",
                        value: function() {
                            this._adjustInput()
                        }
                    }, {
                        key: "getFilteredContacts",
                        value: function() {
                            var e = (0, d.default)(b.ContactCollection.getFilteredContacts(), this.state.participants),
                                t = this.state.searchText;
                            if (!t) return e;
                            t = O.default.accentFold(t);
                            var n = (0, h.default)(t);
                            return e.filter((function(e) {
                                return e.searchMatch(t, n)
                            }))
                        }
                    }, {
                        key: "_adjustInput",
                        value: function() {
                            if (this.refInput) {
                                var e, t = this.refInput.offsetParent.offsetWidth - 10,
                                    n = this._refSizer.offsetWidth,
                                    a = n > t ? t : n;
                                this.refInput.style.width = a + "px", e = t - this.refInput.offsetLeft - a > 0 ? t - this.refInput.offsetLeft : t, this.refInput.style.width = e + "px", this.state.shouldFocus && this.focus()
                            }
                        }
                    }, {
                        key: "addContact",
                        value: function(e) {
                            var t = this.state.participants,
                                n = (0, P.getGroupSizeLimit)();
                            if (t.length >= n) {
                                var a = O.default.t(49, {
                                    max: n
                                });
                                C.Cmd.openToast((0, G.jsx)(B.Toast, {
                                    msg: a,
                                    id: H
                                }))
                            } else this.setState({
                                participants: t.concat(e),
                                searchText: "",
                                shouldFocus: !0
                            })
                        }
                    }, {
                        key: "_removeContact",
                        value: function(e) {
                            var t = this.state.participants;
                            this.setState({
                                participants: (0, u.default)(t, (function(t) {
                                    return !e.id.equals(t.id)
                                })),
                                shouldFocus: !0
                            })
                        }
                    }, {
                        key: "_unblockAndAddContact",
                        value: function(e) {
                            var t = this;
                            this.setState({
                                isBusy: !0
                            }), (0, x.unblockContact)(e).then((function() {
                                t.props.getUnmountSignal().aborted || (t.addContact(e), t.setState({
                                    isBusy: !1
                                }))
                            })).catch((function() {
                                t.setState({
                                    isBusy: !1
                                })
                            }))
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e, t, n, a;
                            this.state.isBusy ? a = (0, G.jsx)("div", {
                                className: A.default.spinner,
                                children: (0, G.jsx)(R.Spinner, {
                                    stroke: 6,
                                    size: 24
                                })
                            }) : (null === (e = this.state.participants) || void 0 === e ? void 0 : e.length) && (a = (0, G.jsx)(D.Round, {
                                a8nText: "group-participants-btn",
                                onClick: this._handleContinue,
                                children: (0, G.jsx)(F.default, {
                                    name: "arrow-forward",
                                    directional: !0
                                })
                            }));
                            var r = (null === (t = this.state.participants) || void 0 === t ? void 0 : t.length) ? " " : O.default.t(506),
                                i = {
                                    down: this._handleFocusList,
                                    enter: this.state.searchText ? this._handleSelectFirst : (null === (n = this.state.participants) || void 0 === n ? void 0 : n.length) ? this._handleContinue : function() {},
                                    up: this._handleFocusParticipants
                                };
                            i[O.default.LR("left", "right")] = this._handleFocusParticipants;
                            var o, l = this.getFilteredContacts();
                            return o = 0 === l.length ? (0, G.jsx)(w.SearchContacts, {}) : (0, G.jsx)(S.default, {
                                ref: this.setRefList,
                                flatListController: this.flatListController,
                                contacts: l,
                                onClick: this._handleContactClick,
                                onFocusSearch: this._handleFocusSearch,
                                showPersonGroupDivisionHeader: !1
                            }), (0, G.jsxs)(j.default, {
                                children: [(0, G.jsx)(E.DrawerHeader, {
                                    title: g.fbt._("Add group participants", null, {
                                        hk: "24QOhm"
                                    }),
                                    type: E.DRAWER_HEADER_TYPE.LARGE,
                                    onBack: this._handleBack
                                }), (0, G.jsxs)(k.default, {
                                    children: [(0, G.jsx)("div", {
                                        className: A.default.search,
                                        children: (0, G.jsx)("div", {
                                            children: (0, G.jsxs)(M.HotKeys, {
                                                handlers: i,
                                                className: A.default.inputLine,
                                                children: [(0, G.jsx)("div", {
                                                    "data-list-scroll-container": !0,
                                                    children: (0, G.jsx)(L.default, {
                                                        ref: this.setRefParticipantList,
                                                        theme: "list-names",
                                                        contacts: this.state.participants,
                                                        onDelete: this._handleDelete,
                                                        onFocusSearch: this._handleFocusSearch
                                                    })
                                                }), (0, G.jsx)("input", {
                                                    "data-a8n": c.default.key("inputarea"),
                                                    className: (0, v.default)(A.default.inputarea, N.SELECTABLE_INPUT_CSS_CLASS),
                                                    ref: this.setRefInput,
                                                    placeholder: r,
                                                    onKeyDown: this._handleKeyDown,
                                                    onChange: this._handleInput,
                                                    value: this.state.searchText,
                                                    type: "text"
                                                }), (0, G.jsx)("span", {
                                                    className: A.default.inputareaSizer,
                                                    ref: this._setRefSizer,
                                                    children: this.state.searchText
                                                })]
                                            })
                                        })
                                    }), (0, G.jsx)(T.default, {
                                        className: A.default.contacts,
                                        flatListControllers: [this.flatListController],
                                        children: o
                                    }), (0, G.jsx)(m.default, {
                                        transitionName: "btn",
                                        className: A.default.drawerSection,
                                        children: a
                                    })]
                                })]
                            })
                        }
                    }]), n
                }(_.Component);
            W.defaultProps = {
                participants: []
            }, W.displayName = "NewGroupParticipantsDrawer";
            var V = (0, U.default)(W);
            t.default = V
        },
        71238: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(67294),
                i = a(n(26004)),
                o = a(n(53187)),
                l = a(n(18345)),
                u = n(19288),
                s = a(n(9844)),
                d = n(66821),
                c = n(85893),
                f = (0, r.forwardRef)((function(e, t) {
                    return (0, c.jsxs)(o.default, {
                        ref: t,
                        children: [(0, c.jsx)(u.DrawerHeader, {
                            a8n: "drawer-title-notifications",
                            title: s.default.t(679),
                            onBack: e.onClose,
                            type: u.DRAWER_HEADER_TYPE.LARGE
                        }), (0, c.jsx)(l.default, {
                            children: (0, c.jsx)(i.default, {
                                mute: d.MuteCollection.globalMute(),
                                reactionsMute: d.MuteCollection.globalReactionsMute()
                            }, "notifications")
                        })]
                    })
                }));
            t.default = f
        },
        9245: (e, t, n) => {
            "use strict";
            var a = n(6089).default,
                r = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(n(81109)),
                o = r(n(87757)),
                l = r(n(48926)),
                u = r(n(63038)),
                s = r(n(272)),
                d = n(74355),
                c = n(48360),
                f = n(67294),
                p = r(n(56720)),
                h = n(91285),
                m = n(50857),
                v = n(95860),
                g = n(29830),
                _ = n(91404),
                x = n(65901),
                C = n(20050),
                y = r(n(53187)),
                b = r(n(18345)),
                S = n(19288),
                j = r(n(34271)),
                k = r(n(46821)),
                E = n(1577),
                w = n(25206),
                T = r(n(9844)),
                I = n(64759),
                P = r(n(39540)),
                M = n(52796),
                O = n(10066),
                A = r(n(7665)),
                L = n(92428),
                D = n(85893),
                N = {
                    drawerTitle: {
                        paddingTop: "hc2u0oym",
                        paddingEnd: "f9ovudaz",
                        paddingBottom: "myel2vfb",
                        paddingStart: "gx1rr48f"
                    },
                    chevronRightIcon: {
                        color: "g4ti3y4y",
                        height: "qgpfrw6h"
                    },
                    readReceiptsCheckBoxWrapper: {
                        width: "jswlwoyz",
                        display: "p357zi0d",
                        justifyContent: "ac2vgrno"
                    }
                };

            function R(e, t) {
                var n, r, i, T, O = (0, f.useState)((function() {
                        return B((0, E.getUserPrivacySettings)())
                    })),
                    A = (0, u.default)(O, 2),
                    R = A[0],
                    H = A[1],
                    W = (0, f.useState)({
                        status: null,
                        groupadd: null,
                        last: null,
                        profile: null
                    }),
                    V = (0, u.default)(W, 2),
                    z = V[0],
                    q = V[1],
                    K = (0, s.default)(C.ContactCollection.get((0, E.getMaybeMeUser)()), "ContactCollection.get(getMaybeMeUser())"),
                    Y = (0, m.useModelValues)(K, ["disappearingModeDuration"]).disappearingModeDuration;

                function Q(e) {
                    var t = B(e.privacySettings);
                    if (null == t) throw new Error(`Incomplete privacy settings: ${Object.keys((0,E.getUserPrivacySettings)()).join(", ")}`);
                    H(t), q((0, M.disallowedRowsToLists)(e.privacyDisallowedRows))
                }(0, f.useEffect)((function() {
                    var t = new a;
                    return null == R && (0, l.default)(o.default.mark((function n() {
                            var a;
                            return o.default.wrap((function(n) {
                                for (;;) switch (n.prev = n.next) {
                                    case 0:
                                        return n.prev = 0, n.next = 3, (0, v.updatePrivacySettings)();
                                    case 3:
                                        if (a = n.sent, !t.signal.aborted) {
                                            n.next = 6;
                                            break
                                        }
                                        return n.abrupt("return");
                                    case 6:
                                        Q(a), n.next = 14;
                                        break;
                                    case 9:
                                        n.prev = 9, n.t0 = n.catch(0), __LOG__(4, void 0, new Error, !0)`privacy_settings_drawer: get privacy settings failed ${n.t0.stack}`, SEND_LOGS("privacy_settings_drawer: get privacy settings failed"), e.onClose(), x.Cmd.openToast((0, D.jsx)(L.Toast, {
                                            id: (0, L.genId)(),
                                            msg: c.fbt._("Failed to get privacy settings, please try again.", null, {
                                                hk: "2UOq9J"
                                            })
                                        }));
                                    case 14:
                                    case "end":
                                        return n.stop()
                                }
                            }), n, null, [
                                [0, 9]
                            ])
                        })))(),
                        function() {
                            return t.abort()
                        }
                }), []), (0, f.useEffect)((function() {
                    var e = new a;
                    return (0, l.default)(o.default.mark((function t() {
                            var n;
                            return o.default.wrap((function(t) {
                                for (;;) switch (t.prev = t.next) {
                                    case 0:
                                        return t.next = 2, (0, M.queryDisallowedLists)();
                                    case 2:
                                        if (n = t.sent, !e.signal.aborted) {
                                            t.next = 5;
                                            break
                                        }
                                        return t.abrupt("return");
                                    case 5:
                                        q(n);
                                    case 6:
                                    case "end":
                                        return t.stop()
                                }
                            }), t)
                        })))(),
                        function() {
                            return e.abort()
                        }
                }), []), (0, h.useListener)(x.Cmd, "account_sync_for_privacy", (function(e) {
                    Q(e)
                }));
                var X = c.fbt._("Privacy", null, {
                    hk: "WHXuP"
                });
                if (!R) return (0, D.jsx)(P.default, {
                    title: X,
                    error: !1
                });
                var Z, J, $ = (0, I.isDefaultDisappearingMessagesEnabled)(),
                    ee = R.lastSeen,
                    te = R.profilePicture,
                    ne = R.about,
                    ae = R.groupAdd,
                    re = R.readReceipts;
                return (0, D.jsxs)(y.default, {
                    ref: t,
                    theme: "striped",
                    testid: "privacy-settings-drawer",
                    children: [(0, D.jsx)(S.DrawerHeader, {
                        a8n: "drawer-title-privacy",
                        title: X,
                        onBack: e.onClose,
                        type: S.DRAWER_HEADER_TYPE.LARGE
                    }), (0, D.jsxs)(b.default, {
                        children: [(0, D.jsxs)(k.default, {
                            title: c.fbt._("Who can see my personal info", null, {
                                hk: "2dUwwx"
                            }),
                            titleXStyle: N.drawerTitle,
                            theme: "padding-no-vertical",
                            animation: !1,
                            ellipsify: !1,
                            children: [(0, D.jsx)(F, {
                                title: c.fbt._("Last seen", null, {
                                    hk: "4GuTlB"
                                }),
                                onClick: function() {
                                    e.onOpenVisibilityEditDrawer("lastSeen")
                                },
                                children: (0, D.jsx)("span", {
                                    children: U(ee, null === (n = z.last) || void 0 === n ? void 0 : n.disallowedList.length)
                                })
                            }), (0, D.jsx)(F, {
                                title: c.fbt._("Profile photo", null, {
                                    hk: "rs5RE"
                                }),
                                onClick: function() {
                                    e.onOpenVisibilityEditDrawer("profilePicture")
                                },
                                children: (0, D.jsx)("span", {
                                    children: U(te, null === (r = z.profile) || void 0 === r ? void 0 : r.disallowedList.length)
                                })
                            }), (0, D.jsx)(F, {
                                title: c.fbt._("About", null, {
                                    hk: "3PhlvU"
                                }),
                                onClick: function() {
                                    e.onOpenVisibilityEditDrawer("about")
                                },
                                children: (0, D.jsx)("span", {
                                    children: U(ne, null === (i = z.status) || void 0 === i ? void 0 : i.disallowedList.length)
                                })
                            }), (0, D.jsx)(j.default, {
                                title: c.fbt._("Read receipts", null, {
                                    hk: "4p0OAK"
                                }),
                                icon: (0, D.jsx)("div", {
                                    className: (0, p.default)(N.readReceiptsCheckBoxWrapper),
                                    children: (0, D.jsx)(_.CheckBox, {
                                        checked: re === d.ALL_NONE.all,
                                        stopPropagation: !0,
                                        onChange: function() {}
                                    })
                                }),
                                theme: "privacy",
                                isLastItem: !0,
                                onClick: function() {
                                    ! function() {
                                        G.apply(this, arguments)
                                    }(R, H, re)
                                },
                                children: (0, D.jsx)("span", {
                                    children: c.fbt._("If turned off, you won't send or receive Read receipts. Read receipts are always sent for group chats.", null, {
                                        hk: "1N51oN"
                                    })
                                })
                            })]
                        }), $ && (0, D.jsx)(k.default, {
                            theme: "padding-no-vertical",
                            title: c.fbt._("Disappearing messages", null, {
                                hk: "1u7uAT"
                            }),
                            titleXStyle: N.drawerTitle,
                            animation: !1,
                            children: (0, D.jsx)(F, {
                                title: c.fbt._("Default message timer", null, {
                                    hk: "2tVUXb"
                                }),
                                onClick: e.onOpenEphemeralityDrawer,
                                isLastItem: !0,
                                testid: "ddm-settings-item",
                                children: (0, D.jsx)("span", {
                                    "data-testid": "ddm-settings-item-value",
                                    children: (Z = Y, J = (0, w.getAllDurations)().find((function(e) {
                                        return e.value === Z
                                    })), void 0 === J && "number" == typeof Z ? (__LOG__(4, void 0, new Error, !0)`Could not find matching duration label for duration: "${Z}"`, SEND_LOGS("No matching duration label"), c.fbt._("On", null, {
                                        hk: "1HkDTU"
                                    })) : void 0 === J ? c.fbt._("Off", null, {
                                        hk: "1ueKlZ"
                                    }) : J.label)
                                })
                            })
                        }), (0, D.jsxs)(k.default, {
                            theme: $ ? "padding" : "padding-no-vertical",
                            animation: !1,
                            children: [(0, D.jsx)(F, {
                                title: c.fbt._("Groups", null, {
                                    hk: "3ajQWI"
                                }),
                                onClick: function() {
                                    e.onOpenVisibilityEditDrawer("groupAdd")
                                },
                                children: (0, D.jsx)("span", {
                                    children: U(ae, null === (T = z.groupadd) || void 0 === T ? void 0 : T.disallowedList.length)
                                })
                            }), (0, D.jsx)(F, {
                                title: c.fbt._("Blocked contacts", null, {
                                    hk: "YxQ5T"
                                }),
                                isLastItem: !0,
                                onClick: e.onOpenBlockedContacts,
                                children: (0, D.jsx)("span", {
                                    children: 0 === g.BlocklistCollection.length ? c.fbt._("None", null, {
                                        hk: "3cviAo"
                                    }) : g.BlocklistCollection.length
                                })
                            })]
                        })]
                    })]
                })
            }

            function F(e) {
                var t = e.title,
                    n = e.onClick,
                    a = e.isLastItem,
                    r = e.children,
                    i = e.testid;
                return (0, D.jsx)(j.default, {
                    title: t,
                    theme: "privacy",
                    icon: (0, D.jsx)(A.default, {
                        name: T.default.isRTL() ? "chevron-left" : "chevron-right",
                        iconXstyle: N.chevronRightIcon
                    }),
                    onClick: n,
                    isLastItem: a,
                    testid: i,
                    children: r
                })
            }

            function B(e) {
                var t = e.about,
                    n = e.groupAdd,
                    a = e.lastSeen,
                    r = e.profilePicture,
                    i = e.readReceipts;
                if (null != t && null != n && null != a && null != r && null != i) return {
                    about: t,
                    groupAdd: n,
                    lastSeen: a,
                    profilePicture: r,
                    readReceipts: i
                }
            }

            function U(e, t) {
                switch (e) {
                    case d.VISIBILITY.all:
                        return c.fbt._("Everyone", null, {
                            hk: "3oWv8q"
                        });
                    case d.VISIBILITY.contacts:
                        return c.fbt._("My contacts", null, {
                            hk: "3jgOvC"
                        });
                    case d.VISIBILITY.contact_blacklist:
                        return null == t ? "" : T.default.t(700, {
                            count: t,
                            _plural: t
                        });
                    case d.VISIBILITY.none:
                        return c.fbt._("Nobody", null, {
                            hk: "ghOKj"
                        });
                    default:
                        return ""
                }
            }

            function G() {
                return (G = (0, l.default)(o.default.mark((function e(t, n, a) {
                    var r;
                    return o.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                if (r = a === d.ALL_NONE.all ? d.ALL_NONE.none : d.ALL_NONE.all, n((0, i.default)((0, i.default)({}, t), {}, {
                                        readReceipts: r
                                    })), e.prev = 2, r !== d.ALL_NONE.none) {
                                    e.next = 8;
                                    break
                                }
                                return e.next = 6, (0, O.setPrivacyForOneCategory)({
                                    name: "readreceipts",
                                    value: "none"
                                });
                            case 6:
                                e.next = 10;
                                break;
                            case 8:
                                return e.next = 10, (0, O.setPrivacyForOneCategory)({
                                    name: "readreceipts",
                                    value: "all"
                                });
                            case 10:
                                e.next = 16;
                                break;
                            case 12:
                                e.prev = 12, e.t0 = e.catch(2), __LOG__(3, void 0, void 0, !0)`privacy_settings_drawer: set readreceipts failed ${e.t0.stack}`, SEND_LOGS("privacy_settings_drawer: set readreceipts failed"), x.Cmd.openToast((0, D.jsx)(L.Toast, {
                                    id: (0, L.genId)(),
                                    msg: c.fbt._("Failed to update Read receipts, please try again.", null, {
                                        hk: "3xUfMr"
                                    })
                                }));
                            case 16:
                            case "end":
                                return e.stop()
                        }
                    }), e, null, [
                        [2, 12]
                    ])
                })))).apply(this, arguments)
            }
            var H = (0, f.forwardRef)(R);
            t.default = H
        },
        13315: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.PrivacyVisibilityEditDrawer = void 0;
            var r = a(n(87757)),
                i = a(n(48926)),
                o = a(n(63038)),
                l = n(73435),
                u = n(74355),
                s = n(48360),
                d = n(67294),
                c = a(n(56720)),
                f = a(n(22630)),
                p = n(65901),
                h = a(n(53187)),
                m = a(n(18345)),
                v = n(19288),
                g = a(n(46821)),
                _ = n(1577),
                x = n(2629),
                C = a(n(53201)),
                y = n(10066),
                b = n(92428),
                S = a(n(76080)),
                j = n(85893),
                k = {
                    description: {
                        marginTop: "c46o30wg",
                        marginEnd: "jnwc1y2a",
                        marginBottom: "du8bjn1j",
                        marginStart: "svoq16ka",
                        fontSize: "f8jlpxt4",
                        color: "eruf1vka",
                        lineHeight: "r5qsrrlp"
                    },
                    visibilityOption: {
                        display: "f804f6gw",
                        paddingTop: "a71rq12o",
                        paddingEnd: "f9ovudaz",
                        paddingBottom: "pcbmd69e",
                        paddingStart: "gx1rr48f",
                        textAlign: "ml4r5409"
                    },
                    visibilityOptionText: {
                        fontSize: "enbbiyaj",
                        lineHeight: "r5qsrrlp",
                        display: "l7jjieqr"
                    },
                    visibilityOptionSpace: {
                        display: "l7jjieqr",
                        width: "m0s4cjtr"
                    }
                };

            function E(e, t) {
                var n = e.category,
                    a = e.onClose,
                    f = (0, d.useState)((function() {
                        var e, t, a, r, i = (0, _.getUserPrivacySettings)();
                        switch (n) {
                            case "about":
                                return null !== (e = i.about) && void 0 !== e ? e : u.VISIBILITY.all;
                            case "profilePicture":
                                return null !== (t = i.profilePicture) && void 0 !== t ? t : u.VISIBILITY.all;
                            case "lastSeen":
                                return null !== (a = i.lastSeen) && void 0 !== a ? a : u.VISIBILITY.all;
                            case "groupAdd":
                                return null !== (r = i.groupAdd) && void 0 !== r ? r : u.VISIBILITY.all
                        }
                    })),
                    S = (0, o.default)(f, 2),
                    E = S[0],
                    P = S[1];

                function M() {
                    return O.apply(this, arguments)
                }

                function O() {
                    return (O = (0, i.default)(r.default.mark((function e(t) {
                        var a;
                        return r.default.wrap((function(e) {
                            for (;;) switch (e.prev = e.next) {
                                case 0:
                                    if (t !== E) {
                                        e.next = 2;
                                        break
                                    }
                                    return e.abrupt("return");
                                case 2:
                                    if (P(t), "readreceipts" !== (a = (0, y.privacyWebNameToServerName)(n))) {
                                        e.next = 6;
                                        break
                                    }
                                    throw new Error("visibility_edit_drawer: category can not be readreceipts");
                                case 6:
                                    e.prev = 6, e.t0 = t, e.next = e.t0 === u.VISIBILITY.none ? 10 : e.t0 === u.VISIBILITY.contacts ? 15 : e.t0 === u.VISIBILITY.all ? 18 : 21;
                                    break;
                                case 10:
                                    if ("groupadd" !== a) {
                                        e.next = 12;
                                        break
                                    }
                                    throw new Error("visibility_edit_drawer: groupadd can not be none");
                                case 12:
                                    return e.next = 14, (0, y.setPrivacyForOneCategory)({
                                        name: a,
                                        value: "none"
                                    });
                                case 14:
                                    return e.abrupt("return");
                                case 15:
                                    return e.next = 17, (0, y.setPrivacyForOneCategory)({
                                        name: a,
                                        value: "contacts"
                                    });
                                case 17:
                                    return e.abrupt("return");
                                case 18:
                                    return e.next = 20, (0, y.setPrivacyForOneCategory)({
                                        name: a,
                                        value: "all"
                                    });
                                case 20:
                                    return e.abrupt("return");
                                case 21:
                                    e.next = 29;
                                    break;
                                case 23:
                                    e.prev = 23, e.t1 = e.catch(6), P(E), e.t1 instanceof l.ServerStatusCodeError && 409 === e.t1.statusCode || (__LOG__(3, void 0, void 0, !0)`visibility_edit_drawer: set visiblity option failed ${e.t1.stack}`, SEND_LOGS("visibility_edit_drawer: set visiblity option failed")), p.Cmd.openToast((0, j.jsx)(b.Toast, {
                                        id: (0, b.genId)(),
                                        msg: s.fbt._("Failed to update privacy settings. Please try again.", null, {
                                            hk: "h89q3"
                                        })
                                    }));
                                case 29:
                                case "end":
                                    return e.stop()
                            }
                        }), e, null, [
                            [6, 23]
                        ])
                    })))).apply(this, arguments)
                }
                var A = (0, j.jsx)(I, {
                        text: s.fbt._("Everyone", null, {
                            hk: "3oWv8q"
                        }),
                        selected: E === u.VISIBILITY.all,
                        onClick: function() {
                            M(u.VISIBILITY.all)
                        }
                    }),
                    L = (0, j.jsx)(I, {
                        text: s.fbt._("My contacts", null, {
                            hk: "3jgOvC"
                        }),
                        selected: E === u.VISIBILITY.contacts,
                        onClick: function() {
                            M(u.VISIBILITY.contacts)
                        }
                    }),
                    D = "groupAdd" === n || (0, x.privacyAllowContactsExceptEnabled)() ? (0, j.jsx)(I, {
                        text: s.fbt._("My contacts except...", null, {
                            hk: "2tCWPL"
                        }),
                        selected: E === u.VISIBILITY.contact_blacklist,
                        onClick: function() {
                            p.Cmd.openModal((0, j.jsx)(C.default, {
                                category: n,
                                onConfirm: function() {
                                    P(u.VISIBILITY.contact_blacklist)
                                }
                            }))
                        }
                    }) : null,
                    N = "groupAdd" === n ? null : (0, j.jsx)(I, {
                        text: s.fbt._("Nobody", null, {
                            hk: "ghOKj"
                        }),
                        selected: E === u.VISIBILITY.none,
                        onClick: function() {
                            M(u.VISIBILITY.none)
                        }
                    }),
                    R = "groupAdd" === n ? (0, j.jsx)("div", {
                        className: (0, c.default)(k.description),
                        children: s.fbt._("Admins who can't add you to a group will have the option of inviting you privately instead.", null, {
                            hk: "2dA7i1"
                        })
                    }) : null;
                return (0, j.jsxs)(h.default, {
                    ref: t,
                    children: [(0, j.jsx)(v.DrawerHeader, {
                        a8n: `drawer-title-${n}`,
                        title: w(n),
                        onBack: a,
                        type: v.DRAWER_HEADER_TYPE.LARGE
                    }), (0, j.jsx)(m.default, {
                        children: (0, j.jsxs)(g.default, {
                            theme: "padding-no-vertical",
                            animation: !1,
                            children: [(0, j.jsx)("div", {
                                className: (0, c.default)(k.description),
                                children: T(n)
                            }), A, L, D, N, R]
                        })
                    })]
                })
            }

            function w(e) {
                switch (e) {
                    case "about":
                        return s.fbt._("About", null, {
                            hk: "3PhlvU"
                        });
                    case "profilePicture":
                        return s.fbt._("Profile photo", null, {
                            hk: "rs5RE"
                        });
                    case "lastSeen":
                        return s.fbt._("Last seen", null, {
                            hk: "4GuTlB"
                        });
                    case "groupAdd":
                        return s.fbt._("Groups", null, {
                            hk: "3ajQWI"
                        })
                }
            }

            function T(e) {
                switch (e) {
                    case "about":
                        return s.fbt._("Who can see my About", null, {
                            hk: "2MFyDi"
                        });
                    case "profilePicture":
                        return s.fbt._("Who can see my Profile Photo", null, {
                            hk: "4iDmTO"
                        });
                    case "lastSeen":
                        return s.fbt._("If you don't share your Last Seen, you won't be able to see other people's Last Seen", null, {
                            hk: "24m816"
                        });
                    case "groupAdd":
                        return s.fbt._("Who can add me to groups", null, {
                            hk: "3Q0mva"
                        })
                }
            }

            function I(e) {
                var t = e.text,
                    n = e.selected,
                    a = e.onClick;
                return (0, j.jsxs)(S.default, {
                    xstyle: k.visibilityOption,
                    onClick: a,
                    children: [(0, j.jsx)(f.default, {
                        checked: n,
                        radio: !0,
                        hover: !1,
                        systemUncheckedColor: !0,
                        onChange: a
                    }), (0, j.jsx)("span", {
                        className: (0, c.default)(k.visibilityOptionSpace)
                    }), (0, j.jsx)("span", {
                        className: (0, c.default)(k.visibilityOptionText),
                        children: t
                    })]
                })
            }
            var P = (0, d.forwardRef)(E);
            t.PrivacyVisibilityEditDrawer = P
        },
        98533: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(63038)),
                i = a(n(34575)),
                o = a(n(93913)),
                l = a(n(2205)),
                u = a(n(99842)),
                s = a(n(84646)),
                d = a(n(3208)),
                c = a(n(3136)),
                f = n(48360),
                p = n(67294),
                h = (a(n(56720)), n(50857)),
                m = a(n(22190)),
                v = n(79614),
                g = a(n(51599)),
                _ = n(72743),
                x = n(31098),
                C = n(65901),
                y = a(n(86777)),
                b = n(73929),
                S = a(n(42973)),
                j = a(n(53187)),
                k = a(n(18345)),
                E = n(96706),
                w = n(19288),
                T = a(n(46821)),
                I = a(n(69337)),
                P = a(n(454)),
                M = n(27968),
                O = a(n(69520)),
                A = a(n(50177)),
                L = n(1577),
                D = n(2629),
                N = n(58771),
                R = a(n(9844)),
                F = a(n(73728)),
                B = n(31779),
                U = a(n(50507)),
                G = n(52867),
                H = a(n(32892)),
                W = n(9835),
                V = a(n(85043)),
                z = a(n(70486)),
                q = n(3298),
                K = n(4099),
                Y = n(96197),
                Q = n(7080),
                X = n(98945),
                Z = a(n(7665)),
                J = n(22552),
                $ = n(68544),
                ee = a(n(93958)),
                te = n(85893),
                ne = function(e) {
                    (0, l.default)(n, e);
                    var t = (0, u.default)(n);

                    function n() {
                        var e;
                        (0, i.default)(this, n);
                        for (var a = arguments.length, r = new Array(a), o = 0; o < a; o++) r[o] = arguments[o];
                        return (e = t.call.apply(t, [this].concat(r))).openMerchantDetailsForm = function() {
                            var t = (0, L.getMeUser)();
                            e.push((0, te.jsx)(B.MerchantDetailsFormFlowLoadable, {
                                contactId: t,
                                onBack: e.pop
                            }))
                        }, e.openCatalogDetailsForm = function(t) {
                            (0, D.canManageCollections)() && q.QPL.markerStart(K.QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW, {
                                annotations: {
                                    string: {
                                        EntryPoint: "Profile"
                                    }
                                }
                            }), (0, x.createCatalogManagementFlowObject)((function(n, a) {
                                e.push((0, te.jsx)(x.CatalogManagementFlowLoadable, {
                                    catalog: a,
                                    catalogId: n,
                                    product: t,
                                    onBack: e.pop
                                }))
                            }))
                        }, e
                    }
                    return (0, o.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            this.push((0, te.jsx)(ue, {
                                openMerchantDetailsForm: this.openMerchantDetailsForm,
                                openCatalogDetailsForm: this.openCatalogDetailsForm,
                                conn: this.props.conn,
                                contact: this.props.contact,
                                profilePicThumb: this.props.profilePicThumb,
                                status: this.props.status,
                                onClose: this.pop
                            }))
                        }
                    }]), n
                }(A.default);
            t.default = ne;
            var ae = {
                businessComplianceIconWrapper: {
                    paddingEnd: "htg54gjl",
                    color: "s4k44ver"
                },
                businessComplianceText: {
                    flexGrow: "ggj6brxn",
                    color: "tviruh8d"
                },
                businessComplianceRightAltIcon: {
                    color: "cs9t9or5"
                }
            };

            function re(e) {
                var t = e.contact,
                    n = e.profilePicThumb;
                return (0, te.jsx)(T.default, {
                    theme: "padding-no-margin",
                    children: (0, te.jsx)(S.default, {
                        contact: t,
                        editable: !0,
                        profilePicThumb: n,
                        hideStatusV3: !0
                    })
                })
            }

            function ie(e) {
                var t = e.profilePicThumb;
                return (0, te.jsx)("div", {
                    className: V.default.photoPickerWrapper,
                    children: (0, te.jsx)(z.default, {
                        profilePicThumb: t
                    })
                })
            }

            function oe(e) {
                var t = e.onTitleClick;
                return (0, te.jsx)(T.default, {
                    title: (0, te.jsxs)(M.FlexRow, {
                        align: "center",
                        children: [(0, te.jsx)(O.default, {
                            xstyle: ae.businessComplianceIconWrapper,
                            children: (0, te.jsx)(Z.default, {
                                name: "business"
                            })
                        }), (0, te.jsx)(O.default, {
                            xstyle: ae.businessComplianceText,
                            children: f.fbt._("Business details", null, {
                                hk: "m9xzp"
                            })
                        }), (0, te.jsx)(O.default, {
                            children: (0, te.jsx)(Z.default, {
                                xstyle: ae.businessComplianceRightAltIcon,
                                name: "chevron-right-alt",
                                directional: !0
                            })
                        })]
                    }),
                    theme: "refresh-padding-title",
                    titleOnClick: t
                })
            }

            function le(e) {
                var t = e.contact;
                return (0, D.bizLinkedAccountsEnabled)() && t.businessProfile ? (0, te.jsx)(F.default, {
                    businessProfile: t.businessProfile,
                    sectionTheme: "refresh-padding-title",
                    showEditHint: !0
                }) : null
            }

            function ue(e) {
                var t = e.onClose,
                    n = e.openCatalogDetailsForm,
                    a = e.openMerchantDetailsForm,
                    i = (0, ee.default)(),
                    o = (0, p.useContext)(E.DrawerContext),
                    l = (0, m.default)(),
                    u = (0, h.useModelValues)(e.contact, ["businessProfile", "id", "statusMute"]),
                    x = (0, h.useModelValues)(e.profilePicThumb, ["imgFull", "id"]),
                    S = (0, h.useModelValues)(e.status, ["status"]),
                    M = (0, h.useModelValues)(e.conn, ["pushname"]),
                    O = (0, p.useRef)(!1),
                    A = (0, p.useRef)(!1),
                    F = (0, p.useState)(M.pushname),
                    B = (0, r.default)(F, 2),
                    z = B[0],
                    q = B[1],
                    K = (0, p.useState)(S.status),
                    Z = (0, r.default)(K, 2),
                    ne = Z[0],
                    ae = Z[1],
                    ue = (0, p.useState)(!1),
                    se = (0, r.default)(ue, 2),
                    de = se[0],
                    ce = se[1],
                    fe = (0, p.useState)(!1),
                    pe = (0, r.default)(fe, 2),
                    he = pe[0],
                    me = pe[1],
                    ve = (0, p.useState)(null),
                    ge = (0, r.default)(ve, 2),
                    _e = ge[0],
                    xe = ge[1],
                    Ce = u.businessProfile,
                    ye = (b.Conn.isSMB ? (0, G.getProductCatalogContext)(o) : {}).session;
                if ((0, p.useEffect)((function() {
                        b.Conn.isSMB && (_.CatalogCollection.findCarouselCatalog((0, L.getMeUser)()).then((function(e) {
                            var t = Array.isArray(e) ? e[0] : e;
                            xe(t)
                        })).catch((function() {})), ye.isAccidental() && C.Cmd.setDrawerContext("left", (0, G.buildProductCatalogContext)(new W.ProductCatalogSession, U.default.BIZ_PLATFORM.SMB, U.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_SETTINGS)))
                    }), []), b.Conn.isSMB && ye.isAccidental()) return null;
                var be, Se, je, ke, Ee, we = function(e) {
                        return !!(e || "").trim()
                    },
                    Te = function() {
                        O.current = !0
                    },
                    Ie = function() {
                        C.Cmd.openModal((0, te.jsx)(y.default, {
                            onOK: function() {
                                return C.Cmd.closeModal()
                            },
                            okText: f.fbt._("OK", null, {
                                hk: "2KEeHb"
                            }),
                            children: R.default.t(125)
                        }))
                    },
                    Pe = function() {
                        O.current = !1, ae(S.status)
                    },
                    Me = function() {
                        if (null != ne) {
                            O.current = !1;
                            var e = S.status;
                            (0, P.default)(ne) !== e && (me(!0), (0, X.setMyStatus)((0, P.default)(ne)).then((function() {
                                l.aborted || me(!1)
                            })))
                        } else Pe()
                    },
                    Oe = function(e) {
                        ae(e)
                    },
                    Ae = function() {
                        A.current = !0
                    },
                    Le = function() {
                        var e, t, n = z;
                        return (n = (n || "").trim()) ? /[\u2714\u2705\u2611]/g.test(n) && (e = f.fbt._("That emoji isn't allowed in your name", null, {
                            hk: "1JrVVd"
                        })) : e = R.default.t(118), !e || (t = e, C.Cmd.openModal((0, te.jsx)(y.default, {
                            onOK: function() {
                                return C.Cmd.closeModal()
                            },
                            okText: f.fbt._("OK", null, {
                                hk: "2KEeHb"
                            }),
                            children: t
                        })), !1)
                    },
                    De = function() {
                        if (A.current = !1, b.Conn.canSetMyPushname()) {
                            var e = z;
                            (e = (0, P.default)((e || "").trim())) !== M.pushname && (ce(!0), (0, Q.setPushname)(e).then((function() {
                                l.aborted || ce(!1)
                            })))
                        }
                    },
                    Ne = function(e) {
                        q(e)
                    },
                    Re = function() {
                        A.current = !1, q(M.pushname)
                    },
                    Fe = function() {
                        if ((0, D.blockCatalogCreationECommerceComplianceIndia)(u.businessProfile)) return null;
                        return (0, D.bannedShopsEnabled)() && (0, v.hasShop)(Ce) && (0, v.isShopBanned)(Ce) ? (0, te.jsx)(T.default, {
                            theme: "padding-large",
                            children: (0, te.jsxs)("div", {
                                className: V.default.content,
                                children: [(0, te.jsx)("div", {
                                    className: V.default.bannedShopInfoText,
                                    children: f.fbt._("This shop has been disabled for not complying with our Business or Commerce policies.", null, {
                                        hk: "39dpXJ"
                                    })
                                }), (0, te.jsx)(g.default, {
                                    type: "primary",
                                    onClick: function() {
                                        (0, D.bannedShopsEnabled)() && (0, v.goToCommerceManager)(Ce)
                                    },
                                    children: f.fbt._("Commerce Manager", null, {
                                        hk: "2ZKedl"
                                    })
                                })]
                            })
                        }) : (0, te.jsx)(H.default, {
                            businessProfile: u.businessProfile,
                            catalog: _e,
                            openCatalog: n
                        })
                    },
                    Be = function() {
                        var e = O.current || he ? ne : S.status;
                        return (0, te.jsx)($.TextInput, {
                            a8n: "col-main-profile-input",
                            value: e,
                            editable: !0,
                            pending: he,
                            showRemaining: !0,
                            validate: we,
                            maxLength: 139,
                            onBeginEdit: Te,
                            onChange: Oe,
                            onSave: Me,
                            onError: Ie,
                            onCancel: Pe,
                            theme: "text-input",
                            fieldName: f.fbt._("About", null, {
                                hk: "2FinUX"
                            }),
                            supportsEmoji: !0,
                            lockable: !0,
                            lowProfile: !0,
                            constrainedWidth: !0
                        })
                    },
                    Ue = (0, D.canSeeBizProfileV3)() && b.Conn.isSMB ? (0, te.jsx)(re, {
                        contact: u,
                        profilePicThumb: x
                    }) : (0, te.jsx)(ie, {
                        profilePicThumb: x
                    }),
                    Ge = b.Conn.isSMB ? (0, te.jsxs)("div", {
                        children: [(0, te.jsx)(I.default, {}), (0, D.canSeeECommerceComplianceIndiaSoftEnforcement)(u.id.user) && (0, te.jsx)(oe, {
                            onTitleClick: a
                        }), Fe(), (0, te.jsx)(le, {
                            contact: u
                        }), (ke = (0, te.jsx)(N.IconSection, {
                            icon: "info",
                            content: Be()
                        }), Ee = (0, te.jsx)(N.IconSection, {
                            icon: "call-phone",
                            iconClass: V.default.phoneIcon,
                            content: (0, te.jsxs)("div", {
                                children: [(0, te.jsx)(Y.SelectableDiv, {
                                    className: V.default.phoneField,
                                    selectable: !0,
                                    children: (0, c.default)((0, L.assertGetMe)())
                                }), (0, te.jsx)("div", {
                                    className: V.default.infoText,
                                    children: f.fbt._("Your phone number can be edited from the app on your mobile device.", null, {
                                        hk: "2FXNXR"
                                    })
                                })]
                            })
                        }), (0, te.jsxs)(T.default, {
                            title: f.fbt._("About and Phone Number", null, {
                                hk: "3lw6jL"
                            }),
                            theme: "refresh",
                            children: [ke, Ee]
                        }))]
                    }) : (be = A.current || de ? z : M.pushname, Se = b.Conn.isSMB ? f.fbt._("This is your business name. It will be visible to your WhatsApp customers.", null, {
                        hk: "AABda"
                    }) : R.default.t(705), je = (0, te.jsx)(T.default, {
                        a8nText: "col-main-profile",
                        title: f.fbt._("About", null, {
                            hk: "7nIJP"
                        }),
                        theme: "padding",
                        children: Be()
                    }), (0, te.jsxs)(te.Fragment, {
                        children: [(0, te.jsx)(T.default, {
                            a8nText: "col-main-profile",
                            title: f.fbt._("Your name", null, {
                                hk: "VtujB"
                            }),
                            theme: "padding",
                            children: (0, te.jsx)($.TextInput, {
                                a8n: "col-main-profile-input",
                                value: be,
                                editable: b.Conn.canSetMyPushname(),
                                pending: de,
                                showRemaining: !0,
                                validate: Le,
                                maxLength: d.default.MAX_PUSHNAME_LENGTH,
                                onBeginEdit: Ae,
                                onChange: Ne,
                                onSave: De,
                                onCancel: Re,
                                supportsEmoji: !0,
                                lockable: !0,
                                lowProfile: !0,
                                constrainedWidth: !0
                            })
                        }), (0, te.jsx)("div", {
                            "data-a8n": s.default.key("pushname-description"),
                            className: V.default.nameWrapper,
                            children: (0, te.jsx)(J.TextSpan, {
                                theme: "muted",
                                children: Se
                            })
                        }), je]
                    })),
                    He = R.default.t(600);
                return (0, te.jsxs)(j.default, {
                    children: [(0, te.jsx)(w.DrawerHeader, {
                        a8n: "drawer-title-profile",
                        title: He,
                        onBack: function() {
                            t ? t() : null == i || i.uie.requestDismiss()
                        },
                        type: w.DRAWER_HEADER_TYPE.LARGE
                    }), (0, te.jsxs)(k.default, {
                        children: [Ue, Ge]
                    })]
                })
            }
        },
        85492: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                return (0, o.jsx)(r.default, {
                    primary: e.choiceText,
                    onClick: e.onChoose,
                    theme: "radio-button-row",
                    image: (0, o.jsx)(i.default, {
                        checked: e.isChosen,
                        hover: !1,
                        radio: !0,
                        onChange: e.onChoose,
                        systemUncheckedColor: !0
                    })
                })
            };
            var r = a(n(88186)),
                i = a(n(22630)),
                o = n(85893)
        },
        50656: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(48360),
                i = n(67294),
                o = (a(n(56720)), a(n(53187))),
                l = a(n(18345)),
                u = n(19288),
                s = a(n(46821)),
                d = n(49012),
                c = n(27968),
                f = a(n(69520)),
                p = n(63765),
                h = n(85651),
                m = n(59457),
                v = a(n(7665)),
                g = n(22552),
                _ = n(85893),
                x = {
                    drawerSection: {
                        paddingTop: "msavwer2",
                        paddingBottom: "slgfab0f"
                    },
                    description: {
                        paddingTop: "msavwer2",
                        paddingEnd: "bcymb0na",
                        paddingBottom: "slgfab0f",
                        paddingStart: "e8k79tju"
                    }
                };

            function C(e, t) {
                e.settings;
                var n = e.onClose;
                return (0, _.jsxs)(o.default, {
                    ref: t,
                    children: [(0, _.jsx)(u.DrawerHeader, {
                        title: r.fbt._("Request Account Info", null, {
                            hk: "2VisVV"
                        }),
                        onBack: n,
                        type: u.DRAWER_HEADER_TYPE.LARGE
                    }), (0, _.jsx)(l.default, {
                        children: (0, _.jsxs)(s.default, {
                            animation: !1,
                            xstyle: x.drawerSection,
                            children: [(0, _.jsx)(c.FlexRow, {
                                align: "center",
                                justify: "center",
                                children: (0, _.jsx)(c.FlexRow, {
                                    align: "center",
                                    justify: "center",
                                    children: (0, _.jsx)(f.default, {
                                        children: (0, _.jsx)(v.default, {
                                            name: "document"
                                        })
                                    })
                                })
                            }), (0, _.jsxs)(g.TextDiv, {
                                xstyle: x.description,
                                children: [r.fbt._("Create a report of your WhatsApp account information and settings, which you can access or port to another app. This report does not include your messages.", null, {
                                    hk: "13xpse"
                                }), " ", (0, _.jsx)(d.ExternalLink, {
                                    href: (0, m.requestAccountInfoUrl)(),
                                    children: r.fbt._("Learn More", null, {
                                        hk: "bPizH"
                                    })
                                })]
                            }), (0, _.jsx)(i.Suspense, {
                                fallback: (0, _.jsx)(c.FlexRow, {
                                    align: "center",
                                    justify: "center",
                                    children: (0, _.jsx)(c.FlexRow, {
                                        align: "center",
                                        justify: "center",
                                        children: (0, _.jsx)(f.default, {
                                            children: (0, _.jsx)(h.Spinner, {
                                                size: 50,
                                                stroke: 4
                                            })
                                        })
                                    })
                                }),
                                children: (0, _.jsx)(p.RequestAccountInfoSettingsDrawerBodyContent, {})
                            })]
                        })
                    })]
                })
            }
            var y = (0, i.forwardRef)(C);
            t.default = y
        },
        17175: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.RequestAccountInfoSettingsDrawerAvailable = function(e) {
                var t = e.gdprStatus,
                    n = t.creation,
                    a = t.documentMessage,
                    g = t.expiration,
                    _ = e.onDeleteSuccess,
                    x = (0, i.maybeNumberOrThrowIfTooLarge)(a.fileLength),
                    C = (0, h.useGdprDownload)(),
                    y = (0, r.default)(C, 2),
                    b = y[0],
                    S = y[1],
                    j = (0, p.useGdprDelete)(),
                    k = (0, r.default)(j, 2),
                    E = k[0],
                    w = k[1];
                return (0, m.jsxs)(m.Fragment, {
                    children: [(0, m.jsx)("div", {
                        className: (0, u.default)(v.settingsShare),
                        children: (0, m.jsxs)(s.default, {
                            disabled: b,
                            icon: (0, m.jsx)(c.default, {
                                name: "settings-share"
                            }),
                            onClick: function() {
                                return S(a)
                            },
                            children: [(0, m.jsx)(f.TextDiv, {
                                children: o.fbt._("Export report", null, {
                                    hk: "2v7hn5"
                                })
                            }), (0, m.jsx)(f.TextDiv, {
                                theme: "muted",
                                children: null != x ? o.fbt._("{availability_date}  {file_size}", [o.fbt._param("availability_date", l.default.unix(n).format("MMMM D, YYYY")), o.fbt._param("file_size", d.default.filesize(x))], {
                                    hk: "24AFfI"
                                }) : o.fbt._("{availability_date}", [o.fbt._param("availability_date", l.default.unix(n).format("MMMM D, YYYY"))], {
                                    hk: "1flGQw"
                                })
                            })]
                        })
                    }), (0, m.jsx)("div", {
                        className: (0, u.default)(v.delete),
                        children: (0, m.jsx)(s.default, {
                            disabled: E,
                            icon: (0, m.jsx)(c.default, {
                                name: "delete"
                            }),
                            onClick: function() {
                                w().then((function(e) {
                                    e.success && _()
                                }))
                            },
                            children: (0, m.jsx)(f.TextDiv, {
                                children: o.fbt._("Delete and request new report", null, {
                                    hk: "4g8Hdm"
                                })
                            })
                        })
                    }), (0, m.jsx)(f.TextDiv, {
                        theme: "muted",
                        xstyle: v.availability,
                        children: o.fbt._("Your report is available to download until {availability_date}", [o.fbt._param("availability_date", l.default.unix(g).format("MMMM D, YYYY"))], {
                            hk: "4prRdU"
                        })
                    })]
                })
            };
            var r = a(n(63038)),
                i = n(54116),
                o = n(48360),
                l = a(n(30381)),
                u = (n(67294), a(n(56720))),
                s = a(n(61876)),
                d = a(n(9844)),
                c = a(n(7665)),
                f = n(22552),
                p = n(12036),
                h = n(90960),
                m = n(85893),
                v = {
                    availability: {
                        marginTop: "nylzjxre",
                        marginStart: "r6x3u63k",
                        marginEnd: "lfum0007"
                    },
                    delete: {
                        borderBottom: "n8n2xqzm"
                    },
                    settingsShare: {
                        borderTop: "dl47i6rc",
                        borderBottom: "n8n2xqzm"
                    }
                }
        },
        63765: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.RequestAccountInfoSettingsDrawerBodyContent = function() {
                var e = (0, u.useGdprStatus)(),
                    t = (0, r.default)(e, 2),
                    n = t[0],
                    a = t[1];
                switch (null == n ? void 0 : n.type) {
                    case "GdprAvailableStatusResponse":
                        return (0, s.jsx)(i.RequestAccountInfoSettingsDrawerAvailable, {
                            gdprStatus: n,
                            onDeleteSuccess: a
                        });
                    case "GdprPendingStatusResponse":
                        return (0, s.jsx)(l.RequestAccountInfoSettingsDrawerPending, {
                            gdprStatus: n
                        });
                    default:
                        return (0, s.jsx)(o.RequestAccountInfoSettingsDrawerInitial, {
                            onRequestSuccess: a
                        })
                }
            };
            var r = a(n(63038)),
                i = n(17175),
                o = n(57828),
                l = n(36346),
                u = n(25678),
                s = n(85893)
        },
        57828: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.RequestAccountInfoSettingsDrawerInitial = function(e) {
                var t = e.onRequestSuccess,
                    n = (0, s.useGdprRequest)(),
                    a = (0, r.default)(n, 2),
                    f = a[0],
                    p = a[1];
                return (0, d.jsx)(l.default, {
                    className: (0, o.default)(c),
                    color: "accent",
                    disabled: f,
                    icon: (0, d.jsx)(u.default, {
                        name: "settings-document"
                    }),
                    onClick: function() {
                        p().then((function(e) {
                            e.success && t()
                        }))
                    },
                    children: i.fbt._("Request Report", null, {
                        hk: "2HyjPn"
                    })
                })
            };
            var r = a(n(63038)),
                i = n(48360),
                o = a(n(56720)),
                l = a(n(61876)),
                u = a(n(7665)),
                s = n(6015),
                d = n(85893),
                c = {
                    borderTop: "dl47i6rc",
                    borderBottom: "n8n2xqzm"
                }
        },
        36346: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.RequestAccountInfoSettingsDrawerPending = function(e) {
                var t = e.gdprStatus.timestamp,
                    n = r.Clock.daysDelta(r.Clock.globalUnixTime(), t);
                return (0, c.jsxs)(c.Fragment, {
                    children: [(0, c.jsxs)(u.default, {
                        className: (0, l.default)(f.businessHours),
                        icon: (0, c.jsx)(s.default, {
                            name: "business-hours"
                        }),
                        onClick: function() {},
                        children: [(0, c.jsx)(d.TextDiv, {
                            children: i.fbt._("Request sent", null, {
                                hk: "3HaEMW"
                            })
                        }), (0, c.jsx)(d.TextDiv, {
                            theme: "muted",
                            children: i.fbt._("Ready by {availability_date}", [i.fbt._param("availability_date", o.default.unix(t).format("MMMM D, YYYY"))], {
                                hk: "3zr2Aw"
                            })
                        })]
                    }), (0, c.jsxs)("div", {
                        className: (0, l.default)(f.footer),
                        children: [(0, c.jsx)(d.TextDiv, {
                            theme: "muted",
                            xstyle: f.availability,
                            children: i.fbt._({
                                "*": "Your report will be ready in about {number} days. You'll have a few weeks to download your report after it's available.",
                                _1: "Your report will be ready in about 1 day. You'll have a few weeks to download your report after it's available."
                            }, [i.fbt._plural(n, "number", n)], {
                                hk: "124kzp"
                            })
                        }), (0, c.jsx)(d.TextDiv, {
                            theme: "muted",
                            children: i.fbt._("Your request will be canceled if you make changes to your account such as changing your number or deleting your account.", null, {
                                hk: "2OLjoV"
                            })
                        })]
                    })]
                })
            };
            var r = n(73466),
                i = n(48360),
                o = a(n(30381)),
                l = (n(67294), a(n(56720))),
                u = a(n(61876)),
                s = a(n(7665)),
                d = n(22552),
                c = n(85893),
                f = {
                    availability: {
                        marginBottom: "or9x5nie"
                    },
                    businessHours: {
                        borderTop: "dl47i6rc",
                        borderBottom: "n8n2xqzm"
                    },
                    footer: {
                        paddingTop: "msavwer2",
                        paddingStart: "e8k79tju",
                        paddingEnd: "bcymb0na"
                    }
                }
        },
        75331: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = (0, l.default)(_.getGlobalSecurityNotifications, _.setGlobalSecurityNotifications),
                    n = (0, r.default)(t, 2),
                    a = n[0],
                    b = n[1],
                    S = o.fbt._("Get notified when your security code changes for a contact in an end-to-end encrypted chat. If you have multiple devices, this setting must be enabled on each device where you want to get notifications.", null, {
                        hk: "1ByD6u"
                    });
                (0, u.getABPropConfigValue)("adv_v2_m6") && (S = o.fbt._("Get notified when your security code changes for a contacts phone. If you have multiple devices, this setting must be enabled on each device where you want to get notifications.", null, {
                    hk: "JvjfY"
                }));
                return (0, k.jsxs)(d.default, {
                    children: [(0, k.jsx)(f.DrawerHeader, {
                        a8n: "drawer-title-security",
                        title: o.fbt._("Security", null, {
                            hk: "2nir1E"
                        }),
                        onBack: e.onClose,
                        type: f.DRAWER_HEADER_TYPE.LARGE
                    }), (0, k.jsx)(c.default, {
                        children: (0, k.jsxs)(p.default, {
                            theme: "padding-large",
                            animation: !1,
                            children: [(0, C.isPrivacyNarrativeV1Enabled)() ? (0, k.jsx)(h.E2eSummarySecurityDrawer, {}) : (0, k.jsx)(w, {}), (0, k.jsxs)(v.FlexRow, {
                                xstyle: E.controls,
                                children: [(0, k.jsx)("div", {
                                    className: y.default.checkbox,
                                    children: (0, k.jsx)(s.CheckBox, {
                                        onChange: b,
                                        checked: a
                                    })
                                }), (0, k.jsxs)(g.default, {
                                    children: [(0, k.jsx)("div", {
                                        className: y.default.header,
                                        children: (0, k.jsx)(j.TextSpan, {
                                            theme: "title",
                                            children: o.fbt._("Show security notifications on this computer", null, {
                                                hk: "3QRZVR"
                                            })
                                        })
                                    }), (0, k.jsxs)(j.TextDiv, {
                                        theme: "muted",
                                        children: [S, " ", (0, k.jsx)(m.ExternalLink, {
                                            href: (0, i.getCodeChangeFaqUrl)(),
                                            children: x.default.t(547)
                                        })]
                                    })]
                                })]
                            })]
                        })
                    })]
                })
            };
            var r = a(n(63038)),
                i = n(8917),
                o = n(48360),
                l = (a(n(56720)), a(n(5991))),
                u = n(18297),
                s = n(91404),
                d = a(n(53187)),
                c = a(n(18345)),
                f = n(19288),
                p = a(n(46821)),
                h = n(28831),
                m = n(49012),
                v = n(27968),
                g = a(n(69520)),
                _ = n(1577),
                x = a(n(9844)),
                C = n(64759),
                y = a(n(91760)),
                b = n(59457),
                S = a(n(7665)),
                j = n(22552),
                k = n(85893),
                E = {
                    icon: {
                        position: "g0rxnol2",
                        boxSizing: "cm280p3y",
                        width: "cnprk2g9",
                        height: "j74n1y92",
                        paddingTop: "n1yiu2zv",
                        marginTop: "tt8xd2xn",
                        marginEnd: "k1jo73ug",
                        marginBottom: "mpdn4nr2",
                        marginStart: "isfiuinm",
                        color: "t63vcusb",
                        backgroundColor: "je90h8md",
                        borderTopStartRadius: "g9p5wyxn",
                        borderTopEndRadius: "i0tg5vk9",
                        borderBottomEndRadius: "aoogvgrq",
                        borderBottomStartRadius: "o2zu3hjb"
                    },
                    iconLock: {
                        position: "lhggkp7q",
                        start: "tkdu00h0",
                        end: "ebjesfe0",
                        top: "qq0sjtgm",
                        bottom: "lrw9n60e",
                        color: "ml33x45x"
                    },
                    controls: {
                        paddingBottom: "sq87qsu4",
                        marginTop: "ignnouf6"
                    }
                };

            function w() {
                return (0, k.jsxs)(k.Fragment, {
                    children: [(0, k.jsxs)(v.FlexColumn, {
                        xstyle: E.icon,
                        align: "center",
                        justify: "center",
                        children: [(0, k.jsx)(g.default, {
                            children: (0, k.jsx)(S.default, {
                                name: "security-shield"
                            })
                        }), (0, k.jsx)(v.FlexColumn, {
                            xstyle: E.iconLock,
                            align: "center",
                            justify: "center",
                            children: (0, k.jsx)(g.default, {
                                children: (0, k.jsx)(S.default, {
                                    name: "security-lock"
                                })
                            })
                        })]
                    }), (0, k.jsxs)("div", {
                        className: y.default.text,
                        children: [o.fbt._("Messages and calls in end-to-end encrypted chats stay between you and the people you choose. Not even WhatsApp can read or listen to them.", null, {
                            hk: "1MCVPM"
                        }), " ", (0, k.jsx)(m.ExternalLink, {
                            href: (0, b.securityUrl)(),
                            children: x.default.t(547)
                        })]
                    })]
                })
            }
        },
        93886: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.onOK,
                    n = e.name || r.fbt._("Contact", null, {
                        hk: "xBh6i"
                    }),
                    a = u.default.t(757, {
                        name: n
                    });
                return (0, s.jsx)(o.default, {
                    onOK: function() {
                        i.Cmd.closeModal(), t()
                    },
                    okText: r.fbt._("OK", null, {
                        hk: "2KEeHb"
                    }),
                    children: (0, s.jsx)("div", {
                        children: (0, s.jsx)(l.EmojiText, {
                            text: a
                        })
                    })
                })
            };
            var r = n(48360),
                i = n(65901),
                o = a(n(86777)),
                l = n(73008),
                u = a(n(9844)),
                s = n(85893)
        },
        79348: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.SettingsCheckList = function(e) {
                return (0, s.jsx)("div", {
                    className: u.default.container,
                    children: e.children
                })
            }, t.SettingsCheckListItem = function(e) {
                return (0, s.jsxs)(d, {
                    disabled: e.disabled,
                    children: [(0, s.jsx)("div", {
                        "data-a8n": i.default.key(e.a8nText),
                        className: u.default.control,
                        children: (0, s.jsx)(l.CheckBox, {
                            id: e.id,
                            onChange: e.onChange,
                            checked: e.checked,
                            disabled: e.disabled
                        })
                    }), (0, s.jsx)("label", {
                        className: u.default.label,
                        htmlFor: e.id,
                        children: e.children
                    })]
                })
            }, t.SettingsCheckListSection = d;
            var r = a(n(59713)),
                i = a(n(84646)),
                o = a(n(94184)),
                l = n(91404),
                u = a(n(97206)),
                s = n(85893);

            function d(e) {
                return (0, s.jsx)("div", {
                    className: (0, o.default)(u.default.section, (0, r.default)({}, u.default.disabled, e.disabled)),
                    children: e.children
                })
            }
        },
        77685: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(78577),
                i = n(48360),
                o = n(67294),
                l = (a(n(56720)), n(50857)),
                u = a(n(88186)),
                s = (n(65901), n(73929)),
                d = n(66834),
                c = a(n(53187)),
                f = a(n(18345)),
                p = a(n(61876)),
                h = n(19288),
                m = n(73008),
                v = n(1577),
                g = n(2629),
                _ = a(n(9844)),
                x = a(n(61359)),
                C = a(n(7665)),
                y = n(85893),
                b = {
                    icon: {
                        width: "i94gqilv",
                        height: "bmot90v7"
                    }
                };

            function S(e, t) {
                var n, a, o, S, j, k = (0, l.useModelValues)(e.settings, ["archive"]),
                    E = (0, y.jsx)(x.default, {
                        id: e.profileId
                    }),
                    w = (0, y.jsx)(d.DetailImage, {
                        id: (0, v.getMaybeMeUser)(),
                        size: 82,
                        quality: d.DetailImageQuality.High
                    }),
                    T = (0, y.jsx)(m.EmojiText, {
                        text: s.Conn.pushname,
                        ellipsify: !0,
                        titlify: !0
                    }),
                    I = (0, g.privacySettingsEnabled)();
                (0, r.isLegacyWebdBackend)() && (0, g.archiveV2Supported)() && k.archive.enabled && (S = (0, y.jsx)(p.default, {
                    icon: (0, y.jsx)(C.default, {
                        name: "archived"
                    }),
                    onClick: e.onArchiveSettings,
                    children: i.fbt._("Archived chats", null, {
                        hk: "3bOfr5"
                    })
                })), (0, r.isMDBackend)() && (a = (0, y.jsx)(p.default, {
                    a8nText: "li-security",
                    icon: (0, y.jsx)(C.default, {
                        name: "settings-security"
                    }),
                    onClick: e.onSecurity,
                    children: i.fbt._("Security", null, {
                        hk: "49DQ09"
                    })
                })), I && (o = (0, y.jsx)(p.default, {
                    a8nText: "li-privacy",
                    testid: "settings-drawer-item-privacy",
                    icon: (0, y.jsx)(C.default, {
                        name: "security-lock",
                        iconXstyle: b.icon
                    }),
                    onClick: e.onPrivacy,
                    children: i.fbt._("Privacy", null, {
                        hk: "3Cq6XQ"
                    })
                })), (0, g.webMediaAutoDownloadEnabled)() && (j = (0, y.jsx)(p.default, {
                    a8nText: "li-media-auto-download",
                    icon: (0, y.jsx)(C.default, {
                        name: "media-download"
                    }),
                    onClick: e.onMediaAutoDownload,
                    children: i.fbt._("Media auto-download", null, {
                        hk: "9NKKi"
                    })
                })), process.mas || process.windowsStore || (n = (0, y.jsx)(p.default, {
                    a8nText: "li-desktop",
                    icon: (0, y.jsx)(C.default, {
                        name: "settings-desktop"
                    }),
                    onClick: e.onDesktopSettings,
                    children: i.fbt._("Desktop settings", null, {
                        hk: "4vlowC"
                    })
                }));
                var P = (0, y.jsx)(p.default, {
                        a8nText: "li-keyboard-shortcuts",
                        icon: (0, y.jsx)(C.default, {
                            name: "settings-keyboard"
                        }),
                        onClick: e.onKeyboardShortcuts,
                        children: i.fbt._("Keyboard shortcuts", null, {
                            hk: "1uFFXP"
                        })
                    }),
                    M = I ? null : (0, y.jsx)(p.default, {
                        a8nText: "li-blocked",
                        icon: (0, y.jsx)(C.default, {
                            name: "settings-blocked"
                        }),
                        onClick: e.onBlocked,
                        children: _.default.t(593)
                    });
                return (0, y.jsxs)(c.default, {
                    ref: t,
                    theme: "settings",
                    testid: "settings-drawer",
                    children: [(0, y.jsx)(h.DrawerHeader, {
                        title: _.default.t(759),
                        onBack: e.onClose,
                        type: h.DRAWER_HEADER_TYPE.LARGE
                    }), (0, y.jsxs)(f.default, {
                        children: [(0, y.jsx)(u.default, {
                            onClick: e.onProfile,
                            image: w,
                            primary: T,
                            theme: "identity",
                            secondary: E
                        }), (0, y.jsx)(p.default, {
                            a8nText: "li-notifications",
                            icon: (0, y.jsx)(C.default, {
                                name: "settings-notifications"
                            }),
                            onClick: e.onNotifications,
                            children: _.default.t(598)
                        }), o, a, (0, g.web2FAEnabled)() && (0, y.jsx)(p.default, {
                            a8nText: "li-two-factor",
                            icon: (0, y.jsx)(C.default, {
                                name: "settings-pin"
                            }),
                            onClick: e.onTwoFactor,
                            children: i.fbt._("Two-Step Verification", null, {
                                hk: "1ZYq8m"
                            })
                        }), (0, y.jsx)(p.default, {
                            icon: (0, y.jsx)(C.default, {
                                name: "settings-theme"
                            }),
                            onClick: e.onThemeSettings,
                            children: i.fbt._("Theme", null, {
                                hk: "4zgi0L"
                            })
                        }), (0, y.jsx)(p.default, {
                            icon: (0, y.jsx)(C.default, {
                                name: "settings-wallpaper"
                            }),
                            onClick: e.onWallpaper,
                            children: i.fbt._("Chat wallpaper", null, {
                                hk: "2LOVd6"
                            })
                        }), S, M, j, (0, g.webGDPRRequestAccountInfoEnabled)() && (0, y.jsx)(p.default, {
                            icon: (0, y.jsx)(C.default, {
                                name: "settings-document",
                                iconXstyle: b.icon
                            }),
                            onClick: e.onRequestAccountInfo,
                            children: i.fbt._("Request Account Info", null, {
                                hk: "4fUjWZ"
                            })
                        }), n, P, (0, y.jsx)(p.default, {
                            a8nText: "li-help",
                            icon: (0, y.jsx)(C.default, {
                                name: "settings-help"
                            }),
                            onClick: e.onHelp,
                            children: _.default.t(594)
                        }), undefined, undefined, undefined, undefined, undefined, undefined]
                    })]
                })
            }
            var j = (0, o.forwardRef)(S);
            t.default = j
        },
        64982: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(n(63038)),
                i = n(78577),
                o = n(92013),
                l = a(n(11845)),
                u = n(80965),
                s = n(40787),
                d = n(71857),
                c = a(n(65668)),
                f = n(48360),
                p = n(67294),
                h = a(n(45764)),
                m = a(n(62905)),
                v = n(91285),
                g = a(n(44588)),
                _ = a(n(75967)),
                x = a(n(96109)),
                C = a(n(22190)),
                y = n(29656),
                b = n(65901),
                S = a(n(54864)),
                j = a(n(53187)),
                k = a(n(18345)),
                E = n(19288),
                w = n(75993),
                T = n(32012),
                I = a(n(9844)),
                P = n(91823),
                M = n(83592),
                O = n(85426),
                A = a(n(18894)),
                L = n(85651),
                D = a(n(27928)),
                N = a(n(73812)),
                R = a(n(79402)),
                F = a(n(7665)),
                B = a(n(93958)),
                U = n(85893);

            function G(e, t) {
                var n = e.starredMsgs,
                    a = e.chat,
                    G = void 0 === a ? null : a,
                    H = e.onClose,
                    W = (0, C.default)(),
                    V = (0, B.default)(),
                    z = (0, h.default)(),
                    q = (0, x.default)(),
                    K = (0, m.default)((function() {
                        return new A.default([], (function(e) {
                            return e.id.toString()
                        }))
                    })),
                    Y = (0, m.default)((function() {
                        return new A.default([], (function(e) {
                            return e.id.toString()
                        }))
                    })),
                    Q = (0, m.default)((function() {
                        return new Set
                    })),
                    X = (0, p.useRef)(0),
                    Z = (0, p.useRef)({}),
                    J = (0, p.useRef)(null),
                    $ = (0, p.useRef)(null),
                    ee = function() {
                        return O.RenderCursor.create({
                            msgCollection: n,
                            type: O.RENDER_CURSOR.STARRED_DRAWER
                        }).loadAfter(n, {
                            count: o.MSG_PRELOAD_THRESHOLD
                        })
                    },
                    te = (0, p.useState)(ee),
                    ne = (0, r.default)(te, 2),
                    ae = ne[0],
                    re = ne[1],
                    ie = function() {
                        var e = n.toArray();
                        K.current.init(e, !0), Y.current.init(e)
                    },
                    oe = (0, g.default)((function() {
                        var e = null == G ? void 0 : G.id,
                            t = n.models;
                        if (ae.getEnd(n) < t.length) re(ae.loadAfter(n));
                        else {
                            if (n.isSynced) return;
                            n.sync(e).then((function() {
                                W.aborted || ae.hasAfter(n) && re(ae.loadAfter(n))
                            })).catch((function(e) {
                                __LOG__(2)`StarredDrawer:loadEarlierMsgs failed\n${e}`
                            }))
                        }
                    })),
                    le = function(e) {
                        J.current && ((e ? e.target : document.activeElement) === J.current && (K.current.index < 0 ? K.current.setFirst(!0) : K.current.reset(!1)))
                    },
                    ue = function(e) {
                        K.current.setVal(e), Y.current.setVal(e), b.Cmd.openChatAt(e.chat, e.chat.getSearchContext(e)), b.Cmd.focusShowMsg(e.id)
                    },
                    se = function() {
                        var e = n.toArray(),
                            t = n.isSynced ? ae.getEnd(n) : Math.min(ae.getEnd(n), e.length);
                        return e = e.slice(ae.getStart(n), t), X.current = e.length, e
                    },
                    de = function(e) {
                        if (!e) return M.MSG_VISIBILITY.BELOW;
                        var t = $.current;
                        if (t) {
                            var n = t.previousSibling;
                            if (n && n instanceof HTMLElement) {
                                var a = n.clientHeight,
                                    r = t.scrollTop + a,
                                    i = r + t.clientHeight,
                                    o = e.getContainerElement();
                                return o ? o.offsetTop + o.clientHeight <= r ? M.MSG_VISIBILITY.ABOVE : o.offsetTop >= i ? M.MSG_VISIBILITY.BELOW : M.MSG_VISIBILITY.VISIBLE : M.MSG_VISIBILITY.BELOW
                            }
                        }
                    },
                    ce = function(e) {
                        var t = Z.current[e.toString()];
                        if (t) {
                            var n = t.getWrapperRef();
                            return n && "function" == typeof n.getMsgComponentRef ? n.getMsgComponentRef() : void 0
                        }
                    },
                    fe = function(e) {
                        var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                        return Q.current.has(e.toString()) && (!!t || ce(e))
                    },
                    pe = (0, _.default)((function() {
                        for (var e, t, a = se(), r = new Set, i = 0, o = X.current - 1; i < o;) {
                            var l = Math.floor((i + o) / 2),
                                u = Z.current[a[l].id.toString()];
                            de(u) === M.MSG_VISIBILITY.ABOVE ? i = l + 1 : o = l
                        }
                        for (var s = i; s < a.length; s++) {
                            var d = Z.current[a[s].id.toString()];
                            if (de(d) !== M.MSG_VISIBILITY.VISIBLE) break;
                            r.add(a[s].id.toString())
                        }
                        e = Q.current, t = r, e.forEach((function(e) {
                            if (!t.has(e)) {
                                var a = n.get(e);
                                if (null == a ? void 0 : a.isGif) {
                                    var r = ce(e);
                                    (null == r ? void 0 : r.getPlayCount()) && (null == r || r.pause())
                                }
                            }
                        })), Q.current = r
                    }), 100),
                    he = (0, _.default)((function(e) {
                        var t;
                        pe(), e.currentTarget && (t = e.currentTarget).scrollTop + u.SCROLL_FUDGE > t.scrollHeight - t.clientHeight && oe()
                    }), 100);
                (0, p.useEffect)((function() {
                    ie(), J.current && l.default.focus(J.current), !n.isSynced && n.length < o.PAGE_SIZE && q(oe), le()
                }), []), (0, p.useEffect)((function() {
                    pe()
                })), (0, v.useListener)(window, "resize", pe), (0, v.useListener)(n, ["reset", "sync"], (function() {
                    ie(), z()
                })), (0, v.useListener)(n, ["add", "remove"], (function() {
                    ie(), z()
                })), (0, v.useListener)(n, "reset", (function() {
                    Q.current = new Set, re(ee()), oe()
                }));
                var me = n.isSynced,
                    ve = n.length;
                (0, p.useEffect)((function() {
                    !me && ve < o.PAGE_SIZE && q(oe)
                }), [oe, q, me, ve]);
                var ge, _e, xe = se();
                if (_e = n.isSynced && ae.getEnd(n) >= xe.length ? null : e.starredMsgs.syncPromise ? (0, U.jsx)("div", {
                        className: D.default.more,
                        title: I.default.t(573),
                        children: (0, U.jsx)(L.Spinner, {
                            stroke: 6,
                            size: 24
                        })
                    }) : (0, U.jsx)("div", {
                        className: D.default.more,
                        children: (0, U.jsx)("div", {
                            title: I.default.t(570),
                            onClick: oe,
                            children: (0, U.jsx)(F.default, {
                                name: "refresh"
                            })
                        })
                    }), xe.length > 0) {
                    var Ce = xe.map((function(e) {
                        var t = e.type === s.MSG_TYPE.IMAGE || e.type === s.MSG_TYPE.VIDEO || e.type === s.MSG_TYPE.AUDIO;
                        return (0, U.jsx)(R.default, {
                            ref: function(t) {
                                ! function(e, t) {
                                    t ? Z.current[e.id.toString()] = t : delete Z.current[e.id.toString()]
                                }(e, t)
                            },
                            msg: e,
                            isMsgVisible: t ? fe : function() {},
                            currSelection: K.current,
                            activeSelection: Y.current,
                            onClickMsg: ue
                        }, e.id.toString())
                    }));
                    ge = (0, U.jsx)(c.default, {
                        transitionName: "slide",
                        children: Ce
                    })
                } else e.starredMsgs.isSynced ? ge = (0, U.jsx)(w.StarredMsgs, {}) : (ge = (0, U.jsx)(w.Loading, {}), _e = null);
                var ye, be = xe.length > 0 ? (0, U.jsx)(P.MenuBarItem, {
                    a8nText: "starred-menu",
                    icon: (0, U.jsx)(F.default, {
                        name: "menu"
                    }),
                    title: I.default.t(604),
                    children: (0, U.jsx)(N.default, {
                        chat: G,
                        msgs: xe
                    })
                }) : null;
                return (0, i.isMDBackend)() && (!G || G && G.endOfHistoryTransferType === y.ConversationEndOfHistoryTransferModelPropType.COMPLETE_BUT_MORE_MESSAGES_REMAIN_ON_PRIMARY || G.endOfHistoryTransferType === y.ConversationEndOfHistoryTransferModelPropType.NOT_INCLUDED_IN_HIST_SYNC) && (ye = (0, U.jsx)(S.default, {
                    theme: "md-chat-search-list",
                    children: f.fbt._("Use WhatsApp on your phone to see older starred messages.", null, {
                        hk: "1hya4S"
                    })
                })), (0, U.jsx)(j.default, {
                    theme: "gallery",
                    ref: t,
                    children: (0, U.jsxs)(T.HotKeys, {
                        className: D.default.hotKeyWraper,
                        handlers: {
                            down: function(e) {
                                e && (e.preventDefault(), e.stopPropagation());
                                var t = K.current.next();
                                K.current.index !== t && K.current.setNext(!0)
                            },
                            up: function(e) {
                                e && (e.stopPropagation(), e.preventDefault()), K.current.prev() > -1 && K.current.setPrev(!0)
                            }
                        },
                        onFocus: le,
                        "data-tab": d.TAB_ORDER.CHAT_STARRED_DRAWER,
                        ref: J,
                        children: [(0, U.jsx)(E.DrawerHeader, {
                            title: I.default.t(767),
                            onBack: function() {
                                H ? H() : null == V || V.uie.requestDismiss()
                            },
                            type: E.DRAWER_HEADER_TYPE.LARGE,
                            menu: be
                        }), (0, U.jsxs)(k.default, {
                            onScroll: he,
                            ref: $,
                            children: [ge, _e, ye]
                        })]
                    })
                })
            }
            var H = (0, p.forwardRef)(G);
            t.default = H
        },
        73812: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(48360),
                i = n(67294),
                o = a(n(33087)),
                l = n(65901),
                u = n(98169),
                s = n(94680),
                d = a(n(7729)),
                c = n(85893);

            function f(e, t) {
                var n = e.msgs,
                    a = e.chat,
                    i = (0, o.default)(t);
                return (0, c.jsx)(u.Dropdown, {
                    onRef: i,
                    type: "dropdown_menu",
                    flipOnRTL: !0,
                    dirX: u.DirX.LEFT,
                    children: (0, c.jsx)(s.DropdownItem, {
                        a8n: "mi-unstar-all menu-item",
                        action: function() {
                            l.Cmd.openModal((0, c.jsx)(d.default, {
                                msgs: n,
                                chat: a
                            }))
                        },
                        disabled: 0 === n.length,
                        children: r.fbt._("Unstar all", null, {
                            hk: "34KaRh"
                        })
                    })
                }, "StarredDrawerHeader")
            }
            var p = (0, i.forwardRef)(f);
            t.default = p
        },
        49909: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.onOpenStatus,
                    n = (0, c.default)((function() {
                        return new x.default
                    })),
                    a = function() {
                        var e = S.StatusV3Collection.getUnexpired(!0),
                            t = S.StatusV3Collection.getUnexpired(!1);
                        return {
                            unread: e,
                            read: t,
                            muted: [].concat((0, i.default)(e), (0, i.default)(t)).filter((function(e) {
                                return e.contact.statusMute
                            }))
                        }
                    },
                    o = (0, d.useMemo)(a, []),
                    l = o.unread,
                    u = o.read,
                    s = o.muted,
                    h = (0, d.useState)((function() {
                        return l.filter((function(e) {
                            return !e.contact.statusMute
                        }))
                    })),
                    m = (0, r.default)(h, 2),
                    C = m[0],
                    y = m[1],
                    b = (0, d.useState)((function() {
                        return u.filter((function(e) {
                            return !e.contact.statusMute
                        }))
                    })),
                    k = (0, r.default)(b, 2),
                    E = k[0],
                    D = k[1],
                    N = (0, d.useState)(s),
                    R = (0, r.default)(N, 2),
                    F = R[0],
                    B = R[1],
                    U = (0, d.useState)((function() {
                        return S.StatusV3Collection.getMyStatus()
                    })),
                    G = (0, r.default)(U, 2),
                    H = G[0],
                    W = G[1],
                    V = (0, d.useState)(!1),
                    z = (0, r.default)(V, 2),
                    q = z[0],
                    K = z[1];
                (0, f.useListener)(S.StatusV3Collection, "add remove bulk_add sort change:msgsChanged change:hasUnread", (function() {
                    var e = a(),
                        t = e.unread,
                        n = e.read,
                        r = e.muted;
                    y(t.filter((function(e) {
                        return !e.contact.statusMute
                    }))), D(n.filter((function(e) {
                        return !e.contact.statusMute
                    }))), B(r), W(S.StatusV3Collection.getMyStatus())
                })), (0, f.useListener)(p.ContactCollection, "change:statusMute", (function() {
                    var e = a(),
                        t = e.unread,
                        n = e.read,
                        r = e.muted;
                    y(t.filter((function(e) {
                        return !e.contact.statusMute
                    }))), D(n.filter((function(e) {
                        return !e.contact.statusMute
                    }))), B(r), W(S.StatusV3Collection.getMyStatus())
                }));
                var Y, Q = function() {
                        K(!q)
                    },
                    X = (0, d.useMemo)((function() {
                        var e = [];
                        return C.length > 0 && (e.push({
                            type: T,
                            itemKey: "section-unread",
                            height: 48
                        }), e.push.apply(e, (0, i.default)(C.map((function(e, t) {
                            return {
                                type: O,
                                itemKey: e.id.toString(),
                                height: 64,
                                status: e,
                                index: t
                            }
                        }))))), E.length > 0 && (e.push({
                            type: I,
                            itemKey: "section-read",
                            height: 48
                        }), e.push.apply(e, (0, i.default)(E.map((function(e, t) {
                            return {
                                type: O,
                                itemKey: e.id.toString(),
                                height: 64,
                                status: e,
                                index: t
                            }
                        }))))), F.length > 0 && (e.push({
                            type: P,
                            itemKey: "section-muted",
                            height: 48,
                            expanded: q
                        }), q && e.push.apply(e, (0, i.default)(F.map((function(e, t) {
                            return {
                                type: O,
                                itemKey: e.id.toString(),
                                height: 64,
                                status: e,
                                index: t
                            }
                        }))))), e.push({
                            type: M,
                            itemKey: "section-e2e-message"
                        }), e
                    }), [C, E, F, q]);
                Y = S.StatusV3Collection.hasSynced() && X.length > 0 ? (0, w.jsx)(g.FlatList, {
                    className: "statusList",
                    itemEnterAnimationsEnabled: !0,
                    flatListController: n.current,
                    direction: "vertical",
                    data: X,
                    renderItem: function(e) {
                        return (0, w.jsx)(A, {
                            data: e,
                            onOpenStatus: t,
                            onToggleMute: Q
                        })
                    }
                }) : (0, w.jsx)(v.ListStatus, {});
                return (0, w.jsxs)("div", {
                    className: j.default.listPanel,
                    children: [(0, w.jsx)(L, {
                        statusV3: H,
                        onOpenStatus: e.onOpenStatus
                    }), (0, w.jsx)(_.default, {
                        className: j.default.listBody,
                        flatListControllers: [n.current],
                        children: Y
                    })]
                })
            };
            var r = a(n(63038)),
                i = a(n(319)),
                o = a(n(272)),
                l = a(n(84646)),
                u = n(73466),
                s = n(48360),
                d = n(67294),
                c = a(n(62905)),
                f = n(91285),
                p = n(20050),
                h = n(66834),
                m = n(53851),
                v = n(75993),
                g = n(73568),
                _ = a(n(23803)),
                x = a(n(92546)),
                C = n(1577),
                y = n(38032),
                b = a(n(69466)),
                S = n(46177),
                j = a(n(53079)),
                k = a(n(24533)),
                E = a(n(7665)),
                w = n(85893),
                T = "SEC_UNREAD",
                I = "SEC_READ",
                P = "SEC_MUTED",
                M = "SEC_E2E_MESSAGE",
                O = "ROW_STATUS";

            function A(e) {
                var t = e.data,
                    n = e.onOpenStatus,
                    a = e.onToggleMute;
                switch (t.type) {
                    case T:
                        return (0, w.jsxs)("div", {
                            className: j.default.listSectionSep,
                            children: [(0, w.jsx)("hr", {}), (0, w.jsx)("div", {
                                className: j.default.listSectionText,
                                children: (0, w.jsx)("span", {
                                    children: s.fbt._("RECENT", null, {
                                        hk: "vPbQs"
                                    })
                                })
                            })]
                        });
                    case I:
                        return (0, w.jsxs)("div", {
                            className: j.default.listSectionSep,
                            children: [(0, w.jsx)("hr", {}), (0, w.jsx)("div", {
                                className: j.default.listSectionText,
                                children: (0, w.jsx)("span", {
                                    children: s.fbt._("VIEWED", null, {
                                        hk: "17DrUs"
                                    })
                                })
                            })]
                        });
                    case P:
                        return (0, w.jsxs)("div", {
                            className: j.default.listSectionSep,
                            children: [(0, w.jsx)("hr", {}), (0, w.jsxs)("div", {
                                className: j.default.listSectionText,
                                children: [(0, w.jsx)("span", {
                                    children: s.fbt._("MUTED", null, {
                                        hk: "31XgZG"
                                    })
                                }), (0, w.jsx)("button", {
                                    className: j.default.listSectionAction,
                                    onClick: a,
                                    children: t.expanded ? s.fbt._("HIDE", null, {
                                        hk: "3n6J18"
                                    }) : s.fbt._("SHOW", null, {
                                        hk: "1KKhJ5"
                                    })
                                })]
                            })]
                        });
                    case O:
                        return (0, w.jsx)(b.default, {
                            statusV3: t.status,
                            onClick: function() {
                                return n(t.status, void 0, t.index)
                            },
                            contact: t.status.contact
                        });
                    case M:
                        return (0, w.jsx)(m.E2eMessageStatusList, {});
                    default:
                        throw new g.UnknownDataError(t)
                }
            }

            function L(e) {
                var t, n, a, r, i = e.statusV3;
                i && (r = i.msgs);
                var d, c, f, p, m = function() {
                    var t = null == i ? void 0 : i.msgs;
                    i && (null == t ? void 0 : t.length) && e.onOpenStatus(i, t.head(), 0)
                };
                if (i && (null === (t = r) || void 0 === t ? void 0 : t.length)) {
                    n = (0, w.jsx)(k.default, {
                        statusV3: i,
                        contact: i.contact,
                        onClick: m
                    });
                    var v = (0, o.default)(r.last(), "myMsgs.last()").t;
                    a = (0, w.jsx)("span", {
                        className: j.default.secondaryHeaderText,
                        children: u.Clock.relativeDateAndTimeStr(v)
                    }), c = {
                        cursor: "pointer"
                    }, d = m
                } else n = (0, w.jsx)(h.DetailImage, {
                    id: (0, C.getMaybeMeUser)(),
                    theme: "status_v3",
                    size: 40
                }), a = (0, w.jsx)("span", {
                    "data-a8n": l.default.key("status-no-updates"),
                    className: j.default.secondaryHeaderText,
                    children: s.fbt._("No updates", null, {
                        hk: "2Fcs7d"
                    })
                });
                y.GK.supportsFeature(y.GK.F.STATUS_V3_UI_SENDING) && (f = (0, w.jsx)(E.default, {
                    name: "menu"
                }), p = (0, w.jsx)(E.default, {
                    name: "status-v3-create"
                }));
                var g = (0, w.jsx)("span", {
                    "data-a8n": l.default.key("my-status"),
                    className: j.default.primaryHeaderText,
                    children: s.fbt._("My Status", null, {
                        hk: "225G1q"
                    })
                });
                return (0, w.jsxs)("div", {
                    className: j.default.panelHeader,
                    style: c,
                    onClick: d,
                    children: [(0, w.jsx)("div", {
                        className: j.default.headerButtonsPrimary,
                        children: n
                    }), (0, w.jsxs)("div", {
                        className: j.default.headerText,
                        children: [g, a]
                    }), (0, w.jsxs)("div", {
                        className: j.default.headerButtonsSecondary,
                        children: [p, f]
                    })]
                })
            }
        },
        72692: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.onOpenStatus,
                    n = e.sessionId,
                    a = e.closeStatusViewer,
                    _ = (0, l.useState)((function() {
                        return c.StatusV3Collection.getMyStatus()
                    })),
                    x = (0, i.default)(_, 2),
                    C = x[0],
                    y = x[1];
                (0, l.useEffect)((function() {
                    (0, d.setLastStatusUsage)(), null != n && c.StatusV3Collection.logMetrics({
                        type: "session",
                        sessionId: n
                    }), s.Cmd.onStatusViewerOpen()
                }), []);
                var b = (0, o.default)(p.default.v3_x, (0, r.default)({}, p.default.v3_x_mac, v.default.isRTL()));
                return (0, u.useListener)(c.StatusV3Collection, ["add", "remove"], (function() {
                    y(c.StatusV3Collection.getMyStatus())
                })), (0, u.useListener)(s.Cmd, ["dismiss_status_v3_viewer"], (function() {
                    a(!0)
                })), (0, g.jsx)("div", {
                    className: p.default.modalBackground,
                    "data-animate-status-v3-modal-background": !0,
                    children: (0, g.jsxs)("div", {
                        className: p.default.mainWrapper,
                        children: [(0, g.jsx)(f.default, {
                            onOpenStatus: t
                        }), (0, g.jsx)(h.default, {
                            status: C,
                            onOpenStatus: t
                        }), (0, g.jsx)("button", {
                            className: b,
                            onClick: function() {
                                return e.closeStatusViewer(!0)
                            },
                            children: (0, g.jsx)(m.default, {
                                name: "x-viewer"
                            })
                        })]
                    })
                })
            };
            var r = a(n(59713)),
                i = a(n(63038)),
                o = a(n(94184)),
                l = n(67294),
                u = n(91285),
                s = n(65901),
                d = n(1577),
                c = n(46177),
                f = a(n(49909)),
                p = a(n(12502)),
                h = a(n(17897)),
                m = a(n(7665)),
                v = a(n(9844)),
                g = n(85893)
        },
        17897: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, n, a = (0, y.jsx)(b, {
                    statusV3: e.status,
                    onOpenStatus: e.onOpenStatus
                });
                m.GK.supportsFeature(m.GK.F.STATUS_V3_UI_SENDING) && (t = (0, y.jsxs)("div", {
                    className: g.default.updateWrapper,
                    children: [(0, y.jsx)("div", {
                        className: g.default.updateTitle,
                        children: s.fbt._("Update your status", null, {
                            hk: "43mqpz"
                        })
                    }), (0, y.jsxs)("div", {
                        className: g.default.uploadButtons,
                        children: [(0, y.jsxs)("div", {
                            className: g.default.buttonContainer,
                            children: [(0, y.jsx)(C.default, {
                                name: "status-v3-upload",
                                className: g.default.buttonIcon
                            }), s.fbt._("Upload", null, {
                                hk: "2EkSQz"
                            })]
                        }), (0, y.jsxs)("div", {
                            className: g.default.buttonContainer,
                            children: [(0, y.jsx)(C.default, {
                                name: "status-v3-camera",
                                className: g.default.buttonIcon
                            }), s.fbt._("Camera", null, {
                                hk: "1QXPXc"
                            })]
                        })]
                    })]
                }), n = (0, y.jsx)("hr", {}));
                return (0, y.jsxs)("div", {
                    className: g.default.outStatusPanel,
                    children: [t, n, a]
                })
            };
            var r = a(n(63038)),
                i = n(15586),
                o = a(n(84646)),
                l = n(73435),
                u = n(73466),
                s = n(48360),
                d = n(67294),
                c = a(n(45764)),
                f = n(91285),
                p = a(n(22190)),
                h = n(66834),
                m = n(38032),
                v = (n(7623), n(29289)),
                g = a(n(487)),
                _ = a(n(65)),
                x = a(n(24533)),
                C = a(n(7665)),
                y = n(85893);

            function b(e) {
                var t = e.statusV3,
                    n = (0, c.default)();
                (0, d.useEffect)((function() {
                    null == t || t.loadMore(t.totalCount).catch((function(e) {
                        __LOG__(3)`error while loading all out status: ${String(e)}`
                    }))
                }), []), (0, f.useListener)(t, "change:msgsChanged", n);
                var a = e.statusV3;
                if (a && a.msgs.length > 0) {
                    var r = a.msgs.map((function(t) {
                        return (0, y.jsx)(S, {
                            msg: t,
                            status: a,
                            onOpenStatus: e.onOpenStatus
                        }, t.id.toString())
                    }));
                    return (0, y.jsxs)("div", {
                        className: g.default.viewWrapper,
                        children: [(0, y.jsx)("div", {
                            className: g.default.viewTitle,
                            children: s.fbt._("View your updates", null, {
                                hk: "1DTRQt"
                            })
                        }), (0, y.jsx)("div", {
                            className: g.default.viewUpdates,
                            children: r
                        })]
                    })
                }
                return (0, y.jsxs)("div", {
                    className: g.default.viewWrapper,
                    children: [(0, y.jsx)("div", {
                        className: g.default.placeholderIcon,
                        children: (0, y.jsx)(C.default, {
                            name: "status-v3-placeholder"
                        })
                    }), (0, y.jsx)("div", {
                        "data-a8n": o.default.key("status-placeholder"),
                        className: g.default.placeholderText,
                        children: s.fbt._("Click on a contact to view their status updates", null, {
                            hk: "d6xUd"
                        })
                    })]
                })
            }

            function S(e) {
                var t = e.msg,
                    n = e.status,
                    a = (0, p.default)(),
                    o = (0, d.useState)(null),
                    s = (0, r.default)(o, 2),
                    c = s[0],
                    m = s[1],
                    C = (0, d.useState)(null),
                    b = (0, r.default)(C, 2),
                    S = b[0],
                    j = b[1];
                (0, d.useEffect)((function() {
                    v.MsgInfoCollection.find(t.id).then((function(e) {
                        a.aborted || (j(e), m(e.read.length))
                    })).catch((0, i.filteredCatch)(l.EphemeralDrop, (function() {})))
                }), []), (0, f.useListener)(null == S ? void 0 : S.read, ["add", "remove"], (function() {
                    m(null == S ? void 0 : S.read.length)
                }));
                var k = (0, y.jsx)(h.DetailImage, {
                    id: t.sender,
                    theme: "status_v3",
                    size: 80
                });
                return (0, y.jsxs)("div", {
                    className: g.default.outDetail,
                    children: [(0, y.jsx)(x.default, {
                        statusV3: n,
                        msg: t,
                        onClick: function() {
                            return e.onOpenStatus(n, t)
                        },
                        contact: n.contact,
                        role: "button",
                        theme: "status-panel",
                        thumbnailPlaceholder: k
                    }), (0, y.jsx)("div", {
                        className: g.default.seen,
                        children: (0, y.jsx)(_.default, {
                            seenCount: c
                        })
                    }), (0, y.jsx)("div", {
                        className: g.default.timestamp,
                        children: u.Clock.relativeDateAndTimeStr(t.t)
                    })]
                })
            }
        },
        84032: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(48360),
                i = n(67294),
                o = a(n(56720)),
                l = a(n(62905)),
                u = a(n(98056)),
                s = a(n(53187)),
                d = a(n(18345)),
                c = n(19288),
                f = a(n(46821)),
                p = a(n(92546)),
                h = n(65803),
                m = a(n(4208)),
                v = n(85893),
                g = {
                    stickerContainer: {
                        display: "p357zi0d",
                        justifyContent: "ac2vgrno",
                        marginTop: "hv5pdlef",
                        marginBottom: "gdaqao4w",
                        width: "ln8gz9je"
                    },
                    controlsContainer: {
                        display: "p357zi0d",
                        justifyContent: "ac2vgrno",
                        marginBottom: "fhelu9n7"
                    },
                    controlsButton: {
                        marginStart: "nzcjdldu",
                        marginEnd: "gqi0zhd6"
                    }
                };

            function _(e, t) {
                var n = (0, l.default)((function() {
                        return new p.default
                    })),
                    a = e.sticker,
                    i = e.stickerPack,
                    _ = e.onSend,
                    x = e.onBack;
                return (0, v.jsxs)(s.default, {
                    theme: "sticker-store",
                    ref: t,
                    children: [(0, v.jsx)(c.DrawerHeader, {
                        title: r.fbt._("Sticker Details", null, {
                            hk: "44A1rH"
                        }),
                        type: c.DRAWER_HEADER_TYPE.SMALL,
                        onBack: x
                    }), (0, v.jsx)(d.default, {
                        flatListControllers: [n.current],
                        children: (0, v.jsxs)(f.default, {
                            animation: !1,
                            theme: "padding-no-margin",
                            shadow: !1,
                            children: [(0, v.jsx)("div", {
                                className: (0, o.default)(g.stickerContainer),
                                children: (0, v.jsx)(m.default, {
                                    sticker: a,
                                    theme: "stickerDetails"
                                }, a.id)
                            }), (0, v.jsx)(h.StickerDetailsStickerPackInfo, {
                                name: i.name,
                                publisher: i.publisher,
                                theme: h.Theme.StickerStore
                            }), (0, v.jsx)("div", {
                                className: (0, o.default)(g.controlsContainer),
                                children: (0, v.jsx)(u.default, {
                                    icon: "send",
                                    label: r.fbt._("Send to this chat", null, {
                                        hk: "3uG4Tr"
                                    }),
                                    a8nText: "sticker-action send-button",
                                    xstyle: g.controlsButton,
                                    onClick: function() {
                                        _(a)
                                    }
                                })
                            })]
                        })
                    })]
                }, "sticker-details-modal")
            }
            var x = (0, i.forwardRef)(_);
            t.default = x
        },
        36026: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(48360),
                i = n(67294),
                o = a(n(56720)),
                l = a(n(26467)),
                u = a(n(62905)),
                s = a(n(96109)),
                d = a(n(53187)),
                c = a(n(18345)),
                f = n(19288),
                p = a(n(46821)),
                h = n(73008),
                m = a(n(92546)),
                v = a(n(9844)),
                g = n(85651),
                _ = a(n(82126)),
                x = a(n(4208)),
                C = n(48902),
                y = a(n(7665)),
                b = n(22552),
                S = n(85893),
                j = {
                    titleContainer: {
                        display: "p357zi0d",
                        alignItems: "gndfcl4n",
                        marginBottom: "or9x5nie"
                    },
                    title: {
                        flexGrow: "tvf2evcx"
                    },
                    spinner: {
                        display: "p357zi0d",
                        alignItems: "gndfcl4n",
                        justifyContent: "ac2vgrno",
                        minHeight: "h2zl7k75"
                    },
                    animatedIcon: {
                        marginStart: "oz0g9ue8",
                        color: "kw851w1p"
                    },
                    contentContainer: {
                        marginBottom: "dblt22a0",
                        color: "hp667wtd",
                        fontSize: "f8jlpxt4",
                        lineHeight: "jgi8eev7"
                    },
                    stickersContainer: {
                        display: "btb1m7bk",
                        gridTemplateColumns: "dr6m1ylk",
                        gridTemplateRows: "kenirpp9",
                        gridColumnGap: "zqptfkjs",
                        gridRowGap: "lhjw8glk",
                        justifyContent: "o4u7okr9",
                        width: "ln8gz9je",
                        height: "ppled2lx"
                    },
                    emptyContainer: {
                        display: "p357zi0d",
                        justifyContent: "ac2vgrno",
                        marginTop: "hv5pdlef",
                        marginBottom: "gdaqao4w",
                        width: "ln8gz9je"
                    },
                    emptySticker: {
                        width: "sr23wnuw",
                        height: "rjxfi64q",
                        marginBottom: "dblt22a0",
                        backgroundRepeat: "sxl192xd",
                        backgroundSize: "hbhfgwk1"
                    },
                    emptyText: {
                        textAlign: "qfejxiq4",
                        marginBottom: "fhelu9n7"
                    }
                };

            function k(e, t) {
                var n = (0, u.default)((function() {
                        return new m.default
                    })),
                    a = e.stickerPack,
                    k = e.stickerPackId,
                    E = e.onStickerClick,
                    w = e.onStickerEnter,
                    T = e.onBack,
                    I = e.onClose,
                    P = function(e, t) {
                        return (0, l.default)(C.StickerPackCollectionMd, "add remove reset", (function() {
                            return e || (t ? C.StickerPackCollectionMd.get(t) : null)
                        })) || (null == t ? null : void C.StickerPackCollectionMd.fetchStickerPack(t))
                    }(a, k),
                    M = function(e) {
                        return (0, l.default)(null == e ? void 0 : e.stickers, "add remove reset", (function() {
                            return null == e ? void 0 : e.stickers.toArray()
                        }))
                    }(P),
                    O = function(e) {
                        return (0, l.default)(C.StickerPackCollectionMd, "change:packFetchState", (function() {
                            return e ? C.StickerPackCollectionMd.packFetchState.get(e) : null
                        }))
                    }(k),
                    A = (0, s.default)();
                (0, i.useEffect)((function() {
                    A((function() {
                        null == P || P.stickers.fetch()
                    }))
                }), [null == P ? void 0 : P.stickers, A]);
                var L, D = function(e, t) {
                        P && E(e, P, t)
                    },
                    N = function(e, t) {
                        P && w(e, P, t)
                    };
                return (k && O === C.FETCH_STATE.PENDING || 0 === (null == M ? void 0 : M.length)) && (L = (0, S.jsx)(b.TextDiv, {
                    theme: "plain",
                    xstyle: j.spinner,
                    children: (0, S.jsx)(g.Spinner, {
                        size: 50,
                        stroke: 4
                    })
                })), (0, S.jsxs)(d.default, {
                    theme: "sticker-store",
                    ref: t,
                    children: [(0, S.jsx)(f.DrawerHeader, {
                        title: r.fbt._("Sticker Details", null, {
                            hk: "44A1rH"
                        }),
                        type: f.DRAWER_HEADER_TYPE.SMALL,
                        onBack: T,
                        onCancel: I
                    }), (0, S.jsx)(c.default, {
                        flatListControllers: [n.current],
                        children: (0, S.jsxs)(p.default, {
                            animation: !1,
                            theme: "padding-no-margin",
                            shadow: !1,
                            children: [P ? (0, S.jsxs)(S.Fragment, {
                                children: [(0, S.jsxs)(b.TextDiv, {
                                    theme: "title",
                                    xstyle: j.titleContainer,
                                    children: [(0, S.jsx)(h.EmojiText, {
                                        xstyle: j.title,
                                        text: P.name,
                                        ellipsify: !0,
                                        titlify: !0
                                    }), P.animated ? (0, S.jsx)(y.default, {
                                        name: "round-play",
                                        className: (0, o.default)(j.animatedIcon),
                                        width: 16,
                                        height: 16
                                    }) : null]
                                }), P.publisher && (0, S.jsx)(b.TextDiv, {
                                    theme: "plain",
                                    xstyle: j.contentContainer,
                                    children: (0, S.jsx)(h.EmojiText, {
                                        text: v.default.t(768, {
                                            name: P.publisher
                                        })
                                    })
                                }), P.description && (0, S.jsx)(b.TextDiv, {
                                    theme: "plain",
                                    xstyle: j.contentContainer,
                                    children: (0, S.jsx)(h.EmojiText, {
                                        text: P.description
                                    })
                                }), L, (0, S.jsx)("div", {
                                    className: (0, o.default)(j.stickersContainer),
                                    children: null == M ? void 0 : M.map((function(e) {
                                        return (0, S.jsx)(x.default, {
                                            sticker: e,
                                            theme: "stickerStore",
                                            onClick: D,
                                            onEnter: N,
                                            dontShowViewPack: !0
                                        }, e.id)
                                    }))
                                })]
                            }) : null, !P && k && O === C.FETCH_STATE.PENDING ? L : null, P || k && O === C.FETCH_STATE.PENDING ? null : (0, S.jsxs)(S.Fragment, {
                                children: [(0, S.jsx)("div", {
                                    className: (0, o.default)(j.emptyContainer),
                                    children: (0, S.jsx)("div", {
                                        className: (0, o.default)(j.emptySticker),
                                        style: {
                                            backgroundImage: `url(${_.default})`
                                        }
                                    })
                                }), (0, S.jsx)(b.TextDiv, {
                                    theme: "plain",
                                    xstyle: [j.contentContainer, j.emptyText],
                                    children: (0, S.jsx)(h.EmojiText, {
                                        text: r.fbt._("Unable to find sticker pack", null, {
                                            hk: "3aIIxP"
                                        })
                                    })
                                })]
                            })]
                        })
                    })]
                }, "sticker-pack-details-modal")
            }
            var E = (0, i.forwardRef)(k);
            t.default = E
        },
        64085: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(48360),
                i = n(67294),
                o = (a(n(56720)), a(n(26467))),
                l = a(n(62905)),
                u = a(n(53187)),
                s = a(n(18345)),
                d = n(19288),
                c = a(n(46821)),
                f = a(n(92546)),
                p = n(85651),
                h = n(48902),
                m = a(n(35942)),
                v = n(22552),
                g = n(85893),
                _ = {
                    spinner: {
                        display: "p357zi0d",
                        alignItems: "gndfcl4n",
                        justifyContent: "ac2vgrno",
                        minHeight: "h2zl7k75"
                    }
                };

            function x(e, t) {
                var n, a = (0, o.default)(h.StickerPackCollectionMd, "add remove reset", (function() {
                        return h.StickerPackCollectionMd.filter((function(e) {
                            return null != e.index
                        }))
                    })),
                    i = (0, l.default)((function() {
                        return new f.default
                    }));
                return 0 === a.length && (n = (0, g.jsx)(v.TextDiv, {
                    theme: "plain",
                    xstyle: _.spinner,
                    children: (0, g.jsx)(p.Spinner, {
                        size: 50,
                        stroke: 4
                    })
                })), (0, g.jsxs)(u.default, {
                    theme: "sticker-store",
                    ref: t,
                    children: [(0, g.jsx)(d.DrawerHeader, {
                        title: r.fbt._("WhatsApp Sticker Store", null, {
                            hk: "nicpq"
                        }),
                        type: d.DRAWER_HEADER_TYPE.SMALL,
                        onCancel: e.onClose
                    }), (0, g.jsx)(s.default, {
                        flatListControllers: [i.current],
                        onScroll: function(t) {
                            var n;
                            null === (n = e.onScrollOffsetChange) || void 0 === n || n.call(e, t.currentTarget.scrollTop)
                        },
                        scrollOffset: e.scrollOffset,
                        children: (0, g.jsxs)(c.default, {
                            animation: !1,
                            theme: "no-padding",
                            shadow: !1,
                            children: [n, (0, g.jsx)(m.default, {
                                stickerPacks: a,
                                onStickerPackDetails: e.onStickerPackDetails
                            })]
                        })
                    })]
                }, "sticker-store-modal")
            }
            var C = (0, i.forwardRef)(x);
            t.default = C
        },
        59742: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function() {
                var e = (0, o.useContext)(c.ThemeContext),
                    t = (0, o.useState)(e.systemThemeMode ? "system" : e.theme),
                    n = (0, r.default)(t, 2),
                    a = n[0],
                    p = n[1],
                    h = function(e) {
                        var t = e.target.value;
                        "light" !== t && "dark" !== t && "system" !== t || p(t)
                    };
                return (0, f.jsx)(u.default, {
                    title: i.fbt._("Choose theme", null, {
                        hk: "3cnXtb"
                    }),
                    onOK: function() {
                        "system" === a ? (e.setSystemThemeMode(!0), e.setTheme(d.default.getCurrentTheme())) : (e.setSystemThemeMode(!1), e.setTheme(a)), l.Cmd.closeModal()
                    },
                    onCancel: function() {
                        l.Cmd.closeModal()
                    },
                    children: (0, f.jsx)("form", {
                        children: (0, f.jsxs)("ol", {
                            children: [(0, f.jsx)("li", {
                                children: (0, f.jsxs)("label", {
                                    className: s.default.label,
                                    children: [(0, f.jsx)("input", {
                                        type: "radio",
                                        name: "theme",
                                        value: "light",
                                        className: s.default.input,
                                        checked: "light" === a,
                                        onChange: h
                                    }), i.fbt._("Light", null, {
                                        hk: "2EcNH1"
                                    })]
                                })
                            }, "light"), (0, f.jsx)("li", {
                                children: (0, f.jsxs)("label", {
                                    className: s.default.label,
                                    children: [(0, f.jsx)("input", {
                                        type: "radio",
                                        name: "theme",
                                        value: "dark",
                                        className: s.default.input,
                                        checked: "dark" === a,
                                        onChange: h
                                    }), i.fbt._("Dark", null, {
                                        hk: "2GGBbH"
                                    })]
                                })
                            }, "dark"), (0, f.jsx)("li", {
                                children: (0, f.jsxs)("label", {
                                    className: s.default.label,
                                    children: [(0, f.jsx)("input", {
                                        type: "radio",
                                        name: "theme",
                                        value: "system",
                                        className: s.default.input,
                                        checked: "system" === a,
                                        onChange: h
                                    }), i.fbt._("System default", null, {
                                        hk: "2lMytc"
                                    })]
                                })
                            }, "system")]
                        })
                    })
                })
            };
            var r = a(n(63038)),
                i = n(48360),
                o = n(67294),
                l = n(65901),
                u = a(n(86777)),
                s = a(n(22578)),
                d = a(n(67026)),
                c = n(63443),
                f = n(85893)
        },
        92909: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.TOS_BASE_URL = void 0, t.getTosUrl = function() {
                return `${i}?lg=${r.default.getLocale()}`
            };
            var r = a(n(9844)),
                i = "https://www.whatsapp.com/legal/";
            t.TOS_BASE_URL = i
        },
        67171: (e, t, n) => {
            "use strict";
            var a = n(6089).default,
                r = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(n(87757)),
                o = r(n(48926)),
                l = r(n(63038)),
                u = n(48360),
                s = n(67294),
                d = (r(n(56720)), r(n(53187))),
                c = r(n(18345)),
                f = r(n(61876)),
                p = n(19288),
                h = r(n(46821)),
                m = n(27968),
                v = r(n(69520)),
                g = r(n(9844)),
                _ = n(85651),
                x = r(n(7665)),
                C = n(22552),
                y = n(72676),
                b = n(85893),
                S = {
                    drawerSection: {
                        paddingTop: "msavwer2"
                    },
                    description: {
                        paddingTop: "msavwer2",
                        paddingEnd: "bcymb0na",
                        paddingBottom: "slgfab0f",
                        paddingStart: "e8k79tju"
                    }
                };

            function j(e, t) {
                var n, r, c, f = (0, s.useState)(null),
                    p = (0, l.default)(f, 2),
                    h = p[0],
                    j = p[1],
                    w = (0, s.useState)(!1),
                    T = (0, l.default)(w, 2),
                    I = T[0],
                    P = T[1];
                return (0, s.useEffect)((function() {
                    var e = new a;
                    return (0, o.default)(i.default.mark((function t() {
                            var n;
                            return i.default.wrap((function(t) {
                                for (;;) switch (t.prev = t.next) {
                                    case 0:
                                        if (!e.signal.aborted) {
                                            t.next = 2;
                                            break
                                        }
                                        return t.abrupt("return");
                                    case 2:
                                        return t.next = 4, (0, y.getTwoFactor)();
                                    case 4:
                                        n = t.sent, j(n.code), P(n.email);
                                    case 7:
                                    case "end":
                                        return t.stop()
                                }
                            }), t)
                        })))(),
                        function() {
                            return e.abort()
                        }
                }), []), null == h ? (0, b.jsx)(d.default, {
                    ref: t,
                    children: (0, b.jsx)(E, {
                        onClose: e.onClose,
                        children: (0, b.jsx)(m.FlexRow, {
                            align: "center",
                            justify: "center",
                            children: (0, b.jsx)(m.FlexRow, {
                                align: "center",
                                justify: "center",
                                children: (0, b.jsx)(v.default, {
                                    children: (0, b.jsx)(_.Spinner, {
                                        size: 50,
                                        stroke: 4
                                    })
                                })
                            })
                        })
                    })
                }) : (!0 === h ? (n = u.fbt._("Two-step verification is enabled. You'll need to enter your PIN when registering your phone number with WhatsApp again.", null, {
                    hk: "2YGRKd"
                }), r = (0, b.jsxs)(b.Fragment, {
                    children: [(0, b.jsx)(k, {
                        onClick: e.onOpenDisableDrawer,
                        icon: (0, b.jsx)(x.default, {
                            name: "round-x-inv",
                            height: 24
                        }),
                        children: u.fbt._("Disable", null, {
                            hk: "EYWqM"
                        })
                    }), (0, b.jsx)(k, {
                        onClick: e.onOpenUpdatePinDrawer,
                        icon: (0, b.jsx)(x.default, {
                            name: "settings-pin"
                        }),
                        children: u.fbt._("Change PIN", null, {
                            hk: "2GykKY"
                        })
                    }), (0, b.jsx)(k, {
                        onClick: e.onOpenUpdateEmailDrawer,
                        icon: (0, b.jsx)(x.default, {
                            name: "business-email"
                        }),
                        children: !0 === I ? u.fbt._("Change email address", null, {
                            hk: "2h6SZW"
                        }) : u.fbt._("Add email address", null, {
                            hk: "2eUCWj"
                        })
                    })]
                }), c = g.default.isRTL() ? "settings_2fa_done_rtl" : "settings_2fa_done") : (n = u.fbt._("For added security, enable two-step verification, which will require a PIN when registering your phone number with WhatsApp again.", null, {
                    hk: "Rxhoe"
                }), r = (0, b.jsx)(k, {
                    onClick: e.onOpenRegistrationDrawer,
                    children: u.fbt._("Enable", null, {
                        hk: "2RMR6d"
                    })
                }), c = "settings_2fa"), (0, b.jsx)(d.default, {
                    ref: t,
                    children: (0, b.jsxs)(E, {
                        onClose: e.onClose,
                        children: [(0, b.jsx)(m.FlexRow, {
                            align: "center",
                            justify: "center",
                            children: (0, b.jsx)(v.default, {
                                children: (0, b.jsx)(x.default, {
                                    name: c
                                })
                            })
                        }), (0, b.jsx)(C.TextDiv, {
                            xstyle: S.description,
                            children: n
                        }), r]
                    })
                }))
            }

            function k(e) {
                var t = e.children,
                    n = e.onClick,
                    a = (e.isLastItem, e.icon);
                return (0, b.jsx)(f.default, {
                    icon: a,
                    onClick: n,
                    children: t
                })
            }

            function E(e) {
                var t = e.children,
                    n = e.onClose;
                return (0, b.jsxs)(b.Fragment, {
                    children: [(0, b.jsx)(p.DrawerHeader, {
                        title: u.fbt._("Two-Step Verification", null, {
                            hk: "40ydX7"
                        }),
                        onBack: n,
                        type: p.DRAWER_HEADER_TYPE.LARGE
                    }), (0, b.jsx)(c.default, {
                        children: (0, b.jsx)(h.default, {
                            animation: !1,
                            ellipsify: !1,
                            xstyle: S.drawerSection,
                            children: t
                        })
                    })]
                })
            }
            var w = (0, s.forwardRef)(j);
            t.default = w
        },
        15856: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.TwoFactorCurrentPinItem = function(e) {
                return (0, u.jsx)(i.default, {
                    title: r.fbt._("Enter your existing PIN Code", null, {
                        hk: "2AueS7"
                    }),
                    children: (0, u.jsx)(o.TextInput, {
                        onChange: e.setCurrentPin,
                        value: e.currentPin,
                        placeholder: r.fbt._("******", null, {
                            hk: "2lenlV"
                        }),
                        hideFloatingLabel: !0,
                        maxLength: l.PIN_LENGTH,
                        managed: !0,
                        managedError: !0,
                        onKeyDown: l.isKeyFiniteAndAllowed
                    })
                })
            };
            var r = n(48360),
                i = a(n(34271)),
                o = n(68544),
                l = n(87908),
                u = n(85893)
        },
        27557: (e, t, n) => {
            "use strict";
            var a = n(6089).default,
                r = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = (0, d.useState)(""),
                    n = (0, l.default)(t, 2),
                    r = n[0],
                    j = n[1],
                    k = r.length === x.PIN_LENGTH,
                    E = function() {
                        var t = (0, o.default)(i.default.mark((function t() {
                            return i.default.wrap((function(t) {
                                for (;;) switch (t.prev = t.next) {
                                    case 0:
                                        if (!(new a).signal.aborted) {
                                            t.next = 3;
                                            break
                                        }
                                        return t.abrupt("return");
                                    case 3:
                                        return t.prev = 3, t.next = 6, (0, C.setTwoFactor)();
                                    case 6:
                                        e.onClose(), t.next = 12;
                                        break;
                                    case 9:
                                        t.prev = 9, t.t0 = t.catch(3), n = void 0, n = (0, _.genId)(), p.Cmd.openToast((0, b.jsx)(_.Toast, {
                                            msg: s.fbt._("Error disabling two factor authentication. Please try again later", null, {
                                                hk: "3Qk6Qt"
                                            }),
                                            id: n
                                        }));
                                    case 12:
                                    case "end":
                                        return t.stop()
                                }
                                var n
                            }), t, null, [
                                [3, 9]
                            ])
                        })));
                        return function() {
                            return t.apply(this, arguments)
                        }
                    }();
                return (0, b.jsxs)(h.default, {
                    children: [(0, b.jsx)(v.DrawerHeader, {
                        title: s.fbt._("Two-Step Verification", null, {
                            hk: "294kJZ"
                        }),
                        onBack: e.onClose,
                        type: v.DRAWER_HEADER_TYPE.LARGE
                    }), (0, b.jsx)(m.default, {
                        children: (0, b.jsxs)("form", {
                            children: [(0, b.jsx)(g.default, {
                                theme: "padding",
                                children: (0, b.jsx)(y.TwoFactorCurrentPinItem, {
                                    currentPin: r,
                                    setCurrentPin: j
                                })
                            }), (0, b.jsx)(u.default, {
                                transitionName: "btn",
                                className: (0, c.default)(S),
                                children: (0, b.jsx)(f.default, {
                                    onClick: function() {
                                        return E()
                                    },
                                    disabled: !k,
                                    type: "primary",
                                    children: s.fbt._("Disable", null, {
                                        hk: "xNeUg"
                                    })
                                })
                            })]
                        })
                    })]
                })
            };
            var i = r(n(87757)),
                o = r(n(48926)),
                l = r(n(63038)),
                u = r(n(65668)),
                s = n(48360),
                d = n(67294),
                c = r(n(56720)),
                f = r(n(51599)),
                p = n(65901),
                h = r(n(53187)),
                m = r(n(18345)),
                v = n(19288),
                g = r(n(46821)),
                _ = n(92428),
                x = n(87908),
                C = n(72676),
                y = n(15856),
                b = n(85893),
                S = {
                    display: "p357zi0d",
                    justifyContent: "j1p1mz06",
                    paddingBottom: "hjz8m82x",
                    marginTop: "ignnouf6",
                    textAlign: "qfejxiq4"
                }
        },
        71525: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.email,
                    n = e.onEmailChange,
                    a = e.emailConfirmation,
                    c = e.onEmailConfirmationChange,
                    f = (0, l.useState)(!1),
                    p = (0, r.default)(f, 2),
                    h = p[0],
                    m = p[1],
                    v = (0, l.useState)(!1),
                    g = (0, r.default)(v, 2),
                    _ = g[0],
                    x = g[1];
                return (0, l.useEffect)((function() {
                    t === a && x(!1)
                }), [t, a]), (0, l.useEffect)((function() {
                    (0, i.validateEmail)(t) && m(!1)
                }), [t]), (0, d.jsxs)(d.Fragment, {
                    children: [(0, d.jsx)(u.default, {
                        title: o.fbt._("Add an email address to your account which will be used to reset your PIN if you forget it and safeguard your account.", null, {
                            hk: "3yrC6H"
                        }),
                        children: (0, d.jsx)(s.TextInput, {
                            onChange: n,
                            value: t,
                            placeholder: o.fbt._("Email", null, {
                                hk: "38jUce"
                            }),
                            onBlur: function() {
                                (0, i.validateEmail)(t) || m(!0)
                            },
                            error: h ? o.fbt._("Incorrect email address format", null, {
                                hk: "1l4toK"
                            }) : null
                        })
                    }), (0, d.jsx)(u.default, {
                        title: o.fbt._("Confirm your email address", null, {
                            hk: "4imYJ5"
                        }),
                        children: (0, d.jsx)(s.TextInput, {
                            onChange: c,
                            value: a,
                            placeholder: o.fbt._("Email", null, {
                                hk: "38jUce"
                            }),
                            onBlur: function() {
                                t !== a && x(!0)
                            },
                            error: _ ? o.fbt._("Email addresses don't match. Try again.", null, {
                                hk: "llUUu"
                            }) : null
                        })
                    })]
                })
            };
            var r = a(n(63038)),
                i = n(240),
                o = n(48360),
                l = n(67294),
                u = a(n(34271)),
                s = n(68544),
                d = n(85893)
        },
        27357: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.TwoFactorPinItem = function(e) {
                var t = e.pinConfirmation.length === l.PIN_LENGTH && e.pin !== e.pinConfirmation;
                return (0, u.jsxs)(u.Fragment, {
                    children: [(0, u.jsx)(i.default, {
                        title: r.fbt._("Enter a six-digit PIN which you'll be asked for when you register your phone number with WhatsApp", null, {
                            hk: "1gMkDs"
                        }),
                        children: (0, u.jsx)(o.TextInput, {
                            onChange: e.setPin,
                            value: e.pin,
                            placeholder: r.fbt._("******", null, {
                                hk: "2lenlV"
                            }),
                            hideFloatingLabel: !0,
                            maxLength: l.PIN_LENGTH,
                            managed: !0,
                            managedError: !0,
                            onKeyDown: l.isKeyFiniteAndAllowed
                        })
                    }), (0, u.jsx)(i.default, {
                        title: r.fbt._("Confirm your PIN", null, {
                            hk: "1uwcc6"
                        }),
                        children: (0, u.jsx)(o.TextInput, {
                            onChange: e.setPinConfirmation,
                            value: e.pinConfirmation,
                            placeholder: r.fbt._("******", null, {
                                hk: "2lenlV"
                            }),
                            hideFloatingLabel: !0,
                            maxLength: l.PIN_LENGTH,
                            managed: !0,
                            managedError: !0,
                            error: t ? r.fbt._("PINs don't match. Try again.", null, {
                                hk: "2luQHZ"
                            }) : null,
                            onKeyDown: l.isKeyFiniteAndAllowed
                        })
                    })]
                })
            };
            var r = n(48360),
                i = a(n(34271)),
                o = n(68544),
                l = n(87908),
                u = n(85893)
        },
        96533: (e, t, n) => {
            "use strict";
            var a = n(6089).default,
                r = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = (0, d.useState)(""),
                    n = (0, l.default)(t, 2),
                    r = n[0],
                    u = n[1],
                    c = (0, d.useState)(""),
                    f = (0, l.default)(c, 2),
                    h = f[0],
                    m = f[1],
                    v = (0, d.useState)(""),
                    g = (0, l.default)(v, 2),
                    x = g[0],
                    y = g[1],
                    b = (0, d.useState)(""),
                    j = (0, l.default)(b, 2),
                    E = j[0],
                    I = j[1],
                    P = (0, d.useState)(k.SET_PIN_NUMBER),
                    M = (0, l.default)(P, 2),
                    O = M[0],
                    A = M[1],
                    L = function() {
                        var t = (0, o.default)(i.default.mark((function t() {
                            var n, o;
                            return i.default.wrap((function(t) {
                                for (;;) switch (t.prev = t.next) {
                                    case 0:
                                        if (n = new a, x === E && r === h) {
                                            t.next = 3;
                                            break
                                        }
                                        return t.abrupt("return");
                                    case 3:
                                        if (!n.signal.aborted) {
                                            t.next = 5;
                                            break
                                        }
                                        return t.abrupt("return");
                                    case 5:
                                        return t.prev = 5, t.next = 8, (0, C.setTwoFactor)(r, x);
                                    case 8:
                                        return e.onClose(), t.abrupt("return");
                                    case 12:
                                        t.prev = 12, t.t0 = t.catch(5), o = (0, _.genId)(), p.Cmd.openToast((0, S.jsx)(_.Toast, {
                                            msg: s.fbt._("Error changing two factor authentication email. Please try again later", null, {
                                                hk: "TKYAg"
                                            }),
                                            id: o
                                        }));
                                    case 16:
                                    case "end":
                                        return t.stop()
                                }
                            }), t, null, [
                                [5, 12]
                            ])
                        })));
                        return function() {
                            return t.apply(this, arguments)
                        }
                    }();
                return O === k.SET_PIN_NUMBER ? (0, S.jsx)(w, {
                    pin: r,
                    setPin: u,
                    pinConfirmation: h,
                    setPinConfirmation: m,
                    onClose: e.onClose,
                    setStep: A
                }) : (0, S.jsx)(T, {
                    email: x,
                    setEmail: y,
                    emailConfirmation: E,
                    setEmailConfirmation: I,
                    setStep: A,
                    onRegisterButton: L
                })
            };
            var i = r(n(87757)),
                o = r(n(48926)),
                l = r(n(63038)),
                u = r(n(65668)),
                s = n(48360),
                d = n(67294),
                c = r(n(56720)),
                f = r(n(51599)),
                p = n(65901),
                h = r(n(53187)),
                m = r(n(18345)),
                v = n(19288),
                g = r(n(46821)),
                _ = n(92428),
                x = n(87908),
                C = n(72676),
                y = r(n(71525)),
                b = n(27357),
                S = n(85893),
                j = {
                    zIndex: "b9fczbqn",
                    display: "p357zi0d",
                    justifyContent: "j1p1mz06",
                    paddingBottom: "hjz8m82x",
                    marginTop: "ignnouf6",
                    textAlign: "qfejxiq4"
                },
                k = n(76672)({
                    SET_PIN_NUMBER: "set_pin_number",
                    SET_EMAIL: "set_email"
                });

            function E(e) {
                var t = e.children,
                    n = e.submitButton,
                    a = e.onClose;
                return (0, S.jsxs)(h.default, {
                    children: [(0, S.jsx)(v.DrawerHeader, {
                        a8n: "drawer-title-2fa",
                        title: s.fbt._("Two-Step Verification", null, {
                            hk: "1Yoy3O"
                        }),
                        onBack: a,
                        type: v.DRAWER_HEADER_TYPE.LARGE
                    }), (0, S.jsx)(m.default, {
                        children: (0, S.jsxs)("form", {
                            children: [(0, S.jsx)(g.default, {
                                theme: "padding",
                                children: t
                            }), (0, S.jsx)(u.default, {
                                transitionName: "btn",
                                className: (0, c.default)(j),
                                children: n
                            })]
                        })
                    })]
                })
            }

            function w(e) {
                var t = e.pin,
                    n = e.setPin,
                    a = e.pinConfirmation,
                    r = e.setPinConfirmation,
                    i = e.onClose,
                    o = e.setStep,
                    l = t.length === x.PIN_LENGTH && t === a,
                    u = (0, S.jsx)(f.default, {
                        onClick: function() {
                            return o(k.SET_EMAIL)
                        },
                        disabled: !l,
                        type: "primary",
                        children: s.fbt._("Continue", null, {
                            hk: "1ES87K"
                        })
                    });
                return (0, S.jsx)(E, {
                    onClose: i,
                    submitButton: u,
                    children: (0, S.jsx)(b.TwoFactorPinItem, {
                        pin: t,
                        setPin: n,
                        pinConfirmation: a,
                        setPinConfirmation: r
                    })
                })
            }

            function T(e) {
                var t = e.email,
                    n = e.setEmail,
                    a = e.emailConfirmation,
                    r = e.setEmailConfirmation,
                    i = e.setStep,
                    o = e.onRegisterButton,
                    l = (0, S.jsx)(f.default, {
                        onClick: o,
                        type: "primary",
                        children: s.fbt._("Register", null, {
                            hk: "8hdUv"
                        })
                    });
                return (0, S.jsx)(E, {
                    onClose: function() {
                        return i(k.SET_PIN_NUMBER)
                    },
                    submitButton: l,
                    children: (0, S.jsx)(y.default, {
                        email: t,
                        onEmailChange: n,
                        emailConfirmation: a,
                        onEmailConfirmationChange: r
                    })
                })
            }
        },
        40934: (e, t, n) => {
            "use strict";
            var a = n(6089).default,
                r = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = (0, d.useState)(""),
                    n = (0, l.default)(t, 2),
                    r = n[0],
                    k = n[1],
                    E = (0, d.useState)(""),
                    w = (0, l.default)(E, 2),
                    T = w[0],
                    I = w[1],
                    P = (0, d.useState)(""),
                    M = (0, l.default)(P, 2),
                    O = M[0],
                    A = M[1],
                    L = (0, d.useState)(!1),
                    D = (0, l.default)(L, 2),
                    N = D[0],
                    R = D[1],
                    F = r.length === x.PIN_LENGTH && T === O && !N,
                    B = function() {
                        var t = (0, o.default)(i.default.mark((function t() {
                            var n;
                            return i.default.wrap((function(t) {
                                for (;;) switch (t.prev = t.next) {
                                    case 0:
                                        if (R(!0), !(new a).signal.aborted) {
                                            t.next = 4;
                                            break
                                        }
                                        return t.abrupt("return");
                                    case 4:
                                        return t.prev = 4, t.next = 7, (0, C.setTwoFactor)(r, T);
                                    case 7:
                                        e.onClose(), R(!1), t.next = 16;
                                        break;
                                    case 11:
                                        t.prev = 11, t.t0 = t.catch(4), R(!1), n = (0, _.genId)(), p.Cmd.openToast((0, S.jsx)(_.Toast, {
                                            msg: s.fbt._("Error changing two factor authentication email. Please try again later", null, {
                                                hk: "TKYAg"
                                            }),
                                            id: n
                                        }));
                                    case 16:
                                    case "end":
                                        return t.stop()
                                }
                            }), t, null, [
                                [4, 11]
                            ])
                        })));
                        return function() {
                            return t.apply(this, arguments)
                        }
                    }();
                return (0, S.jsxs)(h.default, {
                    children: [(0, S.jsx)(v.DrawerHeader, {
                        title: s.fbt._("Two-Step Verification", null, {
                            hk: "294kJZ"
                        }),
                        onBack: e.onClose,
                        type: v.DRAWER_HEADER_TYPE.LARGE
                    }), (0, S.jsx)(m.default, {
                        children: (0, S.jsxs)("form", {
                            children: [(0, S.jsxs)(g.default, {
                                theme: "padding",
                                children: [(0, S.jsx)(y.TwoFactorCurrentPinItem, {
                                    currentPin: r,
                                    setCurrentPin: k
                                }), (0, S.jsx)(b.default, {
                                    email: T,
                                    onEmailChange: I,
                                    emailConfirmation: O,
                                    onEmailConfirmationChange: A
                                })]
                            }), (0, S.jsx)(u.default, {
                                transitionName: "btn",
                                className: (0, c.default)(j),
                                children: (0, S.jsx)(f.default, {
                                    onClick: B,
                                    disabled: !F,
                                    type: "primary",
                                    children: s.fbt._("Update Email", null, {
                                        hk: "hBmCV"
                                    })
                                })
                            })]
                        })
                    })]
                })
            };
            var i = r(n(87757)),
                o = r(n(48926)),
                l = r(n(63038)),
                u = r(n(65668)),
                s = n(48360),
                d = n(67294),
                c = r(n(56720)),
                f = r(n(51599)),
                p = n(65901),
                h = r(n(53187)),
                m = r(n(18345)),
                v = n(19288),
                g = r(n(46821)),
                _ = n(92428),
                x = n(87908),
                C = n(72676),
                y = n(15856),
                b = r(n(71525)),
                S = n(85893),
                j = {
                    display: "p357zi0d",
                    justifyContent: "j1p1mz06",
                    paddingBottom: "hjz8m82x",
                    marginTop: "ignnouf6",
                    textAlign: "qfejxiq4"
                }
        },
        32657: (e, t, n) => {
            "use strict";
            var a = n(6089).default,
                r = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = (0, d.useState)(""),
                    n = (0, l.default)(t, 2),
                    r = n[0],
                    k = n[1],
                    E = (0, d.useState)(""),
                    w = (0, l.default)(E, 2),
                    T = w[0],
                    I = w[1],
                    P = (0, d.useState)(""),
                    M = (0, l.default)(P, 2),
                    O = M[0],
                    A = M[1],
                    L = (0, d.useState)(!1),
                    D = (0, l.default)(L, 2),
                    N = D[0],
                    R = D[1],
                    F = r.length === x.PIN_LENGTH && r === T && !N,
                    B = function() {
                        var t = (0, o.default)(i.default.mark((function t() {
                            var n;
                            return i.default.wrap((function(t) {
                                for (;;) switch (t.prev = t.next) {
                                    case 0:
                                        if (R(!0), !(new a).signal.aborted) {
                                            t.next = 4;
                                            break
                                        }
                                        return t.abrupt("return");
                                    case 4:
                                        return t.prev = 4, t.next = 7, (0, C.setTwoFactor)(r);
                                    case 7:
                                        R(!1), e.onClose(), t.next = 16;
                                        break;
                                    case 11:
                                        t.prev = 11, t.t0 = t.catch(4), R(!1), n = (0, _.genId)(), p.Cmd.openToast((0, S.jsx)(_.Toast, {
                                            msg: s.fbt._("Error changing two factor authentication pin. Please try again later", null, {
                                                hk: "1LNoSB"
                                            }),
                                            id: n
                                        }));
                                    case 16:
                                    case "end":
                                        return t.stop()
                                }
                            }), t, null, [
                                [4, 11]
                            ])
                        })));
                        return function() {
                            return t.apply(this, arguments)
                        }
                    }();
                return (0, S.jsxs)(h.default, {
                    children: [(0, S.jsx)(v.DrawerHeader, {
                        title: s.fbt._("Two-Step Verification", null, {
                            hk: "40ydX7"
                        }),
                        onBack: e.onClose,
                        type: v.DRAWER_HEADER_TYPE.LARGE
                    }), (0, S.jsx)(m.default, {
                        children: (0, S.jsxs)("form", {
                            children: [(0, S.jsxs)(g.default, {
                                theme: "padding",
                                children: [(0, S.jsx)(y.TwoFactorCurrentPinItem, {
                                    currentPin: O,
                                    setCurrentPin: A
                                }), (0, S.jsx)(b.TwoFactorPinItem, {
                                    pin: r,
                                    setPin: k,
                                    pinConfirmation: T,
                                    setPinConfirmation: I
                                })]
                            }), (0, S.jsx)(u.default, {
                                transitionName: "btn",
                                className: (0, c.default)(j),
                                children: (0, S.jsx)(f.default, {
                                    onClick: B,
                                    disabled: !F,
                                    type: "primary",
                                    children: s.fbt._("Save", null, {
                                        hk: "n9x6Q"
                                    })
                                })
                            })]
                        })
                    })]
                })
            };
            var i = r(n(87757)),
                o = r(n(48926)),
                l = r(n(63038)),
                u = r(n(65668)),
                s = n(48360),
                d = n(67294),
                c = r(n(56720)),
                f = r(n(51599)),
                p = n(65901),
                h = r(n(53187)),
                m = r(n(18345)),
                v = n(19288),
                g = r(n(46821)),
                _ = n(92428),
                x = n(87908),
                C = n(72676),
                y = n(15856),
                b = n(27357),
                S = n(85893),
                j = {
                    display: "p357zi0d",
                    justifyContent: "j1p1mz06",
                    paddingBottom: "hjz8m82x",
                    marginTop: "ignnouf6",
                    textAlign: "qfejxiq4"
                }
        },
        7729: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.chat,
                    n = e.msgs;
                return (0, s.jsx)(o.default, {
                    onOK: function() {
                        t && t.pendingAction++, r.ChatCollection.unstarAllMessages(n, t).finally((function() {
                            t && t.pendingAction--
                        })), i.Cmd.closeModal()
                    },
                    okText: u.default.t(787),
                    onCancel: d,
                    children: (0, s.jsx)("div", {
                        children: (0, s.jsx)(l.EmojiText, {
                            text: u.default.t(788)
                        })
                    })
                })
            };
            var r = n(4481),
                i = n(65901),
                o = a(n(86777)),
                l = n(73008),
                u = a(n(9844)),
                s = n(85893),
                d = function() {
                    i.Cmd.closeModal()
                }
        },
        92717: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, n = e.contactList,
                    a = e.onSend,
                    v = e.onBack,
                    x = e.chat;
                switch (x.kind) {
                    case i.CHAT_KIND.CHAT:
                        t = c.default.t(351, {
                            chat: x.title(),
                            count: c.default.n(n.length),
                            _plural: n.length
                        });
                        break;
                    case i.CHAT_KIND.GROUP:
                        t = c.default.t(352, {
                            chat: x.title(),
                            count: c.default.n(n.length),
                            _plural: n.length
                        });
                        break;
                    case i.CHAT_KIND.BROADCAST:
                        t = c.default.t(350, {
                            chat: x.title(),
                            count: c.default.n(n.length),
                            _plural: n.length
                        })
                }
                var C = t ? (0, g.jsx)(s.EmojiText, {
                    text: t,
                    direction: "auto",
                    titlify: !0,
                    ellipsify: !0
                }) : null;
                return (0, g.jsx)(f.Modal, {
                    type: f.ModalTheme.Box,
                    children: (0, g.jsxs)(o.default, {
                        children: [(0, g.jsx)(u.DrawerHeader, {
                            type: u.DRAWER_HEADER_TYPE.POPUP,
                            onBack: v,
                            children: C
                        }), (0, g.jsx)(l.default, {
                            children: (0, g.jsx)(d.HotKeys, {
                                children: (0, g.jsx)("div", {
                                    className: m.default.body,
                                    children: n.map((function(e, t) {
                                        return (0, g.jsx)(_, {
                                            contact: (0, r.vcardFromContactModel)(e)
                                        }, t.toString())
                                    }))
                                })
                            })
                        }), (0, g.jsx)("div", {
                            className: m.default.btnContainer,
                            children: (0, g.jsx)("div", {
                                className: m.default.btnPosition,
                                children: (0, g.jsx)(p.Round, {
                                    large: !0,
                                    onClick: a,
                                    children: (0, g.jsx)(h.default, {
                                        name: "send",
                                        directional: !0
                                    })
                                })
                            })
                        })]
                    })
                })
            };
            var r = n(54707),
                i = n(29656),
                o = a(n(53187)),
                l = a(n(18345)),
                u = n(19288),
                s = n(73008),
                d = n(32012),
                c = a(n(9844)),
                f = n(73454),
                p = n(80385),
                h = a(n(7665)),
                m = a(n(32252)),
                v = a(n(63311)),
                g = n(85893);

            function _(e) {
                var t = e.contact,
                    n = (0, r.parseVcard)(t.vcard);
                return n ? (0, g.jsx)("div", {
                    className: m.default.vcardWrapper,
                    children: (0, g.jsx)(v.default, {
                        parsedVcard: n,
                        thumbnail: (0, r.vcardThumbnail)(n)
                    })
                }) : null
            }
        },
        9242: (e, t, n) => {
            "use strict";
            var a = n(21314).default,
                r = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.onClose,
                    n = (0, q.default)(),
                    r = (0, y.default)(),
                    s = (0, x.useModelValues)(e.contact, ["verificationBinary", "verificationString", "formattedUser", "formattedShortName", "id"]),
                    d = (0, v.useRef)(null),
                    f = (0, v.useRef)(null),
                    g = (0, v.useRef)(null),
                    _ = (0, v.useState)(!0),
                    S = (0, i.default)(_, 2),
                    E = S[0],
                    w = S[1],
                    L = (0, v.useState)(!1),
                    U = (0, i.default)(L, 2),
                    G = U[0],
                    W = U[1],
                    V = (0, v.useState)(!1),
                    Q = (0, i.default)(V, 2),
                    Z = Q[0],
                    J = Q[1],
                    $ = (0, v.useState)(!1),
                    ee = (0, i.default)($, 2),
                    te = ee[0],
                    ne = ee[1],
                    ae = (0, v.useState)(!1),
                    ie = (0, i.default)(ae, 2),
                    _e = ie[0],
                    xe = ie[1],
                    Ce = (0, v.useState)(null),
                    ye = (0, i.default)(Ce, 2),
                    be = ye[0],
                    Se = ye[1],
                    je = (0, v.useState)(null),
                    ke = (0, i.default)(je, 2),
                    Ee = ke[0],
                    we = ke[1],
                    Te = (0, v.useState)(!1),
                    Ie = (0, i.default)(Te, 2),
                    Pe = Ie[0],
                    Me = Ie[1],
                    Oe = (0, v.useState)(null),
                    Ae = (0, i.default)(Oe, 2),
                    Le = Ae[0],
                    De = Ae[1],
                    Ne = (0, v.useState)(null),
                    Re = (0, i.default)(Ne, 2),
                    Fe = Re[0],
                    Be = Re[1],
                    Ue = (0, v.useState)(null),
                    Ge = (0, i.default)(Ue, 2),
                    He = Ge[0],
                    We = Ge[1],
                    Ve = function() {
                        (0, K.getIdentityVerificationDataJob)(s.id).then((function(e) {
                            r.aborted || (e ? (ge(Le, e.binary) && !e.string !== Fe || (null != Le && k.Cmd.openModal((0, X.jsx)(M.E2EChangeModal, {
                                contact: s
                            })), De(e.binary), Be(e.string)), Xe()) : (Ze(), k.Cmd.openModal((0, X.jsx)(H.default, {
                                name: s.formattedUser,
                                onOK: function() {
                                    t ? t() : null == n || n.uie.requestDismiss()
                                }
                            }))))
                        }))
                    },
                    ze = (0, C.useTimeout)((function() {
                        xe(!1)
                    }), 5e3),
                    qe = (0, i.default)(ze, 1)[0],
                    Ke = function(e) {
                        w(!0), W(!1), J(!1), xe(!0), Se(e), qe()
                    },
                    Ye = (0, C.useTimeout)(Ve, 1e3),
                    Qe = (0, i.default)(Ye, 2),
                    Xe = Qe[0],
                    Ze = Qe[1],
                    Je = (0, C.useTimeout)((function() {
                        W(!1)
                    }), 3e3),
                    $e = (0, i.default)(Je, 1)[0],
                    et = (0, C.useTimeout)((function() {
                        J(!1)
                    }), 3e3),
                    tt = (0, i.default)(et, 1)[0],
                    nt = (0, C.useTimeout)((function() {
                        te && !_e && Ke(h.fbt._("Please try increasing the brightness or reducing light reflection.", null, {
                            hk: "2uEW7v"
                        }))
                    }), 7e3),
                    at = (0, i.default)(nt, 1)[0];
                var rt = function() {
                        ne(!1), xe(!1), we(null), d.current = null
                    },
                    it = function(e) {
                        var t = function(e) {
                            var t, n = s.formattedShortName;
                            switch (e) {
                                case pe:
                                    t = F.default.t(1011, {
                                        contact: n
                                    });
                                    break;
                                case he:
                                case me:
                                    t = F.default.t(1010, {
                                        contact: n
                                    });
                                    break;
                                case ve:
                                default:
                                    t = h.fbt._("The image does not contain a valid identity verification QR code.", null, {
                                        hk: "4q3XzO"
                                    })
                            }
                            return t
                        }(e);
                        Ke(t)
                    },
                    ot = function(e, t) {
                        (function(e) {
                            return new a((function(t, n) {
                                m.default.callback = function(e, a) {
                                    if (a) n(a);
                                    else if (e.length < 1) n(new Error("QR decoder did not return decoded binary"));
                                    else {
                                        var r = new Uint8Array(e[0]);
                                        t(r)
                                    }
                                }, m.default.decode(e)
                            }))
                        })(e).then((function(e) {
                            return (0, p.decodeProtobuf)(A.CombinedFingerprintSpec, e)
                        })).then((function(e) {
                            var n = function(e) {
                                var t, n, a, r, i, o, u, d, c, f, h, m;
                                if (!e || 0 === !e.version || !e.localFingerprint || !e.remoteFingerprint) return ve;
                                var v = new ArrayBuffer(0);
                                v = (0, l.isMDBackend)() ? Le : s.verificationBinary;
                                var g = (0, p.decodeProtobuf)(A.CombinedFingerprintSpec, v);
                                if (ge(null === (t = e.localFingerprint) || void 0 === t ? void 0 : t.identifier, null === (n = g.localFingerprint) || void 0 === n ? void 0 : n.identifier) && ge(null === (a = e.remoteFingerprint) || void 0 === a ? void 0 : a.identifier, null === (r = g.remoteFingerprint) || void 0 === r ? void 0 : r.identifier)) return ce;
                                var _ = ge(null === (i = e.remoteFingerprint) || void 0 === i ? void 0 : i.identifier, null === (o = g.localFingerprint) || void 0 === o ? void 0 : o.identifier),
                                    x = ge(null === (u = e.localFingerprint) || void 0 === u ? void 0 : u.identifier, null === (d = g.remoteFingerprint) || void 0 === d ? void 0 : d.identifier);
                                if (!_ && !x) return me;
                                if (!_) return pe;
                                if (!x) return he;
                                var C = ge(null === (c = e.remoteFingerprint) || void 0 === c ? void 0 : c.publicKey, null === (f = g.localFingerprint) || void 0 === f ? void 0 : f.publicKey),
                                    y = ge(null === (h = e.localFingerprint) || void 0 === h ? void 0 : h.publicKey, null === (m = g.remoteFingerprint) || void 0 === m ? void 0 : m.publicKey);
                                return C && y ? ce : fe
                            }(e);
                            n ? t && He === ve || (We(n), He === fe ? (rt(), w(!1), W(!1), J(!0), xe(!1), tt()) : it(n)) : (rt(), w(!1), W(!0), J(!1), xe(!1), $e())
                        })).catch((function() {
                            t || (We(ve), it(ve))
                        })).finally((function() {
                            window.URL.revokeObjectURL(e)
                        }))
                    },
                    lt = function(e) {
                        e.stopPropagation();
                        var t = e.target.files || e.dataTransfer.files;
                        if (t && t[0]) {
                            var n = t[0],
                                a = URL.createObjectURL(n);
                            ot(a, !1);
                            var r = f.current;
                            r && r.reset()
                        }
                    };
                (0, v.useEffect)((function() {
                    (0, l.isLegacyWebdBackend)() && (0, R.queryIdentity)(s)
                }), [s]), (0, v.useEffect)((function() {
                    return (0, l.isMDBackend)() ? Ve() : (0, R.queryIdentity)(s),
                        function() {
                            var e;
                            null === (e = d.current) || void 0 === e || e.call(d)
                        }
                }), []);
                var ut = null,
                    st = null,
                    dt = null,
                    ct = null,
                    ft = null,
                    pt = null,
                    ht = new ArrayBuffer(0),
                    mt = "";
                (0, l.isMDBackend)() ? (ht = Le, mt = Fe, pt = (0, b.getABPropConfigValue)("adv_v2_m6") ? F.default.t(936, {
                    contactName: s.formattedShortName
                }) : F.default.t(935, {
                    contactName: s.formattedShortName
                })) : (ht = s.verificationBinary, mt = s.verificationString, pt = h.fbt._("Scan the code on your contact's phone, or ask them to scan your code, to verify your messages and calls to them are end-to-end encrypted. You can also compare the number above to verify. This is optional.", null, {
                    hk: "1Vypk2"
                }));
                ht && (D.default && (ut = (0, X.jsx)("div", {
                    className: Y.default.section,
                    children: (0, X.jsx)(j.default, {
                        type: "primary",
                        onClick: te ? rt : function() {
                            var e = B.start("camera"),
                                t = e.asyncStream,
                                n = e.disposeStream;
                            d.current = n, t.then((function(e) {
                                return function(e) {
                                    w(!0), W(!1), J(!1), ne(!0), we(e), at()
                                }(e)
                            })).catch((0, o.filteredCatch)(c.GUM.NotAllowedError, (function() {
                                k.Cmd.openModal((0, X.jsx)(N.GuidePopup, {
                                    messaging: N.Messaging.CAMERA_FAIL,
                                    type: N.TYPE.GUIDE_UNBLOCK
                                }))
                            }))).catch((0, o.filteredCatch)(c.GUM.GUMError, (function() {
                                k.Cmd.openModal((0, X.jsx)(N.GuidePopup, {
                                    messaging: N.Messaging.CAMERA_MISSING,
                                    type: N.TYPE.GUIDE_NONE
                                }))
                            })))
                        },
                        children: te ? h.fbt._("Turn Off Camera", null, {
                            hk: "3OyAHl"
                        }) : h.fbt._("Scan Code", null, {
                            hk: "170pLA"
                        })
                    })
                })), st = (0, X.jsxs)("div", {
                    className: Y.default.section,
                    children: [(0, X.jsx)(j.default, {
                        type: "primary",
                        onClick: function() {
                            var e = g.current;
                            null == e || e.click()
                        },
                        children: h.fbt._("Upload Code", null, {
                            hk: "2aJIAo"
                        })
                    }), (0, X.jsx)("p", {
                        className: Y.default.dragAndDropExplanation,
                        children: Pe ? h.fbt._("Release to verify", null, {
                            hk: "2K08kb"
                        }) : null
                    })]
                }), dt = (0, X.jsx)("form", {
                    ref: f,
                    children: (0, X.jsx)("input", {
                        ref: g,
                        accept: "image/*",
                        type: "file",
                        style: {
                            display: "none"
                        },
                        onChange: lt,
                        onClick: function(e) {
                            return e.stopPropagation()
                        }
                    })
                }));
                te && Ee && (ct = (0, X.jsx)(de, {
                    stream: Ee,
                    disposeStream: d.current,
                    onCapture: function(e) {
                        ot(e, !0)
                    },
                    onClose: rt
                }));
                _e && (ft = (0, X.jsx)(se, {
                    children: be
                }));
                return (0, X.jsxs)(T.default, {
                    onDrop: function(e) {
                        s.verificationBinary && s.verificationString && lt(e)
                    },
                    onDragChange: function(e) {
                        Me(e)
                    },
                    children: [(0, X.jsxs)(P.DrawerHeader, {
                        type: P.DRAWER_HEADER_TYPE.SMALL,
                        rtlFixIfOnDarwin: !0,
                        onBack: function() {
                            t ? t() : null == n || n.uie.requestDismiss()
                        },
                        children: [(0, X.jsx)(z.TextDiv, {
                            theme: "title",
                            children: h.fbt._("Verify Security Code", null, {
                                hk: "1vTVgt"
                            })
                        }), (0, X.jsxs)(z.TextDiv, {
                            theme: "small",
                            children: [F.default.t(1013), ", ", s.formattedUser]
                        })]
                    }), ct, ft, (0, X.jsx)(I.default, {
                        children: (0, X.jsxs)("div", {
                            className: Y.default.form,
                            children: [(0, X.jsxs)("div", {
                                className: Y.default.photo,
                                children: [(0, X.jsx)(re, {
                                    binary: ht,
                                    contact: s,
                                    visible: E
                                }), (0, X.jsx)(le, {
                                    visible: G
                                }), (0, X.jsx)(ue, {
                                    visible: Z
                                })]
                            }), (0, X.jsx)("div", {
                                className: Y.default.section,
                                children: (0, X.jsx)("div", {
                                    className: Y.default.code,
                                    children: (0, X.jsx)(oe, {
                                        string: mt
                                    })
                                })
                            }), (0, X.jsx)("div", {
                                className: Y.default.section,
                                children: (0, X.jsxs)("p", {
                                    className: Y.default.explanation,
                                    children: [(0, X.jsxs)("span", {
                                        children: [pt, ""]
                                    }), (0, X.jsx)(O.ExternalLink, {
                                        href: (0, u.getE2EFaqUrl)(),
                                        children: F.default.t(547)
                                    })]
                                })
                            }), ut, st, dt]
                        })
                    })]
                })
            };
            var i = r(n(63038)),
                o = n(15586),
                l = n(78577),
                u = n(8917),
                s = n(28085),
                d = n(80965),
                c = J(n(8924)),
                f = r(n(94184)),
                p = n(26845),
                h = n(48360),
                m = r(n(31339)),
                v = n(67294),
                g = r(n(68389)),
                _ = n(91285),
                x = n(50857),
                C = n(85456),
                y = r(n(22190)),
                b = n(18297),
                S = n(2210),
                j = r(n(51599)),
                k = n(65901),
                E = n(20050),
                w = r(n(32784)),
                T = r(n(53187)),
                I = r(n(18345)),
                P = n(19288),
                M = n(37261),
                O = n(49012),
                A = n(953),
                L = n(1577),
                D = r(n(96573)),
                N = n(7244),
                R = n(94939),
                F = r(n(9844)),
                B = J(n(94200)),
                U = r(n(37360)),
                G = n(96197),
                H = r(n(93886)),
                W = n(85651),
                V = r(n(7665)),
                z = n(22552),
                q = r(n(93958)),
                K = n(77225),
                Y = r(n(99240)),
                Q = r(n(61566)),
                X = n(85893);

            function Z(e) {
                if ("function" != typeof WeakMap) return null;
                var t = new WeakMap,
                    n = new WeakMap;
                return (Z = function(e) {
                    return e ? n : t
                })(e)
            }

            function J(e, t) {
                if (!t && e && e.__esModule) return e;
                if (null === e || "object" != typeof e && "function" != typeof e) return {
                    default: e
                };
                var n = Z(t);
                if (n && n.has(e)) return n.get(e);
                var a = {},
                    r = Object.defineProperty && Object.getOwnPropertyDescriptor;
                for (var i in e)
                    if ("default" !== i && Object.prototype.hasOwnProperty.call(e, i)) {
                        var o = r ? Object.getOwnPropertyDescriptor(e, i) : null;
                        o && (o.get || o.set) ? Object.defineProperty(a, i, o) : a[i] = e[i]
                    } return a.default = e, n && n.set(e, a), a
            }
            var $ = function(e, t) {
                    return !!e && !!t && ge(e.publicKey, t.publicKey) && ge(e.identifier, t.identifier)
                },
                ee = function(e, t) {
                    if (!e && !t) return !0;
                    var n = (0, p.decodeProtobuf)(A.CombinedFingerprintSpec, e),
                        a = (0, p.decodeProtobuf)(A.CombinedFingerprintSpec, t);
                    if (!n && !a) return !0;
                    if (!(null != n.version || null != a.version || n.localFingerprint || a.localFingerprint || n.remoteFingerprint || a.remoteFingerprint)) return !0;
                    if (n.version !== a.version) return !1;
                    var r = $(n.localFingerprint, a.localFingerprint),
                        i = $(n.remoteFingerprint, a.remoteFingerprint);
                    return r && i
                };

            function te(e) {
                var t = e.binary,
                    n = void 0 === t ? null : t,
                    a = e.visible,
                    r = (0, v.useRef)(null),
                    o = (0, v.useRef)(null),
                    l = (0, v.useState)(!1),
                    u = (0, i.default)(l, 2),
                    c = u[0],
                    f = u[1],
                    p = (0, v.useState)(null),
                    m = (0, i.default)(p, 2),
                    g = m[0],
                    _ = m[1],
                    x = (0, v.useState)(null),
                    C = (0, i.default)(x, 2),
                    y = C[0],
                    b = C[1];
                (0, v.useEffect)((function() {
                    if (n) {
                        var e = r.current;
                        if (!e || !n) return _(null), void b(null);
                        if (ee(g, n)) return;
                        for (o.current && (o.current = null); e.firstChild;) e.removeChild(e.firstChild);
                        o.current = new U.default(e, {
                            text: n,
                            width: d.QR_EDGE / 2,
                            height: d.QR_EDGE / 2,
                            correctLevel: U.default.CorrectLevel.L
                        }), _(n);
                        var t = e.getElementsByTagName("canvas")[0];
                        if (!t) return void b(null);
                        ! function(e) {
                            var t = document.createElement("canvas");
                            t.width = e.width + 10, t.height = e.height + 10;
                            var n = t.getContext("2d");
                            n.fillStyle = "white", n.fillRect(0, 0, t.width, t.height), n.drawImage(e, 5, 5), t.toBlob((function(e) {
                                return b(e)
                            }), "image/png")
                        }(t)
                    }
                }), [n, g]);
                var j = null;
                if (a) {
                    var k = null;
                    if (c && y) {
                        var T = e.contact.formattedUser || "",
                            I = E.ContactCollection.assertGet((0, L.getMaybeMeUser)()).formattedUser;
                        k = (0, X.jsx)(w.default, {
                            file: y,
                            download: "Verification Code between " + I + " and " + T,
                            extension: s.AllowedFileExtensions.PNG,
                            children: (0, X.jsx)(S.AvatarOverlay, {
                                text: h.fbt._("Download code", null, {
                                    hk: "uiMxK"
                                })
                            })
                        })
                    }
                    j = (0, X.jsxs)("div", {
                        onMouseOver: function() {
                            c || f(!0)
                        },
                        onMouseEnter: function() {
                            c || f(!0)
                        },
                        onMouseLeave: function() {
                            c && f(!1)
                        },
                        children: [k, (0, X.jsx)("div", {
                            className: Y.default.circle,
                            ref: r
                        })]
                    })
                }
                return j
            }
            var ne = (0, v.memo)(te, (function(e, t) {
                return ee(t.binary, e.binary) && t.visible === e.visible
            }));

            function ae(e) {
                var t = null;
                return e.visible && (t = (0, X.jsx)("div", {
                    className: Y.default.circle,
                    children: (0, X.jsx)("div", {
                        className: Y.default.spinner,
                        children: (0, X.jsx)(W.Spinner, {
                            size: 52,
                            stroke: 4
                        })
                    })
                })), t
            }

            function re(e) {
                var t = e.binary,
                    n = e.contact,
                    a = null;
                return e.visible && (a = (0, X.jsxs)("div", {
                    className: (0, f.default)(Y.default.container, Y.default.circleContainer),
                    children: [(0, X.jsx)(ne, {
                        visible: !!t,
                        binary: t,
                        contact: n
                    }), (0, X.jsx)(ae, {
                        visible: !t
                    })]
                })), a
            }

            function ie(e) {
                if (!e.string) return (0, X.jsx)("div", {
                    children: F.default.t(572)
                });
                var t = e.string;
                if (60 !== t.length) return __LOG__(3)`verificationString:render props.string should be ${60} characters long instead of ${t.length}.`, (0, X.jsx)("div", {
                    children: h.fbt._("Couldn't display security code. You can verify using the QR code instead.", null, {
                        hk: "3yMFFL"
                    })
                });
                for (var n = [], a = 0; a < 3; a++) {
                    for (var r = [], i = 0; i < 4; i++) {
                        for (var o = [], l = 0; l < 5; l++) {
                            var u = t.charAt(5 * a * 4 + 5 * i + l);
                            o.push((0, X.jsx)("span", {
                                className: Y.default.digit,
                                children: u
                            }, l))
                        }
                        r.push((0, X.jsx)("span", {
                            className: Y.default.block,
                            children: o
                        }, i))
                    }
                    n.push((0, X.jsx)(G.SelectableDiv, {
                        className: Y.default.row,
                        selectable: !0,
                        children: r
                    }, a))
                }
                return (0, X.jsx)(G.SelectableDiv, {
                    selectable: !0,
                    children: n
                })
            }
            var oe = (0, v.memo)((0, v.forwardRef)(ie), (function(e, t) {
                return t.string === e.string
            }));

            function le(e) {
                var t = null;
                return e.visible && (t = (0, X.jsx)("div", {
                    className: (0, f.default)(Y.default.container, Y.default.checkmarkContainer),
                    children: (0, X.jsx)("div", {
                        className: Y.default.checkmark,
                        children: " "
                    })
                })), t
            }

            function ue(e) {
                var t = null;
                return e.visible && (t = (0, X.jsx)("div", {
                    className: (0, f.default)(Y.default.container, Y.default.errorContainer),
                    children: (0, X.jsx)("div", {
                        className: Y.default.error,
                        children: "!"
                    })
                })), t
            }

            function se(e) {
                var t = e.children;
                return (0, X.jsx)("div", {
                    className: Y.default.errorBanner,
                    children: t
                })
            }

            function de(e) {
                var t = e.stream,
                    n = e.onCapture,
                    a = e.disposeStream,
                    r = (0, v.useRef)(null),
                    o = (0, v.useRef)(!1),
                    l = (0, v.useRef)(null),
                    u = (0, v.useRef)(null),
                    s = (0, g.default)((function() {
                        var e, t = null === (e = l.current) || void 0 === e ? void 0 : e.underlyingVideo();
                        if (t) {
                            var a = document.createElement("canvas");
                            a.width = t.videoWidth / 2, a.height = t.videoHeight / 2, a.getContext("2d").drawImage(t, a.width / 2, a.height / 2, a.width, a.height, 0, 0, a.width, a.height), a.toBlob((function(e) {
                                var t = window.URL.createObjectURL(e);
                                __LOG__(2)`objectURL: ${t}`, n(t)
                            }), "image/jpeg", 1)
                        }
                    }), 200),
                    d = (0, i.default)(s, 1)[0];
                (0, v.useEffect)((function() {
                    return (0, B.isSrcObjectInVideoElement)() || (r.current = window.URL.createObjectURL(t)),
                        function() {
                            t && (null == a || a(), r.current && window.URL.revokeObjectURL(r.current))
                        }
                }), []);
                var c = function() {
                    var e, t = null === (e = l.current) || void 0 === e ? void 0 : e.underlyingVideo(),
                        n = u.current;
                    if (t && n) {
                        var a = t.offsetHeight,
                            r = t.offsetWidth,
                            i = r / 3,
                            o = i;
                        n.style.width = i + "px", n.style.height = o + "px", n.style.margin = (a - o) / 2 + "px " + (r - i) / 2 + "px"
                    }
                };
                (0, _.useListener)(window, "resize", c);
                var f, p = null;
                e.stream && (p = (0, X.jsxs)("div", {
                    className: Y.default.webcam,
                    children: [(0, X.jsx)("div", {
                        className: Y.default.webcamVideo,
                        children: (0, X.jsx)(Q.default, {
                            autoPlay: !0,
                            ref: l,
                            onPlay: function() {
                                !0 !== o.current && (c(), d())
                            },
                            src: null !== (f = r.current) && void 0 !== f ? f : void 0,
                            srcObject: r.current ? void 0 : e.stream,
                            width: "100%"
                        })
                    }), (0, X.jsx)("div", {
                        className: Y.default.overlay,
                        ref: u
                    }), (0, X.jsx)("button", {
                        onClick: e.onClose,
                        className: Y.default.btnClose,
                        children: (0, X.jsx)(V.default, {
                            name: "x-alt"
                        })
                    })]
                }));
                return p
            }
            var ce = 0,
                fe = 1,
                pe = 2,
                he = 3,
                me = 4,
                ve = 5;

            function ge(e, t) {
                if (!e || !t) return !1;
                var n = new Uint8Array(e),
                    a = new Uint8Array(t),
                    r = n.length;
                if (r !== a.length) return !1;
                for (var i = 0; i < r; i++)
                    if (n[i] !== a[i]) return !1;
                return !0
            }
        },
        30869: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = (0, s.useContext)(C.ThemeContext);
                return (0, s.useEffect)((function() {
                    return _.ServerProps.wallpapersV2 && c.default.trigger("wallpaper_drawer_open"),
                        function() {
                            c.default.trigger("wallpaper_color_preview"), _.ServerProps.wallpapersV2 && c.default.trigger("wallpaper_drawer_close")
                        }
                }), []), (0, j.jsxs)(h.default, {
                    children: [(0, j.jsx)(v.DrawerHeader, {
                        title: g.default.t(842),
                        onBack: e.onClose,
                        type: v.DRAWER_HEADER_TYPE.LARGE
                    }), (0, j.jsx)(m.default, {
                        children: (0, j.jsx)(E, {
                            colors: (0, b.getWallpaperColors)(t.theme),
                            chatPreference: c.default.get("defaultPreference")
                        })
                    })]
                })
            };
            var r = a(n(59713)),
                i = a(n(63038)),
                o = a(n(84646)),
                l = a(n(94184)),
                u = n(48360),
                s = n(67294),
                d = n(50857),
                c = a(n(88549)),
                f = n(91404),
                p = n(65901),
                h = a(n(53187)),
                m = a(n(18345)),
                v = n(19288),
                g = a(n(9844)),
                _ = n(43890),
                x = n(22552),
                C = n(63443),
                y = n(92428),
                b = n(23232),
                S = a(n(17171)),
                j = n(85893);

            function k(e) {
                var t, n = e.colorHex,
                    a = e.isDefault,
                    u = (0, s.useState)(!1),
                    d = (0, i.default)(u, 2),
                    f = d[0],
                    h = d[1],
                    m = function() {
                        return a ? b.DEFAULT_CHAT_WALLPAPER : n
                    },
                    v = e.isDefault ? (0, j.jsx)("span", {
                        className: S.default.wallpaperDefaultTitle,
                        "data-a8n": o.default.key("wallpaper-default-title"),
                        children: g.default.t(373)
                    }) : null,
                    _ = (0, l.default)(S.default.wallpaperColorCanvas, (t = {}, (0, r.default)(t, S.default.canvasHover, f), (0, r.default)(t, S.default.canvasActive, e.isSelected), (0, r.default)(t, S.default.canvasDefault, e.isDefault), t));
                return (0, j.jsx)("span", {
                    className: _,
                    style: {
                        backgroundColor: e.colorHex
                    },
                    onMouseOver: function() {
                        f || (h(!0), c.default.trigger("wallpaper_color_preview", m()))
                    },
                    onMouseEnter: function() {
                        f || (h(!0), c.default.trigger("wallpaper_color_preview", m()))
                    },
                    onMouseLeave: function() {
                        f && (h(!1), c.default.trigger("wallpaper_color_preview"))
                    },
                    onClick: function() {
                        var e = m(),
                            t = c.default.get("defaultPreference");
                        t && e !== t.wallpaperColor && (t.set("wallpaperColor", e), p.Cmd.openToast((0, j.jsx)(y.Toast, {
                            msg: g.default.t(841),
                            id: (0, y.genId)()
                        })))
                    },
                    title: e.isDefault ? g.default.t(373) : null,
                    children: v
                })
            }

            function E(e) {
                var t, n = e.colors,
                    a = (0, d.useOptionalModelValues)(e.chatPreference, ["wallpaperColor", "showDoodle"]),
                    r = null == a ? void 0 : a.wallpaperColor,
                    i = null == a ? void 0 : a.showDoodle,
                    o = n.map((function(e) {
                        return (0, j.jsx)(k, {
                            colorHex: e,
                            isSelected: r === e,
                            isDefault: !1
                        }, e)
                    })),
                    l = (0, j.jsx)(k, {
                        isSelected: r === b.DEFAULT_CHAT_WALLPAPER,
                        isDefault: !0
                    }, b.DEFAULT_CHAT_WALLPAPER);
                o.unshift(l);
                for (var s = 0; s < 2; s++) o.push((0, j.jsx)("div", {
                    className: S.default.wallpaperColorEmpty
                }, "emptyEl" + s));
                return _.ServerProps.wallpapersV2 && (t = (0, j.jsxs)("div", {
                    className: S.default.wallpaperApplyDoodle,
                    children: [(0, j.jsx)(f.CheckBox, {
                        onChange: function() {
                            if (a) {
                                var e = !a.showDoodle;
                                a.set("showDoodle", e), p.Cmd.openToast((0, j.jsx)(y.Toast, {
                                    msg: e ? u.fbt._("Chat wallpaper doodles added", null, {
                                        hk: "4wtFSD"
                                    }) : u.fbt._("Chat wallpaper doodles removed", null, {
                                        hk: "3cppZY"
                                    }),
                                    id: (0, y.genId)()
                                }))
                            }
                        },
                        checked: !!i
                    }), (0, j.jsx)(x.TextSpan, {
                        className: S.default.checkboxLabel,
                        theme: "small",
                        children: u.fbt._("Add WhatsApp Doodles", null, {
                            hk: "4rcSeh"
                        })
                    })]
                })), (0, j.jsxs)(j.Fragment, {
                    children: [t, (0, j.jsx)("div", {
                        className: S.default.wallpaperColorGrid,
                        children: o
                    })]
                })
            }
        },
        69466: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = (0, l.useModelValues)(e.statusV3, ["id", "t", "hasUnread", "unreadCount", "totalCount", "contact"]),
                    n = (0, l.useModelValues)(e.contact, ["formattedName", "statusMute", "isPSA"]),
                    a = (0, o.default)((0, r.default)({}, s.default.dimmed, n.statusMute)),
                    p = n.isPSA ? null : i.Clock.relativeDateAndTimeStr(t.t),
                    h = n.isPSA ? (0, f.jsxs)("span", {
                        className: s.default.verified,
                        children: [n.formattedName, (0, f.jsx)("div", {
                            className: s.default.icon,
                            children: (0, f.jsx)(c.default, {
                                name: "psa-verified"
                            })
                        })]
                    }) : n.formattedName;
                return (0, f.jsx)(u.default, {
                    className: a,
                    customImage: !0,
                    theme: "status-list",
                    image: (0, f.jsx)(d.default, {
                        statusV3: t,
                        contact: n,
                        onClick: e.onClick
                    }),
                    primary: h,
                    secondary: p,
                    onClick: e.onClick,
                    contextEnabled: function() {
                        return !1
                    }
                }, t.id.toString())
            };
            var r = a(n(59713)),
                i = n(73466),
                o = a(n(94184)),
                l = n(50857),
                u = a(n(27237)),
                s = a(n(48412)),
                d = a(n(24533)),
                c = a(n(7665)),
                f = n(85893)
        },
        24533: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, n = e.theme,
                    a = e.thumbnailPlaceholder,
                    r = e.msg,
                    i = (0, l.useModelValues)(e.statusV3, ["lastStatus"]),
                    s = (0, l.useModelValues)(e.contact, ["statusMute"]),
                    c = null != r ? r : i.lastStatus,
                    m = h(n);
                t = null != a ? a : c ? (0, p.jsx)(u.DetailImage, {
                    id: c.sender,
                    theme: "status_v3",
                    size: 40
                }) : null;
                return (0, p.jsxs)("div", {
                    className: (0, o.default)(f.default.container, m),
                    role: e.role || "",
                    onContextMenu: null,
                    onClickCapture: function(t) {
                        var n;
                        null === (n = e.onClick) || void 0 === n || n.call(e), t.stopPropagation(), t.preventDefault()
                    },
                    children: [s.statusMute || "status-panel" === n ? null : (0, p.jsx)(d.StatusV3ImageRing, {
                        statusV3: i
                    }), (0, p.jsx)(v, {
                        msg: c,
                        theme: n,
                        thumbnailPlaceholder: t
                    })]
                })
            };
            var r = n(40787),
                i = a(n(67082)),
                o = a(n(94184)),
                l = n(50857),
                u = n(66834),
                s = a(n(43348)),
                d = (n(68220), n(84245)),
                c = n(15097),
                f = a(n(20353)),
                p = n(85893);

            function h(e) {
                return "status-panel" === e ? f.default.thumbSizeLarge : f.default.thumbSizeSmall
            }

            function m(e) {
                var t = e.msg,
                    n = e.theme;
                return (0, p.jsx)("div", {
                    className: (0, o.default)(f.default.statusImage, h(n)),
                    style: {
                        backgroundColor: t.statusV3TextBg
                    },
                    children: (0, p.jsx)("div", {
                        className: (0, o.default)(f.default.textThumb, h(n)),
                        children: (0, p.jsx)(c.StatusV3Text, {
                            msg: t,
                            theme: null != n ? n : "status-thumbnail"
                        })
                    })
                })
            }

            function v(e) {
                var t = e.msg,
                    n = e.theme,
                    a = e.thumbnailPlaceholder,
                    l = h(n),
                    u = f.default.statusImage;
                return t ? i.default.isPSA(t.sender) ? (0, p.jsx)("div", {
                    className: (0, o.default)(f.default.thumbContainer, l, f.default.statusImageFallbackBackground),
                    children: a
                }) : t.type === r.MSG_TYPE.CHAT ? (0, p.jsx)(m, {
                    msg: t,
                    theme: n
                }) : (0, p.jsx)(s.default, {
                    containerClassName: (0, o.default)(f.default.thumbContainer, l, f.default.statusImageFallbackBackground),
                    childClassName: (0, o.default)(u, l),
                    msg: t,
                    thumbnailPlaceholder: a
                }) : (0, p.jsx)("div", {
                    className: (0, o.default)(u, l, f.default.statusImageFallbackBackground)
                })
            }
        },
        26774: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.StickerIcon = function(e) {
                var t = e.url,
                    n = e.xstyle,
                    a = (0, l.default)({
                        root: null,
                        rootMargin: "0px",
                        threshold: 0
                    }),
                    f = (0, r.default)(a, 2),
                    p = f[0],
                    h = f[1].isIntersecting,
                    m = (0, i.useRef)(h);
                return m.current = m.current || h, (0, s.jsx)("div", {
                    ref: p,
                    className: (0, o.default)(d, n),
                    children: m.current && (0, s.jsx)(u.ImgWithFallback, {
                        fallbackSVG: "sticker",
                        wrapOptions: {
                            centerWrapperChild: !0,
                            wrapperClassName: ""
                        },
                        className: (0, o.default)(c),
                        size: "NONE",
                        roundContainer: !1,
                        imgProps: {
                            src: t,
                            draggable: !1
                        },
                        theme: u.Theme.Transparent
                    })
                })
            };
            var r = a(n(63038)),
                i = n(67294),
                o = a(n(56720)),
                l = a(n(18822)),
                u = n(42917),
                s = n(85893),
                d = {
                    boxSizing: "cm280p3y",
                    height: "graaj7av",
                    width: "jgly3g7g",
                    minHeight: "lignnmtc",
                    minWidth: "j3e9rhaw",
                    position: "g0rxnol2"
                },
                c = {
                    width: "ln8gz9je",
                    height: "ppled2lx"
                }
        },
        35942: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.stickerPacks,
                    n = e.onStickerPackDetails,
                    a = (0, i.default)((function() {
                        return new u.default
                    })),
                    p = (0, r.useMemo)((function() {
                        return t.map((function(e) {
                            return {
                                itemKey: e.id,
                                stickerPack: e
                            }
                        }))
                    }), [t]);
                return (0, f.jsx)(l.default, {
                    flatListControllers: [a.current],
                    children: (0, f.jsx)(o.FlatList, {
                        flatListController: a.current,
                        direction: "vertical",
                        forceConsistentRenderCount: !1,
                        data: p,
                        renderItem: function(e) {
                            return (0, f.jsx)(c.default, {
                                data: e,
                                onClick: n
                            })
                        },
                        defaultItemHeight: d.STICKER_LIST_ITEM_HEIGHT,
                        keyOrder: s.KeyOrder.INVERSE
                    })
                })
            };
            var r = n(67294),
                i = a(n(62905)),
                o = n(73568),
                l = a(n(23803)),
                u = a(n(92546)),
                s = n(69725),
                d = n(64585),
                c = a(n(92894)),
                f = n(85893)
        },
        92894: (e, t, n) => {
            "use strict";
            var a = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                for (var t = e.data.stickerPack, n = (0, c.jsxs)("div", {
                        className: (0, i.default)(f.title),
                        children: [(0, c.jsx)(u.EmojiText, {
                            text: t.name,
                            ellipsify: !0,
                            titlify: !0
                        }), t.animated ? (0, c.jsx)(d.default, {
                            name: "round-play",
                            className: (0, i.default)(f.animatedIcon),
                            width: 16,
                            height: 16
                        }) : null]
                    }), a = [], p = Math.min(6, t.previewImageIds.length), h = 0; h < p; h++) {
                    var m = t.previewImageIds[h];
                    a.push((0, c.jsxs)(r.Fragment, {
                        children: [(0, c.jsx)(o.default, {
                            breakpoint: 94 * (h + 1) - 22,
                            inverseToContainer: !0,
                            maxWidth: "100%",
                            minWidth: 0
                        }), (0, c.jsx)(s.StickerIcon, {
                            url: `https://static.whatsapp.net/sticker?cat=sticker_preview_png&id=${m}`,
                            xstyle: f.stickerIcon
                        })]
                    }, m))
                }
                var v = (0, c.jsxs)(c.Fragment, {
                    children: [(0, c.jsx)(u.EmojiText, {
                        text: t.publisher,
                        ellipsify: !0
                    }), (0, c.jsx)("div", {
                        className: (0, i.default)(f.stickerIconsContainer),
                        children: a
                    })]
                });
                return (0, c.jsx)(l.default, {
                    a8n: "sticker-pack-list-item",
                    theme: "sticker-pack",
                    primary: n,
                    secondary: v,
                    onClick: function() {
                        e.onClick(t)
                    },
                    className: (0, i.default)(f.stickerPack),
                    contextEnabled: function() {
                        return !1
                    }
                }, t.id)
            };
            var r = n(67294),
                i = a(n(56720)),
                o = a(n(53473)),
                l = a(n(27237)),
                u = n(73008),
                s = n(26774),
                d = a(n(7665)),
                c = n(85893),
                f = {
                    stickerPack: {
                        paddingStart: "lyvj5e2u",
                        color: "h15s16sg"
                    },
                    title: {
                        display: "p357zi0d",
                        alignItems: "gndfcl4n"
                    },
                    animatedIcon: {
                        marginStart: "oz0g9ue8",
                        color: "kw851w1p"
                    },
                    stickerIconsContainer: {
                        display: "p357zi0d",
                        flexDirection: "sap93d0t",
                        flexWrap: "dnb887gk",
                        marginTop: "dj1c3cmq"
                    },
                    stickerIcon: {
                        marginEnd: "gwq3iy2m"
                    }
                }
        },
        28085: (e, t, n) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.AllowedFileExtensions = void 0;
            var a = n(76672)({
                PNG: ".png",
                TXT: ".txt",
                ZIP: ".zip"
            });
            t.AllowedFileExtensions = a
        },
        87908: (e, t) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.isKeyFiniteAndAllowed = t.PIN_LENGTH = void 0;
            t.PIN_LENGTH = 6;
            var n = ["Backspace", "Tab"];
            t.isKeyFiniteAndAllowed = function(e) {
                return !Number.isFinite(parseInt(e.key, 10)) && !n.includes(e.key)
            }
        },
        23526: (e, t, n) => {
            "use strict";
            var a = n(21314).default,
                r = n(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.getCachedOrdersInfoFromChat = function(e) {
                return {
                    fetcher: a.resolve(f(e)),
                    unsubscribe: function() {}
                }
            }, t.getMergedContactAndOrderInfoMap = function(e, t) {
                return (0, o.default)((0, o.default)({}, e), t.reduce((function(e, t) {
                    return e[t.orderInfo.referenceId] = t, e
                }), {}))
            }, t.getMergedOrderStatusInfoMap = function(e, t) {
                return (0, o.default)((0, o.default)({}, e), t.reduce((function(e, t) {
                    return e[t.refId] = t, e
                }), {}))
            }, t.getNotCachedOrdersInfoFromChat = function(e) {
                var t, n, r = function() {
                    n(), clearInterval(t)
                };
                return {
                    fetcher: new a((function(a) {
                        t = setInterval((function() {
                            e.loadEarlierMsgs(e.msgs)
                        }), 200), n = e.msgs.onMsgLoadStateChange((function() {
                            e.msgs.msgLoadState.noEarlierMsgs && (a(f(e)), r())
                        }))
                    })),
                    unsubscribe: r
                }
            }, t.getOrderDisplayDate = void 0, t.getOrdersInfoFromMsgs = p;
            var i = r(n(63038)),
                o = r(n(81109)),
                l = n(73466),
                u = n(40787),
                s = (n(82380), r(n(11773))),
                d = n(99614),
                c = n(45311);

            function f(e) {
                var t = e.contact;
                return p(e.msgs.toArray(), t)
            }

            function p(e, t) {
                return e.reduce((function(e, n) {
                    var a, r = (null === (a = n.interactivePayload) || void 0 === a ? void 0 : a.buttons) || [{}],
                        o = (0, i.default)(r, 1)[0],
                        l = o.name,
                        u = o.buttonParamsJson;
                    if (n.nativeFlowName === s.default.ORDER_DETAILS) {
                        var f = n.t,
                            p = (0, d.paramsJsonToOrderInfo)(l, u);
                        p && e.contactsAndOrdersInfo.push({
                            contact: t,
                            orderInfo: p,
                            timestamp: f,
                            interactiveMsg: h(n)
                        })
                    } else if (n.nativeFlowName === s.default.ORDER_STATUS) {
                        var m = (0, c.paramsJsonToOrderStatusInfo)(l, u);
                        m && e.ordersStatusInfo.push(m)
                    }
                    return e
                }), {
                    contactsAndOrdersInfo: [],
                    ordersStatusInfo: []
                })
            }

            function h(e) {
                var t = e.safe();
                return t.type === u.MSG_TYPE.INTERACTIVE ? t : null
            }
            t.getOrderDisplayDate = function(e, t, n) {
                var a = l.Clock.relativeDateStr(e[t[n]].timestamp).toString();
                return a === (n > 0 ? l.Clock.relativeDateStr(e[t[n - 1]].timestamp).toString() : "") ? "" : a
            }
        },
        68971: (e, t, n) => {
            e.exports = n.p + "img/animated-doodle_600127bdb5f7627ede5cd4ef320f55b0.png"
        },
        82126: (e, t, n) => {
            e.exports = n.p + "img/sticker-pack-empty_9f0c66fc3aec33b2f78f0ae1721e053b.png"
        },
        6846: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                editMain: "_3xeOe",
                dayMain: "elIXU",
                timeWrapper: "_3u7Nx",
                hoursAnd: "VtTvE",
                hoursMain: "_1t1ZU",
                dayCheckbox: "_1_yf5",
                dayInfo: "_2ycHc",
                dayInfoText: "_2RSsg"
            }
        },
        88712: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                editMain: "_1GBQ2",
                list: "_2ORz2",
                rowMain: "_1DFmp",
                rowCheckbox: "_2pPkR",
                rowLabel: "_1NGCs",
                disabled: "YVobU",
                loadingSpinner: "_2-B6b",
                searchBackground: "_1Fb5R"
            }
        },
        17: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                verifiedNameIcon: "_3PMWi",
                noPaddingTop: "_23GE5"
            }
        },
        38968: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                loadingSpinner: "_27f4X"
            }
        },
        28759: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                info: "_1bDv-",
                footer: "_2a_BY",
                emptyCartContainer: "_2hNBn",
                emptyCardHeader: "_3SGPw",
                emptyCardText: "_1_kdr",
                btnSend: "apgxN",
                cartMessage: "_25cOj"
            }
        },
        86766: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                price: "_2TWGj",
                actions: "_3qMz1",
                deleteIcon: "X73p1",
                cartListItem: "_22OLH"
            }
        },
        36825: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                descriptionText: "_3cn-t",
                loadingSpinner: "_39T3a"
            }
        },
        45231: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                nameContainer: "_2ZSfJ",
                nameIcon: "_2c2YS",
                nameEdit: "_3z09E",
                listContainer: "_3qa_s",
                footer: "_mlI_",
                saveButton: "_1Ah-d",
                operation: "hCFEO",
                spinner: "_2GKPh",
                isSending: "_29OTP",
                container: "_20LKm",
                loadingSpinner: "_1oYzh"
            }
        },
        30806: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                productWrapper: "rJvJe",
                drawerHeader: "_1FOnF",
                drawerHeaderButtonContainer: "_31Lzw",
                deleteButtonContainer: "_3ACRw",
                isSending: "PH_zP",
                spinner: "_2uvSh",
                hiddenLabel: "_1iq2E",
                hiddenDescr: "_2CpMK",
                hiddenContainer: "_3CZ_C"
            }
        },
        12162: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                addItemPlaceholder: "_1qJg-",
                placeholderIcon: "_36m_1",
                placeholderContainer: "_1G1TN",
                divider: "Ba9cd",
                isLoading: "_1GbNE",
                spinner: "_2K6GK"
            }
        },
        37870: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                drawerHeader: "_3jATq",
                productName: "_1v6Jb",
                buttonSeparator: "_2DYm7",
                drawerHeaderButtonContainer: "_1TIjK",
                productWrapper: "_2jzzC",
                businessInfoTitle: "_3Lz6H"
            }
        },
        95959: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                root: "_10NM0",
                appealText: "_1K_U7",
                icon: "_3eVMu",
                text: "Qqtdl"
            }
        },
        62275: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                collectionIcon: "_2tGWa",
                iconContainer: "_1iPYw"
            }
        },
        41171: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                loadingSpinner: "o3c-l"
            }
        },
        63077: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                panel: "_1TOgh",
                tileContainer: "_1vfS7",
                imageTile: "_2a_Q7",
                imageThumb: "Cbc-m",
                deleteIcon: "_2WYev",
                btnAddContainer: "_1ar7j",
                btnAddText: "RAMrK",
                errorMessage: "_3E49Y"
            }
        },
        60197: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                list: "_2V4Ys",
                noSections: "_82KlQ"
            }
        },
        76624: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                title: "_2bLEK"
            }
        },
        40249: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                disabled: "_1W_mm",
                title: "_2jAho"
            }
        },
        72430: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                title: "_3Q5hz"
            }
        },
        52904: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                title: "_13MJe",
                text: "hM3sj",
                icon: "_1p9YY"
            }
        },
        23167: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                container: "_2RE0a",
                border: "_3t6bN",
                square: "_36Gk7",
                avatar: "_1b8fw",
                count: "_1gLP4",
                two: "_1EzI5",
                first: "JOgRb",
                second: "_3Q0g1",
                three: "_33l2L",
                third: "_1MivT",
                four: "_18BoY",
                fourth: "_1P7KC"
            }
        },
        15922: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                imageGallery: "_3uMAp",
                imageGalleryList: "_1WX5F",
                imageGalleryItem: "MkTEt",
                imageGalleryItemSpacer: "_2ppZW",
                imageGalleryItemImage: "_6CxGV",
                imageGalleryItemOverlay: "_7mUkD",
                selected: "_1KnO5",
                imageGalleryFooter: "PYlBE",
                focusAnimation: "_30mp5",
                focusAnimationKeyframes: "_3i50e"
            }
        },
        1906: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                key: "_3XnBm"
            }
        },
        73016: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                container: "_3cOtp",
                body: "_1YLvc"
            }
        },
        31113: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                container: "_1w1m1",
                disabled: "_3Sg2g",
                count: "ItnCt",
                large: "_3OTTU"
            }
        },
        11300: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                versionInfo: "AwT3E"
            }
        },
        74692: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                positioner: "_388vZ",
                container: "ewANj",
                resizableInput: "_1L8rJ",
                emojiButton: "_3tKNQ",
                buttonIconWrapper: "_1F5dF",
                inputContainer: "_3DCJ3",
                hiddenText: "_269u7",
                hiddenTextLine: "_3F7_-",
                emojiPlaceholder: "_39TQD"
            }
        },
        22778: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                container: "_2nStn",
                inputContainer: "_1VmmK",
                videoCaption: "_2M4pc",
                buttonContainer: "_26J91",
                clearBtn: "_3EUIt",
                inputEmoji: "I1HlI",
                charCounter: "_3HWI2",
                suggestionsPositioner: "_3-qS1",
                suggestionsContainer: "_1Uy4i",
                secondaryButtonContainer: "_3g507"
            }
        },
        81212: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                thumb: "_2AkjL",
                active: "_31gut",
                bodyWrapper: "_1iECW",
                body: "_1hZLd",
                bodyIcon: "_299B_",
                btnDelete: "_1By33"
            }
        },
        28224: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                container: "_34aQy",
                header: "qAj2u",
                headerRight: "_3PqRX",
                canvasContainer: "_1PFn9",
                cropRotateContainer: "_3zRbB",
                closeButton: "_1gvdP",
                closeButtonPlaceholder: "_1Ao72",
                canvas: "_153i9",
                footer: "_1nPzf",
                bottomToolbar: "_1nNuD",
                captionInputContainer: "_1iQr1",
                captionInputHidden: "_6dYhh"
            }
        },
        33241: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                container: "_1Mcu-",
                previewOnly: "_2NB7f",
                dropOverlay: "_1PdGl",
                dropOverlayOutline: "_2HexZ",
                spinner: "pzFG8",
                footer: "_1HI4Y",
                addMediaButton: "_1xotB",
                addMediaButtonDisabled: "WAMhx",
                filmstripContainer: "_1vAZI",
                thumbs: "_7Tfhi",
                sendButton: "_33pCO",
                captureFooter: "_1z1Aw"
            }
        },
        95664: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                container: "_3gx1m",
                cropperContainer: "_2mSFk"
            }
        },
        86325: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                body: "_25wph",
                previewContainer: "OW_mU",
                previewIcon: "_4FGL4",
                header: "_1Xi6x",
                metadata: "_3QpE7"
            }
        },
        50983: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                container: "jcXC6"
            }
        },
        83178: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                container: "_2SXhH",
                footer: "UJ-0N"
            }
        },
        11653: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                container: "_2wtUo",
                selected: "_3z23o",
                disabled: "wZyqj",
                icon: "ZZ0GN",
                rotate: "_2X1cd",
                body: "_2O4Bw",
                caret: "_104hn"
            }
        },
        88254: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                container: "_3eK79",
                colorChipsContainer: "_1E-L7"
            }
        },
        38289: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                colorButton: "_2J8i-",
                primaryColorChip: "fteqj",
                primaryColorChipMedium: "_1Rjww",
                secondaryColorChip: "_1H9V5",
                active: "_3Jsf_",
                hover: "_1jiBu",
                selected: "_1lanH",
                colorChipWithBorder: "_2WYx6"
            }
        },
        85088: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                container: "_1uNZ6",
                input: "_1bDiJ"
            }
        },
        28526: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                canvas: "_3ZCwl",
                cursor: "_1YJQa"
            }
        },
        53591: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                container: "fZGUF"
            }
        },
        25708: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                container: "_1LRKO",
                rotateLeftButton: "_3dKFO"
            }
        },
        43685: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                container: "QUfeO",
                fontLabel: "_3OMGG",
                icon: "_3SJCV"
            }
        },
        38128: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                item: "_1j1xr",
                selected: "_2DKLD",
                sansSerif: "_106wS",
                serif: "_1yqqW",
                noricanRegular: "bzq8z",
                bryndanWrite: "_3Pj9c",
                oswaldHeavy: "ah3iR",
                alignmentContainer: "_2lKFu",
                alignmentIcon: "mi3vs",
                alignmentIconSelected: "_1KlZW"
            }
        },
        13813: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                cirle: "_10ZsU",
                circleFilled: "_1ZATr",
                unchecked: "_1B4g5",
                checked: "_3s-4-"
            }
        },
        92753: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                container: "_1_bv-",
                thicknessButton: "_3bAiP",
                thicknessChip: "_3iRrK",
                selected: "_32C9L"
            }
        },
        81402: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                container: "JKr_m",
                media: "_3R3yC"
            }
        },
        78119: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                container: "_3fFxj",
                media: "_3lqv9",
                document: "hH6sl",
                text: "eAWMI",
                icon: "fDWKK"
            }
        },
        39133: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                container: "_1ULgK",
                media: "_2gN82",
                img: "OunMM",
                audio: "_3ZDt1",
                videoContainer: "_33jN5",
                spinner: "_1-L7X",
                video: "_2Vd8_",
                staticPreview: "sWhPU"
            }
        },
        8338: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                container: "_2nVq-",
                preview: "_1K_xd",
                caption: "_3xLDc",
                img: "_2zsdh",
                imgBorder: "_2Cuay"
            }
        },
        54832: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                inputContainer: "_hcHx",
                label: "_2Nd6M",
                input: "_3qFYS"
            }
        },
        44616: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                container: "_3XAt1",
                wallpaperColorCanvas: "_2IV17",
                wallpaperColorEmpty: "ZxOfr",
                canvasActive: "_3ts_T",
                canvasHover: "_1zeZ4"
            }
        },
        39132: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                addLabelBtContainer: "_2RW7t"
            }
        },
        27053: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                actionBtns: "_1NODy",
                newLabelBtn: "_3_CYW",
                plus: "_3vPCO"
            }
        },
        9837: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                list: "_2i0C9",
                hint: "_3sZ4R",
                button: "AoASc"
            }
        },
        14306: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                container: "_3zKdl",
                body: "Sy3TC",
                captionInput: "_32AUO",
                footer: "_11gZr",
                retakeBtn: "rKFEM",
                retakeIcon: "_2rZzC",
                caption: "_1sxcB",
                videoContainer: "_2xIhM",
                video: "_2jZjN",
                btn: "_2kkeT",
                videoInactive: "_2eCp4",
                btnSend: "_1103Z",
                image: "_288ya",
                snapshot: "_3sE1m"
            }
        },
        23024: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                defaultGroupIcon: "_3uDrP"
            }
        },
        13600: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                newGroupButton: "EptxG",
                defaultGroupIcon: "bSJ6w"
            }
        },
        52697: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                icon: "_2WtuC",
                body: "_3TCJd",
                spinner: "_1PKms",
                ack: "YYcY9",
                statusBlue: "_13UwK"
            }
        },
        61043: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                section: "Yc7EA",
                container: "_3Q-IP",
                control: "_2-cwr",
                label: "_22inq"
            }
        },
        17731: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                dropOverlay: "PHaD9",
                dropOverlayOutline: "WsbTY"
            }
        },
        37783: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                btnSend: "_1WEiG",
                attributionLink: "_4yicW",
                mediaBody: "_1YZ48",
                attribution: "_1nd00",
                footer: "iajo1",
                containerBackground: "_3rPvK",
                retake: "_3r-Fa",
                retakeIcon: "_3SS26",
                mediaElementBase: "_3ULIF",
                mediaElement: "_38bBM _3ULIF"
            }
        },
        88805: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                mediaViewerImg: "_2rSfC",
                cropOverlay: "pKKiG"
            }
        },
        27: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                scaler: "_3QxRj",
                scalerButton: "P6r3N"
            }
        },
        19517: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                wrapper: "fvxZ_",
                icon: "_3kxe5",
                text: "sfUBV"
            }
        },
        99223: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                linkContainer: "_3eSYR",
                descContainer: "_1r8tU",
                icon: "_3qnQ8"
            }
        },
        58529: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                confirmationText: "_2rM2V"
            }
        },
        42188: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                title: "_3X4ur",
                titleIcon: "_3v5-C",
                ack: "_3hJA9",
                statusBlue: "_31P1q",
                forwardCount: "_36jfD",
                spinner: "_3pJTm",
                list: "_34Zzk",
                footer: "W5HdQ"
            }
        },
        19685: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                commentInput: "_2_o99",
                search: "_1Plju",
                groupInfo: "_2wLei",
                onSendInvite: "_2-WpU"
            }
        },
        7078: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                animation: "o43XS",
                "play-ltr": "_1-zyO",
                playLtr: "_1-zyO",
                "play-rtl": "_27Hce",
                playRtl: "_27Hce",
                versionInfo: "_1hWGI"
            }
        },
        38899: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                container: "Ph7CX",
                list: "_3_bJS",
                section: "_3FmxE",
                action: "_1rse8",
                shortcut: "_1Cbf3"
            }
        },
        43588: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                container: "_2BtE_",
                textContainer: "_2Tvyf",
                spinner: "HYKvS"
            }
        },
        25075: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                container: "_2136P",
                list: "C1Dd9",
                header: "K1c_P",
                item: "_16f8P",
                right: "DMk3i",
                left: "_1mO8w",
                close: "_38Gu8",
                name: "_2z4ea",
                time: "_4VLPt"
            }
        },
        55878: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                wrapper: "_9Gs_R",
                offline: "_3rEcJ",
                circle: "_2Xn1u",
                text: "_1nFpn",
                notification: "p9CjV",
                ended: "_2OrJW",
                lastUpdated: "_3VPfk"
            }
        },
        81964: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                wrapper: "_26J0I",
                inactive: "_2ZG5x",
                offline: "Pc7bU",
                circle: "_1487t",
                text: "_2WNWn",
                backToCenter: "_3LWZ9",
                visible: "_2Ozk7"
            }
        },
        82165: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                container: "_2BPRJ",
                map: "_312iE",
                authFailed: "xgGDH",
                loading: "L5P7F"
            }
        },
        24725: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                container: "_3rs7K",
                selected: "_10G_J",
                glow: "h5TUN",
                stale: "_3WyhQ",
                expired: "_1HO_K",
                pin: "_2JeQm"
            }
        },
        4910: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                list: "D0Q5P",
                stopSharingButton: "_8wYL"
            }
        },
        60136: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                popup: "_1O7kH",
                container: "_1qWAL",
                twoLines: "_2dn9y",
                name: "_2UN5N",
                status: "_1fM0V",
                menuButton: "_2UenO",
                triangle: "_1NoUg"
            }
        },
        68401: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                nextButton: "_1Opmc",
                section: "_1p7Ee",
                header: "_1AdYi",
                chevronIcon: "_3Xfdv"
            }
        },
        6672: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                spinner: "_27bPO",
                search: "_3zFPA",
                inputarea: "_1x9wV",
                inputLine: "etp_f",
                contacts: "_2DdHI",
                drawerSection: "_37Xh5",
                inputareaSizer: "_2-opG"
            }
        },
        85043: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                photoPickerWrapper: "_1Mc0y",
                scale: "_55HVY",
                nameWrapper: "_2LTDQ",
                "well-animation": "_1EgwP",
                wellAnimation: "_1EgwP",
                phoneIcon: "_9P72S",
                phoneField: "_1zywm",
                infoText: "_3FDYs",
                bannedShopInfoText: "_1EFZ5",
                content: "_3XR9y"
            }
        },
        91760: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                text: "_2QEzO",
                checkbox: "_3xbR9",
                header: "_1_8IZ"
            }
        },
        97206: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                container: "_1J075",
                section: "_2BZQN",
                control: "_1iSYt",
                label: "_3AXj8",
                disabled: "_1Aj3d"
            }
        },
        27928: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                more: "_394Lu",
                hotKeyWraper: "_3lwKF"
            }
        },
        32252: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                body: "nWPOn",
                vcardWrapper: "j80SY",
                btnContainer: "_386ov",
                btnPosition: "_3o41r"
            }
        },
        99240: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                form: "_1_psp",
                section: "S4s9L",
                "well-animation2": "_3PdLd",
                wellAnimation2: "_3PdLd",
                circle: "_1C64q",
                spinner: "_3Ea-7",
                container: "xvgoq",
                show: "_2FUyH",
                circleContainer: "_28mPV",
                checkmarkContainer: "_1TMgk",
                errorContainer: "_1ScAm",
                checkmark: "qlZ5I",
                error: "_3Fr6b",
                errorBanner: "_3PYWJ",
                code: "xYqL-",
                row: "hsOn4",
                block: "_3WPv2",
                digit: "_3Muc-",
                explanation: "_37tSc",
                dragAndDropExplanation: "Lbmtf",
                photo: "_1Ua6g",
                "drawer-scale": "_2OqK6",
                drawerScale: "_2OqK6",
                webcam: "_17NcY",
                webcamVideo: "PKLd7",
                btnClose: "_35Nbq",
                overlay: "_3APck"
            }
        },
        17171: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                wallpaperApplyDoodle: "_1aWJq",
                checkboxLabel: "XvSmy",
                wallpaperColorGrid: "KzJy3",
                wallpaperColorCanvas: "Iwkc0",
                wallpaperDefaultTitle: "_2jzUd",
                wallpaperColorEmpty: "_1qqLM",
                canvasHover: "_3Mp8z",
                canvasActive: "_2MCR7",
                canvasDefault: "GRVkn"
            }
        },
        48412: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                dimmed: "khEuM",
                verified: "_3e7DF",
                icon: "_3OVY5"
            }
        },
        20353: (e, t, n) => {
            "use strict";
            n.r(t), n.d(t, {
                default: () => a
            });
            const a = {
                textThumb: "qgEhU",
                thumbSizeSmall: "_14N8a",
                thumbSizeLarge: "_2dKet",
                statusImage: "_37ckN",
                statusImageFallbackBackground: "_14MS9",
                container: "_3xFA4",
                thumbContainer: "_1cDhn"
            }
        }
    }
]);