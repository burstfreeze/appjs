/*! Copyright (c) 2021 WhatsApp Inc. All Rights Reserved. */
(self.webpackChunkwhatsapp_web_client = self.webpackChunkwhatsapp_web_client || []).push([
    [275], {
        20950: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                e.cartItemCollection.reset(), e.set("message", void 0), e.trigger("change:cartItemCollection"), (0, r.default)(e)
            };
            var r = n(a(73210))
        },
        40034: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e, t) {
                var a = r.default.findCart(e);
                return a.cartItemCollection.remove(t), a.trigger("change:cartItemCollection"), (0, i.default)(a), a.itemCount
            };
            var r = n(a(41325)),
                i = n(a(73210))
        },
        61655: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.parsePrice = _, t.isPriceMatch = C, t.createProductFromRefreshCartItem = x, t.default = function(e, t) {
                var a = i.default.get((0, v.createWid)(e.id)),
                    n = [],
                    r = [],
                    u = !0;
                a && e.cartItemCollection.forEach((function(i) {
                    var l = a.productCollection.get(i.id),
                        o = t && t.products.find((function(e) {
                            return e.id === i.id
                        }));
                    if (o = function(e, t) {
                            if (e && "deleted" === e.status) return void t.productCollection.remove(e.id);
                            return e
                        }(o, a), !t && l) {
                        var s = function(e, t) {
                            var a = function(e, t) {
                                return e.priceAmount1000 === (0, f.getActivePrice)(t) && e.currency === t.currency && e.name === t.name && e.imageHash === t.imageHash
                            }(e, t);
                            a || e.set({
                                priceAmount1000: (0, f.getActivePrice)(t),
                                currency: t.currency,
                                name: t.name,
                                imageHash: t.imageHash
                            }, {
                                silent: !0
                            });
                            return a
                        }(i, l);
                        u = u && s, n.push({
                            product: l,
                            cartItem: i
                        })
                    } else if (o) {
                        var d = function(e, t) {
                            var a = !t || function(e, t) {
                                var a, n, r = (0, f.getActivePrice)(g(t));
                                return C(e.priceAmount1000, r) && (!(0, h.isString)(e.currency) && !(0, h.isString)(t.currency) || e.currency === t.currency) && e.name === t.name && e.imageHash === (null === (a = t.media) || void 0 === a || null === (n = a.image) || void 0 === n ? void 0 : n.id)
                            }(e, t);
                            if (!a && t) {
                                var n = g(t);
                                e.set({
                                    priceAmount1000: (0, f.getActivePrice)(n),
                                    currency: n.currency,
                                    name: n.name,
                                    imageHash: n.imageHash
                                }, {
                                    silent: !0
                                })
                            }
                            return a
                        }(i, o);
                        u = u && d, n.push({
                            product: x(o, e.id),
                            cartItem: i
                        })
                    } else u = !1, r.push(i.id)
                })), a || (0, l.default)(e);
                u || (r.length && e.cartItemCollection.remove(r), e.trigger("change:cartItemCollection"), o.default.openModal((0, m.jsx)(s.default, {
                    onOK: function() {
                        o.default.closeModal()
                    },
                    children: d.default.t(495)
                })));
                return (0, p.default)(e), n
            };
            var r = n(a(81109)),
                i = n(a(18330)),
                l = n(a(20950)),
                o = n(a(65901)),
                s = n(a(86777)),
                d = n(a(45159)),
                u = n(a(52795)),
                c = a(18756),
                f = a(15172),
                p = n(a(73210)),
                h = a(82118),
                v = a(8297),
                m = a(85893);

            function g(e) {
                var t, a, n, r, i, l, o, s;
                return {
                    id: e.id,
                    name: null !== (t = e.name) && void 0 !== t ? t : "",
                    imageCdnUrl: null === (a = e.media) || void 0 === a || null === (n = a.image) || void 0 === n ? void 0 : n.request_image_url,
                    imageHash: null === (r = e.media) || void 0 === r || null === (i = r.image) || void 0 === i ? void 0 : i.id,
                    currency: e.currency,
                    priceAmount1000: _(e.price),
                    salePriceAmount1000: _(null === (l = e.sale_price) || void 0 === l ? void 0 : l.price),
                    salePriceStartDate: (0, c.parseDateValue)(null === (o = e.sale_price) || void 0 === o ? void 0 : o.start_date),
                    salePriceEndDate: (0, c.parseDateValue)(null === (s = e.sale_price) || void 0 === s ? void 0 : s.end_date)
                }
            }

            function _(e) {
                return "string" == typeof e ? e.length > 0 ? parseInt(e, 10) : null : e
            }

            function C(e, t) {
                var a = _(e),
                    n = _(t);
                return (0, h.isNumber)(a) && (0, h.isNumber)(n) ? a === n : !(0, h.isNumber)(a) && !(0, h.isNumber)(n)
            }

            function x(e, t) {
                return new u.default((0, r.default)((0, r.default)({}, g(e)), {}, {
                    catalogWid: (0, v.createWid)(t),
                    productMsgMediaData: null,
                    imageCount: 1,
                    fetchedFromServer: !0,
                    t: Date.now() / 1e3,
                    old: !1
                }))
            }
        },
        13088: (e, t, a) => {
            "use strict";
            var n = a(52108).default,
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                if (0 === e.cartItemCollection.length) return n.resolve({
                    products: [],
                    price: {}
                });
                var t = e.cartItemCollection.map((function(e) {
                    return e.id
                }));
                return (0, i.refreshCart)(e.id, t, l.default.imageWidth, l.default.imageHeight)
            };
            var i = a(44833),
                l = r(a(41325))
        },
        39506: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function() {
                return f.apply(this, arguments)
            };
            var r = n(a(87757)),
                i = n(a(48926)),
                l = n(a(18330)),
                o = a(48486),
                s = n(a(98576)),
                d = n(a(73210)),
                u = a(8297);

            function c(e) {
                var t, a, n = e.cartItemCollection.at(0);
                if (null == n) return "";
                var r = l.default.get((0, u.createWid)(e.id)),
                    i = null == r ? void 0 : r.productCollection.get(n.id),
                    o = null == i || null === (t = i.productImageCollection.at(0)) || void 0 === t ? void 0 : t.mediaData;
                if (null == o) return "";
                var s = null === (a = o.preview) || void 0 === a ? void 0 : a.getBase64();
                return null != s ? s : ""
            }

            function f() {
                return (f = (0, i.default)(r.default.mark((function e(t, a) {
                    var n;
                    return r.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2, (0, o.createOrder)(a.id, t.cartItemCollection.toArray());
                            case 2:
                                return n = e.sent, e.next = 5, (0, s.default)(a, n, t.itemCount, c(t), t.message);
                            case 5:
                                return (0, d.default)(t), e.abrupt("return", n.id);
                            case 7:
                            case "end":
                                return e.stop()
                        }
                    }), e)
                })))).apply(this, arguments)
            }
        },
        33963: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e, t) {
                e.set("message", t), (0, r.default)(e)
            };
            var r = n(a(73210))
        },
        83735: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e, t, a) {
                var n = r.default.findCart(e),
                    l = n.cartItemCollection.get(t.id);
                null == l || l.set("quantity", a), n.trigger("change:cartItemCollection"), (0, i.default)(n)
            };
            var r = n(a(41325)),
                i = n(a(73210))
        },
        98576: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function() {
                return h.apply(this, arguments)
            };
            var r = n(a(87757)),
                i = n(a(48926)),
                l = n(a(10399)),
                o = n(a(94253)),
                s = a(1577),
                d = n(a(61729)),
                u = n(a(12415)),
                c = a(78383),
                f = a(26237),
                p = n(a(78208));

            function h() {
                return (h = (0, i.default)(r.default.mark((function e(t, a, n, i, l) {
                    var o, d, u;
                    return r.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                if (o = (0, s.getMaybeMeUser)(), d = v(t, a, n, i, l), !p.default.equals(t.id, o)) {
                                    e.next = 4;
                                    break
                                }
                                return e.abrupt("return", (0, c.addAndSendMsgToChat)(t, d)[0].then((function() {})).catch((function(e) {
                                    throw __LOG__(3)`Order message send to chat failure: ${e}`, e
                                })));
                            case 4:
                                return e.prev = 4, e.next = 7, (0, c.addAndSendMsgToChat)(t, d)[1];
                            case 7:
                                if ((u = e.sent) && u === f.SendMsgResult.OK) {
                                    e.next = 10;
                                    break
                                }
                                throw new Error("Order message SendMsgResult failure status");
                            case 10:
                                e.next = 16;
                                break;
                            case 12:
                                throw e.prev = 12, e.t0 = e.catch(4), __LOG__(3)`Order message send to chat failure: ${e.t0}`, e.t0;
                            case 16:
                            case "end":
                                return e.stop()
                        }
                    }), e, null, [
                        [4, 12]
                    ])
                })))).apply(this, arguments)
            }

            function v(e, t, a, n, r) {
                var i = (0, s.getMaybeMeUser)(),
                    c = {
                        type: "order",
                        ack: o.default.ACK.CLOCK,
                        from: i,
                        id: new d.default({
                            from: i,
                            to: e.id,
                            id: (0, u.default)(),
                            participant: void 0,
                            selfDir: "out"
                        }),
                        local: !0,
                        isNewMsg: !0,
                        self: "out",
                        t: l.default.globalUnixTime(),
                        to: e.id,
                        orderId: t.id,
                        token: t.token,
                        orderTitle: e.name || e.formattedTitle,
                        sellerJid: e.id.toString({
                            legacy: !0
                        }),
                        thumbnail: n,
                        itemCount: a,
                        message: r
                    },
                    f = t.price.total;
                return f && f.length > 0 && (c.totalAmount1000 = parseInt(f, 10)), t.price.currency && t.price.currency.length > 0 && (c.totalCurrencyCode = t.price.currency), c
            }
        },
        7080: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.setPushname = function(e) {
                return v(e)
            };
            var r = n(a(87757)),
                i = n(a(48926)),
                l = a(18077),
                o = a(24224),
                s = n(a(65901)),
                d = n(a(73929)),
                u = n(a(45159)),
                c = n(a(19472)),
                f = a(95521),
                p = a(59175),
                h = a(85893);

            function v() {
                return m.apply(this, arguments)
            }

            function m() {
                return (m = (0, i.default)(r.default.mark((function e(t) {
                    var a, n, i, m, g, _ = arguments;
                    return r.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                return a = _.length > 1 && void 0 !== _[1] ? _[1] : (0, o.genId)(), n = (0, c.default)(t), i = new o.ActionType(u.default.t(218)), m = d.default.pushname, g = n.then((function() {
                                    return new o.ActionType(u.default.t(215), {
                                        actionText: u.default.t(230),
                                        actionHandler: function() {
                                            return v(m, a)
                                        }
                                    })
                                })).catch((0, l.filteredCatch)(p.ServerStatusCodeError, (function(e) {
                                    if (e.status >= 400) return new o.ActionType(u.default.t(216))
                                }))).catch((function() {
                                    throw __LOG__(3)`models:conn:setPushname dropped`, new o.ActionType(u.default.t(216), {
                                        actionText: u.default.t(226),
                                        actionHandler: function() {
                                            return v(status, a)
                                        }
                                    })
                                })), s.default.openToast((0, h.jsx)(o.ActionToast, {
                                    id: a,
                                    initialAction: i,
                                    pendingAction: g
                                })), e.next = 8, n;
                            case 8:
                                e.sent._duplicate || (0, f.setPushnameLocally)(t);
                            case 10:
                            case "end":
                                return e.stop()
                        }
                    }), e)
                })))).apply(this, arguments)
            }
        },
        76411: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e, t, a, n) {
                var r = e.map(x.vcardFromContactModel),
                    s = 1 === r.length ? r[0] : (0, x.mergeVcards)(r),
                    d = `${s.displayName}.vcf`,
                    c = (0, p.createFile)([s.vcard], d, {
                        type: S
                    }),
                    C = c.size / 1024;
                if (0 !== _.default.vcardAsDocumentSizeKb && C > _.default.vcardAsDocumentSizeKb) return void
                function() {
                    E.apply(this, arguments)
                }(c, e.length, t, a, n);
                ! function(e, t, a, n, r) {
                    var s = n && n.msgContextInfo(t.id),
                        d = (0, h.getMaybeMeUser)(),
                        c = (0, l.default)((0, l.default)({
                            ack: f.default.ACK.CLOCK,
                            from: d,
                            id: new v.default({
                                from: d,
                                to: t.id,
                                id: (0, m.default)(),
                                participant: t.isGroup ? d : void 0,
                                selfDir: "out"
                            }),
                            local: !0,
                            isNewMsg: !0,
                            self: "out",
                            t: u.default.globalUnixTime(),
                            to: t.id
                        }, s), {}, {
                            ctwaContext: r
                        }),
                        p = 1 === e.length ? (0, l.default)((0, l.default)({
                            type: "vcard",
                            vcardFormattedName: e[0].displayName,
                            body: e[0].vcard
                        }, c), j(t)) : (0, l.default)((0, l.default)({
                            type: "multi_vcard",
                            vcardList: e
                        }, c), j(t));
                    (0, o.default)(i.default.mark((function e() {
                        return i.default.wrap((function(e) {
                            for (;;) switch (e.prev = e.next) {
                                case 0:
                                    return e.prev = 0, e.next = 3, (0, g.addAndSendMsgToChat)(t, p)[1];
                                case 3:
                                    e.next = 9;
                                    break;
                                case 5:
                                    throw e.prev = 5, e.t0 = e.catch(0), __LOG__(2)`Error sending contact: ${e.t0}`, e.t0;
                                case 9:
                                case "end":
                                    return e.stop()
                            }
                        }), e, null, [
                            [0, 5]
                        ])
                    })))()
                }(r, t, 0, a, n)
            };
            var i = r(a(87757)),
                l = r(a(81109)),
                o = r(a(48926)),
                s = r(a(48842)),
                d = r(a(22232)),
                u = r(a(10399)),
                c = r(a(65901)),
                f = r(a(94253)),
                p = a(50157),
                h = a(1577),
                v = r(a(61729)),
                m = r(a(12415)),
                g = a(78383),
                _ = r(a(43890)),
                C = n(a(92428)),
                x = a(4973),
                y = a(85893),
                S = "text/vcard";

            function E() {
                return (E = (0, o.default)(i.default.mark((function e(t, a, n, r, l) {
                    var u, p, h, v, m;
                    return i.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                return u = {
                                    file: t,
                                    type: f.default.MSG_TYPE.DOCUMENT,
                                    filename: t.name,
                                    mimetype: S,
                                    isVcardOverMmsDocument: !0,
                                    documentPageCount: a
                                }, p = new d.default({
                                    chatParticipantCount: n.getParticipantCount()
                                }), e.next = 4, p.processAttachments([u]);
                            case 4:
                                if (h = p.uiProcessMsgs(), !(v = h.errorMsgs)) {
                                    e.next = 8;
                                    break
                                }
                                return c.default.openToast((0, y.jsx)(C.default, {
                                    msg: v,
                                    id: (0, C.genId)()
                                })), e.abrupt("return");
                            case 8:
                                m = (0, s.default)(p.getValidMedias()[0], "collection.getValidMedias()[0]"), (0, o.default)(i.default.mark((function e() {
                                    return i.default.wrap((function(e) {
                                        for (;;) switch (e.prev = e.next) {
                                            case 0:
                                                return e.prev = 0, e.next = 3, m.sendToChat(n, {
                                                    quotedMsg: r,
                                                    ctwaContext: l
                                                });
                                            case 3:
                                                e.next = 9;
                                                break;
                                            case 5:
                                                throw e.prev = 5, e.t0 = e.catch(0), __LOG__(2)`Error sending contact: ${e.t0}`, e.t0;
                                            case 9:
                                            case "end":
                                                return e.stop()
                                        }
                                    }), e, null, [
                                        [0, 5]
                                    ])
                                })))();
                            case 10:
                            case "end":
                                return e.stop()
                        }
                    }), e)
                })))).apply(this, arguments)
            }

            function j(e) {
                var t = {};
                e.isEphemeralSettingOn() && (t.ephemeralDuration = e.getEphemeralSetting());
                var a = e.getEphemeralSettingTimestamp();
                null != a && (t.ephemeralSettingTimestamp = a);
                var n = e.getDisappearingModeInitiator();
                return null != n && (t.disappearingModeInitiator = n), t
            }
        },
        97469: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function() {
                i.default.openToast((0, s.jsx)(o.default, {
                    msg: l.default.t(503),
                    duration: 6e3,
                    id: (0, o.genId)()
                }))
            };
            var i = r(a(65901)),
                l = r(a(45159)),
                o = n(a(92428)),
                s = a(85893)
        },
        4049: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.sendSupportRequest = function() {
                return h.apply(this, arguments)
            };
            var r = n(a(87757)),
                i = n(a(48926)),
                l = a(78363),
                o = a(84470),
                s = a(53758),
                d = a(34733),
                u = a(1577),
                c = a(15824);

            function f(e, t) {
                __LOG__(3, void 0, void 0, !0)`supportRequest error: code=${e} message=${null!=t?t:""}`, SEND_LOGS("supportRequest")
            }
            var p = new o.WapParser("supportResponse", (function(e) {
                var t = e.child("response");
                return t.hasAttr("error_code") ? {
                    type: "error",
                    errorCode: t.attrInt("error_code", 0, 1e3)
                } : (t.assertAttr("status", "ok"), {
                    type: "success",
                    message: t.child("message").contentString(),
                    ticketId: t.child("ticket_id").contentString()
                })
            }));

            function h() {
                return (h = (0, i.default)(r.default.mark((function e(t, a) {
                    var n, i, o, h, v;
                    return r.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                return n = (0, l.wap)("iq", {
                                    from: (0, c.USER_JID)((0, u.getMeUser)()),
                                    id: (0, l.generateId)(),
                                    smax_id: "3",
                                    to: l.S_WHATSAPP_NET,
                                    type: "set",
                                    xmlns: "fb:thrift_iq"
                                }, (0, l.wap)("description", null, t), null != a ? (0, l.wap)("debug_information_json", null, a) : null), e.next = 3, (0, d.sendIq)(n, p);
                            case 3:
                                if (!(i = e.sent).success) {
                                    e.next = 12;
                                    break
                                }
                                if ("success" !== (v = i.result).type) {
                                    e.next = 9;
                                    break
                                }
                                return null != a && (__LOG__(2)`InAppSupport: Uploading logs for ticketId=${v.ticketId}`, (0, s.upload)({
                                    reason: "user-report",
                                    immediate: !0,
                                    force: !0,
                                    persist: !0,
                                    ticketId: v.ticketId
                                }).then((function(e) {
                                    __LOG__(2)`InAppSupport: Logs upload complete for ticketId=${v.ticketId}, logsId=${e}`
                                }))), e.abrupt("return", {
                                    type: "success",
                                    message: v.message,
                                    ticketId: v.ticketId
                                });
                            case 9:
                                return f(o = null !== (h = v.errorCode) && void 0 !== h ? h : 400), e.abrupt("return", {
                                    type: "error",
                                    errorCode: o
                                });
                            case 12:
                                return f(i.errorCode, i.errorText), e.abrupt("return", {
                                    type: "error",
                                    errorCode: i.errorCode
                                });
                            case 14:
                            case "end":
                                return e.stop()
                        }
                    }), e)
                })))).apply(this, arguments)
            }
        },
        91874: (e, t, a) => {
            "use strict";
            var n = a(52108).default,
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.editBusinessCompliance = t.editBusinessProfile = void 0;
            var i = r(a(38032)),
                l = r(a(12905)),
                o = a(18889),
                s = a(35519);
            t.editBusinessProfile = function(e) {
                var t;
                return i.default.supportsFeature(i.default.F.MD_BACKEND) ? (t = (0, o.editBusinessProfile)(e)) || (t = n.reject(new Error("md business profile edit not supported"))) : t = (0, l.default)(e), t
            };
            t.editBusinessCompliance = function(e) {
                return i.default.supportsFeature(i.default.F.MD_BACKEND) ? (0, s.setMerchantCompliance)(e) : n.reject(new Error("md business compliance profile edit not supported"))
            }
        },
        12905: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = t.convertProfileToRequestData = void 0;
            var r = n(a(87757)),
                i = n(a(81109)),
                l = n(a(48926)),
                o = n(a(63038)),
                s = n(a(43269)),
                d = n(a(45354)),
                u = a(59175),
                c = n(a(74950)),
                f = function(e) {
                    return e >= 200 && e <= 299
                },
                p = function(e) {
                    if (e) return {
                        category: e.map((function(e) {
                            return {
                                id: e.id
                            }
                        }))
                    }
                },
                h = function(e) {
                    if (e) {
                        var t = e.note,
                            a = e.timezone,
                            n = e.config,
                            r = [];
                        for (var i in n) {
                            var l = n[i],
                                d = l.mode,
                                u = l.hours;
                            if (u) {
                                var c, f = (0, s.default)(u);
                                try {
                                    for (f.s(); !(c = f.n()).done;) {
                                        var p = (0, o.default)(c.value, 2),
                                            h = p[0],
                                            v = p[1];
                                        r.push({
                                            day_of_week: i,
                                            mode: d,
                                            open_time: h,
                                            close_time: v
                                        })
                                    }
                                } catch (e) {
                                    f.e(e)
                                } finally {
                                    f.f()
                                }
                            } else r.push({
                                day_of_week: i,
                                mode: d
                            })
                        }
                        return {
                            timezone: a,
                            business_hours_note: t,
                            business_hours_config: r
                        }
                    }
                },
                v = function(e) {
                    var t = e.address,
                        a = e.description,
                        n = e.email,
                        r = e.website,
                        i = e.businessHours,
                        l = e.categories,
                        o = (0, d.default)({
                            address: t,
                            description: a,
                            email: n,
                            website: r,
                            business_hours: h(i),
                            categories: p(l)
                        });
                    return Object.keys(o).length > 0 ? o : void 0
                };
            t.convertProfileToRequestData = v;
            var m = function() {
                var e = (0, l.default)(r.default.mark((function e(t) {
                    var a, n, l, o, s;
                    return r.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                if (a = v(t)) {
                                    e.next = 4;
                                    break
                                }
                                return __LOG__(3)`empty profile received, ignoring save`, e.abrupt("return");
                            case 4:
                                return n = (0, i.default)({
                                    v: 2
                                }, a), e.prev = 5, e.next = 8, c.default.send2({
                                    data: ["action", "editBusinessProfile", n],
                                    retryOn5xx: !0
                                });
                            case 8:
                                if (l = e.sent, o = l.status, !f(o)) {
                                    e.next = 13;
                                    break
                                }
                                return e.abrupt("return");
                            case 13:
                                throw __LOG__(3)`error editing business profile webd: ${o}`, new u.ServerStatusCodeError(o, "edit business profile");
                            case 17:
                                throw e.prev = 17, e.t0 = e.catch(5), s = e.t0, __LOG__(3)`error editing business profile: ${s}`, s;
                            case 22:
                            case "end":
                                return e.stop()
                        }
                    }), e, null, [
                        [5, 17]
                    ])
                })));
                return function() {
                    return e.apply(this, arguments)
                }
            }();
            t.default = m
        },
        19472: (e, t, a) => {
            "use strict";
            var n = a(52108).default,
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function() {
                return h.apply(this, arguments)
            };
            var i = r(a(87757)),
                l = r(a(48926)),
                o = r(a(38032)),
                s = r(a(54270)),
                d = a(59175),
                u = a(18824),
                c = r(a(15224)),
                f = r(a(58603)),
                p = a(43163);

            function h() {
                return (h = (0, l.default)(i.default.mark((function e(t) {
                    var a, r, l;
                    return i.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                if (!o.default.supportsFeature(o.default.F.MD_BACKEND) || !t) {
                                    e.next = 5;
                                    break
                                }
                                return a = (0, u.unixTimeMs)(), r = f.default.getPushnameMutation(a, t), (0, c.default)(t), e.abrupt("return", (0, p.lockForSync)([], [r], (function() {
                                    return n.resolve()
                                })).then((function() {
                                    return {
                                        _duplicate: null
                                    }
                                })));
                            case 5:
                                return e.next = 7, s.default.setPushname(t);
                            case 7:
                                if (!(l = e.sent).status || 200 === l.status) {
                                    e.next = 10;
                                    break
                                }
                                throw new d.ServerStatusCodeError(l.status);
                            case 10:
                                return e.abrupt("return", {
                                    _duplicate: l._duplicate
                                });
                            case 11:
                            case "end":
                                return e.stop()
                        }
                    }), e)
                })))).apply(this, arguments)
            }
        },
        953: (e, t, a) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.CombinedFingerprintSpec = t.FingerprintDataSpec = void 0;
            var n = a(2309),
                r = {};
            t.FingerprintDataSpec = r;
            var i = {};
            t.CombinedFingerprintSpec = i, r.internalSpec = {
                publicKey: [1, n.TYPES.BYTES],
                identifier: [2, n.TYPES.BYTES]
            }, i.internalSpec = {
                version: [1, n.TYPES.UINT32],
                localFingerprint: [2, n.TYPES.MESSAGE, r],
                remoteFingerprint: [3, n.TYPES.MESSAGE, r]
            }
        },
        16646: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(a(87757)),
                i = n(a(48926)),
                l = n(a(63038)),
                o = n(a(59713)),
                s = n(a(319)),
                d = n(a(81109)),
                u = n(a(34575)),
                c = n(a(93913)),
                f = n(a(2205)),
                p = n(a(99842)),
                h = n(a(43269)),
                v = a(67294),
                m = n(a(13237)),
                g = n(a(91404)),
                _ = n(a(8352)),
                C = n(a(45159)),
                x = a(24088),
                y = n(a(6393)),
                S = n(a(28706)),
                E = n(a(14536)),
                j = n(a(68544)),
                I = a(14715),
                b = a(85893),
                k = a(54302).Mirrored(["START", "END"]),
                T = x.BUSINESS_HOUR_MODES.SPECIFIC_HOURS,
                M = function() {
                    return [(0, I.minutesToTime)(540), (0, I.minutesToTime)(1080)]
                },
                w = function(e) {
                    var t, a = e.businessHours,
                        n = a.mode,
                        r = a.days,
                        i = {},
                        l = (0, h.default)(r);
                    try {
                        for (l.s(); !(t = l.n()).done;) {
                            var o = t.value,
                                s = o.dayKey,
                                d = o.closed,
                                u = o.hours,
                                c = o.dayName;
                            i[s] = {
                                closed: d,
                                hours: u || [M()],
                                dayKey: s,
                                dayName: c
                            }
                        }
                    } catch (e) {
                        l.e(e)
                    } finally {
                        l.f()
                    }
                    return {
                        mode: n || T,
                        dayValues: i
                    }
                },
                P = function(e) {
                    (0, f.default)(a, e);
                    var t = (0, p.default)(a);

                    function a() {
                        var e;
                        (0, u.default)(this, a);
                        for (var n = arguments.length, r = new Array(n), i = 0; i < n; i++) r[i] = arguments[i];
                        return (e = t.call.apply(t, [this].concat(r))).state = w(e.props), e
                    }
                    return (0, c.default)(a, [{
                        key: "_buildDayId",
                        value: function(e) {
                            return `${e.dayKey}_business_hours`
                        }
                    }, {
                        key: "_renderCheckbox",
                        value: function(e) {
                            var t = this,
                                a = e.closed,
                                n = e.dayKey,
                                r = this._buildDayId(e);
                            return (0, b.jsx)("div", {
                                className: m.default.dayCheckbox,
                                children: (0, b.jsx)(g.default, {
                                    id: r,
                                    checked: !a,
                                    onChange: function() {
                                        var e = t.state.dayValues[n];
                                        t._updateDayValue(n, {
                                            closed: !e.closed
                                        })
                                    }
                                })
                            })
                        }
                    }, {
                        key: "_renderTabs",
                        value: function() {
                            var e = this,
                                t = this.state.mode;
                            return (0, b.jsx)(E.default, {
                                onSelect: function(t) {
                                    if (t === x.BUSINESS_HOUR_MODES.OPEN_24H) {
                                        var a, n = e.state.dayValues,
                                            r = (0, h.default)(x.DAYS_OF_WEEK);
                                        try {
                                            for (r.s(); !(a = r.n()).done;) {
                                                var i = a.value;
                                                n[i] = (0, d.default)((0, d.default)({}, n[i]), {}, {
                                                    closed: !1
                                                })
                                            }
                                        } catch (e) {
                                            r.e(e)
                                        } finally {
                                            r.f()
                                        }
                                        e.setState({
                                            mode: t,
                                            dayValues: n
                                        })
                                    } else e.setState({
                                        mode: t
                                    })
                                },
                                selectedId: t,
                                tabConfigs: [{
                                    title: C.default.t(430),
                                    id: x.BUSINESS_HOUR_MODES.SPECIFIC_HOURS
                                }, {
                                    title: C.default.t(426),
                                    id: x.BUSINESS_HOUR_MODES.OPEN_24H
                                }, {
                                    title: C.default.t(427),
                                    id: x.BUSINESS_HOUR_MODES.APPOINTMENT_ONLY
                                }]
                            })
                        }
                    }, {
                        key: "_updateValueToUserTimeFormat",
                        value: function(e, t, a) {
                            var n = this.state.dayValues[e].hours,
                                r = t === k.START ? 0 : 1,
                                i = n[a][r],
                                l = (0, I.timeStringToMinutes)(i);
                            void 0 !== l && this._updateDayValue(e, {
                                hours: this._updateHoursValue(n, (0, I.minutesToTime)(l), t, a)
                            })
                        }
                    }, {
                        key: "_updateHoursValue",
                        value: function(e, t, a, n) {
                            var r = (0, s.default)(e),
                                i = a === k.START ? 0 : 1,
                                l = (0, s.default)(r[n]);
                            return l[i] = t, r[n] = l, r
                        }
                    }, {
                        key: "_renderTimeInput",
                        value: function(e, t, a, n) {
                            var r = this,
                                i = (0, I.isValidTime)(t) ? null : " ";
                            return (0, b.jsx)("div", {
                                className: m.default.timeWrapper,
                                children: (0, b.jsx)(j.default, {
                                    managed: !0,
                                    value: t,
                                    theme: "small",
                                    maxLength: 15,
                                    customStyleThemes: ["desaturated", "noErrorInfo"],
                                    error: i,
                                    onChange: function(t) {
                                        var i = r.state.dayValues[e].hours;
                                        r._updateDayValue(e, {
                                            hours: r._updateHoursValue(i, t, a, n)
                                        })
                                    },
                                    onBlur: function() {
                                        r._updateValueToUserTimeFormat(e, a, n)
                                    }
                                })
                            }, `${e}-${a}-${n}`)
                        }
                    }, {
                        key: "_updateDayValue",
                        value: function(e, t) {
                            var a = this.state.dayValues,
                                n = a[e];
                            this.setState({
                                dayValues: (0, d.default)((0, d.default)({}, a), {}, (0, o.default)({}, e, (0, d.default)((0, d.default)({}, n), t)))
                            })
                        }
                    }, {
                        key: "_addHours",
                        value: function(e) {
                            var t = this.state.dayValues[e].hours;
                            this._updateDayValue(e, {
                                hours: [].concat((0, s.default)(t), [M()])
                            })
                        }
                    }, {
                        key: "_removeHours",
                        value: function(e) {
                            var t = this.state.dayValues[e].hours,
                                a = (0, s.default)(t);
                            a.pop(), this._updateDayValue(e, {
                                hours: a
                            })
                        }
                    }, {
                        key: "_renderAdd",
                        value: function(e) {
                            var t = this;
                            return (0, b.jsx)("div", {
                                className: m.default.timeWrapper,
                                children: (0, b.jsx)(_.default, {
                                    "aria-label": C.default.t(1),
                                    label: C.default.t(247),
                                    onClick: function() {
                                        t._addHours(e)
                                    },
                                    prefixIcon: "status-ciphertext",
                                    iconTheme: "padded-svg"
                                })
                            })
                        }
                    }, {
                        key: "_renderRemove",
                        value: function(e) {
                            var t = this;
                            return (0, b.jsx)("div", {
                                className: m.default.timeWrapper,
                                children: (0, b.jsx)(S.default, {
                                    title: C.default.t(1530),
                                    "aria-label": C.default.t(1530),
                                    name: "x-alt",
                                    onClick: function() {
                                        t._removeHours(e)
                                    }
                                })
                            })
                        }
                    }, {
                        key: "_renderHours",
                        value: function(e) {
                            var t = this,
                                a = e.dayKey,
                                n = e.hours,
                                r = [],
                                i = n.length >= 2 ? this._renderRemove(a) : this._renderAdd(a);
                            return n.forEach((function(e, n) {
                                var i = (0, l.default)(e, 2),
                                    o = i[0],
                                    s = i[1];
                                n > 0 && r.push((0, b.jsx)("div", {
                                    className: m.default.hoursAnd,
                                    children: C.default.t(420)
                                })), r.push(t._renderTimeInput(a, o, k.START, n), t._renderTimeInput(a, s, k.END, n))
                            })), (0, b.jsxs)("div", {
                                className: m.default.hoursMain,
                                children: [r, i]
                            })
                        }
                    }, {
                        key: "_renderDayValues",
                        value: function(e, t) {
                            var a;
                            return e.closed ? a = C.default.t(422) : t === x.BUSINESS_HOUR_MODES.APPOINTMENT_ONLY ? a = C.default.t(421) : t === x.BUSINESS_HOUR_MODES.OPEN_24H && (a = C.default.t(433)), a ? (0, b.jsx)("div", {
                                className: m.default.dayInfoText,
                                children: a
                            }) : x.BUSINESS_HOUR_MODES.SPECIFIC_HOURS && !e.closed ? this._renderHours(e) : null
                        }
                    }, {
                        key: "_renderDayInfo",
                        value: function(e, t) {
                            var a = e.dayName,
                                n = this._buildDayId(e);
                            return (0, b.jsxs)("div", {
                                className: m.default.dayInfo,
                                children: [(0, b.jsx)("label", {
                                    htmlFor: n,
                                    children: a
                                }), this._renderDayValues(e, t)]
                            })
                        }
                    }, {
                        key: "_renderDay",
                        value: function(e) {
                            var t = this.state.mode;
                            return (0, b.jsxs)("div", {
                                className: m.default.dayMain,
                                children: [this._renderCheckbox(e), this._renderDayInfo(e, t)]
                            }, `day-${e.dayKey}`)
                        }
                    }, {
                        key: "_renderBusinessHours",
                        value: function() {
                            var e = this,
                                t = this.props.businessHours.days;
                            return (0, b.jsxs)("div", {
                                children: [this._renderTabs(), (0, b.jsx)("div", {
                                    className: m.default.editMain,
                                    children: t.map((function(t) {
                                        var a = t.dayKey,
                                            n = e.state.dayValues[a];
                                        return e._renderDay(n)
                                    }))
                                })]
                            })
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e = this,
                                t = this._renderBusinessHours(),
                                a = this.state,
                                n = a.mode,
                                l = a.dayValues,
                                o = this.props.businessHours,
                                s = o.note,
                                d = o.timezone;
                            return (0, b.jsx)(y.default, {
                                title: C.default.t(428),
                                isValid: (0, I.isValidBusinessHours)(n, l),
                                doSave: (0, i.default)(r.default.mark((function t() {
                                    return r.default.wrap((function(t) {
                                        for (;;) switch (t.prev = t.next) {
                                            case 0:
                                                return t.next = 2, e.props.saveBusinessProfile((0, I.convertToRawBusinessProfile)({
                                                    mode: n,
                                                    dayValues: l,
                                                    note: s,
                                                    timezone: d
                                                }));
                                            case 2:
                                            case "end":
                                                return t.stop()
                                        }
                                    }), t)
                                }))),
                                afterSave: this.props.afterSave,
                                onCancel: this.props.onCancel,
                                children: t
                            })
                        }
                    }]), a
                }(v.Component);
            t.default = P, P.displayName = "BusinessHours"
        },
        67146: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(a(87757)),
                l = r(a(48926)),
                o = r(a(81109)),
                s = r(a(319)),
                d = r(a(59713)),
                u = r(a(34575)),
                c = r(a(93913)),
                f = r(a(2205)),
                p = r(a(99842)),
                h = r(a(94184)),
                v = a(67294),
                m = r(a(40501)),
                g = a(81395),
                _ = a(23061),
                C = r(a(31942)),
                x = r(a(91404)),
                y = r(a(6862)),
                S = r(a(65901)),
                E = r(a(73568)),
                j = r(a(23803)),
                I = r(a(92546)),
                b = r(a(45159)),
                k = r(a(17094)),
                T = r(a(6393)),
                M = r(a(85651)),
                w = n(a(92428)),
                P = a(85893),
                L = function(e) {
                    return {
                        selectedCategories: e.initialCategories,
                        searchText: "",
                        isLoading: !1
                    }
                },
                O = function(e) {
                    (0, f.default)(a, e);
                    var t = (0, p.default)(a);

                    function a() {
                        var e;
                        (0, u.default)(this, a);
                        for (var n = arguments.length, r = new Array(n), i = 0; i < n; i++) r[i] = arguments[i];
                        return (e = t.call.apply(t, [this].concat(r))).state = L(e.props), e.flatListController = new I.default, e.setRefList = function(t) {
                            e.list = t
                        }, e.renderItem = function(t) {
                            var a = (0, P.jsx)(x.default, {
                                    id: `${t.id}`,
                                    onChange: function() {
                                        !t.disabled && e._toggleResultById(t.id)
                                    },
                                    checked: t.selected,
                                    disabled: t.disabled
                                }),
                                n = (0, P.jsx)("label", {
                                    "data-a8n": m.default.key("category-list-item"),
                                    className: (0, h.default)(C.default.rowLabel, (0, d.default)({}, C.default.disabled, t.disabled)),
                                    htmlFor: t.id,
                                    children: t.localized_display_name
                                });
                            return e._renderRow(n, a)
                        }, e._removeById = function(t) {
                            var a = e.state.selectedCategories.filter((function(e) {
                                return e.id === t
                            }))[0];
                            a && e.toggle(a)
                        }, e._toggleResultById = function(t) {
                            var a, n = null === (a = e.state.results) || void 0 === a ? void 0 : a.filter((function(e) {
                                return e.id === t
                            }))[0];
                            n && e.toggle(n)
                        }, e.toggle = function(t) {
                            var a, n = null === (a = e.state.results) || void 0 === a ? void 0 : a.find((function(e) {
                                    return e.not_a_biz
                                })),
                                r = e.state.selectedCategories.find((function(e) {
                                    return e.id === (null == n ? void 0 : n.id)
                                })),
                                i = e.state.selectedCategories;
                            e.state.selectedCategories.length > 0 && (t.not_a_biz && !r ? (i = [], e._showConflictWarning()) : !t.not_a_biz && r && (i = e.state.selectedCategories.filter((function(e) {
                                return e.id !== r.id
                            })), e._showConflictWarning())), e.isSelected(t.id) ? e.setState({
                                selectedCategories: i.filter((function(e) {
                                    return e.id !== t.id
                                }))
                            }) : e.setState({
                                selectedCategories: [].concat((0, s.default)(i), [t])
                            })
                        }, e.setSearchText = function(t) {
                            e._getResults(t)
                        }, e.handleRemoveItem = function(t) {
                            e.setState({
                                selectedCategories: e.state.selectedCategories.filter((function(e) {
                                    return e.id !== t.id
                                }))
                            })
                        }, e
                    }
                    return (0, c.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            this._getResults("")
                        }
                    }, {
                        key: "renderList",
                        value: function() {
                            var e = this;
                            if (this.state.isLoading) return (0, P.jsx)("div", {
                                className: C.default.loadingSpinner,
                                children: (0, P.jsx)(M.default, {
                                    color: "highlight",
                                    size: 44,
                                    stroke: 6
                                })
                            });
                            if (!this.state.results || 0 === this.state.results.length) return this._renderRow(b.default.t(467), null);
                            var t = this.state.results.map((function(t) {
                                return (0, o.default)((0, o.default)({}, t), {}, {
                                    id: t.id,
                                    itemKey: t.id.toString(),
                                    disabled: e.isDisabled(t),
                                    selected: e.isSelected(t.id)
                                })
                            }));
                            return (0, P.jsx)(j.default, {
                                flatListControllers: [this.flatListController],
                                children: (0, P.jsx)(E.default, {
                                    ref: this.setRefList,
                                    data: t,
                                    flatListController: this.flatListController,
                                    direction: "vertical",
                                    renderItem: this.renderItem,
                                    defaultItemHeight: 48
                                })
                            })
                        }
                    }, {
                        key: "_renderRow",
                        value: function(e, t) {
                            return (0, P.jsxs)("div", {
                                className: C.default.rowMain,
                                children: [(0, P.jsx)("div", {
                                    className: C.default.rowCheckbox,
                                    children: t
                                }), e]
                            })
                        }
                    }, {
                        key: "_renderSearchBox",
                        value: function() {
                            return (0, P.jsx)(k.default, {
                                onSearch: this.setSearchText,
                                placeholder: b.default.t(469)
                            })
                        }
                    }, {
                        key: "_renderFooter",
                        value: function() {
                            return this.state && this.state.selectedCategories ? (0, P.jsx)(y.default, {
                                categories: this.state.selectedCategories,
                                onRemoveItem: this._removeById
                            }) : null
                        }
                    }, {
                        key: "_showConflictWarning",
                        value: function() {
                            S.default.openToast((0, P.jsx)(w.default, {
                                id: (0, w.genId)(),
                                msg: b.default.t(447)
                            }))
                        }
                    }, {
                        key: "isSelected",
                        value: function(e) {
                            for (var t = this.state.selectedCategories, a = 0; a < t.length; a++)
                                if (t[a].id === e) return !0;
                            return !1
                        }
                    }, {
                        key: "isDisabled",
                        value: function(e) {
                            return !e.not_a_biz && !this.isSelected(e.id) && this.state.selectedCategories.length >= _.MAX_BUSINESS_CATEGORIES
                        }
                    }, {
                        key: "_getResults",
                        value: function(e) {
                            var t = this;
                            this.setState({
                                isLoading: !0
                            }), this.props.searchCategories(e || g.BUSINESS_CATEGORY_EMPTY_STR_ID).then((function(a) {
                                var n = a.categories;
                                "" !== e && (n = n.filter((function(e) {
                                    return !e.not_a_biz
                                }))), t.setState({
                                    isLoading: !1,
                                    results: n
                                })
                            })).catch((function() {
                                S.default.openToast((0, P.jsx)(w.default, {
                                    id: (0, w.genId)(),
                                    msg: b.default.t(446)
                                })), t.setState({
                                    isLoading: !1,
                                    results: []
                                })
                            }))
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e, t = this;
                            return this.state.selectedCategories.length && (e = this._renderFooter()), (0, P.jsxs)(T.default, {
                                title: b.default.t(448),
                                isValid: this.state.selectedCategories.length > 0,
                                doSave: (0, l.default)(i.default.mark((function e() {
                                    return i.default.wrap((function(e) {
                                        for (;;) switch (e.prev = e.next) {
                                            case 0:
                                                return e.next = 2, t.props.saveBusinessProfile({
                                                    categories: t.state.selectedCategories
                                                });
                                            case 2:
                                            case "end":
                                                return e.stop()
                                        }
                                    }), e)
                                }))),
                                afterSave: this.props.afterSave,
                                onCancel: this.props.onCancel,
                                children: [(0, P.jsx)("div", {
                                    className: C.default.searchBackground,
                                    children: this._renderSearchBox()
                                }), (0, P.jsxs)("div", {
                                    className: C.default.editMain,
                                    children: [(0, P.jsx)("div", {
                                        className: C.default.list,
                                        children: this.renderList()
                                    }), e]
                                })]
                            })
                        }
                    }]), a
                }(v.Component);
            t.default = O, O.displayName = "Categories"
        },
        69008: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(a(81109)),
                l = r(a(63038)),
                o = a(67294),
                s = r(a(40501)),
                d = r(a(17765)),
                u = r(a(16646)),
                c = a(74871),
                f = r(a(67146)),
                p = r(a(65901)),
                h = r(a(46821)),
                v = r(a(20230)),
                m = a(2629),
                g = n(a(33333)),
                _ = r(a(45159)),
                C = a(84181),
                x = r(a(83719)),
                y = r(a(50507)),
                S = a(13258),
                E = a(35622),
                j = r(a(68544)),
                I = r(a(29034)),
                b = a(97843),
                k = a(85893),
                T = 256,
                M = 512,
                w = 128,
                P = 256;
            t.default = function(e) {
                var t = e.businessProfile,
                    a = e.saveBusinessProfile,
                    n = e.sessionId,
                    r = e.verifiedName,
                    L = (0, o.useState)(),
                    O = (0, l.default)(L, 2),
                    D = O[0],
                    N = O[1],
                    R = (0, o.useState)(),
                    A = (0, l.default)(R, 2),
                    F = A[0],
                    B = A[1],
                    U = (0, o.useState)(),
                    G = (0, l.default)(U, 2),
                    H = G[0],
                    V = G[1],
                    W = (0, o.useState)(),
                    z = (0, l.default)(W, 2),
                    K = z[0],
                    Y = z[1],
                    q = (0, o.useState)(),
                    Z = (0, l.default)(q, 2),
                    X = Z[0],
                    $ = Z[1],
                    J = (0, o.useState)(),
                    Q = (0, l.default)(J, 2),
                    ee = Q[0],
                    te = Q[1],
                    ae = (0, o.useState)(),
                    ne = (0, l.default)(ae, 2),
                    re = ne[0],
                    ie = ne[1],
                    le = (0, o.useState)(),
                    oe = (0, l.default)(le, 2),
                    se = oe[0],
                    de = oe[1],
                    ue = (0, o.useState)(),
                    ce = (0, l.default)(ue, 2),
                    fe = ce[0],
                    pe = ce[1],
                    he = (0, o.useState)(!1),
                    ve = (0, l.default)(he, 2),
                    me = ve[0],
                    ge = ve[1],
                    _e = (0, o.useState)(),
                    Ce = (0, l.default)(_e, 2),
                    xe = Ce[0],
                    ye = Ce[1];
                (0, o.useEffect)((function() {
                    var e = (0, E.convertRawBusinessProfile)(t);
                    N(e.description), V(e.email), B(e.address), Y(e.primaryWebsite), $(e.secondaryWebsite), te(Boolean(e.primaryWebsite && !e.secondaryWebsite))
                }), [t]), (0, o.useEffect)((function() {
                    (0, b.validateEmail)(H) && ie(null)
                }), [H]), (0, o.useEffect)((function() {
                    (0, b.validateURL)(K) && de(null)
                }), [K]), (0, o.useEffect)((function() {
                    (0, b.validateURL)(X) && pe(null)
                }), [X]);
                var Se, Ee, je, Ie, be = function() {
                        var e = [];
                        return K && e.push(K), X && e.push(X), {
                            website: e.map((function(e, t) {
                                if (!I.default.isHttps(e) && !I.default.isHttp(e)) {
                                    var a = `https://${e}`;
                                    return 0 === t ? Y(a) : $(a), a
                                }
                                return e
                            }))
                        }
                    },
                    ke = function(e) {
                        return (0, k.jsx)(g.default, (0, i.default)((0, i.default)({}, e), {}, {
                            hideEditIcon: Boolean(xe)
                        }))
                    },
                    Te = function(e) {
                        var r = e.setValue,
                            l = e.value,
                            o = e.fieldKey,
                            s = e.fieldMetric,
                            d = e.originalValue,
                            u = e.textFieldConfig,
                            c = e.formatForSave,
                            f = e.validate,
                            p = e.onError,
                            h = e.error,
                            v = e.lowProfile,
                            m = e.placeholder,
                            g = e.startActive,
                            _ = (null == xe ? void 0 : xe.fieldKey) === o,
                            x = l ? void 0 : m;
                        return (0, k.jsx)(j.default, (0, i.default)({
                            value: l,
                            editable: !xe || _,
                            pending: _ && (null == xe ? void 0 : xe.editType) === S.EditType.PENDING,
                            showRemaining: !0,
                            onBeginEdit: function() {
                                (0, C.logProfileFieldOpen)(s, t, n), ye({
                                    fieldKey: o,
                                    editType: S.EditType.EDITING
                                })
                            },
                            onChange: r,
                            onSave: function() {
                                (0, C.logProfileFieldSave)(s, t, n), ye({
                                    fieldKey: o,
                                    editType: S.EditType.PENDING
                                }), a(c()).then((function() {
                                    ye()
                                }), (function() {
                                    ye()
                                }))
                            },
                            onCancel: function() {
                                (0, C.logProfileFieldDiscard)(s, t, n), r(d), ye()
                            },
                            lockable: !0,
                            lowProfile: v,
                            multiline: !0,
                            inputPlaceholder: x,
                            theme: "text-input",
                            validate: f,
                            onError: p,
                            error: h,
                            a8n: `biz-profile-${o}-input`,
                            fieldName: m,
                            startActive: g
                        }, u))
                    },
                    Me = function(e, t, a) {
                        if (t) return _.default.t(422);
                        switch (e) {
                            case c.BUSINESS_HOUR_MODES.SPECIFIC_HOURS:
                                return (0, k.jsx)(k.Fragment, {
                                    children: a && a.map((function(e, t) {
                                        var a = (0, l.default)(e, 2),
                                            n = a[0],
                                            r = a[1];
                                        return (0, k.jsxs)("div", {
                                            className: v.default.businessHoursTime,
                                            "data-a8n": s.default.key("business-hours-time"),
                                            children: [n, " - ", r]
                                        }, t)
                                    }))
                                });
                            case c.BUSINESS_HOUR_MODES.APPOINTMENT_ONLY:
                                return _.default.t(421);
                            case c.BUSINESS_HOUR_MODES.OPEN_24H:
                                return _.default.t(433);
                            default:
                                return null
                        }
                    },
                    we = (0, E.convertRawBusinessProfile)(t),
                    Pe = _.default.t(464),
                    Le = void 0;
                return (0, m.canSeeBizProfileV3)() && (Pe = null, Le = v.default.noPaddingTop), (0, k.jsxs)(h.default, {
                    title: Pe,
                    theme: "refresh",
                    className: Le,
                    children: [function(e) {
                        if (!e) return null;
                        var t = (0, m.canSeeBizProfileV3)() ? g.IconSectionTheme.NoMargin : void 0;
                        return ke({
                            theme: t,
                            icon: "account-box",
                            iconClass: v.default.verifiedNameIcon,
                            content: (0, k.jsxs)("div", {
                                children: [(0, k.jsx)("div", {
                                    children: e
                                }), (0, k.jsx)("div", {
                                    className: v.default.infoText,
                                    children: _.default.t(466)
                                })]
                            })
                        })
                    }(r), ke({
                        icon: "business-description",
                        content: Te({
                            value: D,
                            setValue: N,
                            originalValue: we.description,
                            fieldKey: "description",
                            fieldMetric: y.default.BUSINESS_PROFILE_FIELD.DESCRIPTION,
                            placeholder: _.default.t(456),
                            textFieldConfig: {
                                maxLength: M,
                                supportsEmoji: !0
                            },
                            lowProfile: !0,
                            formatForSave: function() {
                                return {
                                    description: D
                                }
                            }
                        })
                    }), ke({
                        icon: "business-category",
                        type: "container",
                        emptyText: _.default.t(455),
                        content: (Ie = we.categories, 0 === Ie.length ? null : (0, k.jsx)("div", {
                            "data-a8n": s.default.key("biz-profile-category-input"),
                            children: Ie.map((function(e) {
                                return e.localized_display_name
                            })).join(_.default.t(826))
                        })),
                        fieldName: _.default.t(455),
                        onEdit: function() {
                            (0, C.logProfileFieldOpen)(y.default.BUSINESS_PROFILE_FIELD.CATEGORY, t, n), p.default.openModal((0, k.jsx)(f.default, {
                                initialCategories: we.categories,
                                saveBusinessProfile: a,
                                searchCategories: function(e) {
                                    return d.default.find(e)
                                },
                                afterSave: function() {
                                    return (0, C.logProfileFieldSave)(y.default.BUSINESS_PROFILE_FIELD.CATEGORY, t, n)
                                },
                                onCancel: function() {
                                    (0, C.logProfileFieldDiscard)(y.default.BUSINESS_PROFILE_FIELD.CATEGORY, t, n)
                                }
                            }))
                        }
                    }), ke({
                        icon: "business-address",
                        content: function(e) {
                            var t, a = Te({
                                    value: F,
                                    placeholder: _.default.t(453),
                                    setValue: B,
                                    originalValue: e.address,
                                    fieldKey: "address",
                                    fieldMetric: y.default.BUSINESS_PROFILE_FIELD.ADDRESS,
                                    textFieldConfig: {
                                        maxLength: P
                                    },
                                    lowProfile: !0,
                                    formatForSave: function() {
                                        return {
                                            address: F
                                        }
                                    }
                                }),
                                n = e.latitude,
                                r = e.longitude;
                            return null != n && null != r && (t = function(e, t) {
                                var a;
                                return "address" === (null == xe ? void 0 : xe.fieldKey) && (a = (0, k.jsx)("div", {
                                    className: v.default.mapOverlay,
                                    children: (0, k.jsx)("div", {
                                        className: v.default.overlayHint,
                                        children: _.default.t(459)
                                    })
                                })), (0, k.jsxs)("div", {
                                    style: {
                                        height: 100
                                    },
                                    className: v.default.businessMap,
                                    children: [a, (0, k.jsx)(x.default, {
                                        lat: e,
                                        lng: t,
                                        name: F,
                                        width: 312,
                                        height: 96
                                    })]
                                })
                            }(n, r)), (0, k.jsxs)(k.Fragment, {
                                children: [a, t]
                            })
                        }(we)
                    }), ke({
                        icon: "business-hours",
                        type: "container",
                        emptyText: _.default.t(454),
                        content: (Se = we.hours, Ee = Se.mode, je = Se.days, null == Ee ? null : (0, k.jsx)("div", {
                            children: je.map((function(e) {
                                var t = e.dayName,
                                    a = e.dayKey,
                                    n = e.closed,
                                    r = e.hours;
                                return (0, k.jsxs)("div", {
                                    className: v.default.businessHoursSection,
                                    "data-a8n": s.default.key("business-hours-section-row"),
                                    children: [(0, k.jsx)("div", {
                                        className: v.default.businessHoursDayColumn,
                                        children: t
                                    }), (0, k.jsx)("div", {
                                        className: v.default.businessHoursTimeColumn,
                                        children: Me(Ee, n, r)
                                    })]
                                }, a)
                            }))
                        })),
                        fieldName: _.default.t(454),
                        onEdit: function() {
                            (0, C.logProfileFieldOpen)(y.default.BUSINESS_PROFILE_FIELD.HOURS, t, n), p.default.openModal((0, k.jsx)(u.default, {
                                businessHours: we.hours,
                                saveBusinessProfile: a,
                                onCancel: function() {
                                    (0, C.logProfileFieldDiscard)(y.default.BUSINESS_PROFILE_FIELD.HOURS, t, n)
                                },
                                afterSave: function() {
                                    return (0, C.logProfileFieldSave)(y.default.BUSINESS_PROFILE_FIELD.HOURS, t, n)
                                }
                            }))
                        }
                    }), ke({
                        icon: "business-email",
                        content: Te({
                            value: H,
                            placeholder: _.default.t(457),
                            originalValue: we.email,
                            setValue: V,
                            fieldKey: "email",
                            fieldMetric: y.default.BUSINESS_PROFILE_FIELD.EMAIL,
                            textFieldConfig: {
                                maxLength: w
                            },
                            error: re,
                            lowProfile: !1,
                            formatForSave: function() {
                                return {
                                    email: H
                                }
                            },
                            validate: function(e) {
                                return (0, b.validateEmail)(e)
                            },
                            onError: function() {
                                ie(_.default.t(890))
                            }
                        })
                    }), function(e) {
                        var t = Te({
                            value: K,
                            placeholder: _.default.t(465),
                            originalValue: e.primaryWebsite,
                            setValue: Y,
                            fieldKey: "primaryWebsite",
                            fieldMetric: y.default.BUSINESS_PROFILE_FIELD.WEBSITE,
                            textFieldConfig: {
                                maxLength: T
                            },
                            formatForSave: be,
                            lowProfile: !1,
                            validate: b.validateURL,
                            onError: function() {
                                de(_.default.t(898))
                            },
                            error: se
                        });
                        return ke({
                            icon: "business-website",
                            theme: g.IconSectionTheme.SmallMargin,
                            content: (0, k.jsx)("div", {
                                children: t
                            })
                        })
                    }(we), function(e) {
                        if (!e.primaryWebsite) return null;
                        if (X || !ee) {
                            var t = Te({
                                placeholder: _.default.t(465),
                                value: X,
                                originalValue: e.secondaryWebsite,
                                setValue: $,
                                fieldKey: "secondaryWebsite",
                                fieldMetric: y.default.BUSINESS_PROFILE_FIELD.WEBSITE,
                                textFieldConfig: {
                                    maxLength: T
                                },
                                formatForSave: be,
                                lowProfile: !1,
                                validate: b.validateURL,
                                onError: function() {
                                    pe(_.default.t(898))
                                },
                                error: fe,
                                startActive: me
                            });
                            return ke({
                                icon: "business-website",
                                theme: g.IconSectionTheme.NoMargin,
                                content: (0, k.jsx)("div", {
                                    children: t
                                })
                            })
                        }
                        var a = (0, k.jsx)("button", {
                            className: v.default.addAnotherWebsite,
                            onClick: function() {
                                te(!1), ge(!0)
                            },
                            children: _.default.t(452)
                        });
                        return ke({
                            theme: g.IconSectionTheme.NoMargin,
                            content: (0, k.jsx)("div", {
                                children: a
                            })
                        })
                    }(we)]
                })
            }
        },
        87894: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function() {
                var e = (0, o.useState)(C.LoadType.PENDING),
                    t = (0, r.default)(e, 2),
                    a = t[0],
                    n = t[1],
                    s = (0, o.useState)(),
                    m = (0, r.default)(s, 2),
                    b = m[0],
                    k = m[1],
                    T = (0, o.useRef)(Math.floor(2147483648 * Math.random()).toString()),
                    M = function() {
                        var e = (0, l.default)(i.default.mark((function e() {
                            var t;
                            return i.default.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        return n(C.LoadType.PENDING), e.prev = 1, e.next = 4, j();
                                    case 4:
                                        t = e.sent, k(t), n(C.LoadType.DONE), (0, _.logProfileOpen)(t, T.current), e.next = 13;
                                        break;
                                    case 10:
                                        e.prev = 10, e.t0 = e.catch(1), n(C.LoadType.ERROR);
                                    case 13:
                                    case "end":
                                        return e.stop()
                                }
                            }), e, null, [
                                [1, 10]
                            ])
                        })));
                        return function() {
                            return e.apply(this, arguments)
                        }
                    }();
                if ((0, o.useEffect)((function() {
                        M()
                    }), []), a === C.LoadType.PENDING) return (0, S.jsx)("div", {
                    className: h.default.loadingSpinner,
                    children: (0, S.jsx)(x.default, {
                        color: "default",
                        size: 24,
                        stroke: 6
                    })
                });
                if (a === C.LoadType.ERROR) return (0, S.jsx)(f.default, {
                    title: g.default.t(464),
                    theme: "refresh",
                    children: (0, S.jsxs)(v.FlexRow, {
                        align: "center",
                        justify: "center",
                        children: [(0, S.jsx)(v.FlexItem, {
                            children: g.default.t(462)
                        }), (0, S.jsx)(v.FlexItem, {
                            xstyle: E.retryButton,
                            children: (0, S.jsx)(u.default, {
                                onClick: function() {
                                    M()
                                },
                                type: "simplified",
                                children: g.default.t(1570)
                            })
                        })]
                    })
                });
                if (a === C.LoadType.DONE && b) return (0, S.jsx)(p.default, {
                    verifiedName: c.default.pushname || void 0,
                    sessionId: T.current,
                    businessProfile: b,
                    saveBusinessProfile: function() {
                        var e = (0, l.default)(i.default.mark((function e(t) {
                            var a;
                            return i.default.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        return e.prev = 0, e.next = 3, (0, d.editBusinessProfile)(t);
                                    case 3:
                                        e.next = 10;
                                        break;
                                    case 5:
                                        throw e.prev = 5, e.t0 = e.catch(0), (0, y.showError)(g.default.t(463)), __LOG__(3, void 0, void 0, !0)`business_profile:edit_form save failed`, SEND_LOGS(`businessProfile edit handled server error - ${e.t0.status}`), e.t0;
                                    case 10:
                                        return e.prev = 10, e.next = 13, I();
                                    case 13:
                                        return a = e.sent, k(a), e.abrupt("return", a);
                                    case 18:
                                        throw e.prev = 18, e.t1 = e.catch(10), (0, y.showError)(g.default.t(462)), e.t1;
                                    case 22:
                                    case "end":
                                        return e.stop()
                                }
                            }), e, null, [
                                [0, 5],
                                [10, 18]
                            ])
                        })));
                        return function() {
                            return e.apply(this, arguments)
                        }
                    }()
                });
                return null
            };
            var r = n(a(63038)),
                i = n(a(87757)),
                l = n(a(48926)),
                o = a(67294),
                s = (n(a(56720)), n(a(96466))),
                d = a(91874),
                u = n(a(51599)),
                c = n(a(73929)),
                f = n(a(46821)),
                p = n(a(69008)),
                h = n(a(51875)),
                v = a(27968),
                m = a(1577),
                g = n(a(45159)),
                _ = a(84181),
                C = a(13258),
                x = n(a(85651)),
                y = a(75063),
                S = a(85893),
                E = {
                    retryButton: {
                        height: "epwkujcx",
                        marginStart: "nzcjdldu"
                    }
                },
                j = function() {
                    var e = (0, l.default)(i.default.mark((function e() {
                        var t, a, n;
                        return i.default.wrap((function(e) {
                            for (;;) switch (e.prev = e.next) {
                                case 0:
                                    return t = (0, m.getMeUser)(), (a = s.default.get(t)) && a.markStale(), e.next = 5, s.default.find(t);
                                case 5:
                                    return n = e.sent, e.abrupt("return", n.serialize());
                                case 7:
                                case "end":
                                    return e.stop()
                            }
                        }), e)
                    })));
                    return function() {
                        return e.apply(this, arguments)
                    }
                }(),
                I = function() {
                    var e = (0, l.default)(i.default.mark((function e() {
                        var t, a, n;
                        return i.default.wrap((function(e) {
                            for (;;) switch (e.prev = e.next) {
                                case 0:
                                    return t = (0, m.getMeUser)(), e.next = 3, s.default.update(t);
                                case 3:
                                    return a = e.sent, n = Array.isArray(a) ? a[0] : a, e.abrupt("return", n.serialize());
                                case 6:
                                case "end":
                                    return e.stop()
                            }
                        }), e)
                    })));
                    return function() {
                        return e.apply(this, arguments)
                    }
                }()
        },
        84181: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.getProfilePopulatedFields = l, t.logProfileOpen = function(e, t) {
                var a = new i.default.EditBusinessProfile((0, r.default)({
                    editProfileAction: i.default.EDIT_PROFILE_ACTION.ACTION_OPEN,
                    businessProfileEntryPoint: i.default.BUSINESS_PROFILE_ENTRY_POINT.SETTINGS,
                    editBusinessProfileSessionId: t
                }, l(e)));
                a && a.commit()
            }, t.logProfileFieldOpen = function(e, t, a) {
                var n = new i.default.EditBusinessProfile((0, r.default)({
                    editProfileAction: i.default.EDIT_PROFILE_ACTION.ACTION_PROFILE_FIELD_OPEN,
                    businessProfileEntryPoint: i.default.BUSINESS_PROFILE_ENTRY_POINT.SETTINGS,
                    editProfileActionField: e,
                    editBusinessProfileSessionId: a
                }, l(t)));
                n && n.commit()
            }, t.logProfileFieldSave = function(e, t, a) {
                var n = new i.default.EditBusinessProfile((0, r.default)({
                    editProfileAction: i.default.EDIT_PROFILE_ACTION.ACTION_PROFILE_FIELD_SAVE,
                    businessProfileEntryPoint: i.default.BUSINESS_PROFILE_ENTRY_POINT.SETTINGS,
                    editProfileActionField: e,
                    editBusinessProfileSessionId: a
                }, l(t)));
                n && n.commit()
            }, t.logProfileFieldDiscard = function(e, t, a) {
                var n = new i.default.EditBusinessProfile((0, r.default)({
                    editProfileAction: i.default.EDIT_PROFILE_ACTION.ACTION_PROFILE_FIELD_DISCARD,
                    businessProfileEntryPoint: i.default.BUSINESS_PROFILE_ENTRY_POINT.SETTINGS,
                    editProfileActionField: e,
                    editBusinessProfileSessionId: a
                }, l(t)));
                n && n.commit()
            };
            var r = n(a(81109)),
                i = n(a(50507));

            function l(e) {
                var t;
                return {
                    hasDescription: null != e.description,
                    hasCategory: !!(e.categories && e.categories.length > 0),
                    hasHours: null != (null === (t = e.businessHours) || void 0 === t ? void 0 : t.config),
                    hasEmail: null != e.email,
                    hasAddress: null != e.address,
                    hasWebsite: null != e.website
                }
            }
        },
        35622: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.convertRawBusinessProfile = void 0;
            var r = n(a(63038)),
                i = a(52087);
            t.convertRawBusinessProfile = function(e) {
                var t = e.description,
                    a = e.email,
                    n = e.address,
                    l = e.website,
                    o = e.categories,
                    s = e.businessHours,
                    d = e.latitude,
                    u = e.longitude,
                    c = (0, r.default)(l || [], 2);
                return {
                    description: t,
                    email: a,
                    address: n,
                    primaryWebsite: c[0],
                    secondaryWebsite: c[1],
                    hours: (0, i.getBusinessHoursForEdit)(s),
                    categories: o || [],
                    latitude: d,
                    longitude: u
                }
            }
        },
        75063: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.showError = void 0;
            var i = r(a(65901)),
                l = n(a(92428)),
                o = a(85893);
            t.showError = function(e) {
                i.default.openToast((0, o.jsx)(l.default, {
                    msg: e,
                    duration: 6e3,
                    id: (0, l.genId)()
                }))
            }
        },
        42364: (e, t, a) => {
            "use strict";
            var n = a(52108).default,
                r = a(20862),
                i = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = t.CartDetailDrawer = void 0;
            var l = i(a(87757)),
                o = i(a(63038)),
                s = i(a(48926)),
                d = i(a(34575)),
                u = i(a(93913)),
                c = i(a(2205)),
                f = i(a(99842)),
                p = a(71709),
                h = a(18077),
                v = a(67294),
                m = i(a(40501)),
                g = i(a(96466)),
                _ = a(19218),
                C = i(a(51599)),
                x = i(a(41325)),
                y = i(a(41671)),
                S = i(a(13322)),
                E = i(a(20950)),
                j = i(a(65901)),
                I = i(a(86777)),
                b = i(a(94253)),
                k = r(a(71150)),
                T = i(a(53187)),
                M = i(a(18345)),
                w = i(a(96706)),
                P = r(a(19288)),
                L = r(a(18286)),
                O = i(a(92546)),
                D = i(a(5029)),
                N = i(a(45159)),
                R = i(a(63641)),
                A = a(37582),
                F = a(11613),
                B = i(a(61655)),
                U = i(a(45170)),
                G = a(49942),
                H = i(a(5202)),
                V = i(a(13088)),
                W = i(a(80385)),
                z = i(a(97469)),
                K = i(a(39506)),
                Y = i(a(7665)),
                q = a(22552),
                Z = i(a(33963)),
                X = i(a(60806)),
                $ = a(85893),
                J = function(e) {
                    (0, c.default)(a, e);
                    var t = (0, f.default)(a);

                    function a(e) {
                        var r;
                        (0, d.default)(this, a), (r = t.call(this, e))._cartFlatListController = new O.default, r.updateData = function() {
                            var e = (0, s.default)(l.default.mark((function e(t) {
                                var a, i, s, d, u;
                                return l.default.wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                        case 0:
                                            return e.next = 2, n.all([t ? (0, V.default)(r.state.cart) : n.resolve(), g.default.find(r.props.chat.id)]);
                                        case 2:
                                            a = e.sent, i = (0, o.default)(a, 2), s = i[0], d = i[1], s && (r.refreshedCart = s), u = (0, B.default)(r.state.cart, r.refreshedCart), r.setState({
                                                businessProfile: d,
                                                cartProductItems: u,
                                                isLoading: !1
                                            });
                                        case 9:
                                        case "end":
                                            return e.stop()
                                    }
                                }), e)
                            })));
                            return function() {
                                return e.apply(this, arguments)
                            }
                        }(), r.handleSend = function() {
                            var e = r.state.cart;
                            r.setState({
                                isLoading: !0
                            }), (0, K.default)(e, r.props.chat).then((function(t) {
                                var a = Boolean(e.message);
                                (0, A.logSendOrderMessage)({
                                    orderId: t,
                                    catalogOwnerJid: e.id,
                                    catalogContext: (0, G.getProductCatalogContext)(r.context),
                                    isOrderMsgAttached: a,
                                    quantity: e.itemCount
                                }), r.props.onBack(), (0, E.default)(e), e.message = void 0, r.props.closeDrawerRightOnSend && r._closeDrawerRight()
                            })).catch((function() {
                                __LOG__(4, !0, new Error, !0)`Unable to create catalog order`, SEND_LOGS("submitOrder: order creation or order message send error"), (0, z.default)(), r.updateData(!0)
                            })).finally((function() {
                                r.setState({
                                    isLoading: !1
                                })
                            }))
                        }, r.handleChange = function(e) {
                            var t = r.state.cart;
                            r.setState({
                                cartMessage: e
                            }, (function() {
                                (0, Z.default)(t, e)
                            }))
                        }, r._setRefMessageInput = function(e) {
                            r._refMessageInput = e
                        }, r.handleMaxPasteExceeded = function() {
                            j.default.openModal((0, $.jsx)(I.default, {
                                title: N.default.t(499),
                                onOK: function() {
                                    j.default.closeModal()
                                },
                                okText: N.default.t(2125),
                                children: N.default.t(498)
                            }))
                        }, r.updateDataQueue = new p.PromiseQueue;
                        var i = x.default.findCart(r.props.sellerJid);
                        return r.state = {
                            isLoading: !0,
                            businessProfile: void 0,
                            cartProductItems: [],
                            cartMessage: i.message,
                            cart: i
                        }, r
                    }
                    return (0, u.default)(a, [{
                        key: "_closeDrawerRight",
                        value: function() {
                            j.default.existsDrawerRight((function(e) {
                                e && j.default.closeDrawerRight()
                            }))
                        }
                    }, {
                        key: "componentDidMount",
                        value: function() {
                            var e = this,
                                t = this.state.cart,
                                a = this.props,
                                n = a.listeners,
                                r = a.rejectOnUnmount;
                            n.add(t, "change:cartItemCollection", (function() {
                                e.updateDataQueue.enqueue((function() {
                                    return e.updateData()
                                }))
                            })), this.updateData(!0).checkpoint(r()).then((function() {
                                (0, F.logCartListImpression)(t.id.toString(), (0, G.getProductCatalogContext)(e.context))
                            })).catch((0, h.filteredCatch)(L.Unmount, (function() {}))).catch((function() {
                                __LOG__(4, !0, new Error, !0)`Unable to open the cart`, SEND_LOGS("openCart: failed to open the cart"), (0, z.default)(), (0, E.default)(t)
                            })).finally((function() {
                                e.setState({
                                    isLoading: !1
                                })
                            }))
                        }
                    }, {
                        key: "_emptyCartContent",
                        value: function() {
                            return (0, $.jsxs)("div", {
                                className: y.default.emptyCartContainer,
                                children: [(0, $.jsx)(Y.default, {
                                    name: "shopping-cart-empty"
                                }), (0, $.jsx)(q.TextDiv, {
                                    className: y.default.emptyCardHeader,
                                    theme: "large",
                                    children: N.default.t(491)
                                }), (0, $.jsx)(q.TextDiv, {
                                    className: y.default.emptyCardText,
                                    theme: "plain",
                                    children: N.default.t(492)
                                }), (0, _.hasCatalog)(this.state.businessProfile) && (0, $.jsx)(C.default, {
                                    onClick: this.props.onProductCatalog,
                                    type: "primary",
                                    children: N.default.t(1478)
                                })]
                            })
                        }
                    }, {
                        key: "_getDrawerContent",
                        value: function() {
                            var e = this.props,
                                t = e.chat,
                                a = e.sellerJid,
                                n = this.state.cart;
                            if (this.state.isLoading) return (0, $.jsx)(D.default, {});
                            var r, i, l = n.itemCount,
                                o = l > 0;
                            if (o) {
                                var s = N.default.t(1109, {
                                    count: l,
                                    _plural: l
                                });
                                r = (0, $.jsx)(q.TextDiv, {
                                    theme: "title",
                                    children: s
                                })
                            }
                            null != n.total && null != n.currency ? i = (0, $.jsx)(q.TextDiv, {
                                theme: "muted-small",
                                children: N.default.t(1439, {
                                    subtotal: k.formatAmount1000(n.currency, n.total)
                                })
                            }) : l > 0 && (i = (0, $.jsx)(q.TextDiv, {
                                theme: "muted-small",
                                children: N.default.t(1435)
                            }));
                            var d = (0, $.jsx)(X.default, {
                                    transitionName: "media-caption",
                                    className: y.default.cartMessage,
                                    children: (0, $.jsx)(U.default, {
                                        ref: this._setRefMessageInput,
                                        chat: t,
                                        maxLength: b.default.MAX_CART_MESSAGE_LENGTH,
                                        multiline: !0,
                                        onEnter: this.handleSend,
                                        onChange: this.handleChange,
                                        onMaxPasteExceeded: this.handleMaxPasteExceeded,
                                        placeholder: N.default.t(497),
                                        showRemaining: !0,
                                        spellCheck: !0,
                                        supportsEmoji: !0,
                                        value: this.state.cartMessage
                                    })
                                }),
                                u = (0, $.jsx)("button", {
                                    "data-a8n": m.default.key("cart-send-button"),
                                    className: y.default.btnSend,
                                    tabIndex: "-1",
                                    onClick: this.handleSend,
                                    title: N.default.t(502),
                                    children: (0, $.jsx)(W.default, {
                                        large: !0,
                                        children: (0, $.jsx)(Y.default, {
                                            name: "send",
                                            directional: !0
                                        })
                                    })
                                });
                            return (0, $.jsxs)($.Fragment, {
                                children: [!o && this._emptyCartContent(), (0, $.jsxs)("div", {
                                    className: y.default.info,
                                    children: [r, i]
                                }), (0, $.jsx)(S.default, {
                                    flatListController: this._cartFlatListController,
                                    onProductDetail: this.props.onProductDetail,
                                    cart: n,
                                    sellerJid: a,
                                    cartProductItems: this.state.cartProductItems
                                }), o && (0, $.jsxs)("div", {
                                    className: y.default.footer,
                                    children: [d, (0, $.jsx)(X.default, {
                                        transitionAppear: !0,
                                        transitionName: "btn",
                                        children: u
                                    })]
                                })]
                            })
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e = this.props.onBack;
                            return (0, $.jsxs)(T.default, {
                                onDrop: e,
                                theme: "striped",
                                children: [(0, $.jsx)(P.default, {
                                    title: N.default.t(490),
                                    type: P.DRAWER_HEADER_TYPE.SMALL,
                                    onBack: e
                                }), (0, $.jsx)(M.default, {
                                    flatListControllers: [this._cartFlatListController],
                                    children: this._getDrawerContent()
                                })]
                            })
                        }
                    }]), a
                }(v.Component);
            t.CartDetailDrawer = J, J.contextType = w.default, J.displayName = "CartDetailDrawer";
            var Q = (0, H.default)((0, R.default)(J));
            t.default = Q
        },
        13322: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.cartProductItems,
                    a = e.onProductDetail,
                    n = e.sellerJid;
                return (0, d.jsx)(s.default, {
                    flatListControllers: [e.flatListController],
                    children: (0, d.jsx)(o.default, {
                        flatListController: e.flatListController,
                        direction: "vertical",
                        forceConsistentRenderCount: !1,
                        data: t.map((function(e) {
                            return {
                                itemKey: e.cartItem.id,
                                contentKey: r.default.uniqueId("cartItem"),
                                product: e.product,
                                cartItem: e.cartItem
                            }
                        })),
                        renderItem: function(e) {
                            var t = {
                                productId: e.cartItem.id,
                                businessOwnerJid: n
                            };
                            return (0, d.jsx)(i.default, {
                                cartId: n,
                                product: e.product,
                                quantity: e.cartItem.quantity,
                                onClick: function() {
                                    return a(t)
                                }
                            })
                        },
                        defaultItemHeight: l.default.PRODUCT_LIST_ITEM_HEIGHT
                    })
                })
            };
            var r = n(a(96486)),
                i = n(a(20210)),
                l = n(a(94253)),
                o = n(a(73568)),
                s = n(a(23803)),
                d = a(85893)
        },
        20210: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, a, n = e.product,
                    _ = e.onClick,
                    C = (0, g.jsx)(u.default, {
                        text: n.name,
                        ellipsify: !0,
                        titlify: !0
                    }),
                    x = null === (t = n.getPreviewImage()) || void 0 === t ? void 0 : t.mediaData;
                a = x ? (0, g.jsx)(v.default, {
                    theme: "list",
                    mediaData: x
                }) : (0, g.jsx)(g.Fragment, {});
                var y = (0, g.jsx)(h.default, {
                    className: r.default.price,
                    product: n,
                    fallback: c.default.t(493)
                });
                return (0, g.jsx)(l.default, {
                    image: a,
                    customImage: !0,
                    primary: C,
                    secondary: y,
                    theme: "cart-product",
                    onClick: _,
                    detail: (0, g.jsx)(d.default.Consumer, {
                        children: function(t) {
                            return (0, g.jsxs)("div", {
                                className: r.default.actions,
                                children: [(0, g.jsx)(i.default, {
                                    quantity: e.quantity,
                                    onChange: function(a) {
                                        return function(t, a) {
                                            var n = e.cartId,
                                                r = e.product;
                                            (0, m.default)(n, r, t), (0, f.logEditProduct)(r, a, t)
                                        }(a, (0, p.getProductCatalogContext)(t))
                                    }
                                }), (0, g.jsx)("div", {
                                    className: r.default.deleteIcon,
                                    children: (0, g.jsx)(o.default, {
                                        onClick: function(a) {
                                            return function(t, a) {
                                                var n = e.cartId,
                                                    r = e.product,
                                                    i = (0, s.default)(n, r.id.toString());
                                                (0, s.default)(n, r.id.toString()), (0, f.logDeleteProduct)(r, a), 0 === i && (0, f.logCartAbandon)(r.catalogWid.toString(), a),
                                                    function(e) {
                                                        e.preventDefault(), e.stopPropagation()
                                                    }(t)
                                            }(a, (0, p.getProductCatalogContext)(t))
                                        }
                                    })
                                })]
                            })
                        }
                    }),
                    className: r.default.cartListItem
                }, n.id.toString())
            };
            var r = n(a(95827)),
                i = n(a(90248)),
                l = n(a(88186)),
                o = n(a(68480)),
                s = n(a(40034)),
                d = n(a(96706)),
                u = n(a(73008)),
                c = n(a(45159)),
                f = a(11613),
                p = a(49942),
                h = n(a(6737)),
                v = n(a(27610)),
                m = n(a(83735)),
                g = a(85893)
        },
        90248: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                return (0, l.jsx)("div", {
                    className: i.default.select,
                    children: (0, l.jsx)("select", {
                        onClick: function(e) {
                            e.preventDefault(), e.stopPropagation()
                        },
                        value: e.quantity,
                        onChange: function(t) {
                            var a = t.target;
                            a instanceof HTMLSelectElement && e.onChange(parseInt(a.value, 10))
                        },
                        children: function() {
                            for (var e = [], t = 1; t <= r.MAX_QUANTITY; t++) e.push((0, l.jsx)("option", {
                                value: t,
                                children: t
                            }, t));
                            return e
                        }()
                    })
                })
            };
            var r = a(68998),
                i = n(a(98307)),
                l = a(85893)
        },
        68480: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                return (0, o.jsx)(l.default, {
                    "aria-label": i.default.t(1504),
                    name: "delete",
                    title: i.default.t(1504),
                    className: r.default.deleteIcon,
                    onClick: e.onClick
                })
            };
            var r = n(a(86536)),
                i = n(a(45159)),
                l = n(a(28706)),
                o = a(85893)
        },
        91884: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(a(40501)),
                i = n(a(88186)),
                l = n(a(10399)),
                o = n(a(4389)),
                s = a(85893);
            t.default = function(e) {
                var t = e.title,
                    a = e.icon,
                    n = e.t,
                    d = null != n ? l.default.relativeDateAndTimeStr(n) : "-",
                    u = (0, s.jsxs)("div", {
                        className: o.default.title,
                        "data-a8n": r.default.key("msg-info-title"),
                        children: [a, t]
                    });
                return (0, s.jsx)(i.default, {
                    primary: u,
                    secondary: d,
                    theme: "plain",
                    idle: !0
                })
            }
        },
        76997: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = (0, s.default)(e.msg, ["numTimesForwarded", "isFrequentlyForwarded"]),
                    a = t.numTimesForwarded,
                    n = t.isFrequentlyForwarded;
                if (a <= 0 || n) return null;
                var u = (0, d.jsx)(l.default, {
                        name: "forwarded",
                        display: "inline",
                        className: i.default.icon
                    }),
                    c = r.default.t(922, {
                        count: a,
                        _plural: a
                    });
                return (0, d.jsxs)("div", {
                    className: i.default.title,
                    children: [u, (0, d.jsx)(o.TextSpan, {
                        theme: "title",
                        className: i.default.text,
                        children: c
                    })]
                })
            };
            var r = n(a(45159)),
                i = n(a(70180)),
                l = n(a(7665)),
                o = a(22552),
                s = n(a(69283)),
                d = a(85893)
        },
        6080: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(a(319)),
                l = a(67294),
                o = r(a(23734)),
                s = n(a(97397)),
                d = r(a(4481)),
                u = r(a(94253)),
                c = n(a(65002)),
                f = r(a(96257)),
                p = n(a(73568)),
                h = r(a(58342)),
                v = r(a(45159)),
                m = r(a(44533)),
                g = r(a(39916)),
                _ = r(a(39394)),
                C = a(85893);

            function x(e, t) {
                var a = e.onFocusSearch,
                    n = e.onClick,
                    r = e.showPersonGroupDivisionHeader,
                    x = (0, l.useRef)(null),
                    y = (0, _.default)((function() {
                        return new g.default([], (function(e) {
                            return e.id.toString()
                        }))
                    })),
                    S = function() {
                        y.current.setFirst(!0)
                    };
                (0, l.useImperativeHandle)(t, (function() {
                    return {
                        focusFirst: S
                    }
                }));
                var E, j, I, b, k = function(e, t) {
                        var a = (t ? c.FREQUENT_PREFIX : "") + e.id.toString();
                        if (e.isGroup) {
                            var n = d.default.get(e.id);
                            return n ? {
                                itemKey: a,
                                data: n,
                                type: 3,
                                frequent: t
                            } : null
                        }
                        return {
                            itemKey: a,
                            data: e,
                            type: 2,
                            frequent: t
                        }
                    },
                    T = function(e) {
                        if (0 === e.length) return [];
                        for (var t = e[0].isGroup ? "group" : "contact", a = [], n = e.length > 10, r = "XXX", i = 0; i < e.length; i++) {
                            var l = e[i];
                            if (n && l.header) {
                                var o = l.header;
                                if (o !== r) {
                                    var s = i < e.length - 1 && o !== e[i + 1].header;
                                    a.push({
                                        itemKey: `header-${t}-${o}`,
                                        data: o,
                                        separator: s,
                                        type: 1
                                    }), r = o
                                }
                            }
                            var d = k(l);
                            d && a.push(d)
                        }
                        return a
                    };
                return y.current.init((E = e.contacts, j = e.frequentContacts, I = [], b = [], E.forEach((function(e) {
                    if (e.isGroup) {
                        var t = d.default.get(e.id);
                        t && b.push(t)
                    } else I.push(e)
                })), (j || []).concat(I).concat(b))), (0, C.jsx)(h.default, {
                    onRef: function(e) {
                        x.current = e
                    },
                    handlers: {
                        down: function(e) {
                            e.preventDefault(), e.stopPropagation(), y.current.setNext(!0)
                        },
                        up: function(e) {
                            e.preventDefault(), e.stopPropagation();
                            var t = y.current;
                            t.prev() > -1 ? t.setPrev(!0) : (t.unset(), a(e))
                        }
                    },
                    onFocus: function(e) {
                        if (e.target === x.current) {
                            var t = y.current;
                            t.index < 0 ? S() : t.reset(!0)
                        }
                    },
                    "data-tab": u.default.TAB_ORDERS.CHAT_CONTACT_LIST,
                    "data-testid": "contact-list-key",
                    children: (0, C.jsx)(p.default, {
                        data: function() {
                            var t = e.frequentContacts,
                                a = [],
                                n = [],
                                l = [];
                            t && t.length && (a.push({
                                itemKey: "frequent-contacts-header",
                                type: 0
                            }), a.push.apply(a, (0, i.default)(function(e) {
                                var t = [];
                                return e.forEach((function(e) {
                                    var a = k(e, !0);
                                    a && t.push(a)
                                })), t
                            }(t)))), e.contacts.forEach((function(e) {
                                e.isGroup ? l.push(e) : n.push(e)
                            }));
                            var o = T(n),
                                s = T(l);
                            if (r && o.length > 0) {
                                var d = v.default.t(1956);
                                a.push({
                                    itemKey: `header-${d}`,
                                    data: d,
                                    separator: !0,
                                    type: 1
                                })
                            }
                            if (a.push.apply(a, (0, i.default)(o)), r && s.length > 0) {
                                var u = v.default.t(2068);
                                a.push({
                                    itemKey: `header-${u}`,
                                    data: u,
                                    separator: !0,
                                    type: 1
                                })
                            }
                            return a.push.apply(a, (0, i.default)(s)), a
                        }(),
                        renderItem: function(e) {
                            switch (e.type) {
                                case 0:
                                    return (0, C.jsx)(m.default, {
                                        header: v.default.t(1985)
                                    }, "frequent-contacts-header");
                                case 3:
                                    return function(e, t) {
                                        return (0, C.jsx)(s.default, {
                                            active: y.current,
                                            chat: e,
                                            mode: s.Mode.INFO,
                                            noContext: !0,
                                            onClick: n,
                                            frequent: t
                                        })
                                    }(e.data, e.frequent);
                                case 2:
                                    var t = e.data,
                                        a = e.frequent;
                                    return d = a, (l = t).isBlocked() && (u = v.default.t(728)), (0, C.jsx)(c.default, {
                                        active: y.current,
                                        contact: l,
                                        onClick: n,
                                        secondary: u,
                                        frequent: d,
                                        waitIdle: !0
                                    });
                                case 1:
                                    var r = e.data,
                                        i = e.separator;
                                    return (0, C.jsxs)("div", {
                                        className: f.default.header,
                                        children: [i ? (0, C.jsx)(o.default, {}, `separator-${r}`) : null, (0, C.jsx)(m.default, {
                                            header: r
                                        })]
                                    });
                                default:
                                    throw new p.UnknownDataError(e)
                            }
                            var l, d, u
                        },
                        flatListController: e.flatListController,
                        direction: "vertical"
                    })
                })
            }
            var y = (0, l.forwardRef)(x);
            t.default = y
        },
        98755: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(a(34575)),
                l = r(a(93913)),
                o = r(a(2205)),
                s = r(a(99842)),
                d = r(a(96486)),
                u = a(67294),
                c = n(a(65002)),
                f = r(a(58342)),
                p = r(a(45159)),
                h = r(a(39916)),
                v = a(85893),
                m = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, s.default)(a);

                    function a(e) {
                        var n;
                        return (0, i.default)(this, a), (n = t.call(this, e)).focusLast = function() {
                            n.props.contacts && n.props.contacts.length && n.selection.setLast(!0)
                        }, n._focusPrev = function(e) {
                            e.preventDefault(), e.stopPropagation(), n.selection.prev() > -1 && n.selection.setPrev(!0)
                        }, n._focusNext = function(e) {
                            e.preventDefault(), e.stopPropagation();
                            var t = n.props.onFocusSearch,
                                a = n.selection.next();
                            n.selection.index === a ? (n.selection.unset(), t && t(e)) : n.selection.setNext(!0)
                        }, n._deleteContact = function(e) {
                            e.preventDefault(), e.stopPropagation();
                            var t = n.props.onDelete,
                                a = n.selection.getVal();
                            if (a) {
                                var r = n.props.contacts.find(a);
                                r && t && t(e, r)
                            }
                        }, n.onParticipantClick = function(e, t) {
                            n.selection.setVal(t)
                        }, n.selection = new h.default(e.contacts, (function(e) {
                            return e.id
                        })), n
                    }
                    return (0, l.default)(a, [{
                        key: "componentDidUpdate",
                        value: function() {
                            this.selection.init(this.props.contacts, !0)
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e = this,
                                t = this.props.contacts;
                            if (!t) return null;
                            var a = t.length ? d.default.map(t, (function(t) {
                                    return (0, v.jsx)(c.default, {
                                        contact: t,
                                        active: e.selection,
                                        onDelete: e.props.onDelete,
                                        onClick: e.onParticipantClick,
                                        type: c.Type.SMALL,
                                        theme: e.props.theme,
                                        waitIdle: !0
                                    }, t.id.toString())
                                })) : null,
                                n = {
                                    up: this._focusPrev,
                                    down: this._focusNext
                                };
                            this.props.onDelete && (n[p.default.LR("left", "right")] = this._focusPrev, n[p.default.LR("right", "left")] = this._focusNext, n.backspace = this._deleteContact);
                            var r = (0, v.jsx)("ul", {
                                children: a
                            });
                            return (0, v.jsx)(f.default, {
                                handlers: n,
                                children: r
                            })
                        }
                    }]), a
                }(u.PureComponent);
            t.default = m, m.displayName = "ParticipantList"
        },
        99633: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, a, n = e.ids,
                    r = e.size,
                    u = e.onClick,
                    c = e.showCount,
                    f = e.square,
                    p = e.border,
                    h = n.length;
                if (0 === h) return null;
                if (1 === h) return (0, d.jsx)(s.default, {
                    id: n[0],
                    size: 40,
                    onClick: u,
                    border: p
                });
                var v = n.slice(0, 4).map((function(e, t) {
                        var a;
                        return (0, d.jsx)("div", {
                            className: (0, l.default)(o.default.avatar, (a = {}, (0, i.default)(a, o.default.first, 0 === t), (0, i.default)(a, o.default.second, 1 === t), (0, i.default)(a, o.default.third, 2 === t), (0, i.default)(a, o.default.fourth, 3 === t), a)),
                            children: (0, d.jsx)(s.default, {
                                id: e,
                                size: r,
                                square: !0
                            })
                        }, `avatar-combo-image-${t}`)
                    })),
                    m = (0, l.default)(o.default.container, (t = {}, (0, i.default)(t, o.default.square, f), (0, i.default)(t, o.default.border, p), t), (a = {}, (0, i.default)(a, o.default.two, 2 === h), (0, i.default)(a, o.default.three, 3 === h), (0, i.default)(a, o.default.four, h >= 4), a)),
                    g = (0, s.getSize)(r),
                    _ = {
                        height: g,
                        width: g,
                        cursor: u ? "pointer" : void 0
                    },
                    C = c ? (0, d.jsx)("div", {
                        className: o.default.count,
                        style: _,
                        children: n.length
                    }) : null;
                return (0, d.jsxs)("div", {
                    className: m,
                    style: _,
                    onClick: u,
                    children: [v, C]
                })
            };
            var i = r(a(59713)),
                l = r(a(94184)),
                o = r(a(87240)),
                s = n(a(66834)),
                d = a(85893)
        },
        2210: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                return (0, l.jsxs)("div", {
                    className: i.default.overlay,
                    children: [(0, l.jsx)("div", {
                        className: i.default.icon,
                        children: e.icon
                    }), (0, l.jsx)("div", {
                        "data-a8n": r.default.key("avatar-text"),
                        className: i.default.text,
                        children: e.text
                    })]
                }, "avatar-overlay")
            };
            var r = n(a(40501)),
                i = n(a(19122)),
                l = a(85893)
        },
        8352: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.onClick,
                    a = e.label,
                    n = e.prefixIcon,
                    u = e.postfixIcon,
                    c = e.xstyle,
                    f = "padded-svg" === e.iconTheme,
                    p = [d.iconSvg, f && d.paddedSvg],
                    h = {
                        width: f ? 20 : 16,
                        height: f ? 20 : 16
                    };
                return (0, s.jsxs)(o.default, {
                    xstyle: [d.container, null != n && d.hasPrefixIcon, null != u && d.hasPostfixIcon, c],
                    onClick: t,
                    "aria-label": e["aria-label"],
                    children: [n && (0, s.jsx)(l.default, (0, r.default)({
                        name: n,
                        xstyle: [d.icon, d.prefixIcon],
                        iconXstyle: p
                    }, h)), (0, s.jsx)("div", {
                        className: (0, i.default)(d.content),
                        children: a
                    }), u && (0, s.jsx)(l.default, (0, r.default)({
                        name: u,
                        xstyle: d.icon,
                        iconXstyle: p
                    }, h))]
                })
            };
            var r = n(a(81109)),
                i = n(a(56720)),
                l = n(a(7665)),
                o = n(a(76080)),
                s = a(85893),
                d = {
                    container: {
                        position: "g0rxnol2",
                        paddingTop: "fbgy3m38",
                        paddingEnd: "btzf6ewn",
                        paddingBottom: "oq31bsqd",
                        paddingStart: "nqtxkp62",
                        color: "nuiuantz",
                        backgroundColor: "jvy3y6qh",
                        borderTopStartRadius: "g130k69c",
                        borderTopEndRadius: "k1a7joe8",
                        borderBottomEndRadius: "dc5qina8",
                        borderBottomStartRadius: "kfr1vweg"
                    },
                    hasPrefixIcon: {
                        paddingStart: "fif0zr45"
                    },
                    hasPostfixIcon: {
                        paddingEnd: "ig3h26t1"
                    },
                    content: {
                        display: "l7jjieqr"
                    },
                    icon: {
                        display: "l7jjieqr",
                        marginTop: "tt8xd2xn",
                        marginEnd: "jnwc1y2a",
                        marginBottom: "mpdn4nr2",
                        marginStart: "p3lsiedt",
                        position: "lhggkp7q",
                        right: "rsmgdaqi",
                        top: "mvf5n2qr"
                    },
                    iconSvg: {
                        color: "nuiuantz",
                        paddingTop: "eujn52yf",
                        paddingEnd: "jfqm35v0",
                        paddingBottom: "ckm995li",
                        paddingStart: "bdbt56hn"
                    },
                    prefixIcon: {
                        left: "lidbxt4q"
                    },
                    paddedSvg: {
                        paddingTop: "qbqilfqo",
                        paddingEnd: "iqx13udk",
                        paddingBottom: "a15vwmim",
                        paddingStart: "qiohso4h"
                    }
                }
        },
        32784: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.children,
                    a = e.download,
                    n = e.file,
                    s = e.extension;
                return (0, l.jsx)(i.default, {
                    xstyle: o.button,
                    onClick: function() {
                        null != n && r.default.downloadData(n, a, s)
                    },
                    children: t
                })
            };
            n(a(56720));
            var r = n(a(76151)),
                i = n(a(76080)),
                l = a(85893),
                o = {
                    button: {
                        display: "f804f6gw"
                    }
                }
        },
        95081: (e, t, a) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 200,
                    t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : window,
                    a = (0, n.useRef)(null);
                (0, r.useListener)(t, "mousedown", (function() {
                    a.current = performance.now()
                })), (0, r.useListener)(t, "mouseup", (function() {
                    a.current = null
                }));
                var i = (0, n.useCallback)((function() {
                    var t = a.current;
                    return null != t && performance.now() - t >= e
                }), [e]);
                return i
            };
            var n = a(67294),
                r = a(8413)
        },
        11122: (e, t, a) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = (0, n.useRef)(null),
                    a = (0, n.useRef)(!1);
                return (0, n.useEffect)((function() {
                    if (null != e) {
                        var n = "PointerEvent" in window;
                        return n ? (document.addEventListener("pointerdown", i), document.addEventListener("pointermove", l), document.addEventListener("pointerup", o)) : document.addEventListener("click", s),
                            function() {
                                n ? (document.removeEventListener("pointerdown", i), document.removeEventListener("pointermove", l), document.removeEventListener("pointerup", o)) : document.removeEventListener("click", s)
                            }
                    }

                    function r(e) {
                        var a = t.current;
                        return !!a && (e instanceof Node && !a.contains(e))
                    }

                    function i(e) {
                        if (e.isPrimary) {
                            var t = r(e.target);
                            a.current = t
                        }
                    }

                    function l(e) {
                        "touch" !== e.pointerType && "pen" !== e.pointerType || (a.current = !1)
                    }

                    function o(t) {
                        var n = r(t.target);
                        a.current && n && t.isPrimary && e(t), a.current = !1
                    }

                    function s(t) {
                        r(t.target) && e(t)
                    }
                }), [e]), t
            };
            var n = a(67294)
        },
        5282: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(a(59713)),
                i = n(a(34575)),
                l = n(a(93913)),
                o = n(a(2205)),
                s = n(a(99842)),
                d = n(a(94184)),
                u = n(a(48842)),
                c = n(a(96486)),
                f = a(67294),
                p = n(a(94253)),
                h = a(42162),
                v = n(a(92919)),
                m = n(a(29832)),
                g = n(a(58342)),
                _ = n(a(34531)),
                C = n(a(45159)),
                x = n(a(98249)),
                y = n(a(39916)),
                S = n(a(85651)),
                E = n(a(36450)),
                j = n(a(76080)),
                I = a(85893),
                b = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, s.default)(a);

                    function a() {
                        var e;
                        (0, i.default)(this, a);
                        for (var n = arguments.length, r = new Array(n), l = 0; l < n; l++) r[l] = arguments[l];
                        return (e = t.call.apply(t, [this].concat(r))).state = {}, e._setRefBody = function(t) {
                            e._refBody = t
                        }, e._refImages = new Map, e.setRefImage = function(t, a) {
                            a ? e._refImages.set(t, a) : e._refImages.delete(t)
                        }, e._setImageRefCache = new x.default(e.setRefImage), e.selection = new y.default(e.props.thumbnails, (function(e) {
                            return e.id
                        })), e._handleHotKeysRef = function(t) {
                            e._refHotKeys = t
                        }, e.handleMouseDown = function(e) {
                            e.preventDefault(), e.stopPropagation()
                        }, e.handleClick = function(t) {
                            var a = t.target;
                            e.props.onImageClick && 1 === a.nodeType && "IMG" === a.tagName && e.props.onImageClick(a.src)
                        }, e.handleEnter = function() {
                            var t = e.selection.getVal();
                            t || (__LOG__(4, void 0, new Error, !0)`Assertion failed!`, SEND_LOGS("No value selected, but enter clicked")), e.props.onImageClick && t && e.props.onImageClick(t.thumbUrl)
                        }, e._requestMoreImagesIfNeeded = function() {
                            if (!e.props.isLoadingMore && e.props.canLoadMore && e.props.onRequestMoreImages) {
                                if (!e._refBody) throw new Error("Requesting more images when body not rendered");
                                e._refBody.scrollTop + p.default.SCROLL_FUDGE > e._refBody.scrollHeight - e._refBody.clientHeight && e.props.onRequestMoreImages()
                            }
                        }, e.handleScroll = e.props.throttle(e._requestMoreImagesIfNeeded, 100), e._selectPrev = function(t) {
                            t.preventDefault(), t.stopPropagation(), e.selection.setPrev(!1), e._updateSelected(!0, !0)
                        }, e.selectNext = function(t) {
                            t.preventDefault(), t.stopPropagation(), e.selection.setNext(!1), e._updateSelected(!0, !0)
                        }, e._selectPrevRow = function(t) {
                            if (t.preventDefault(), t.stopPropagation(), 0 === e.selection.index && e.props.onFocusPrev) e.props.onFocusPrev();
                            else {
                                var a = Math.max(e.selection.index - 3, 0);
                                e.selection.set(a, !1, !1), e._updateSelected(!0, !0)
                            }
                        }, e._selectNextRow = function(t) {
                            t.preventDefault(), t.stopPropagation(), e.selection.set(e.selection.index + 3, !1, !1), e._updateSelected(!0, !0)
                        }, e._handleFocus = function(t) {
                            t.stopPropagation(), t.preventDefault(), (null == e.selection.index || e.selection.index < 0) && e.selection.setFirst(!1), e._updateSelected(!0, !1);
                            var a = (0, u.default)(e._refImages.get(`${e.selection.index}`), "_this._refImages.get(`${_this.selection.index}`)").getElementsByClassName(_.default.imageGalleryItemOverlay);
                            if (1 !== a.length) throw new Error(`Unexpected number of overlay elements ${a.length}`);
                            v.default.maybeIndicateFocus(a[0], _.default.focusAnimation)
                        }, e.handleRequestDismiss = function() {
                            e.selection.unset(), e.setState({
                                selectedImage: void 0
                            })
                        }, e
                    }
                    return (0, l.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            this._updateSelected()
                        }
                    }, {
                        key: "componentDidUpdate",
                        value: function() {
                            this._requestMoreImagesIfNeeded(), this.selection.init(this.props.thumbnails, !1), this._updateSelected()
                        }
                    }, {
                        key: "focus",
                        value: function() {
                            this._refHotKeys && this._refHotKeys.focus()
                        }
                    }, {
                        key: "_updateSelected",
                        value: function() {
                            var e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
                                t = this.selection.getVal();
                            if (t && this.state.selectedImage !== t && (this.setState({
                                    selectedImage: t
                                }), this.selection.index > -1)) {
                                var a = this._refImages.get(`${this.selection.index}`);
                                m.default.focus(a), e && a && (0, h.scrollIntoViewIfNeeded)(a, !1)
                            }
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e = this,
                                t = {
                                    down: this._selectNextRow,
                                    enter: this.handleEnter,
                                    left: this._selectPrev,
                                    right: this.selectNext,
                                    up: this._selectPrevRow
                                },
                                a = c.default.map(this.props.thumbnails, (function(t, a) {
                                    var n = t.id,
                                        i = t.name,
                                        l = t.thumbUrl,
                                        o = !!e.state.selectedImage && e.state.selectedImage.id === n,
                                        s = (0, d.default)(_.default.imageGalleryItem, (0, r.default)({}, _.default.selected, o)),
                                        u = (0, I.jsx)("div", {
                                            className: _.default.imageGalleryItemOverlay
                                        });
                                    return (0, I.jsxs)("div", {
                                        ref: e._setImageRefCache.getRefSetter(`${a}`),
                                        className: s,
                                        tabIndex: -1,
                                        children: [u, (0, I.jsx)(j.default, {
                                            onClick: e.handleClick,
                                            children: (0, I.jsx)("img", {
                                                alt: C.default.t(44, {
                                                    name: i
                                                }),
                                                className: _.default.imageGalleryItemImage,
                                                src: l
                                            })
                                        })]
                                    }, n)
                                })),
                                n = this.props.isLoadingMore ? (0, I.jsx)("div", {
                                    tabIndex: -1,
                                    className: _.default.imageGalleryFooter,
                                    children: (0, I.jsx)(S.default, {
                                        stroke: 6,
                                        size: 24
                                    })
                                }) : null;
                            return (0, I.jsx)(g.default, {
                                className: _.default.imageGallery,
                                "data-tab": p.default.TAB_ORDERS.CHAT_IMAGE_GALLERY,
                                handlers: t,
                                onFocus: this._handleFocus,
                                onMouseDown: this.handleMouseDown,
                                onRef: this._handleHotKeysRef,
                                children: (0, I.jsxs)("div", {
                                    ref: this._setRefBody,
                                    className: _.default.imageGalleryList,
                                    onScroll: this.handleScroll,
                                    children: [a, (0, I.jsx)("div", {
                                        tabIndex: -1,
                                        className: _.default.imageGalleryItemSpacer
                                    }), (0, I.jsx)("div", {
                                        tabIndex: -1,
                                        className: _.default.imageGalleryItemSpacer
                                    }), (0, I.jsx)("div", {
                                        tabIndex: -1,
                                        className: _.default.imageGalleryItemSpacer
                                    }), n]
                                })
                            })
                        }
                    }]), a
                }(f.PureComponent);
            b.defaultProps = {
                thumbnails: []
            }, b.displayName = "ImageGallery";
            var k = function(e) {
                (0, o.default)(a, e);
                var t = (0, s.default)(a);

                function a() {
                    return (0, i.default)(this, a), t.apply(this, arguments)
                }
                return (0, l.default)(a, [{
                    key: "focus",
                    value: function() {
                        this.getComponent().focus()
                    }
                }]), a
            }((0, E.default)(b));
            t.default = k
        },
        88175: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.action,
                    a = e.addModifiers,
                    n = void 0 === a || a,
                    c = (0, l.getShortcutKey)(t);
                if (!c) return null;
                var f, p = u(c);
                f = -1 === p.indexOf(d) ? (0, s.jsx)("span", {
                    className: i.default.key,
                    children: p
                }) : (0, s.jsxs)(s.Fragment, {
                    children: [(0, s.jsx)("span", {
                        className: i.default.key,
                        children: "Shift"
                    }), (0, s.jsx)("span", {
                        className: i.default.key,
                        children: p.substr(d.length)
                    })]
                });
                var h = n ? [o.default.os === r.default.OS_TYPE.MAC ? "Cmd" : "Ctrl"].map((function(e) {
                    return (0, s.jsx)("span", {
                        className: i.default.key,
                        children: e
                    }, e)
                })) : null;
                return (0, s.jsxs)(s.Fragment, {
                    children: [h, f]
                })
            }, t.expandRawShortcut = u;
            var r = n(a(94253)),
                i = n(a(64917)),
                l = a(79459),
                o = n(a(692)),
                s = a(85893),
                d = "Shift+";

            function u(e) {
                if (1 !== e.length) return e;
                switch (e) {
                    case ">":
                        return "Shift+.";
                    case "<":
                        return "Shift+,"
                }
                return e.toLowerCase() !== e ? `Shift+${e}` : e.toUpperCase()
            }
        },
        45170: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(a(59713)),
                i = n(a(34575)),
                l = n(a(93913)),
                o = n(a(2205)),
                s = n(a(99842)),
                d = n(a(94184)),
                u = a(67294),
                c = n(a(65901)),
                f = n(a(86777)),
                p = a(98169),
                h = n(a(10508)),
                v = a(11125),
                m = n(a(58342)),
                g = n(a(45159)),
                _ = n(a(4313)),
                C = n(a(16899)),
                x = a(23932),
                y = n(a(7665)),
                S = n(a(16835)),
                E = n(a(93820)),
                j = a(52546),
                I = n(a(60806)),
                b = a(85893),
                k = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, s.default)(a);

                    function a() {
                        var e;
                        (0, i.default)(this, a);
                        for (var n = arguments.length, r = new Array(n), l = 0; l < n; l++) r[l] = arguments[l];
                        return (e = t.call.apply(t, [this].concat(r))).state = {
                            active: !1,
                            emojiPicker: null
                        }, e._refEmojiPanel = (0, u.createRef)(), e.handleEmojiPicker = function(t) {
                            t && (t.preventDefault(), t.stopPropagation());
                            var a = (0, b.jsx)(h.default, {
                                ref: e._refEmojiPanel,
                                onEmoji: e.handleEmoji,
                                onFocusNext: e.restoreFocus,
                                onFocusPrev: e.restoreFocus
                            });
                            e.setState({
                                emojiPicker: {
                                    menu: a,
                                    dirY: p.DirY.TOP,
                                    type: "emoji_picker",
                                    anchor: t.target
                                }
                            }), e.restoreFocus()
                        }, e.handleEmojiPickerClose = function() {
                            e.setState({
                                emojiPicker: null
                            })
                        }, e.handleRestoreEmojiPickerFocus = function() {
                            var t;
                            null === (t = e._refEmojiPanel.current) || void 0 === t || t.restoreFocus()
                        }, e.handleEmoji = function(t) {
                            var a = e.refInput;
                            a && (a.focus(!1), a.replaceSelection(t)), e.handleEmojiPickerClose()
                        }, e.setRefInput = function(t) {
                            e.refInput = t
                        }, e.handleSelectionChange = function(t) {
                            e.selection = t
                        }, e.restoreFocus = function() {
                            e.refInput && e.refInput.focus()
                        }, e.handleBlur = function(t) {
                            e.state.active && e.setState({
                                active: !1
                            }), e.props.onBlur && e.props.onBlur(t)
                        }, e.handleFocus = function(t) {
                            t.stopPropagation(), e.state.active || e.setState({
                                active: !0
                            }), e.props.onFocus && e.props.onFocus(t)
                        }, e.handleReset = function() {
                            e.refInput && e.refInput.reset()
                        }, e
                    }
                    return (0, l.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            this.props.focusOnMount && this.restoreFocus()
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e, t, a = this.props.maxLength,
                                n = (0, j.numCodepoints)(this.props.value || ""),
                                i = (0, d.default)(C.default.textInput, (e = {}, (0, r.default)(e, C.default.noPlaceholder, !this.props.placeholder), (0, r.default)(e, C.default.active, !0), e)),
                                l = (0, d.default)(C.default.labelText, (0, r.default)({}, C.default.float, !!this.props.value)),
                                o = this.props.supportsEmoji ? (0, b.jsx)("button", {
                                    className: C.default.inputEmoji,
                                    onClick: this.handleEmojiPicker,
                                    children: (0, b.jsx)(y.default, {
                                        "aria-label": g.default.t(30),
                                        name: "emoji-input"
                                    })
                                }) : void 0,
                                s = this.props.value;
                            t = s && "" !== s ? (0, b.jsx)("div", {
                                role: "button",
                                className: C.default.clearInput,
                                onClick: this.handleReset,
                                children: (0, b.jsx)(y.default, {
                                    name: "x-alt"
                                })
                            }) : null;
                            var u, c = this.props.showRemaining ? (0, b.jsx)("div", {
                                className: (0, d.default)(C.default.buttonContainer, C.default.charCounter, (0, r.default)({}, C.default.charCounterWithClearBtn, !!t)),
                                children: (0, b.jsx)("div", {
                                    className: C.default.charCounter,
                                    children: a - n < 50 ? g.default.n(a - n) : null
                                })
                            }) : null;
                            return this.state.emojiPicker && (u = (0, b.jsx)(S.default, {
                                displayName: "EmojiPicker",
                                escapable: !0,
                                popable: !0,
                                requestDismiss: this.handleEmojiPickerClose,
                                requestFocus: this.handleRestoreEmojiPickerFocus,
                                children: (0, b.jsx)(E.default, {
                                    contextMenu: this.state.emojiPicker
                                })
                            })), (0, b.jsxs)(m.default, {
                                className: i,
                                onFocus: this.restoreFocus,
                                children: [(0, b.jsx)("span", {
                                    className: l,
                                    children: this.props.placeholder
                                }), (0, b.jsx)("div", {
                                    className: C.default.spacer
                                }), (0, b.jsx)("div", {
                                    className: C.default.suggestionsPositioner,
                                    children: (0, b.jsxs)("div", {
                                        className: C.default.suggestionsContainer,
                                        children: [(0, b.jsx)(_.default.MentionSuggestions, {
                                            chat: this.props.chat,
                                            theme: x.ThemeOptions.MEDIA_CAPTION
                                        }), (0, b.jsx)(_.default.EmojiSuggestions, {
                                            chat: this.props.chat,
                                            theme: v.ThemeOptions.MEDIA_CAPTION
                                        })]
                                    })
                                }), (0, b.jsxs)("div", {
                                    className: (0, d.default)(C.default.wrapper, (0, r.default)({}, C.default.textActive, this.state.active)),
                                    children: [(0, b.jsx)(_.default, {
                                        ref: this.setRefInput,
                                        initialValue: this.props.value,
                                        initialSelection: this.selection,
                                        readOnly: !1,
                                        spellCheck: this.props.spellCheck,
                                        multiline: this.props.multiline,
                                        maxLength: this.props.maxLength,
                                        onEnter: this.props.onEnter,
                                        onMaxPasteExceeded: this.props.onMaxPasteExceeded,
                                        onFiles: this.props.onFiles,
                                        onChange: this.props.onChange,
                                        onSelect: this.handleSelectionChange,
                                        theme: "media-caption"
                                    }), (0, b.jsxs)("div", {
                                        className: C.default.inputControls,
                                        children: [(0, b.jsxs)(I.default, {
                                            transitionName: "pop",
                                            component: "div",
                                            className: C.default.buttonContainer,
                                            children: [t, o]
                                        }), c]
                                    })]
                                }), u]
                            })
                        }
                    }]), a
                }(u.Component);
            t.default = k, k.defaultProps = {
                maxLength: 25,
                onMaxPasteExceeded: function() {
                    c.default.openModal((0, b.jsx)(f.default, {
                        title: g.default.t(489),
                        onOK: function() {
                            c.default.closeModal()
                        },
                        okText: g.default.t(2125),
                        children: g.default.t(488)
                    }))
                }
            }, k.displayName = "MediaCaptionTextInput"
        },
        80233: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(67294),
                i = n(a(94253)),
                l = n(a(90474)),
                o = n(a(60039)),
                s = n(a(69283)),
                d = a(85893);

            function u(e, t) {
                var a = (0, r.useRef)(null),
                    n = (0, s.default)(e.chatPreference, ["wallpaperColor", "showDoodle"]);
                (0, r.useImperativeHandle)(t, (function() {
                    return {
                        get container() {
                            return a.current
                        }
                    }
                }));
                var u = n.wallpaperColor,
                    c = n.showDoodle,
                    f = {};
                return u !== i.default.DEFAULT_CHAT_WALLPAPER && (f = {
                    backgroundColor: u
                }), (0, d.jsx)("div", {
                    className: o.default.container,
                    ref: a,
                    children: (0, d.jsxs)("div", {
                        className: o.default.body,
                        style: f,
                        children: [(0, d.jsx)(l.default, {
                            wallpaperColor: u,
                            showDoodle: c
                        }), e.children]
                    })
                })
            }
            var c = (0, r.forwardRef)(u);
            t.default = c
        },
        94580: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(a(34575)),
                l = r(a(93913)),
                o = r(a(2205)),
                s = r(a(99842)),
                d = r(a(96486)),
                u = a(67294),
                c = r(a(40501)),
                f = r(a(2210)),
                p = r(a(60256)),
                h = r(a(65901)),
                v = r(a(86777)),
                m = r(a(94253)),
                g = r(a(20050)),
                _ = r(a(68054)),
                C = r(a(94680)),
                x = r(a(60445)),
                y = a(50157),
                S = r(a(29832)),
                E = r(a(16556)),
                j = r(a(2424)),
                I = r(a(58342)),
                b = r(a(89902)),
                k = r(a(22935)),
                T = r(a(45159)),
                M = n(a(6006)),
                w = n(a(73454)),
                P = r(a(58497)),
                L = r(a(40134)),
                O = r(a(49309)),
                D = r(a(40071)),
                N = r(a(7665)),
                R = r(a(89647)),
                A = r(a(692)),
                F = r(a(16835)),
                B = r(a(93820)),
                U = r(a(60806)),
                G = a(85893),
                H = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, s.default)(a);

                    function a() {
                        var e;
                        (0, i.default)(this, a);
                        for (var n = arguments.length, r = new Array(n), l = 0; l < n; l++) r[l] = arguments[l];
                        return (e = t.call.apply(t, [this].concat(r))).state = {
                            img: e.props.startImage,
                            hover: !1,
                            imageSize: null
                        }, e._setRefImageContainer = function(t) {
                            e._refImageContainer = t
                        }, e._setRefImageInput = function(t) {
                            e._refImageInput = t
                        }, e._handleUpload = function() {
                            var t = e._refImageInput;
                            if (t) return t.click(), !0
                        }, e._removeImage = function() {
                            e.props.onImageSet(), h.default.closeModal()
                        }, e._handleRemove = function() {
                            var t = e.props.type === O.default.GROUP ? T.default.t(1531) : T.default.t(1534);
                            h.default.openModal((0, G.jsx)(v.default, {
                                onOK: e._removeImage,
                                okText: T.default.t(1530),
                                onCancel: function() {
                                    return h.default.closeModal()
                                },
                                cancelText: T.default.t(1938),
                                children: t
                            }))
                        }, e._handleView = function() {
                            var t = e._refImageContainer,
                                a = e.props,
                                n = a.id,
                                r = a.attachToChat;
                            if (t && n) {
                                var i = g.default.assertGet(n),
                                    l = {
                                        transition: "profile-viewer"
                                    };
                                r && (l.uim = e.props.uim), h.default.openModalMedia((0, G.jsx)(D.default, {
                                    contact: i,
                                    profilePicThumb: i.getProfilePicThumb(),
                                    animateBorderRadius: !0,
                                    getZoomNode: function(e) {
                                        e(t)
                                    }
                                }), l)
                            }
                        }, e.handlePaste = function(t) {
                            if (e.state.contextMenu) {
                                var a = new _.default(t.clipboardData),
                                    n = d.default.filter(a.getFiles(), (function(e) {
                                        return "image" === (0, y.typeFromMimetype)(e.type)
                                    }));
                                if (n.length) {
                                    t.preventDefault(), t.stopPropagation(), e.closeContextMenu();
                                    var r = n[0];
                                    e._handleImagePick(r)
                                }
                            }
                        }, e.handleImageSelected = function(t) {
                            e.closeContextMenu();
                            var a = t.target.files[0];
                            if (!a) return !1;
                            e._handleImagePick(a), t.target.value = "", e._refImageContainer && S.default.focus(e._refImageContainer)
                        }, e._handleImageReceived = function(t, a) {
                            t ? M.loadImage(t).then((function() {
                                e.setState({
                                    img: t
                                }), e.props.onImageSet(t, a)
                            })).catch((function(t) {
                                __LOG__(3)`PhotoPicker:onImageReceived failed to load image: ${String(t)}`;
                                var a = e.props.type === O.default.GROUP ? T.default.t(143) : T.default.t(212);
                                h.default.openModal((0, G.jsx)(v.default, {
                                    onOK: function() {
                                        return h.default.closeModal()
                                    },
                                    children: a
                                }))
                            })) : e.setState({
                                img: null,
                                imageSize: null
                            })
                        }, e.handleSearch = function() {
                            h.default.openModal((0, G.jsx)(w.default, {
                                type: w.ModalTheme.Box,
                                children: (0, G.jsx)(b.default, {
                                    onFinished: e._handleImageReceived
                                })
                            }))
                        }, e._handleImagePick = function(t) {
                            var a = URL.createObjectURL(t);
                            M.loadImage(a).then((function(a) {
                                a && (a.width < m.default.MIN_PIC_SIDE || a.height < m.default.MIN_PIC_SIDE) ? h.default.openModal((0, G.jsx)(v.default, {
                                    onOK: function() {
                                        return h.default.closeModal()
                                    },
                                    children: T.default.t(1522, {
                                        size: m.default.MIN_PIC_SIDE,
                                        _plural: m.default.MIN_PIC_SIDE
                                    })
                                })) : h.default.openModal((0, G.jsx)(w.default, {
                                    type: w.ModalTheme.Box,
                                    children: (0, G.jsx)(x.default, {
                                        img: t,
                                        onFinished: e._handleImageReceived,
                                        onRetake: e._handleUpload
                                    })
                                }))
                            })).catch((function() {
                                var t = e.props.type === O.default.GROUP ? T.default.t(143) : T.default.t(212);
                                h.default.openModal((0, G.jsx)(v.default, {
                                    onOK: function() {
                                        return h.default.closeModal()
                                    },
                                    children: t
                                }))
                            })).finally((function() {
                                URL.revokeObjectURL(a)
                            }))
                        }, e._createMenu = function() {
                            var t = [];
                            return e.props.id && e.state.img && t.push((0, G.jsx)(C.default, {
                                a8n: "mi-view-photo",
                                action: e._handleView,
                                children: T.default.t(1821)
                            }, "view")), E.default && t.push((0, G.jsx)(R.default, {
                                onImageTake: e._handleImageReceived
                            }, "take")), t.push((0, G.jsx)(C.default, {
                                a8n: "mi-upload-photo",
                                action: e._handleUpload,
                                children: T.default.t(1774)
                            }, "upload")), A.default.isElectron && e.props.type === O.default.GROUP && t.push((0, G.jsx)(C.default, {
                                a8n: "mi-search-photo",
                                action: e.handleSearch,
                                children: T.default.t(2189)
                            }, "search")), e.state.img && t.push((0, G.jsx)(C.default, {
                                a8n: "mi-remove-photo",
                                action: e._handleRemove,
                                children: T.default.t(1533)
                            }, "remove")), t
                        }, e.handleImageKeypress = function() {
                            var t = e._createMenu();
                            e.setState({
                                contextMenu: {
                                    menu: t,
                                    anchor: e._refImageContainer
                                }
                            })
                        }, e.handleImageClick = function(t) {
                            if (e.props.readOnly) e.state.img && e._handleView();
                            else {
                                t.stopPropagation(), t.preventDefault();
                                var a = e._createMenu();
                                e.setState({
                                    contextMenu: {
                                        menu: a,
                                        event: t
                                    }
                                })
                            }
                        }, e.closeContextMenu = function() {
                            e.setState({
                                contextMenu: null
                            })
                        }, e.handleMouseOver = function() {
                            e.state.hover || e.setState({
                                hover: !0
                            })
                        }, e.handleMouseEnter = function() {
                            e.state.hover || e.setState({
                                hover: !0
                            })
                        }, e.handleMouseLeave = function() {
                            e.state.hover && e.setState({
                                hover: !1
                            })
                        }, e.handleLoad = function(t) {
                            var a = t.target.clientWidth,
                                n = t.target.clientHeight;
                            e.setState({
                                imageSize: {
                                    width: a,
                                    height: n
                                }
                            })
                        }, e
                    }
                    return (0, l.default)(a, [{
                        key: "_getContainerStyle",
                        value: function() {
                            return null != this.props.size ? {
                                width: this.props.size,
                                height: this.props.size
                            } : void 0
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e, t;
                            this.state.img && (e = (0, G.jsx)(P.default, {
                                type: "cover",
                                size: this.state.imageSize,
                                children: (0, G.jsx)(k.default, {
                                    src: this.state.img,
                                    crossOrigin: !1,
                                    style: {
                                        height: "100%",
                                        width: "100%"
                                    },
                                    onLoad: this.handleLoad
                                })
                            })), (this.props.pending || this.state.img && !this.state.imageSize) && (t = (0, G.jsx)(p.default, {}));
                            var a = null;
                            if (!this.props.pending && !this.props.readOnly && (!this.state.img || this.state.imageSize) && (!this.state.img || this.state.contextMenu || this.state.hover)) {
                                var n = "";
                                switch (this.props.type) {
                                    case O.default.GROUP:
                                        n = this.state.img ? T.default.t(568) : T.default.t(239);
                                        break;
                                    case O.default.PROFILE:
                                        n = this.state.img ? T.default.t(573) : T.default.t(246)
                                }
                                a = (0, G.jsx)(f.default, {
                                    icon: (0, G.jsx)(N.default, {
                                        name: "camera"
                                    }),
                                    text: n
                                })
                            }
                            var r, i, l = this.props.pending || !this.state.imageSize && this.state.img ? function() {} : this.handleImageClick;
                            if (this.state.contextMenu && (r = (0, G.jsx)(F.default, {
                                    displayName: "PhotoPickerContextMenu",
                                    escapable: !0,
                                    popable: !0,
                                    requestDismiss: this.closeContextMenu,
                                    children: (0, G.jsx)(B.default, {
                                        contextMenu: this.state.contextMenu
                                    })
                                })), this.props.pending || !this.state.img || this.state.img && !this.state.imageSize) {
                                var o = this.props.type === O.default.PROFILE ? "default-user" : "default-group";
                                i = (0, G.jsx)("div", {
                                    className: L.default.defaultIcon,
                                    children: (0, G.jsx)(N.default, {
                                        name: o
                                    })
                                })
                            }
                            return (0, G.jsxs)(I.default, {
                                className: L.default.container,
                                style: this._getContainerStyle(),
                                handlers: {
                                    space: this.handleImageKeypress,
                                    enter: this.handleImageKeypress
                                },
                                children: [(0, G.jsxs)("div", {
                                    className: L.default.body,
                                    onClick: l,
                                    onMouseOver: this.handleMouseOver,
                                    onMouseEnter: this.handleMouseEnter,
                                    onMouseLeave: this.handleMouseLeave,
                                    onPaste: this.handlePaste,
                                    onFocus: this.handleMouseEnter,
                                    onBlur: this.handleMouseLeave,
                                    ref: this._setRefImageContainer,
                                    title: T.default.t(34),
                                    dir: "ltr",
                                    tabIndex: 0,
                                    role: "button",
                                    "data-a8n": c.default.key(this.props.a8nText),
                                    children: [(0, G.jsxs)("div", {
                                        className: L.default.imageContainer,
                                        children: [e, i]
                                    }), (0, G.jsxs)(U.default, {
                                        transitionName: "fade",
                                        children: [t, a]
                                    })]
                                }), (0, G.jsx)("input", {
                                    ref: this._setRefImageInput,
                                    type: "file",
                                    accept: "image/gif,image/jpeg,image/jpg,image/png",
                                    style: {
                                        display: "none"
                                    },
                                    onChange: this.handleImageSelected
                                }), r]
                            })
                        }
                    }], [{
                        key: "getDerivedStateFromProps",
                        value: function(e) {
                            return e.startImage ? {
                                img: e.startImage
                            } : {
                                img: e.startImage,
                                imageSize: null
                            }
                        }
                    }]), a
                }(u.Component);
            H.displayName = "PhotoPicker";
            var V = (0, j.default)(H);
            t.default = V
        },
        4313: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(a(34575)),
                i = n(a(2205)),
                l = n(a(99842)),
                o = n(a(73716)),
                s = n(a(71222)),
                d = n(a(11125)),
                u = n(a(90661)),
                c = n(a(18018)),
                f = n(a(52186)),
                p = n(a(23932)),
                h = n(a(57651)),
                v = new u.default,
                m = new o.default,
                g = function(e) {
                    (0, i.default)(a, e);
                    var t = (0, l.default)(a);

                    function a() {
                        return (0, r.default)(this, a), t.apply(this, arguments)
                    }
                    return a
                }((0, c.default)([s.default, m, v, f.default]));
            t.default = g, g.MentionSuggestions = (0, h.default)(p.default, {
                plugin: v
            }), g.EmojiSuggestions = (0, h.default)(d.default, {
                plugin: m
            })
        },
        2011: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(a(59713)),
                i = n(a(94184)),
                l = n(a(80385)),
                o = n(a(85747)),
                s = a(85893),
                d = function(e) {
                    var t = e.large,
                        a = e.a8nText,
                        n = e.onClick,
                        d = e.icon,
                        u = e.count,
                        c = e.disabled;
                    return (0, s.jsxs)("div", {
                        className: (0, i.default)(o.default.container, (0, r.default)({}, o.default.disabled, c)),
                        children: [(0, s.jsx)(l.default, {
                            large: t,
                            a8nText: a,
                            onClick: n,
                            disabled: c,
                            children: d
                        }), null != u && (0, s.jsx)("div", {
                            className: (0, i.default)(o.default.count, (0, r.default)({}, o.default.large, t)),
                            children: (0, s.jsx)("span", {
                                children: u
                            })
                        })]
                    })
                };
            t.default = d
        },
        6393: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(a(81109)),
                l = r(a(63038)),
                o = a(67294),
                s = r(a(65901)),
                d = r(a(86777)),
                u = n(a(19288)),
                c = r(a(45159)),
                f = a(73454),
                p = a(95317),
                h = a(85893);
            t.default = function(e) {
                var t = e.doSave,
                    a = e.afterSave,
                    n = e.isValid,
                    r = e.children,
                    v = e.modalConfig,
                    m = e.onError,
                    g = e.title,
                    _ = e.onCancel,
                    C = (0, o.useState)(p.EditType.EDITING),
                    x = (0, l.default)(C, 2),
                    y = x[0],
                    S = x[1],
                    E = (0, h.jsx)(u.default, {
                        title: g,
                        type: u.DRAWER_HEADER_TYPE.POPUP,
                        onCancel: function() {
                            s.default.closeModal(), _ && _()
                        }
                    });
                return (0, h.jsx)(d.default, (0, i.default)({
                    children: r,
                    okText: c.default.t(1581),
                    type: f.ModalTheme.Auto,
                    onOK: function() {
                        S(p.EditType.PENDING), t().then((function() {
                            S(p.EditType.DONE), a && a(), s.default.closeModal()
                        }), (function(e) {
                            S(p.EditType.ERROR), m && m(e)
                        }))
                    },
                    okSpinner: y === p.EditType.PENDING,
                    okDisabled: y === p.EditType.PENDING || !n,
                    title: E
                }, v))
            }
        },
        14536: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(a(59713)),
                i = n(a(94184)),
                l = a(67294),
                o = n(a(58342)),
                s = n(a(82823)),
                d = a(85893),
                u = function(e) {
                    var t = e.tabConfigs,
                        a = e.selectedId,
                        n = e.onSelect,
                        u = e.tabClass,
                        c = e.className,
                        f = (0, l.useRef)(a),
                        p = (0, l.useRef)([]),
                        h = t.map((function(e) {
                            return e.id
                        })),
                        v = h.length - 1;
                    return (0, d.jsx)(o.default, {
                        handlers: {
                            right: function() {
                                var e = h.indexOf(f.current),
                                    t = e === v ? 0 : e + 1,
                                    a = p.current[t];
                                a && a.focus()
                            },
                            left: function() {
                                var e = h.indexOf(f.current),
                                    t = 0 === e ? v : e - 1,
                                    a = p.current[t];
                                a && a.focus()
                            }
                        },
                        children: (0, d.jsx)("div", {
                            role: "tablist",
                            className: (0, i.default)(s.default.tabContainer, c),
                            children: t.map((function(e, t) {
                                return function(e, t) {
                                    var l = e.title,
                                        o = e.id,
                                        c = o === a;
                                    return (0, d.jsx)("button", {
                                        role: "tab",
                                        tabIndex: c ? 0 : -1,
                                        "aria-selected": Boolean(c),
                                        title: l,
                                        className: (0, i.default)(s.default.tab, (0, r.default)({}, s.default.selected, c), u),
                                        onClick: function() {
                                            c || n(o)
                                        },
                                        onFocus: function() {
                                            f.current = o
                                        },
                                        ref: function(e) {
                                            return p.current[t] = e
                                        },
                                        children: l
                                    }, l)
                                }(e, t)
                            }))
                        })
                    })
                };
            t.default = u
        },
        89647: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.onImageTake;
                return (0, s.jsx)(i.default, {
                    action: function() {
                        r.default.openModal((0, s.jsx)(l.EditCaptureFlowLoadable, {
                            onFinished: t
                        }))
                    },
                    a8n: "mi-take-photo",
                    disabled: e.disabled,
                    children: o.default.t(1709)
                })
            };
            var r = n(a(65901)),
                i = n(a(94680)),
                l = a(10762),
                o = n(a(45159)),
                s = a(85893)
        },
        68605: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.className,
                    a = l.default.VERSION_STR;
                return (0, u.jsxs)(s.SelectableDiv, {
                    "data-a8n": i.default.key("version"),
                    className: (0, r.default)(d.default.versionInfo, t),
                    selectable: !0,
                    children: [o.default.t(1796, {
                        version: ""
                    }), (0, u.jsx)("span", {
                        dir: "LTR",
                        children: a
                    }), null, null]
                })
            };
            var r = n(a(94184)),
                i = n(a(40501)),
                l = n(a(94253)),
                o = n(a(45159)),
                s = a(96197),
                d = n(a(39567)),
                u = a(85893)
        },
        1550: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(a(34575)),
                i = n(a(93913)),
                l = n(a(2205)),
                o = n(a(99842)),
                s = n(a(4481)),
                d = n(a(65901)),
                u = n(a(86777)),
                c = n(a(73008)),
                f = n(a(50177)),
                p = n(a(29832)),
                h = n(a(50504)),
                v = n(a(45159)),
                m = a(87547),
                g = a(85893),
                _ = function(e) {
                    (0, l.default)(a, e);
                    var t = (0, o.default)(a);

                    function a() {
                        var e;
                        (0, r.default)(this, a);
                        for (var n = arguments.length, i = new Array(n), l = 0; l < n; l++) i[l] = arguments[l];
                        return (e = t.call.apply(t, [this].concat(i))).filter = function(t) {
                            var a = t.groupMetadata;
                            return !(!t.isGroup || t.isGroup && !(null == a ? void 0 : a.participants.iAmMember())) && ((null == a ? void 0 : a.participants.get(e.props.contact.id)) ? v.default.t(251) : !!(null == a ? void 0 : a.participants.iAmAdmin()) || v.default.t(592))
                        }, e._confirmAddToGroup = function(t) {
                            e.props.requestFocus && e.props.requestFocus(), e.push((0, g.jsx)(u.default, {
                                cancelText: v.default.t(1938),
                                okText: v.default.t(240),
                                onOK: e._addToGroup.bind(null, t),
                                onCancel: e._pop,
                                children: (0, g.jsx)(c.default, {
                                    text: v.default.t(698, {
                                        participant: e.props.contact.formattedName,
                                        subject: t.contact.name
                                    })
                                })
                            }))
                        }, e.requestFocus = function() {
                            if (e.refUIE) {
                                var t = e.refUIE.getNode();
                                t && !t.contains(document.activeElement) && p.default.focus(t)
                            }
                        }, e._addToGroup = function(t) {
                            (0, m.addParticipants)(t, [e.props.contact]).then((function() {
                                d.default.openChatFromUnread(t).then((function(e) {
                                    e && d.default.focusChatTextInput(t)
                                }))
                            })).catch((function() {})), e.end()
                        }, e._pop = function() {
                            e.pop()
                        }, e
                    }
                    return (0, i.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            this.push((0, g.jsx)(h.default, {
                                chats: s.default.filter((function(e) {
                                    return e.isGroup
                                })),
                                filter: this.filter,
                                onCancel: this._pop,
                                onGroup: this._confirmAddToGroup
                            }))
                        }
                    }]), a
                }(f.default);
            t.default = _
        },
        13118: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(a(34575)),
                i = n(a(93913)),
                l = n(a(81506)),
                o = n(a(2205)),
                s = n(a(99842)),
                d = n(a(16525)),
                u = n(a(29754)),
                c = n(a(96486)),
                f = a(71988),
                p = n(a(65901)),
                h = n(a(50177)),
                v = n(a(38032)),
                m = n(a(37286)),
                g = a(69110),
                _ = n(a(692)),
                C = a(8113),
                x = a(85893),
                y = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, s.default)(a);

                    function a() {
                        var e, n;
                        (0, r.default)(this, a);
                        for (var i = arguments.length, o = new Array(i), s = 0; s < i; s++) o[s] = arguments[s];
                        return (n = t.call.apply(t, [this].concat(o)))._setRefMediaEditor = function(e) {
                            n._refMediaEditor = e
                        }, n.onCancel = function() {
                            n.props.onComplete && n.props.onComplete(!1), n._clearAttachMedia(), n.props.mediaCollection.mediaPickerStatsLogger.logCancel(), n.end()
                        }, n.onFailedMedias = function(e) {
                            var t = e.filter((function(e) {
                                return e.isGif
                            }));
                            if (t.length > 0) {
                                var a = t.map((function(e) {
                                    return e.filename
                                }));
                                p.default.once("ui_idle", (function() {
                                    p.default.pasteChatTextInput(n.props.chat, a.join(" "))
                                })), n.props.onComplete && n.props.onComplete(!1), n._clearAttachMedia(), n.props.mediaCollection.mediaPickerStatsLogger.logCancel(), n.end()
                            }
                        }, n._sendMediaWithMentions = function(e) {
                            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                                a = t.initCaptionUsed,
                                r = t.isViewOnce,
                                i = n.props.chat;
                            p.default.once("ui_idle", (function() {
                                e.forEach((function(e, t) {
                                    var a = e.media,
                                        l = {};
                                    if (0 === t && (l.quotedMsg = i.composeQuotedMsg, i.composeQuotedMsg = null), l.isViewOnce = r, l.mentionedJidList = e.mentionedJidList, l.caption = a.caption, l.addEvenWhilePreparing = a.previewable && a.state === f.ATTACH_MEDIA_STATE.PROCESSING, n.props.initCaption && n.props.initCaption.ctwaContextLinkData) {
                                        var o = n.props.initCaption,
                                            s = o.ctwaContextLinkData,
                                            d = o.ctwaContext;
                                        l.ctwaContext = (0, g.prepareCtwaContextSend)(s, d)
                                    }
                                    a.sendToChat(i, l)
                                })), n._clearAttachMedia()
                            })), n.props.onComplete && n.props.onComplete(!0, {
                                initCaptionUsed: a
                            }), n.props.mediaCollection.mediaPickerStatsLogger.logSend(), n.end()
                        }, n.setText = function(e) {
                            null != e && p.default.once("ui_idle", (function() {
                                p.default.pasteChatTextInput(n.props.chat, e)
                            })), n.end()
                        }, n.handleRequestDismiss = function(t) {
                            var r;
                            (null === (r = n._refMediaEditor) || void 0 === r ? void 0 : r.handleRequestDismiss()) && (!1 === t && n.onCancel(), (0, d.default)((e = (0, l.default)(n), (0, u.default)(a.prototype)), "handleRequestDismiss", e).call(e))
                        }, n._clearAttachMedia = function() {
                            n.props.chat && n.props.chat.setAttachMediaContents(null)
                        }, n
                    }
                    return (0, i.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            p.default.closeContextMenu(), p.default.closeTooltip(), this.push((0, x.jsx)(m.default, {
                                theme: "attach",
                                ref: this._setRefMediaEditor,
                                chat: this.props.chat,
                                onClose: this.onCancel,
                                initCaption: this.props.initCaption,
                                onSendMedia: c.default.once(this._sendMediaWithMentions),
                                mediaCollection: this.props.mediaCollection,
                                onDropText: c.default.once(this.setText),
                                sendAsSticker: this.props.sendAsSticker
                            })), v.default.supportsFeature(v.default.F.MD_BACKEND) && (0, C.eagerlyEstablishE2EESessionForMedia)(this.props.chat)
                        }
                    }, {
                        key: "componentWillUnmount",
                        value: function() {
                            var e = this;
                            _.default.isGecko ? c.default.defer((function() {
                                return p.default.focusChatTextInput(e.props.chat)
                            })) : p.default.focusChatTextInput(this.props.chat)
                        }
                    }]), a
                }(h.default);
            t.default = y
        },
        30087: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(a(34575)),
                i = n(a(93913)),
                l = n(a(2205)),
                o = n(a(99842)),
                s = n(a(65901)),
                d = n(a(50177)),
                u = n(a(45159)),
                c = a(10951),
                f = n(a(77104)),
                p = a(91240),
                h = a(85893),
                v = function(e) {
                    (0, l.default)(a, e);
                    var t = (0, o.default)(a);

                    function a() {
                        var e;
                        (0, r.default)(this, a);
                        for (var n = arguments.length, i = new Array(n), l = 0; l < n; l++) i[l] = arguments[l];
                        return (e = t.call.apply(t, [this].concat(i))).requestFocus = function() {
                            var t, a = null === (t = e.refUIE) || void 0 === t ? void 0 : t.getRef();
                            null != a && (a instanceof HTMLElement || "function" != typeof a.onFocusList || a.onFocusList())
                        }, e._sendProducts = function(t) {
                            var a = e.props.chat;
                            t.forEach((function(t, n) {
                                var r = 0 === n ? a.composeQuotedMsg : null;
                                a.sendProductMessage(t, r).then((function() {
                                    (0, c.logProductMessageSent)({
                                        product: t,
                                        catalogSessionId: e.props.sessionId
                                    })
                                }))
                            })), a.composeQuotedMsg = null, e.end()
                        }, e._shareCatalog = function(t) {
                            var a = e.props.chat,
                                n = (0, p.createCatalogLink)(t.id.user),
                                r = `${u.default.t(1475)} ${n}`;
                            s.default.pasteChatTextInput(a, r), (0, c.logSendCatalogClick)({
                                catalogOwnerWid: t.id,
                                catalogSessionId: e.props.sessionId
                            }), e.end()
                        }, e._pop = function() {
                            e.pop()
                        }, e._popNone = function() {
                            e.pop("none")
                        }, e
                    }
                    return (0, i.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            this.push((0, h.jsx)(f.default, {
                                onCancel: this._pop,
                                onConfirm: this._sendProducts,
                                onShare: this._shareCatalog
                            }))
                        }
                    }]), a
                }(d.default);
            t.default = v
        },
        80987: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(a(81109)),
                l = r(a(34575)),
                o = r(a(93913)),
                s = r(a(2205)),
                d = r(a(99842)),
                u = r(a(50177)),
                c = r(a(45159)),
                f = n(a(64803)),
                p = r(a(76411)),
                h = r(a(43890)),
                v = r(a(92717)),
                m = a(85893),
                g = function(e) {
                    (0, s.default)(a, e);
                    var t = (0, d.default)(a);

                    function a() {
                        var e;
                        (0, l.default)(this, a);
                        for (var n = arguments.length, r = new Array(n), i = 0; i < n; i++) r[i] = arguments[i];
                        return (e = t.call.apply(t, [this].concat(r)))._confirmSendContacts = function(t) {
                            e.push((0, m.jsx)(v.default, {
                                contactList: t,
                                onSend: function() {
                                    return e._sendContacts(t)
                                },
                                onBack: e._popNone,
                                chat: e.props.chat
                            }), "none"), e.contacts = t
                        }, e._sendContacts = function(t) {
                            var a = e.props.chat,
                                n = a.composeQuotedMsg,
                                r = a.getComposeContents().ctwaContext || void 0;
                            (0, p.default)(t, a, n, r), a.composeQuotedMsg = null, e.props.onContactsSent(), e.end()
                        }, e._getContacts = function() {
                            return e.contacts
                        }, e._pop = function() {
                            e.pop()
                        }, e._popNone = function() {
                            e.pop("none")
                        }, e
                    }
                    return (0, o.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this.props.serverProps.maxParticipants;
                            this.contacts = [], this.push((0, m.jsx)(f.default, {
                                title: c.default.t(1619),
                                onCancel: this._pop,
                                onConfirm: this._confirmSendContacts,
                                getInitialItems: this._getContacts,
                                listType: f.ListType.CONTACT_SELECT_MODAL,
                                maxItems: e,
                                allowBlockedContacts: !0
                            }))
                        }
                    }]), a
                }(u.default);
            t.default = function(e) {
                return (0, m.jsx)(g, (0, i.default)((0, i.default)({}, e), {}, {
                    serverProps: h.default
                }))
            }
        },
        53196: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(a(34575)),
                i = n(a(93913)),
                l = n(a(2205)),
                o = n(a(99842)),
                s = n(a(96002)),
                d = n(a(50177)),
                u = a(18070),
                c = a(85893),
                f = function(e) {
                    (0, l.default)(a, e);
                    var t = (0, o.default)(a);

                    function a() {
                        var e;
                        (0, r.default)(this, a);
                        for (var n = arguments.length, i = new Array(n), l = 0; l < n; l++) i[l] = arguments[l];
                        return (e = t.call.apply(t, [this].concat(i))).sendMedia = function(t) {
                            var a = t.getImg,
                                n = t.caption,
                                r = t.isViewOnce,
                                i = t.mentionedJidList,
                                l = e.props.chat,
                                o = l.composeQuotedMsg;
                            l.composeQuotedMsg = null;
                            var s = l.getComposeContents().ctwaContext || void 0;
                            (0, u.prepRawMedia)(a, {}).sendToChat(l, {
                                caption: n,
                                mentionedJidList: i,
                                quotedMsg: o,
                                ctwaContext: s,
                                isViewOnce: r
                            }), e.props.onCaptureSent(), e.end()
                        }, e
                    }
                    return (0, i.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this;
                            this.push((0, c.jsx)(s.default, {
                                onBack: function() {
                                    e.end()
                                },
                                chat: this.props.chat,
                                caption: !0,
                                theme: "capture-contain",
                                onSend: this.sendMedia,
                                stream: this.props.stream,
                                disposeStream: this.props.disposeStream
                            }))
                        }
                    }]), a
                }(d.default);
            t.default = f
        },
        54817: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(a(34575)),
                i = n(a(93913)),
                l = n(a(2205)),
                o = n(a(99842)),
                s = n(a(42364)),
                d = n(a(65901)),
                u = n(a(96706)),
                c = n(a(50177)),
                f = n(a(50507)),
                p = a(49942),
                h = a(48050),
                v = a(85893),
                m = function(e) {
                    (0, l.default)(a, e);
                    var t = (0, o.default)(a);

                    function a() {
                        var e;
                        (0, r.default)(this, a);
                        for (var n = arguments.length, i = new Array(n), l = 0; l < n; l++) i[l] = arguments[l];
                        return (e = t.call.apply(t, [this].concat(i))).onProductCatalog = function() {
                            var t = e.props,
                                a = t.sellerJid,
                                n = t.chat;
                            e.push((0, v.jsx)(h.ProductDetailsFlowLoadable, {
                                chat: n,
                                catalogOwnerJid: a
                            }))
                        }, e.onProductDetail = function(t) {
                            var a = e.props.chat;
                            e.push((0, v.jsx)(h.ProductDetailsFlowLoadable, {
                                refreshCarousel: !0,
                                chat: a,
                                productInfo: t,
                                onEnd: e._pop
                            }))
                        }, e._end = function() {
                            e.end(!0)
                        }, e._pop = function() {
                            e.pop()
                        }, e
                    }
                    return (0, i.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this,
                                t = this.props,
                                a = t.sellerJid,
                                n = t.chat;
                            this.push((0, v.jsx)(u.default.Consumer, {
                                children: function(t) {
                                    var r = (0, p.getProductCatalogContext)(t).entryPoint;
                                    return (0, v.jsx)(s.default, {
                                        chat: n,
                                        sellerJid: a,
                                        onProductDetail: e.onProductDetail,
                                        onProductCatalog: e.onProductCatalog,
                                        onBack: e._end,
                                        closeDrawerRightOnSend: r === f.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_PRODUCT_LIST_MESSAGE
                                    })
                                }
                            })), d.default.existsDrawerLeft((function(e) {
                                e && d.default.closeDrawerLeft()
                            })), d.default.existsDrawerMid((function(e) {
                                e && d.default.closeDrawerMid()
                            }))
                        }
                    }]), a
                }(c.default);
            t.default = m
        },
        69885: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(a(81109)),
                i = n(a(34575)),
                l = n(a(93913)),
                o = n(a(2205)),
                s = n(a(99842)),
                d = a(18077),
                u = n(a(18330)),
                c = n(a(25721)),
                f = n(a(9586)),
                p = n(a(87105)),
                h = n(a(65901)),
                v = n(a(44271)),
                m = n(a(74250)),
                g = n(a(20050)),
                _ = n(a(96706)),
                C = a(19288),
                x = n(a(63936)),
                y = n(a(11267)),
                S = n(a(50177)),
                E = a(1577),
                j = a(2629),
                I = n(a(45159)),
                b = a(73475),
                k = n(a(14597)),
                T = n(a(52795)),
                M = a(49942),
                w = n(a(27043)),
                P = n(a(25422)),
                L = a(60649),
                O = n(a(50673)),
                D = a(59175),
                N = a(85893),
                R = function(e) {
                    (0, o.default)(n, e);
                    var t = (0, s.default)(n);

                    function n() {
                        var e;
                        (0, i.default)(this, n);
                        for (var r = arguments.length, l = new Array(r), o = 0; o < r; o++) l[o] = arguments[o];
                        return (e = t.call.apply(t, [this].concat(l)))._handleAddFirstProduct = function() {
                            u.default.find(e.props.catalogId).then((function() {
                                e._showProductList(), e._onAddProduct()
                            })).catch((0, d.filteredCatch)(D.ServerStatusCodeError, (function() {
                                __LOG__(3)`Failed to fetch product catalog from server`
                            })))
                        }, e._showProductList = function() {
                            var t = g.default.get(e.props.catalogId);
                            if (t) {
                                var a = (0, j.canManageCollections)() ? (0, N.jsx)(p.default, {
                                    contact: t,
                                    onCatalogLinkClick: e._onCatalogShare,
                                    onProductShare: e.onProductShare,
                                    onProductDetail: e.onEditProduct,
                                    onAddProduct: e._onAddProduct,
                                    catalogId: e.props.catalogId,
                                    onBack: e._end,
                                    onCartClick: e.onCartClick,
                                    businessProfile: null,
                                    headerType: C.DRAWER_HEADER_TYPE.LARGE,
                                    onCollectionSeeAll: e.onCollectionSeeAll,
                                    canManageCatalog: !0,
                                    autoUpdate: !0,
                                    onOpenCollections: e.onOpenCollections,
                                    onEditCollection: e._onEditCollection,
                                    onOpenSettings: e.onOpenSettings
                                }) : (0, N.jsx)(P.default, {
                                    contact: t,
                                    onCatalogLinkClick: e._onCatalogShare,
                                    onProductShare: e.onProductShare,
                                    onProductDetail: e.onEditProduct,
                                    onAddProduct: e._onAddProduct,
                                    catalogId: e.props.catalogId,
                                    onBack: e._end,
                                    onCartClick: e.onCartClick,
                                    businessProfile: null,
                                    headerType: C.DRAWER_HEADER_TYPE.LARGE,
                                    canManageCatalog: !0,
                                    autoUpdate: !0,
                                    onOpenSettings: e.onOpenSettings
                                });
                                e.push(a)
                            }
                        }, e.onEditProduct = function(t) {
                            var a = u.default.assertGet(e.props.catalogId);
                            h.default.openDrawerMid((0, N.jsx)(y.default, {
                                catalog: a,
                                product: t
                            }), "slide-left", void 0, void 0, e.props.context, L.FocusType.TABBABLE)
                        }, e.onCartClick = function(t) {
                            (0, O.default)(t, void 0, e.props.context)
                        }, e.onCollectionSeeAll = function(t) {
                            var a = e.props.catalogId,
                                n = g.default.gadd(a);
                            e.push((0, N.jsx)(v.default, {
                                contact: n,
                                onProductDetail: e.onEditProduct,
                                onProductShare: e.onProductShare,
                                catalogId: a,
                                onBack: e._pop,
                                onCatalogLinkClick: e._onCatalogShare,
                                onCartClick: e.onCartClick,
                                collection: t,
                                canManageCatalog: !0,
                                headerType: C.DRAWER_HEADER_TYPE.LARGE,
                                onEditCollection: e._onEditCollection
                            }))
                        }, e._onEditCollection = function(t) {
                            var a = (0, E.getMeUser)(),
                                n = u.default.get(a);
                            t || (0, b.logCollectionCreateClicked)((0, M.getProductCatalogContext)(e.props.context)), n && e.push((0, N.jsx)(x.default, {
                                onBack: e._pop,
                                collection: t,
                                catalog: n
                            }))
                        }, e._onAddProduct = function() {
                            var t = u.default.assertGet(e.props.catalogId),
                                a = new T.default({
                                    catalogWid: t.id,
                                    additionalImageCdnUrl: []
                                });
                            h.default.openDrawerMid((0, N.jsx)(y.default, {
                                catalog: t,
                                product: a,
                                newProduct: !0
                            }), "slide-left", void 0, void 0, e.props.context, L.FocusType.TABBABLE)
                        }, e._onCatalogShare = function(t, a) {
                            h.default.openDrawerMid((0, N.jsx)(c.default, {
                                onCancel: function() {
                                    h.default.closeDrawerMid()
                                },
                                catalog: t,
                                contact: a,
                                prompt: I.default.t(564),
                                onSend: function() {
                                    return h.default.closeDrawerMid()
                                },
                                centerDrawer: !0
                            }), "slide-left", void 0, void 0, e.props.context, L.FocusType.TABBABLE)
                        }, e.onProductShare = function(t) {
                            h.default.openDrawerMid((0, N.jsx)(w.default, {
                                onCancel: function() {
                                    h.default.closeDrawerMid()
                                },
                                product: t,
                                prompt: I.default.t(564),
                                onSend: function() {
                                    return h.default.closeDrawerMid()
                                },
                                centerDrawer: !0,
                                sendProductMsg: !0
                            }), "slide-left", void 0, void 0, e.props.context, L.FocusType.TABBABLE)
                        }, e.onOpenCollections = function() {
                            e.push((0, N.jsx)(m.default, {
                                onBack: e._pop,
                                editCollection: e.editCollection,
                                onSeeCollection: e.onSeeCollection
                            })), (0, b.logCollectionMenuClicked)((0, M.getProductCatalogContext)(e.props.context))
                        }, e.onSeeCollection = function(t) {
                            var n = a(69885).default;
                            e.push((0, N.jsx)(n, {
                                catalogId: (0, E.getMeUser)(),
                                collection: t,
                                product: null
                            }))
                        }, e.editCollection = function(t) {
                            var a = (0, E.getMeUser)(),
                                n = u.default.get(a);
                            t || (0, b.logCollectionCreateClicked)((0, M.getProductCatalogContext)(e.props.context)), n && e.push((0, N.jsx)(x.default, {
                                onBack: e._pop,
                                collection: t,
                                catalog: n
                            }))
                        }, e.onOpenSettings = function() {
                            e.push((0, N.jsx)(f.default, {
                                onBack: e._pop
                            }))
                        }, e._pop = function() {
                            e.pop(), h.default.closeDrawerMid()
                        }, e._end = function() {
                            e.end(!0), h.default.closeDrawerMid()
                        }, e
                    }
                    return (0, l.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            null != this.props.collection ? this.onCollectionSeeAll(this.props.collection) : null != this.props.catalog ? (this._showProductList(), null != this.props.product && this.onEditProduct(this.props.product)) : this._showNewCatalog()
                        }
                    }, {
                        key: "componentWillUnMount",
                        value: function() {
                            var e, t;
                            null === (e = (t = this.props).onBack) || void 0 === e || e.call(t)
                        }
                    }, {
                        key: "_showNewCatalog",
                        value: function() {
                            this.push((0, N.jsx)(k.default, {
                                onBack: this._pop,
                                onAddProductClick: this._handleAddFirstProduct,
                                onCatalogAlreadyCreated: this._showProductList
                            }))
                        }
                    }]), n
                }(S.default);
            t.default = function(e) {
                return (0, N.jsx)(_.default.Consumer, {
                    children: function(t) {
                        return (0, N.jsx)(R, (0, r.default)({
                            context: t
                        }, e))
                    }
                })
            }
        },
        21043: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(a(34575)),
                i = n(a(93913)),
                l = n(a(2205)),
                o = n(a(99842)),
                s = n(a(54482)),
                d = n(a(50177)),
                u = a(48050),
                c = a(85893),
                f = function(e) {
                    (0, l.default)(a, e);
                    var t = (0, o.default)(a);

                    function a() {
                        var e;
                        (0, r.default)(this, a);
                        for (var n = arguments.length, i = new Array(n), l = 0; l < n; l++) i[l] = arguments[l];
                        return (e = t.call.apply(t, [this].concat(i))).onProductClick = function(t) {
                            e.push((0, c.jsx)(u.ProductDetailsFlowLoadable, {
                                refreshCarousel: !0,
                                chat: e.props.msg.chat,
                                product: t,
                                onEnd: e._pop
                            }))
                        }, e._pop = function() {
                            e.pop()
                        }, e
                    }
                    return (0, i.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            this.push((0, c.jsx)(s.default, {
                                msg: this.props.msg,
                                onProductClick: this.onProductClick
                            }))
                        }
                    }]), a
                }(d.default);
            t.default = f
        },
        97545: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(a(34575)),
                l = r(a(93913)),
                o = r(a(2205)),
                s = r(a(99842)),
                d = a(18077),
                u = r(a(96002)),
                c = r(a(65901)),
                f = n(a(5847)),
                p = n(a(18286)),
                h = r(a(50177)),
                v = n(a(7244)),
                m = n(a(29550)),
                g = n(a(73454)),
                _ = r(a(5202)),
                C = a(85893),
                x = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, s.default)(a);

                    function a() {
                        var e;
                        (0, i.default)(this, a);
                        for (var n = arguments.length, r = new Array(n), l = 0; l < n; l++) r[l] = arguments[l];
                        return (e = t.call.apply(t, [this].concat(r)))._refCaptureDrawer = null, e._setRefCaptureDrawer = function(t) {
                            e._refCaptureDrawer = t
                        }, e._pushPermissionModal = function() {
                            e.push((0, C.jsx)(v.default, {
                                messaging: v.Messaging.CAMERA,
                                type: v.TYPE.GUIDE_ALLOW,
                                onConfirm: e._popModal
                            }), "modal")
                        }, e._popModal = function() {
                            e.pop("modal")
                        }, e._startCaptureDrawer = function() {
                            var t, a;
                            null === (t = (a = e)._disposeStream) || void 0 === t || t.call(a);
                            var n = m.start("camera", e._pushPermissionModal),
                                r = n.asyncStream,
                                i = n.disposeStream;
                            e._disposeStream = i, r.then((function(t) {
                                e._refCaptureDrawer || e._popModal(), t && e._refCaptureDrawer && e._refCaptureDrawer.loadNewStream(t, i)
                            })).catch((0, d.filteredCatch)(p.GUM.NotAllowedError, (function() {
                                e.cleanUp(), c.default.openModal((0, C.jsx)(v.default, {
                                    messaging: v.Messaging.CAMERA_FAIL,
                                    type: v.TYPE.GUIDE_UNBLOCK
                                }))
                            }))).catch((0, d.filteredCatch)(p.GUM.GUMError, (function() {
                                e.cleanUp(), c.default.openModal((0, C.jsx)(v.default, {
                                    messaging: v.Messaging.CAMERA_MISSING,
                                    type: v.TYPE.GUIDE_NONE
                                }))
                            })))
                        }, e.onFinished = function(t, a) {
                            e.props.onFinished(t, a), e.cleanUp()
                        }, e.cleanUp = function() {
                            e.end()
                        }, e.onRetake = function() {
                            e.pop("flow-transition-box-size-drawer-pop"), e._startCaptureDrawer()
                        }, e.onCaptured = function(t) {
                            e.push((0, C.jsx)(g.default, {
                                type: g.ModalTheme.Box,
                                children: (0, C.jsx)(f.default, {
                                    onRetake: e.onRetake,
                                    retryText: f.RETRY_OPTIONS.RETAKE,
                                    onFinished: e.onFinished,
                                    onCancel: e.cleanUp,
                                    img: t
                                })
                            }), "flow-transition-box-size-drawer-push")
                        }, e.handleRequestDismiss = function(t) {
                            !1 === t && e.stackSize() > 1 ? e.onRetake() : e.cleanUp()
                        }, e
                    }
                    return (0, l.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            this.push((0, C.jsx)(g.default, {
                                type: g.ModalTheme.Box,
                                children: (0, C.jsx)(u.default, {
                                    ref: this._setRefCaptureDrawer,
                                    stream: void 0,
                                    disposeStream: void 0,
                                    caption: !1,
                                    theme: "capture-cover",
                                    onBack: this.cleanUp,
                                    onSend: null,
                                    onCaptured: this.onCaptured,
                                    chat: void 0
                                })
                            })), this._startCaptureDrawer()
                        }
                    }, {
                        key: "componentWillUnmount",
                        value: function() {
                            var e;
                            null === (e = this._disposeStream) || void 0 === e || e.call(this)
                        }
                    }]), a
                }(h.default),
                y = (0, _.default)(x);
            t.default = y
        },
        60445: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(a(34575)),
                l = r(a(93913)),
                o = r(a(2205)),
                s = r(a(99842)),
                d = n(a(5847)),
                u = r(a(50177)),
                c = a(85893),
                f = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, s.default)(a);

                    function a() {
                        var e;
                        (0, i.default)(this, a);
                        for (var n = arguments.length, r = new Array(n), l = 0; l < n; l++) r[l] = arguments[l];
                        return (e = t.call.apply(t, [this].concat(r))).onEnd = function() {
                            e.end()
                        }, e.onFinished = function(t, a) {
                            e.props.onFinished(t, a), e.end()
                        }, e
                    }
                    return (0, l.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            this.push((0, c.jsx)(d.default, {
                                onCancel: this.onEnd,
                                onFinished: this.onFinished,
                                onRetake: this.props.onRetake,
                                retryText: d.RETRY_OPTIONS.RESTART,
                                img: this.props.img
                            }))
                        }
                    }]), a
                }(u.default);
            t.default = f
        },
        11267: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(a(34575)),
                i = n(a(93913)),
                l = n(a(2205)),
                o = n(a(99842)),
                s = n(a(65901)),
                d = n(a(8879)),
                u = n(a(50177)),
                c = n(a(45159)),
                f = n(a(79938)),
                p = n(a(27043)),
                h = a(85893),
                v = function(e) {
                    (0, l.default)(a, e);
                    var t = (0, o.default)(a);

                    function a() {
                        var e;
                        (0, r.default)(this, a);
                        for (var n = arguments.length, i = new Array(n), l = 0; l < n; l++) i[l] = arguments[l];
                        return (e = t.call.apply(t, [this].concat(i)))._showInfoDrawer = function(t) {
                            var a = e.props.catalog;
                            e.push((0, h.jsx)(f.default, {
                                catalog: a,
                                product: t,
                                onCancel: e.end,
                                onEditProduct: e._onProductEdit,
                                onShareProduct: e.onShareProduct
                            }))
                        }, e.onShareProduct = function(t) {
                            e.push((0, h.jsx)(p.default, {
                                onBack: e._pop,
                                product: t,
                                prompt: (0, h.jsx)("div", {
                                    children: c.default.t(564)
                                }),
                                onSend: function() {
                                    return s.default.closeDrawerMid()
                                },
                                centerDrawer: !0,
                                sendProductMsg: !0
                            }))
                        }, e._onProductEdit = function(t) {
                            e.push((0, h.jsx)(d.default, {
                                catalog: e.props.catalog,
                                onBack: e._pop,
                                onEditSuccess: e._showInfoDrawer,
                                product: t,
                                onDelete: e.props.onDelete
                            }))
                        }, e._pop = function() {
                            e.pop()
                        }, e._end = function() {
                            e.end(!0)
                        }, e
                    }
                    return (0, i.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this,
                                t = this.props,
                                a = t.catalog,
                                n = t.product,
                                r = t.onCreate;
                            t.newProduct ? this.push((0, h.jsx)(d.default, {
                                onCancel: this._pop,
                                onEditSuccess: function(t) {
                                    r && r(), e._showInfoDrawer(t)
                                },
                                catalog: a,
                                product: n,
                                newProduct: !0
                            })) : this._showInfoDrawer(n)
                        }
                    }]), a
                }(u.default);
            t.default = v
        },
        55036: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(a(34575)),
                l = r(a(93913)),
                o = r(a(2205)),
                s = r(a(99842)),
                d = a(18077),
                u = r(a(4481)),
                c = r(a(65901)),
                f = r(a(86777)),
                p = r(a(94253)),
                h = r(a(50177)),
                v = r(a(80307)),
                m = r(a(15733)),
                g = r(a(45159)),
                _ = n(a(64803)),
                C = r(a(43890)),
                x = a(85893),
                y = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, s.default)(a);

                    function a() {
                        var e;
                        (0, i.default)(this, a);
                        for (var n = arguments.length, r = new Array(n), l = 0; l < n; l++) r[l] = arguments[l];
                        return (e = t.call.apply(t, [this].concat(r))).requestFocus = function() {
                            var t, a = null === (t = e.refUIE) || void 0 === t ? void 0 : t.getRef();
                            null != a && (a instanceof HTMLElement || "function" != typeof a.onFocusList || a.onFocusList())
                        }, e.onForwardConfirmed = function(t) {
                            var a = e.props,
                                n = a.msgs,
                                r = a.onForward;
                            u.default.forwardMessagesToChats(n, t).catch((0, d.filteredCatch)(v.default, (function(t) {
                                e._showMediaSendError(t.reasons)
                            }))), e.end(), r && r(n), c.default.openChatFromUnread(t[0])
                        }, e._showMediaSendError = function(e) {
                            var t = e.map((function(e) {
                                var t = e.chat,
                                    a = e.reason;
                                return (0, x.jsxs)("p", {
                                    children: [t.formattedTitle, " : ", a]
                                }, t.id.toString())
                            }));
                            c.default.openModal((0, x.jsx)(f.default, {
                                onOK: function() {
                                    return c.default.closeModal()
                                },
                                okText: g.default.t(2125),
                                children: t
                            }), void 0)
                        }, e
                    }
                    return (0, l.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            var e, t = this.props.msgs,
                                a = g.default.t(920, {
                                    _plural: t.length || 1
                                }),
                                n = t[0],
                                r = n && n.chat;
                            e = "video" !== n.type && "image" !== n.type ? "message" : n.type;
                            var i, l = t.some((function(e) {
                                    return e.isFrequentlyForwarded
                                })),
                                o = t.filter((function(e) {
                                    return !e.isFrequentlyForwarded && e.getForwardingScoreWhenForwarded() === p.default.FREQUENTLY_FORWARDED_SENTINEL
                                }));
                            o.length && (i = (0, x.jsx)(m.default, {
                                frequentlyForwardedCount: o.length,
                                totalCount: t.length
                            }));
                            var s = l ? C.default.frequentlyForwardedMax : C.default.multicastLimitGlobal;
                            this.push((0, x.jsx)(_.default, {
                                onConfirm: this.onForwardConfirmed,
                                maxItems: s,
                                excludeChat: r,
                                excludeBroadcast: !0,
                                msgType: e,
                                title: a,
                                listType: _.ListType.CHAT_SELECT_MODAL,
                                customHeader: i,
                                hasFrequentlyForwarded: l,
                                ephemeralIcon: "chat-list"
                            }))
                        }
                    }]), a
                }(h.default);
            t.default = y
        },
        9025: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(a(34575)),
                i = n(a(93913)),
                l = n(a(2205)),
                o = n(a(99842)),
                s = n(a(50177)),
                d = n(a(4485)),
                u = a(85893),
                c = function(e) {
                    (0, l.default)(a, e);
                    var t = (0, o.default)(a);

                    function a() {
                        return (0, r.default)(this, a), t.apply(this, arguments)
                    }
                    return (0, i.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            this.push((0, u.jsx)(d.default, {
                                chat: this.props.chat,
                                onConfirm: this.props.onConfirm
                            }))
                        }
                    }]), a
                }(s.default);
            t.default = c
        },
        92025: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(a(34575)),
                i = n(a(93913)),
                l = n(a(2205)),
                o = n(a(99842)),
                s = n(a(50177)),
                d = n(a(57027)),
                u = a(48050),
                c = a(85893),
                f = function(e) {
                    (0, l.default)(a, e);
                    var t = (0, o.default)(a);

                    function a() {
                        var e;
                        (0, r.default)(this, a);
                        for (var n = arguments.length, i = new Array(n), l = 0; l < n; l++) i[l] = arguments[l];
                        return (e = t.call.apply(t, [this].concat(i))).onProductClick = function(t) {
                            e.push((0, c.jsx)(u.ProductDetailsFlowLoadable, {
                                refreshCarousel: !0,
                                chat: e.props.msg.chat,
                                product: t,
                                onEnd: e._pop
                            }))
                        }, e._pop = function() {
                            e.pop()
                        }, e
                    }
                    return (0, i.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            this.push((0, c.jsx)(d.default, {
                                msg: this.props.msg,
                                onProductClick: this.onProductClick
                            }))
                        }
                    }]), a
                }(s.default);
            t.default = f
        },
        82700: (e, t, a) => {
            "use strict";
            var n = a(52108).default,
                r = a(20862),
                i = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var l = i(a(87757)),
                o = i(a(48926)),
                s = i(a(34575)),
                d = i(a(93913)),
                u = i(a(2205)),
                c = i(a(99842)),
                f = i(a(65901)),
                p = i(a(86777)),
                h = a(68985),
                v = i(a(50177)),
                m = i(a(52336)),
                g = i(a(91522)),
                _ = i(a(45159)),
                C = i(a(82589)),
                x = i(a(1191)),
                y = a(26237),
                S = r(a(92428)),
                E = a(85893),
                j = function(e) {
                    (0, u.default)(a, e);
                    var t = (0, c.default)(a);

                    function a() {
                        var e;
                        (0, s.default)(this, a);
                        for (var r = arguments.length, i = new Array(r), d = 0; d < r; d++) i[d] = arguments[d];
                        return (e = t.call.apply(t, [this].concat(i))).onSendInvite = function() {
                            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "",
                                a = arguments.length > 1 ? arguments[1] : void 0;
                            f.default.closeModal(), n.all(e.props.participantNeedInvite.map(function() {
                                var n = (0, o.default)(l.default.mark((function n(r) {
                                    var i, o, s, d, u, c;
                                    return l.default.wrap((function(n) {
                                        for (;;) switch (n.prev = n.next) {
                                            case 0:
                                                return i = r.contact, o = r.invite_code, s = r.invite_code_exp, n.next = 3, (0, h.findChat)(i.id);
                                            case 3:
                                                return d = n.sent, u = e.props.groupGid.toString(), c = m.default.assertGet(u), n.next = 8, d.sendGroupInviteMessage(u, e.props.subject, o || "", s, t, a);
                                            case 8:
                                                if (n.sent !== y.SendMsgResult.OK) {
                                                    n.next = 12;
                                                    break
                                                }
                                                return c.pendingParticipants.add({
                                                    id: i.id
                                                }), n.abrupt("return", !0);
                                            case 12:
                                                return n.abrupt("return", !1);
                                            case 13:
                                            case "end":
                                                return n.stop()
                                        }
                                    }), n)
                                })));
                                return function() {
                                    return n.apply(this, arguments)
                                }
                            }())).then((function(e) {
                                var t = e.filter(Boolean).length;
                                f.default.openToast((0, E.jsx)(S.default, {
                                    msg: _.default.t(2066, {
                                        num: t,
                                        _plural: t
                                    }),
                                    id: (0, S.genId)()
                                }))
                            }))
                        }, e._addInviteCommment = function(t) {
                            e.push((0, E.jsx)(g.default, {
                                participants: t,
                                gid: e.props.groupGid,
                                subject: e.props.subject,
                                groupDesc: e.props.groupDesc,
                                onClose: e._pop,
                                onSend: e.onSendInvite
                            }))
                        }, e._pop = function() {
                            e.pop()
                        }, e
                    }
                    return (0, d.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this.props.participantNeedInvite,
                                t = this._getFormattedNames(e.map((function(e) {
                                    return e.contact
                                })), !0),
                                a = _.default.t(1023, {
                                    participant: t,
                                    _plural: e.length
                                });
                            this.push((0, E.jsx)(p.default, {
                                onOK: this._addInviteCommment.bind(this, e),
                                okText: _.default.t(2065),
                                onCancel: this._pop,
                                cancelText: _.default.t(1938),
                                children: a
                            }))
                        }
                    }, {
                        key: "_getFormattedName",
                        value: function(e) {
                            var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                            return t ? e.formattedUser : (0, E.jsx)(x.default, {
                                contact: e
                            })
                        }
                    }, {
                        key: "_getFormattedNames",
                        value: function(e) {
                            var t = this,
                                a = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                            if (!Array.isArray(e)) return this._getFormattedName(e, a);
                            var n = e.map((function(e) {
                                return t._getFormattedName(e, a)
                            }));
                            return (0, C.default)(n, a)
                        }
                    }]), a
                }(v.default);
            t.default = j, j.defaultProps = {
                removeTopDrawer: !0,
                pushTransition: "none",
                popTransition: "none"
            }
        },
        89902: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(a(34575)),
                l = r(a(93913)),
                o = r(a(2205)),
                s = r(a(99842)),
                d = n(a(5847)),
                u = r(a(50177)),
                c = r(a(59574)),
                f = a(85893),
                p = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, s.default)(a);

                    function a() {
                        var e;
                        (0, i.default)(this, a);
                        for (var n = arguments.length, r = new Array(n), l = 0; l < n; l++) r[l] = arguments[l];
                        return (e = t.call.apply(t, [this].concat(r))).onImageSelected = function(t, a) {
                            e.push((0, f.jsx)(d.default, {
                                onCancel: e._handleCancel,
                                attributionUrl: a,
                                onFinished: e.onFinished,
                                onRetake: e._pop,
                                retryText: d.RETRY_OPTIONS.NONE,
                                img: t
                            }))
                        }, e._handleCancel = function() {
                            e.end()
                        }, e._pop = function() {
                            e.pop()
                        }, e.onFinished = function(t, a) {
                            e.props.onFinished(t, a), e.end()
                        }, e
                    }
                    return (0, l.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            this.push((0, f.jsx)(c.default, {
                                onCancel: this._pop,
                                onImageSelected: this.onImageSelected
                            }))
                        }
                    }]), a
                }(u.default);
            t.default = p
        },
        22735: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(a(34575)),
                i = n(a(93913)),
                l = n(a(2205)),
                o = n(a(99842)),
                s = n(a(39382)),
                d = n(a(65901)),
                u = n(a(86777)),
                c = n(a(94253)),
                f = n(a(50177)),
                p = n(a(45159)),
                h = n(a(45042)),
                v = n(a(42217)),
                m = n(a(3174)),
                g = a(177),
                _ = a(85893),
                C = function(e) {
                    (0, l.default)(n, e);
                    var t = (0, o.default)(n);

                    function n() {
                        var e;
                        (0, r.default)(this, n);
                        for (var i = arguments.length, l = new Array(i), o = 0; o < i; o++) l[o] = arguments[o];
                        return (e = t.call.apply(t, [this].concat(l))).onDeleteLabel = function(e) {
                            e.forEach((function(e) {
                                var t = e.id;
                                h.default.deleteLabel(t)
                            }))
                        }, e._onManageLabels = function(e) {
                            d.default.openModal((0, _.jsx)(g.ManageLabelFlowLoadable, {
                                modelsToUpdate: e
                            }))
                        }, e.onEditLabel = function(t) {
                            d.default.openModal((0, _.jsx)(s.default, {
                                labelId: t,
                                onUpdateLabel: e.onUpdateLabel,
                                onCancel: d.default.closeModal()
                            }))
                        }, e.onLabelClick = function(t) {
                            var n = a(57285).Z;
                            e.push((0, _.jsx)(n, {
                                openLabelColorDrawer: e.openLabelColorDrawer,
                                labelId: t,
                                onManageLabels: e._onManageLabels,
                                onClose: e._pop,
                                onRemoveLabel: e.onRemoveLabel,
                                onEditLabel: e.onEditLabel
                            }))
                        }, e.openAddLabel = function() {
                            h.default.toArray().length >= c.default.MAX_SMB_LABEL_COUNT ? d.default.openModal((0, _.jsx)(u.default, {
                                okText: p.default.t(1419),
                                onOK: function() {
                                    return d.default.closeModal()
                                },
                                children: p.default.t(2291, {
                                    count: c.default.MAX_SMB_LABEL_COUNT
                                })
                            })) : d.default.openModal((0, _.jsx)(s.default, {
                                onAddLabel: e.onAddLabel,
                                onCancel: d.default.closeModal()
                            }))
                        }, e.onUpdateLabel = function(e, t) {
                            h.default.updateLabel(e, t)
                        }, e.openLabelColorDrawer = function(t, a) {
                            e.push((0, _.jsx)(v.default, {
                                labelId: t,
                                onClose: e._pop,
                                onUpdateColor: e.onUpdateLabel,
                                currentColor: a
                            }))
                        }, e._pop = function() {
                            e.pop()
                        }, e
                    }
                    return (0, i.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            this.push((0, _.jsx)(m.default, {
                                onDeleteLabel: this.onDeleteLabel,
                                onLabelClick: this.onLabelClick,
                                onClose: this._pop,
                                openAddLabel: this.openAddLabel
                            }))
                        }
                    }, {
                        key: "onAddLabel",
                        value: function(e, t) {
                            h.default.addNewLabel(e, t)
                        }
                    }, {
                        key: "onRemoveLabel",
                        value: function(e, t) {
                            h.default.addOrRemoveLabels([{
                                id: e,
                                type: "remove"
                            }], t)
                        }
                    }]), n
                }(f.default);
            t.default = C
        },
        18166: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(a(34575)),
                i = n(a(93913)),
                l = n(a(2205)),
                o = n(a(99842)),
                s = n(a(39382)),
                d = n(a(29656)),
                u = n(a(65901)),
                c = n(a(86777)),
                f = n(a(94253)),
                p = n(a(50177)),
                h = n(a(45159)),
                v = n(a(45042)),
                m = a(80549),
                g = n(a(4611)),
                _ = n(a(50507)),
                C = a(85893),
                x = function(e) {
                    (0, l.default)(a, e);
                    var t = (0, o.default)(a);

                    function a() {
                        var e;
                        (0, r.default)(this, a);
                        for (var n = arguments.length, i = new Array(n), l = 0; l < n; l++) i[l] = arguments[l];
                        return (e = t.call.apply(t, [this].concat(i)))._newlyAddedLabels = new Set, e._logWamEvent = function() {
                            var t = e.props.modelsToUpdate.length;
                            e._labelViewType = 1 === t ? e.props.modelsToUpdate[0] instanceof d.default ? _.default.LABEL_TARGETS.LABEL_CHAT_DIALOG : _.default.LABEL_TARGETS.LABEL_MESSAGE_DIALOG : _.default.LABEL_TARGETS.LABEL_COMBINED_DIALOG, (0, m.logLabelOperationEvent)(_.default.LABEL_OPERATIONS.VIEW, t, e._labelViewType)
                        }, e.onLabelUpdateComplete = function() {
                            e.props.onLabelUpdateComplete && e.props.onLabelUpdateComplete(), e._pop()
                        }, e.onAddLabel = function(t, a) {
                            v.default.addNewLabel(t, a).then((function() {
                                e._newlyAddedLabels.add(t)
                            }))
                        }, e.shouldScrollIntoViewAndSelect = function(t) {
                            return e._newlyAddedLabels.has(t) ? (e._newlyAddedLabels.delete(t), {
                                shouldScrollIntoView: !0,
                                shouldSelect: !0
                            }) : {
                                shouldScrollIntoView: !1,
                                shouldSelect: !1
                            }
                        }, e.onAddNewLabel = function() {
                            v.default.toArray().length >= f.default.MAX_SMB_LABEL_COUNT ? u.default.openModal((0, C.jsx)(c.default, {
                                okText: h.default.t(1419),
                                onOK: function() {
                                    return u.default.closeModal()
                                },
                                children: h.default.t(2291, {
                                    count: f.default.MAX_SMB_LABEL_COUNT
                                })
                            })) : e.push((0, C.jsx)(s.default, {
                                onAddLabel: e.onAddLabel,
                                onCancel: e._pop
                            }))
                        }, e._popAndLogEvent = function() {
                            e._labelViewType && (0, m.logLabelOperationEvent)(_.default.LABEL_OPERATIONS.CLICK_NEGATIVE, e.props.modelsToUpdate.length, e._labelViewType), e.pop()
                        }, e._pop = function() {
                            e.pop()
                        }, e
                    }
                    return (0, i.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            this._logWamEvent(), this.push((0, C.jsx)(g.default, {
                                shouldScrollIntoViewAndSelect: this.shouldScrollIntoViewAndSelect,
                                onAddNewLabel: this.onAddNewLabel,
                                onLabelUpdateComplete: this.onLabelUpdateComplete,
                                onCancel: this._popAndLogEvent,
                                modelsToUpdate: this.props.modelsToUpdate
                            }))
                        }
                    }]), a
                }(p.default);
            t.default = x, x.defaultProps = {
                removeTopDrawer: !0,
                pushTransition: "none",
                popTransition: "none"
            }
        },
        58694: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(a(81109)),
                l = r(a(59713)),
                o = r(a(87757)),
                s = r(a(48926)),
                d = r(a(63038)),
                u = r(a(34575)),
                c = r(a(93913)),
                f = r(a(2205)),
                p = r(a(99842)),
                h = a(42066),
                v = a(67294),
                m = (r(a(56720)), r(a(96466))),
                g = a(91874),
                _ = r(a(65901)),
                C = a(65971),
                x = r(a(94253)),
                y = r(a(53187)),
                S = r(a(18345)),
                E = n(a(19288)),
                j = r(a(46821)),
                I = r(a(50177)),
                b = n(a(33333)),
                k = r(a(45159)),
                T = r(a(68544)),
                M = n(a(92428)),
                w = a(97843),
                P = a(85893),
                L = {
                    complianceInfoHelpCenterBanner: {
                        color: "hp667wtd",
                        paddingTop: "nlnf8xo7",
                        paddingEnd: "bcymb0na",
                        paddingBottom: "r219jyu0",
                        paddingStart: "e8k79tju"
                    }
                },
                O = function(e) {
                    (0, f.default)(a, e);
                    var t = (0, p.default)(a);

                    function a() {
                        return (0, u.default)(this, a), t.apply(this, arguments)
                    }
                    return (0, c.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            this.push((0, P.jsx)(D, {
                                contactId: this.props.contactId,
                                onBack: this.pop
                            }))
                        }
                    }, {
                        key: "componentWillUnMount",
                        value: function() {
                            var e, t;
                            null === (e = (t = this.props).onBack) || void 0 === e || e.call(t)
                        }
                    }]), a
                }(I.default);
            t.default = O;
            var D = (0, v.forwardRef)((function(e, t) {
                var a = e.contactId,
                    n = e.onBack,
                    r = (0, v.useRef)(null);
                (0, v.useImperativeHandle)(t, (function() {
                    return {
                        getElement: function() {
                            return r.current
                        }
                    }
                }));
                var u = (0, v.useState)({}),
                    c = (0, d.default)(u, 2),
                    f = c[0],
                    p = c[1],
                    I = (0, v.useState)(!0),
                    b = (0, d.default)(I, 2),
                    T = b[0],
                    M = b[1],
                    O = (0, v.useState)(!1),
                    D = (0, d.default)(O, 2),
                    R = D[0],
                    A = D[1];
                (0, v.useEffect)((function() {
                    (0, s.default)(o.default.mark((function e() {
                        var t, n, r;
                        return o.default.wrap((function(e) {
                            for (;;) switch (e.prev = e.next) {
                                case 0:
                                    return e.next = 2, m.default.update(a, {
                                        getMerchantCompliance: !0
                                    });
                                case 2:
                                    t = e.sent, n = Array.isArray(t) ? t[0] : t, (r = n.serialize()) ? (p(r.legalEntityDetails || void 0), M(!1)) : __LOG__(3)`compliance: cannot fetch business details (${a.toString()})`;
                                case 6:
                                case "end":
                                    return e.stop()
                            }
                        }), e)
                    })))()
                }), [a]);
                var F = (0, v.useCallback)(function() {
                        var e = (0, s.default)(o.default.mark((function e(t, a) {
                            var n;
                            return o.default.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        return n = (0, l.default)({}, t, a), e.next = 3, (0, g.editBusinessCompliance)((0, i.default)((0, i.default)({}, n), {}, {
                                            isRegistered: null == f ? void 0 : f.isRegistered
                                        }));
                                    case 3:
                                        p((function(e) {
                                            return (0, i.default)((0, i.default)({}, e), n)
                                        }));
                                    case 4:
                                    case "end":
                                        return e.stop()
                                }
                            }), e)
                        })));
                        return function() {
                            return e.apply(this, arguments)
                        }
                    }(), [null == f ? void 0 : f.isRegistered]),
                    B = (0, v.useCallback)(function() {
                        var e = (0, s.default)(o.default.mark((function e(t, a, n) {
                            var r;
                            return o.default.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        return r = (0, l.default)({}, t, (0, l.default)({}, a, n)), e.prev = 1, e.next = 4, (0, g.editBusinessCompliance)((0, i.default)((0, i.default)({}, r), {}, {
                                            isRegistered: null == f ? void 0 : f.isRegistered
                                        }));
                                    case 4:
                                        e.next = 9;
                                        break;
                                    case 6:
                                        throw e.prev = 6, e.t0 = e.catch(1), new Error(e.t0);
                                    case 9:
                                        p((function(e) {
                                            return (0, i.default)((0, i.default)({}, e), {}, (0, l.default)({}, t, (0, i.default)((0, i.default)({}, null == e ? void 0 : e[t]), r[t])))
                                        }));
                                    case 10:
                                    case "end":
                                        return e.stop()
                                }
                            }), e, null, [
                                [1, 6]
                            ])
                        })));
                        return function() {
                            return e.apply(this, arguments)
                        }
                    }(), [null == f ? void 0 : f.isRegistered]),
                    U = (0, v.useCallback)(function() {
                        var e = (0, s.default)(o.default.mark((function e(t, a, n) {
                            var r;
                            return o.default.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        return r = {
                                            entityType: t,
                                            entityTypeCustom: a,
                                            isRegistered: n
                                        }, A(!0), e.next = 4, (0, g.editBusinessCompliance)(r);
                                    case 4:
                                        A(!1), p((function(e) {
                                            return (0, i.default)((0, i.default)({}, e), r)
                                        }));
                                    case 6:
                                    case "end":
                                        return e.stop()
                                }
                            }), e)
                        })));
                        return function() {
                            return e.apply(this, arguments)
                        }
                    }(), []),
                    G = (0, v.useCallback)((function(e) {
                        return !e || (0, h.isPotentiallyPhoneNumber)(e)
                    }), []),
                    H = f || {},
                    V = H.entityName,
                    W = H.customerCareDetails,
                    z = H.grievanceOfficerDetails,
                    K = (0, v.useMemo)((function() {
                        return (0, C.getEntityTypeText)(f)
                    }), [f]);
                return (0, P.jsx)("div", {
                    ref: r,
                    children: (0, P.jsxs)(y.default, {
                        children: [(0, P.jsx)(E.default, {
                            title: k.default.t(399),
                            onBack: n,
                            type: E.DRAWER_HEADER_TYPE.LARGE
                        }), (0, P.jsx)(S.default, {
                            theme: T ? "center-content" : void 0,
                            children: T ? (0, P.jsx)(C.ComplianceInfoLoading, {}) : (0, P.jsxs)(P.Fragment, {
                                children: [(0, P.jsx)(C.ComplianceInfoHelpCenterBanner, {
                                    xstyle: L.complianceInfoHelpCenterBanner
                                }), (0, P.jsxs)(j.default, {
                                    theme: "form",
                                    children: [(0, P.jsx)(N, {
                                        value: V,
                                        maxLength: x.default.COMPLIANCE_INFO_LENGTH.ENTITY_NAME,
                                        placeholder: k.default.t(409),
                                        icon: "info",
                                        onSave: function(e) {
                                            return F("entityName", e)
                                        }
                                    }), (0, P.jsx)(N, {
                                        value: K,
                                        placeholder: k.default.t(410),
                                        icon: "account-balance",
                                        onFocus: function() {
                                            return _.default.showMerchantDetailsEntityTypePopup(f, U)
                                        },
                                        isLoading: R
                                    })]
                                }), (0, P.jsxs)(j.default, {
                                    title: k.default.t(395),
                                    theme: "form",
                                    children: [(0, P.jsx)(N, {
                                        value: null == W ? void 0 : W.mobileNumber,
                                        maxLength: x.default.COMPLIANCE_INFO_LENGTH.MOBILE_NUMBER,
                                        placeholder: k.default.t(398),
                                        icon: "phone",
                                        validate: G,
                                        error: k.default.t(401),
                                        onSave: function(e) {
                                            return B("customerCareDetails", "mobileNumber", e)
                                        }
                                    }), (0, P.jsx)(N, {
                                        value: null == W ? void 0 : W.landlineNumber,
                                        maxLength: x.default.COMPLIANCE_INFO_LENGTH.LANDLINE_NUMBER,
                                        placeholder: k.default.t(397),
                                        icon: "phone",
                                        validate: G,
                                        error: k.default.t(400),
                                        onSave: function(e) {
                                            return B("customerCareDetails", "landlineNumber", e)
                                        }
                                    }), (0, P.jsx)(N, {
                                        value: null == W ? void 0 : W.email,
                                        maxLength: x.default.COMPLIANCE_INFO_LENGTH.EMAIL,
                                        placeholder: k.default.t(396),
                                        icon: "business-email",
                                        validate: w.validateEmail,
                                        error: k.default.t(890),
                                        onSave: function(e) {
                                            return B("customerCareDetails", "email", e)
                                        }
                                    })]
                                }), (0, P.jsxs)(j.default, {
                                    title: k.default.t(402),
                                    theme: "form",
                                    children: [(0, P.jsx)(N, {
                                        value: null == z ? void 0 : z.name,
                                        maxLength: x.default.COMPLIANCE_INFO_LENGTH.GRIEVANCE_OFFICER_NAME,
                                        placeholder: k.default.t(406),
                                        icon: "assignment-ind",
                                        onSave: function(e) {
                                            return B("grievanceOfficerDetails", "name", e)
                                        }
                                    }), (0, P.jsx)(N, {
                                        value: null == z ? void 0 : z.mobileNumber,
                                        maxLength: x.default.COMPLIANCE_INFO_LENGTH.MOBILE_NUMBER,
                                        placeholder: k.default.t(405),
                                        icon: "phone",
                                        validate: G,
                                        error: k.default.t(401),
                                        onSave: function(e) {
                                            return B("grievanceOfficerDetails", "mobileNumber", e)
                                        }
                                    }), (0, P.jsx)(N, {
                                        value: null == z ? void 0 : z.landlineNumber,
                                        maxLength: x.default.COMPLIANCE_INFO_LENGTH.LANDLINE_NUMBER,
                                        placeholder: k.default.t(404),
                                        icon: "phone",
                                        validate: G,
                                        error: k.default.t(400),
                                        onSave: function(e) {
                                            return B("grievanceOfficerDetails", "landlineNumber", e)
                                        }
                                    }), (0, P.jsx)(N, {
                                        value: null == z ? void 0 : z.email,
                                        maxLength: x.default.COMPLIANCE_INFO_LENGTH.EMAIL,
                                        placeholder: k.default.t(403),
                                        icon: "business-email",
                                        validate: w.validateEmail,
                                        error: k.default.t(890),
                                        onSave: function(e) {
                                            return B("grievanceOfficerDetails", "email", e)
                                        }
                                    })]
                                })]
                            })
                        })]
                    })
                })
            }));

            function N(e) {
                var t = e.value,
                    a = void 0 === t ? "" : t,
                    n = e.maxLength,
                    r = e.placeholder,
                    i = e.icon,
                    l = e.isLoading,
                    u = void 0 !== l && l,
                    c = e.validate,
                    f = e.error,
                    p = e.onSave,
                    h = e.onFocus,
                    m = (0, v.useState)(a),
                    g = (0, d.default)(m, 2),
                    C = g[0],
                    x = g[1],
                    y = (0, v.useState)(f),
                    S = (0, d.default)(y, 2),
                    E = S[0],
                    j = S[1],
                    I = (0, v.useState)(u),
                    k = (0, d.default)(I, 2),
                    w = k[0],
                    L = k[1];
                return (0, v.useEffect)((function() {
                    x(a)
                }), [a]), (0, v.useEffect)((function() {
                    (null == c ? void 0 : c(C)) && j(null)
                }), [C, c, f]), (0, v.useEffect)((function() {
                    L(u)
                }), [u]), (0, P.jsx)(b.default, {
                    icon: i,
                    theme: b.IconSectionTheme.NoMargin,
                    content: (0, P.jsx)(T.default, {
                        value: C,
                        editable: !0,
                        maxLength: n,
                        pending: w,
                        inputPlaceholder: r,
                        showRemaining: !0,
                        validate: c,
                        error: E,
                        onChange: x,
                        onSave: (0, s.default)(o.default.mark((function e() {
                            return o.default.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        return L(!0), e.prev = 1, e.next = 4, null == p ? void 0 : p(C);
                                    case 4:
                                        e.next = 9;
                                        break;
                                    case 6:
                                        e.prev = 6, e.t0 = e.catch(1), f && (j(f), _.default.openToast((0, P.jsx)(M.default, {
                                            id: (0, M.genId)(),
                                            msg: f
                                        })));
                                    case 9:
                                        L(!1);
                                    case 10:
                                    case "end":
                                        return e.stop()
                                }
                            }), e, null, [
                                [1, 6]
                            ])
                        }))),
                        onCancel: function() {
                            return x(a)
                        },
                        onError: function() {
                            j(f)
                        },
                        theme: "text-input",
                        onFocus: h,
                        blockFocusOnLock: !!h,
                        lockable: !0
                    })
                })
            }
        },
        43186: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(a(34575)),
                i = n(a(93913)),
                l = n(a(2205)),
                o = n(a(99842)),
                s = n(a(65901)),
                d = n(a(20050)),
                u = n(a(15201)),
                c = a(68985),
                f = n(a(50177)),
                p = n(a(45159)),
                h = n(a(64533)),
                v = n(a(93581)),
                m = a(85893),
                g = function(e) {
                    (0, l.default)(a, e);
                    var t = (0, o.default)(a);

                    function a() {
                        var e;
                        (0, r.default)(this, a);
                        for (var n = arguments.length, i = new Array(n), l = 0; l < n; l++) i[l] = arguments[l];
                        return (e = t.call.apply(t, [this].concat(i))).onClick = function(t, a) {
                            (0, c.findChat)(a.id).then(s.default.openChatFromUnread.bind(s.default)), e.end()
                        }, e.onNewGroup = function() {
                            e.push((0, m.jsx)(v.default, {
                                onBack: e.pop,
                                onContinue: e.onSetGroupInfo
                            }))
                        }, e.onSetGroupInfo = function(t) {
                            e.push((0, m.jsx)(h.default, {
                                participants: t,
                                onBack: function() {
                                    e.popAndUpdate({
                                        participants: t
                                    })
                                },
                                onContinue: e.end
                            }))
                        }, e
                    }
                    return (0, i.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            d.default.ensureSorted(), this.push((0, m.jsx)(u.default, {
                                title: p.default.t(1381),
                                onBack: this.end,
                                onClick: this.onClick,
                                onNewGroup: this.onNewGroup
                            }))
                        }
                    }]), a
                }(f.default);
            t.default = g
        },
        40655: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(a(34575)),
                i = n(a(93913)),
                l = n(a(2205)),
                o = n(a(99842)),
                s = n(a(20050)),
                d = n(a(50177)),
                u = n(a(64533)),
                c = n(a(93581)),
                f = a(85893),
                p = function(e) {
                    (0, l.default)(a, e);
                    var t = (0, o.default)(a);

                    function a() {
                        var e;
                        (0, r.default)(this, a);
                        for (var n = arguments.length, i = new Array(n), l = 0; l < n; l++) i[l] = arguments[l];
                        return (e = t.call.apply(t, [this].concat(i))).onSetGroupInfo = function(t) {
                            e.push((0, f.jsx)(u.default, {
                                participants: t,
                                onBack: function() {
                                    e.popAndUpdate({
                                        participants: t
                                    })
                                },
                                onContinue: e.end
                            }))
                        }, e
                    }
                    return (0, i.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            s.default.ensureSorted(), this.push((0, f.jsx)(c.default, {
                                onBack: this.end,
                                onContinue: this.onSetGroupInfo
                            }))
                        }
                    }]), a
                }(d.default);
            t.default = p
        },
        30055: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = O;
            var r = n(a(81109)),
                i = n(a(87757)),
                l = n(a(48926)),
                o = n(a(34575)),
                s = n(a(93913)),
                d = n(a(2205)),
                u = n(a(99842)),
                c = a(67294),
                f = n(a(96466)),
                p = n(a(25721)),
                h = n(a(87105)),
                v = n(a(44271)),
                m = n(a(20050)),
                g = n(a(96706)),
                _ = n(a(50177)),
                C = a(2629),
                x = a(10951),
                y = n(a(54928)),
                S = a(49942),
                E = n(a(36685)),
                j = n(a(31322)),
                I = n(a(27043)),
                b = n(a(25422)),
                k = n(a(44770)),
                T = n(a(59862)),
                M = n(a(50673)),
                w = a(8297),
                P = a(85893),
                L = function(e) {
                    (0, d.default)(a, e);
                    var t = (0, u.default)(a);

                    function a() {
                        var e;
                        (0, o.default)(this, a);
                        for (var n = arguments.length, r = new Array(n), s = 0; s < n; s++) r[s] = arguments[s];
                        return (e = t.call.apply(t, [this].concat(r))).scrollOffset = 0, e.setScrollOffset = function(t) {
                            e.scrollOffset = t
                        }, e.onCollectionSeeAll = function(t) {
                            var a = e.props,
                                n = a.catalogOwnerJid,
                                r = a.chat,
                                i = a.product,
                                l = a.productInfo,
                                o = a.sellerJid,
                                s = n || (null == i ? void 0 : i.catalogWid.toString()) || (null == l ? void 0 : l.businessOwnerJid) || o;
                            e.push((0, P.jsx)(O, {
                                chat: r,
                                catalogOwnerJid: s,
                                collection: t,
                                isAllItems: !t
                            }))
                        }, e._pushProductDetails = function(t, a) {
                            var n = e.props,
                                r = n.chat,
                                i = n.refreshCarousel,
                                l = (0, P.jsx)(E.default, {
                                    chat: r,
                                    product: t,
                                    onEnd: e._end,
                                    onBack: e._popAndUpdate,
                                    onProductDetail: e.onProductDetail,
                                    onProductCatalog: e.onProductCatalogHeaderClick,
                                    onProductLinkClick: e._onProductLinkClick,
                                    onProductMoreInformation: e.onProductMoreInformation,
                                    refreshCarousel: i,
                                    onCartClick: e._onCartClick,
                                    collectionId: a
                                });
                            e.push(l)
                        }, e._pushProductMoreInformation = function(t) {
                            var a = (0, P.jsx)(T.default, {
                                product: t,
                                onBack: e._popAndUpdate
                            });
                            e.push(a)
                        }, e._pushProductDetailsWithDeepLink = function(t) {
                            var a = (0, P.jsx)(j.default, {
                                chat: e.props.chat,
                                productInfo: t,
                                onEnd: e._end,
                                onBack: e._pop,
                                onProductDetail: e.onProductDetail,
                                onProductCatalog: e.onProductCatalogHeaderClick,
                                onProductLinkClick: e._onProductLinkClick,
                                onProductMoreInformation: e.onProductMoreInformation,
                                onCartClick: e._onCartClick
                            });
                            e.push(a)
                        }, e.pushProductCatalog = function() {
                            var t = (0, l.default)(i.default.mark((function t(a) {
                                var n, r, l;
                                return i.default.wrap((function(t) {
                                    for (;;) switch (t.prev = t.next) {
                                        case 0:
                                            return n = m.default.gadd(a), t.next = 3, f.default.find(a);
                                        case 3:
                                            r = t.sent, l = (0, C.canViewCollections)() ? (0, P.jsx)(h.default, {
                                                contact: n,
                                                onProductDetail: e.onProductDetail,
                                                catalogId: a,
                                                onBack: e._pop,
                                                businessProfile: r,
                                                scrollOffset: e.scrollOffset,
                                                setScrollOffset: e.setScrollOffset,
                                                onCatalogLinkClick: e._onCatalogLinkClick,
                                                onCartClick: e._onCartClick,
                                                onCollectionSeeAll: e.onCollectionSeeAll
                                            }) : (0, P.jsx)(b.default, {
                                                contact: n,
                                                onProductDetail: e.onProductDetail,
                                                catalogId: a,
                                                onBack: e._pop,
                                                businessProfile: r,
                                                setScrollOffset: e.setScrollOffset,
                                                onCatalogLinkClick: e._onCatalogLinkClick,
                                                onCartClick: e._onCartClick
                                            }), e.push(l);
                                        case 6:
                                        case "end":
                                            return t.stop()
                                    }
                                }), t)
                            })));
                            return function() {
                                return t.apply(this, arguments)
                            }
                        }(), e._pushOrderDetail = function(t, a, n, r) {
                            var i = (0, P.jsx)(y.default, {
                                orderId: t,
                                token: a,
                                sellerJid: n,
                                userIsCartOwner: r,
                                onProductDetail: e._onProductDetailFromInfo
                            });
                            e.push(i)
                        }, e._pushProductList = function(t, a) {
                            var n = m.default.gadd(a),
                                r = (0, P.jsx)(k.default, {
                                    contact: n,
                                    productListId: t,
                                    onProductDetail: e.onProductDetail,
                                    onCartClick: e._onCartClick,
                                    onBack: e._pop,
                                    onEnd: e._end,
                                    setScrollOffset: e.setScrollOffset
                                });
                            e.push(r)
                        }, e.onProductDetail = function(t, a) {
                            e._pushProductDetails(t, a)
                        }, e.onProductMoreInformation = function(t) {
                            e._pushProductMoreInformation(t)
                        }, e._onProductDetailFromInfo = function(t) {
                            e._pushProductDetailsWithDeepLink(t)
                        }, e.onProductCatalogHeaderClick = function(t, a) {
                            (0, x.logCarouselViewMoreClick)({
                                catalogOwnerWid: t,
                                catalogContext: a
                            }), e.pushProductCatalog(t)
                        }, e._onProductLinkClick = function(t) {
                            e.push((0, P.jsx)(I.default, {
                                product: t,
                                onBack: e._pop
                            }))
                        }, e._onCatalogLinkClick = function(t, a) {
                            e.push((0, P.jsx)(p.default, {
                                catalog: t,
                                contact: a,
                                onBack: e._pop
                            }))
                        }, e._onCartClick = function(t) {
                            var a = (0, S.getProductCatalogContext)(e.props.context),
                                n = (0, M.default)(t, e.props.chat, a);
                            n && e.push(n)
                        }, e._pop = function() {
                            e.pop()
                        }, e._end = function() {
                            e.end(!0)
                        }, e._popAndUpdate = function() {
                            e.popAndUpdate({
                                scrollOffset: e.scrollOffset
                            })
                        }, e
                    }
                    return (0, s.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this.props,
                                t = e.catalogOwnerJid,
                                a = e.orderId,
                                n = e.product,
                                r = e.productInfo,
                                i = e.productListId,
                                l = e.collection,
                                o = e.collectionId,
                                s = e.isAllItems,
                                d = e.token,
                                u = e.sellerJid,
                                c = e.userIsCartOwner;
                            if (t) l || s ? this.pushCollectionContent((0, w.createWid)(t)) : null != i ? this._pushProductList(i, (0, w.createWid)(t)) : this.pushProductCatalog((0, w.createWid)(t));
                            else if (n) this._pushProductDetails(n, o);
                            else if (r) this._pushProductDetailsWithDeepLink(r);
                            else {
                                if (!a) throw new Error("ProductDetailsFlow:no-product");
                                null != d && null != u && null != c && this._pushOrderDetail(a, d, u, c)
                            }
                        }
                    }, {
                        key: "pushCollectionContent",
                        value: function(e) {
                            var t = m.default.gadd(e);
                            this.push((0, P.jsx)(v.default, {
                                contact: t,
                                onProductDetail: this.onProductDetail,
                                catalogId: e,
                                onBack: this._pop,
                                onCatalogLinkClick: this._onCatalogLinkClick,
                                onCartClick: this._onCartClick,
                                scrollOffset: this.scrollOffset,
                                setScrollOffset: this.setScrollOffset,
                                collection: this.props.collection
                            }))
                        }
                    }]), a
                }(_.default);

            function O(e) {
                var t = (0, c.useContext)(g.default);
                return (0, P.jsx)(L, (0, r.default)({
                    context: t
                }, e))
            }
        },
        98867: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(a(81109)),
                l = r(a(43269)),
                o = r(a(34575)),
                s = r(a(93913)),
                d = r(a(2205)),
                u = r(a(99842)),
                c = r(a(50177)),
                f = r(a(45159)),
                p = n(a(64803)),
                h = r(a(76411)),
                v = r(a(43890)),
                m = a(85893),
                g = function(e) {
                    (0, d.default)(a, e);
                    var t = (0, u.default)(a);

                    function a() {
                        var e;
                        (0, o.default)(this, a);
                        for (var n = arguments.length, r = new Array(n), i = 0; i < n; i++) r[i] = arguments[i];
                        return (e = t.call.apply(t, [this].concat(r)))._handleForwardConfirmed = function(t) {
                            0 === t.length && e.end(), e._chatsToForwardTo = t, e._sendContactToChats(t)
                        }, e._sendContactToChats = function(t) {
                            var a, n = (0, l.default)(t);
                            try {
                                for (n.s(); !(a = n.n()).done;) {
                                    var r = a.value;
                                    (0, h.default)(e.props.contacts, r), r.composeQuotedMsg = null
                                }
                            } catch (e) {
                                n.e(e)
                            } finally {
                                n.f()
                            }
                            e.props.onContactsSent(t[0]), e.end()
                        }, e._popNone = function() {
                            e.pop("none")
                        }, e._handleCancel = function() {
                            e.end()
                        }, e
                    }
                    return (0, s.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = null == this.props.maxItems ? this.props.serverProps.maxParticipants : this.props.maxItems;
                            this.push((0, m.jsx)(p.default, {
                                onConfirm: this._handleForwardConfirmed,
                                maxItems: e,
                                title: f.default.t(1619),
                                listType: p.ListType.CHAT_SELECT_MODAL,
                                onCancel: this._handleCancel
                            }))
                        }
                    }]), a
                }(c.default);
            t.default = function(e) {
                return (0, m.jsx)(g, (0, i.default)((0, i.default)({}, e), {}, {
                    serverProps: v.default
                }))
            }
        },
        12187: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, a = e.chat,
                    n = (0, r.default)(null === (t = a.groupMetadata) || void 0 === t ? void 0 : t.groupInviteLink, "chat.groupMetadata?.groupInviteLink"),
                    s = `${i.default.t(1017)} ${n}`;
                return (0, o.jsx)(l.default, {
                    title: i.default.t(996),
                    text: s,
                    pushTransition: "none",
                    popTransition: "none"
                })
            };
            var r = n(a(48842)),
                i = n(a(45159)),
                l = n(a(8694)),
                o = a(85893)
        },
        42314: (e, t, a) => {
            "use strict";
            var n = a(52108).default,
                r = a(20862),
                i = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var l = i(a(81109)),
                o = i(a(87757)),
                s = i(a(48926)),
                d = i(a(34575)),
                u = i(a(93913)),
                c = i(a(2205)),
                f = i(a(99842)),
                p = a(84533),
                h = i(a(65901)),
                v = i(a(50177)),
                m = i(a(45159)),
                g = r(a(64803)),
                _ = a(43966),
                C = i(a(43890)),
                x = a(85893),
                y = function(e) {
                    (0, c.default)(a, e);
                    var t = (0, f.default)(a);

                    function a() {
                        var e;
                        (0, d.default)(this, a);
                        for (var r = arguments.length, i = new Array(r), l = 0; l < r; l++) i[l] = arguments[l];
                        return (e = t.call.apply(t, [this].concat(i))).onForwardConfirmed = function(t) {
                            var a = e.props.msgText;
                            if (1 === t.length) {
                                var r = t[0];
                                (r.isUser && r.contact.isBlocked() ? (0, p.unblockContact)(r.contact) : n.resolve(!0)).then(function() {
                                    var t = (0, s.default)(o.default.mark((function t() {
                                        return o.default.wrap((function(t) {
                                            for (;;) switch (t.prev = t.next) {
                                                case 0:
                                                    if (!a) {
                                                        t.next = 8;
                                                        break
                                                    }
                                                    if (r.urlText = e.props.urlText, !r.active) {
                                                        t.next = 7;
                                                        break
                                                    }
                                                    return h.default.pasteChatTextInput(r, a), t.abrupt("return");
                                                case 7:
                                                    r.setComposeContents({
                                                        text: a
                                                    });
                                                case 8:
                                                    return t.next = 10, h.default.openChatFromUnread(r);
                                                case 10:
                                                    t.sent && h.default.focusChatTextInput(r);
                                                case 12:
                                                case "end":
                                                    return t.stop()
                                            }
                                        }), t)
                                    })));
                                    return function() {
                                        return t.apply(this, arguments)
                                    }
                                }())
                            } else n.all(t.map((function(t) {
                                (t.isUser && t.contact.isBlocked() ? (0, p.unblockContact)(t.contact) : n.resolve(!0)).then((function() {
                                    t.urlText = e.props.urlText, (0, _.sendTextMsgToChat)(t, a)
                                }))
                            }))), h.default.openChatFromUnread(t[0]);
                            e.end()
                        }, e
                    }
                    return (0, u.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            this.push((0, x.jsx)(g.default, {
                                onConfirm: this.onForwardConfirmed,
                                maxItems: this.props.serverProps.multicastLimitGlobal,
                                title: m.default.t(1291),
                                listType: g.ListType.CHAT_SELECT_MODAL
                            }))
                        }
                    }]), a
                }(v.default);
            t.default = function(e) {
                return (0, x.jsx)(y, (0, l.default)((0, l.default)({}, e), {}, {
                    serverProps: C.default
                }))
            }
        },
        94025: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(a(87757)),
                l = r(a(48926)),
                o = r(a(34575)),
                s = r(a(93913)),
                d = r(a(2205)),
                u = r(a(99842)),
                c = a(84533),
                f = r(a(65901)),
                p = r(a(94253)),
                h = r(a(50177)),
                v = r(a(45159)),
                m = n(a(64803)),
                g = r(a(43890)),
                _ = a(85893),
                C = function(e) {
                    (0, d.default)(a, e);
                    var t = (0, u.default)(a);

                    function a() {
                        var e;
                        (0, o.default)(this, a);
                        for (var n = arguments.length, r = new Array(n), s = 0; s < n; s++) r[s] = arguments[s];
                        return (e = t.call.apply(t, [this].concat(r)))._handleForwardConfirmed = function(t) {
                            t.forEach(function() {
                                var t = (0, l.default)(i.default.mark((function t(a) {
                                    return i.default.wrap((function(t) {
                                        for (;;) switch (t.prev = t.next) {
                                            case 0:
                                                if (!a.isUser || !a.contact.isBlocked()) {
                                                    t.next = 3;
                                                    break
                                                }
                                                return t.next = 3, (0, c.unblockContact)(a.contact);
                                            case 3:
                                                e._sendProduct(a);
                                            case 4:
                                            case "end":
                                                return t.stop()
                                        }
                                    }), t)
                                })));
                                return function() {
                                    return t.apply(this, arguments)
                                }
                            }()), e.end(), 1 === t.length && (f.default.openChatFromUnread(t[0]), window.innerWidth <= p.default.LAYOUT_2COLUMNS_MAX_WIDTH && f.default.closeDrawerRight()), e.props.onSend && e.props.onSend()
                        }, e._handleCancel = function() {
                            e.end()
                        }, e._sendProduct = function(t) {
                            var a = e.props.product;
                            f.default.once("ui_idle", (function() {
                                t.sendProductMessage(a)
                            }))
                        }, e
                    }
                    return (0, s.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            f.default.closeContextMenu(), f.default.closeTooltip(), this.push((0, _.jsx)(m.default, {
                                onConfirm: this._handleForwardConfirmed,
                                maxItems: g.default.multicastLimitGlobal,
                                title: v.default.t(1291),
                                listType: m.ListType.CHAT_SELECT_MODAL,
                                onCancel: this._handleCancel
                            }))
                        }
                    }]), a
                }(h.default);
            t.default = C
        },
        91974: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(a(34575)),
                l = r(a(93913)),
                o = r(a(2205)),
                s = r(a(99842)),
                d = r(a(69237)),
                u = r(a(70135)),
                c = n(a(53758)),
                f = r(a(65901)),
                p = r(a(73929)),
                h = r(a(20050)),
                v = r(a(50177)),
                m = a(1577),
                g = r(a(97437)),
                _ = r(a(51657)),
                C = r(a(76885)),
                x = r(a(71238)),
                y = a(73224),
                S = r(a(30194)),
                E = r(a(43463)),
                j = r(a(77685)),
                I = r(a(48341)),
                b = r(a(59742)),
                k = r(a(30869)),
                T = r(a(55315)),
                M = r(a(75331)),
                w = a(85893),
                P = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, s.default)(a);

                    function a() {
                        var e;
                        (0, i.default)(this, a);
                        for (var n = arguments.length, r = new Array(n), l = 0; l < n; l++) r[l] = arguments[l];
                        return (e = t.call.apply(t, [this].concat(r)))._showWallpaperDrawer = function() {
                            e.push((0, w.jsx)(k.default, {
                                onClose: e._pop
                            }))
                        }, e._showArchiveSettingsDrawer = function() {
                            e.push((0, w.jsx)(d.default, {
                                settings: E.default,
                                onClose: e._pop
                            }))
                        }, e._showBlockedDrawer = function() {
                            e.push((0, w.jsx)(u.default, {
                                onClose: e._pop
                            }))
                        }, e._showProfileDrawer = function() {
                            var t = (0, m.getMaybeMeUser)(),
                                a = I.default.assertGet(t),
                                n = S.default.assertGet(t),
                                r = h.default.assertGet(t);
                            e.push((0, w.jsx)(y.ProfileDrawerFlowLoadable, {
                                status: a,
                                profilePicThumb: n,
                                contact: r,
                                conn: p.default,
                                onClose: e._pop
                            }))
                        }, e._showNotifications = function() {
                            e.push((0, w.jsx)(x.default, {
                                onClose: e._pop
                            }))
                        }, e._showMediaAutoDownload = function() {
                            e.push((0, w.jsx)(C.default, {
                                onClose: e._pop
                            }))
                        }, e._showSecurity = function() {
                            e.push((0, w.jsx)(M.default, {
                                onClose: e._pop
                            }))
                        }, e._showDesktopSettingsDrawer = function() {
                            e.push((0, w.jsx)(T.default, {
                                onClose: e._pop
                            }))
                        }, e._showHelp = function() {
                            c.upload({
                                reason: "help-page-opened",
                                isHighPri: !0
                            }), e.push((0, w.jsx)(g.default, {
                                onClose: e._pop
                            }))
                        }, e._showThemePopup = function() {
                            f.default.openModal((0, w.jsx)(b.default, {}))
                        }, e.showKeyboardShortcuts = function() {
                            f.default.openModal((0, w.jsx)(_.default, {}))
                        }, e._pop = function() {
                            e.pop()
                        }, e
                    }
                    return (0, l.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            this.push((0, w.jsx)(j.default, {
                                profileId: (0, m.getMaybeMeUser)(),
                                onWallpaper: this._showWallpaperDrawer,
                                onBlocked: this._showBlockedDrawer,
                                onProfile: this._showProfileDrawer,
                                onNotifications: this._showNotifications,
                                onMediaAutoDownload: this._showMediaAutoDownload,
                                onSecurity: this._showSecurity,
                                onDesktopSettings: this._showDesktopSettingsDrawer,
                                onHelp: this._showHelp,
                                onThemeSettings: this._showThemePopup,
                                onKeyboardShortcuts: this.showKeyboardShortcuts,
                                onClose: this._pop,
                                settings: E.default,
                                onArchiveSettings: this._showArchiveSettingsDrawer
                            }))
                        }
                    }]), a
                }(v.default);
            t.default = P
        },
        90590: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(a(34575)),
                i = n(a(93913)),
                l = n(a(2205)),
                o = n(a(99842)),
                s = n(a(65901)),
                d = n(a(50177)),
                u = n(a(63641)),
                c = n(a(84224)),
                f = n(a(90796)),
                p = a(85893),
                h = function(e) {
                    (0, l.default)(a, e);
                    var t = (0, o.default)(a);

                    function a() {
                        var e;
                        (0, r.default)(this, a);
                        for (var n = arguments.length, i = new Array(n), l = 0; l < n; l++) i[l] = arguments[l];
                        return (e = t.call.apply(t, [this].concat(i))).sessionId = Math.round(1e9 * Math.random()), e._openStatusViewer = function(t, a, n) {
                            e.push((0, p.jsx)(f.default, {
                                initialStatusV3: t,
                                initialStatusMsg: a,
                                closeStatusViewer: e.closeStatusViewer,
                                sessionId: e.sessionId,
                                rowIdx: n
                            }), "none")
                        }, e.closeStatusViewer = function(t) {
                            t ? e.end() : e.pop("none")
                        }, e
                    }
                    return (0, i.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this;
                            this.push((0, p.jsx)(c.default, {
                                onOpenStatus: this._openStatusViewer,
                                closeStatusViewer: this.closeStatusViewer,
                                sessionId: this.sessionId
                            }), "status-v3-modal"), this.props.listeners.add(s.default, "close_status_viewer", (function() {
                                e.closeStatusViewer(!0)
                            }))
                        }
                    }, {
                        key: "componentWillUnmount",
                        value: function() {
                            this.props.onFlowEnd()
                        }
                    }]), a
                }(d.default),
                v = (0, u.default)(h);
            t.default = v
        },
        72155: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.label,
                    a = e.label,
                    n = (0, c.default)();
                (0, f.useListener)(d.default, `label_updated_${a}`, (function() {
                    n()
                }));
                var r = d.default.get(t);
                if (!r || !r.name) return null;
                if ("label-list" === e.theme) {
                    var h = (0, p.jsx)(u.default, {
                            renderAsCircle: "label-list" === e.theme,
                            theme: e.theme,
                            labels: [t]
                        }),
                        v = (0, p.jsx)(l.default, {
                            text: r.name,
                            ellipsify: !0,
                            titlify: !0
                        });
                    return (0, p.jsx)(i.default, {
                        theme: (0, o.canEditLabel)() ? "chat-checkbox" : void 0,
                        image: h,
                        primary: v,
                        secondary: s.default.t(1109, {
                            count: parseInt(r.count || 0, 10),
                            _plural: parseInt(r.count || 0, 10)
                        })
                    })
                }
                var m = (0, u.renderLabelSvg)(r.hexColor),
                    g = (0, p.jsx)(l.default, {
                        text: r.name,
                        ellipsify: !0,
                        titlify: !0
                    });
                return (0, p.jsx)(i.default, {
                    theme: "label-selection",
                    image: m,
                    primary: g
                })
            };
            var i = r(a(88186)),
                l = r(a(73008)),
                o = a(2629),
                s = r(a(45159)),
                d = r(a(45042)),
                u = n(a(90600)),
                c = r(a(57811)),
                f = a(8413),
                p = a(85893)
        },
        18336: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(a(319)),
                i = n(a(34575)),
                l = n(a(93913)),
                o = n(a(2205)),
                s = n(a(99842)),
                d = a(67294),
                u = n(a(75474)),
                c = n(a(38032)),
                f = a(2629),
                p = n(a(45042)),
                h = n(a(72155)),
                v = n(a(63641)),
                m = n(a(12834)),
                g = a(85893),
                _ = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, s.default)(a);

                    function a() {
                        var e;
                        return (0, i.default)(this, a), (e = t.call(this))._refLastLabel = null, e.updateData = function(t, a, n) {
                            var r = e.props.shouldScrollIntoViewAndSelect;
                            e.setState({
                                labels: p.default.toArray()
                            }, (function() {
                                if (n.add && r) {
                                    var a = r(t.name),
                                        i = a.shouldScrollIntoView,
                                        l = a.shouldSelect;
                                    i && e._refLastLabel && e._refLastLabel.scrollIntoView({
                                        behavior: "smooth"
                                    }), l && e.onMultiSelect(t, !0, !1)
                                }
                            }))
                        }, e._setRefLastLabel = function(t) {
                            e._refLastLabel = t
                        }, e.onMultiSelect = function(t, a, n) {
                            var r = e.props,
                                i = r.selectedLabels,
                                l = r.onMultiSelect;
                            i && i.setVal(t, a, n), l && l(t.id)
                        }, e._renderLabelRow = function() {
                            var t = e.props,
                                a = t.renderContext,
                                n = t.onLabelClick,
                                i = t.initialLabelState,
                                l = void 0 === i ? {} : i,
                                o = e.props.SelectableState || new m.default(!0),
                                s = c.default.supportsFeature(c.default.F.MD_BACKEND) ? (0, r.default)(e.state.labels).sort((function(e, t) {
                                    var a = parseInt(e.id, 10),
                                        n = parseInt(t.id, 10);
                                    return isNaN(a) || isNaN(n) ? 0 : a - n
                                })) : e.state.labels;
                            return s.reduce((function(t, i, d) {
                                var c = p.default.assertGet(i.id);
                                if (!i.name) return t;
                                var v = "label-selection" === a || (0, f.canEditLabel)() ? (0, g.jsx)(u.default, {
                                    theme: a,
                                    model: c,
                                    initialSelection: l[i.id] || 0,
                                    multiSelection: e.props.selectedLabels,
                                    selectableState: o,
                                    onSelect: e.onMultiSelect,
                                    children: (0, g.jsx)(h.default, {
                                        label: i.id
                                    })
                                }) : (0, g.jsx)(h.default, {
                                    label: i.id,
                                    theme: a
                                });
                                return [].concat((0, r.default)(t), [(0, g.jsx)("div", {
                                    ref: d === s.length - 1 ? e._setRefLastLabel : function() {},
                                    onClick: n ? n.bind(null, i.id) : function() {},
                                    children: v
                                }, `label_item_${i.id}`)])
                            }), [])
                        }, e.state = {
                            labels: p.default.toArray()
                        }, e
                    }
                    return (0, l.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            this.props.listeners.add(p.default, "add remove", this.updateData)
                        }
                    }, {
                        key: "render",
                        value: function() {
                            return (0, g.jsx)("div", {
                                children: this._renderLabelRow()
                            })
                        }
                    }]), a
                }(d.PureComponent);
            _.displayName = "MultiSelectLabelList";
            var C = (0, v.default)(_);
            t.default = C
        },
        89811: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), Object.defineProperty(t, "LiveLocationDrawer", {
                enumerable: !0,
                get: function() {
                    return r.default
                }
            }), Object.defineProperty(t, "ExpiredLocationDrawer", {
                enumerable: !0,
                get: function() {
                    return i.default
                }
            });
            var r = n(a(17174)),
                i = n(a(70533))
        },
        44852: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.openMerchantDetailsFormFlow = function() {
                var e = (0, d.getMeUser)();
                o.default.openDrawerLeft((0, f.jsx)(h, {
                    contactId: e
                }))
            }, t.MerchantDetailsFormFlowLoadable = t.requireBundle = void 0;
            var r = n(a(87757)),
                i = n(a(48926)),
                l = n(a(68356)),
                o = n(a(65901)),
                s = n(a(94253)),
                d = a(1577),
                u = n(a(39540)),
                c = n(a(19509)),
                f = a(85893),
                p = (0, c.default)((0, i.default)(r.default.mark((function e() {
                    var t;
                    return r.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2, Promise.all([a.e(7167), a.e(1560), a.e(275)]).then(a.bind(a, 58694));
                            case 2:
                                return t = e.sent, e.abrupt("return", t.default);
                            case 4:
                            case "end":
                                return e.stop()
                        }
                    }), e)
                }))), "MerchantDetailsFormFlow");
            t.requireBundle = p;
            var h = (0, l.default)({
                loader: p,
                loading: function(e) {
                    return (0, f.jsx)(u.default, {
                        error: Boolean(e.error)
                    })
                },
                delay: s.default.LOADABLE_DELAY
            });
            t.MerchantDetailsFormFlowLoadable = h
        },
        5956: (e, t, a) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.CanvasContext = void 0;
            var n = {
                    transforming: !1,
                    dragging: !1,
                    editing: !1
                },
                r = (0, a(67294).createContext)(n);
            t.CanvasContext = r
        },
        22029: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.CanvasLayer = function(e) {
                var t, a, n, r, y = e.layer,
                    S = e.scale,
                    E = e.editing,
                    j = e.selected,
                    I = e.editable,
                    b = e.textBackgroundShadow,
                    k = e.dimension,
                    T = e.selectedGroupRef,
                    M = e.transformerRef,
                    w = e.stageWidth,
                    P = e.stageHeight,
                    L = e.onSelect,
                    O = e.onDoubleClick,
                    D = e.onDragStart,
                    N = e.onDragEnd,
                    R = e.onDragMove,
                    A = e.onTransformStart,
                    F = e.onTransformEnd,
                    B = (0, l.useState)(!1),
                    U = (0, i.default)(B, 2),
                    G = U[0],
                    H = U[1],
                    V = (0, l.useContext)(o.CanvasContext);
                I && j && !E && (a = (0, C.jsx)(m.default, {
                    layer: y
                }), r = (0, C.jsx)(v.Transformer, {
                    ref: M,
                    anchorStroke: "blue",
                    anchorFill: "white",
                    anchorSize: 8,
                    anchorCornerRadius: 4,
                    borderEnabled: !1,
                    centeredScaling: !0,
                    enabledAnchors: ["bottom-right"],
                    resizeEnabled: !0,
                    rotateAnchorOffset: 12,
                    rotateEnabled: !0,
                    rotationSnaps: x,
                    ignoreStroke: !0,
                    rotationSnapTolerance: 10,
                    boundBoxFunc: function(e, t) {
                        var a = t.width / S,
                            n = t.height / S;
                        return y instanceof _.default && (a <= 18 || n <= 18) || a <= 36 || n <= 36 ? e : t
                    }
                }, "transformer"));
                I && G && !j && (n = (0, C.jsx)(d.default, {
                    layer: y
                }));
                y instanceof c.default ? t = (0, C.jsx)(u.default, {
                    layer: y
                }) : y instanceof s.default ? y.type === s.DrawLayerType.Paint ? t = (0, C.jsx)(h.default, {
                    layer: y
                }) : y.type === s.DrawLayerType.Outline && (t = (0, C.jsx)(p.default, {
                    layer: y,
                    dimension: k
                })) : y instanceof _.default && !E && (t = (0, C.jsx)(g.default, {
                    layer: y,
                    shadow: b
                }));
                (0, l.useEffect)((function() {
                    E && H(!1)
                }), [E, H]);
                var W = y.frame.getCenter();
                return (0, C.jsxs)(C.Fragment, {
                    children: [(0, C.jsxs)(v.Group, {
                        ref: j ? T : null,
                        x: W.x,
                        y: W.y,
                        offsetX: y.width / 2,
                        offsetY: y.height / 2,
                        width: y.width,
                        height: y.height,
                        rotation: y.rotation,
                        scaleX: y.scale,
                        scaleY: y.scale,
                        draggable: I,
                        dragBoundFunc: function(e) {
                            var t = e.x,
                                a = e.y;
                            return t < 0 ? t = 0 : t > w && (t = w), a < 0 ? a = 0 : a > P && (a = P), {
                                x: t,
                                y: a
                            }
                        },
                        onMouseEnter: function(e) {
                            !y.editable || V.dragging || V.transforming || (e.cancelBubble = !0, H(!0))
                        },
                        onMouseLeave: function(e) {
                            y.editable && (e.cancelBubble = !0, H(!1))
                        },
                        onMouseDown: function(e) {
                            y.editable && (e.cancelBubble = !0, L(y))
                        },
                        onDblClick: function() {
                            return O(y)
                        },
                        onDragStart: function() {
                            return D(y)
                        },
                        onDragEnd: function(e) {
                            var t = (0, f.getPointFromGroup)(e);
                            N(y, t)
                        },
                        onDragMove: function(e) {
                            return R(y, e)
                        },
                        onTransformStart: function() {
                            return A(y)
                        },
                        onTransformEnd: function(e) {
                            if (j) {
                                var t = (0, f.getRotationFromGroup)(e),
                                    a = (0, f.getScaleFromGroup)(e);
                                F(y, t, a)
                            }
                        },
                        children: [t, a, n]
                    }), r]
                })
            };
            var i = r(a(63038)),
                l = a(67294),
                o = a(5956),
                s = n(a(63204)),
                d = r(a(4392)),
                u = r(a(79446)),
                c = r(a(89826)),
                f = a(76249),
                p = r(a(34330)),
                h = r(a(62451)),
                v = a(51349),
                m = r(a(76909)),
                g = r(a(91278)),
                _ = r(a(73860)),
                C = a(85893),
                x = [0, 45, 90, 135, 180, 225, 270, 315]
        },
        78567: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.EditableText = void 0;
            var r = n(a(81109)),
                i = n(a(63038)),
                l = a(96486),
                o = a(67294),
                s = a(98169),
                d = n(a(52144)),
                u = n(a(79522)),
                c = n(a(10508)),
                f = a(45738),
                p = n(a(45159)),
                h = n(a(7665)),
                v = a(62367),
                m = n(a(16835)),
                g = n(a(93820)),
                _ = n(a(11122)),
                C = n(a(40054)),
                x = n(a(81746)),
                y = a(85893),
                S = 1.2,
                E = (0, u.default)(),
                j = (0, o.forwardRef)((function(e, t) {
                    var a = e.text,
                        n = e.layer,
                        u = e.layerCenter,
                        v = e.scale,
                        j = e.onSave,
                        k = e.onUnselect,
                        T = e.onOutsideClick,
                        M = (0, o.useState)(a),
                        w = (0, i.default)(M, 2),
                        P = w[0],
                        L = w[1],
                        O = (0, o.useState)(),
                        D = (0, i.default)(O, 2),
                        N = D[0],
                        R = D[1],
                        A = (0, o.useRef)(),
                        F = (0, o.useCallback)((function() {
                            j(P.replace(/^\n+/, "").replace(/\n+$/, ""))
                        }), [j, P]);
                    (0, o.useImperativeHandle)(t, (function() {
                        return {
                            save: function() {
                                F(), k()
                            }
                        }
                    }), [F, k]);
                    var B = (0, _.default)((function(e) {
                            N || !1 === (null == T ? void 0 : T(e)) || (F(), k())
                        })),
                        U = function(e) {
                            var t = A.current;
                            t && t.replaceSelection(e)
                        },
                        G = function() {
                            R(null)
                        },
                        H = (0, x.default)((function(e) {
                            R({
                                menu: (0, y.jsx)(c.default, {
                                    onEmoji: U,
                                    onFocusNext: G,
                                    onFocusPrev: G
                                }),
                                anchor: e.target
                            })
                        })),
                        V = (0, i.default)(H, 2),
                        W = V[0],
                        z = V[1];
                    (0, o.useEffect)((function() {
                        var e, t;
                        null === (e = A.current) || void 0 === e || null === (t = e.refInput) || void 0 === t || t.focus()
                    }), []);
                    var K = {
                            borderWidth: 2,
                            padding: n.styles.layerPadding - 2,
                            transform: "scale(1.2)"
                        },
                        Y = {
                            left: u.x * v,
                            top: u.y * v
                        },
                        q = {
                            color: n.textColor.toHex(),
                            fontFamily: (0, f.getFontStyle)(n.font).fontFamily,
                            fontSize: n.fontSize,
                            lineHeight: `${n.lineHeight+2*n.styles.lineVerticalPadding}px`,
                            textAlign: I(n.alignment),
                            paddingLeft: n.styles.lineHorizontalPadding,
                            paddingRight: n.styles.lineHorizontalPadding,
                            borderWidth: 0,
                            borderRadius: 5,
                            margin: 0,
                            boxSizing: "border-box",
                            backgroundColor: n.textBackground ? n.textBackgroundColor.toHex() : void 0
                        },
                        Z = n.styles.backgroundShadow,
                        X = {
                            boxShadow: n.textBackground ? `${Z.offsetX}px ${Z.offsetY}px ${Z.radius}px ${Z.spread}px ${Z.color.toRgbaString()}` : void 0
                        },
                        $ = function(e) {
                            var t = (0, C.default)(e),
                                a = (0, o.useRef)(0);
                            t && !(0, l.isEqual)(t, e) && (a.current += 1);
                            return a.current
                        }(q),
                        J = (0, r.default)((0, r.default)({}, q), {}, {
                            fontSize: 15,
                            paddingRight: 8,
                            fontFamily: void 0
                        }),
                        Q = 20 - n.fontSize,
                        ee = n.styles.lineVerticalPadding - Q,
                        te = `\n    .${d.default.inputContainer} .emoji.emoji.emoji {\n      margin: ${ee}px ${-Q/2}px 0 ${-Q/2}px;\n      transform: scale(${n.fontSize/20});\n    }\n  `;
                    return (0, y.jsxs)("div", {
                        className: d.default.positioner,
                        style: Y,
                        children: [(0, y.jsxs)("div", {
                            className: d.default.container,
                            style: K,
                            children: [(0, y.jsx)("style", {
                                children: te
                            }), (0, y.jsxs)("div", {
                                className: d.default.resizableInput,
                                ref: B,
                                children: [(0, y.jsx)("div", (0, r.default)((0, r.default)({
                                    className: d.default.emojiButton
                                }, z), {}, {
                                    ref: W,
                                    style: {
                                        transform: `scale(${1/S}) translateX(-60%)`,
                                        top: -37.666666666666664
                                    },
                                    children: (0, y.jsx)("div", {
                                        className: d.default.buttonIconWrapper,
                                        children: (0, y.jsx)(h.default, {
                                            name: "smiley"
                                        })
                                    })
                                })), (0, y.jsx)("div", {
                                    className: d.default.inputContainer,
                                    style: X,
                                    children: (0, y.jsx)(E, {
                                        style: q,
                                        ref: A,
                                        initialValue: P,
                                        onChange: function(e) {
                                            var t = e;
                                            t = e.match(/\n\n$/) ? t.replace(/\n\n$/, "\n") : t.replace(/\n$/, ""), L(t)
                                        },
                                        onEnter: F,
                                        multiline: !0,
                                        theme: "media-editor-text-input",
                                        placeholder: p.default.t(1223)
                                    }, $)
                                }), (0, y.jsx)(b, {
                                    layer: n,
                                    text: P || p.default.t(1223),
                                    style: P ? q : J
                                })]
                            })]
                        }), N && (0, y.jsx)(m.default, {
                            displayName: "EmojiPicker",
                            escapable: !0,
                            popable: !0,
                            requestDismiss: G,
                            children: (0, y.jsx)(g.default, {
                                contextMenu: (0, r.default)({
                                    dirY: s.DirY.TOP,
                                    type: "emoji_picker"
                                }, N)
                            })
                        })]
                    })
                }));

            function I(e) {
                switch (e) {
                    case f.TextAlignment.LEFT:
                        return "left";
                    case f.TextAlignment.CENTER:
                        return "center";
                    case f.TextAlignment.RIGHT:
                        return "right"
                }
            }

            function b(e) {
                var t = e.text,
                    a = e.style,
                    n = e.layer;
                return (0, y.jsx)("div", {
                    className: d.default.hiddenText,
                    style: a,
                    children: (0, v.getLines)(t, n.font, n.fontSize, 0).map((function(e, t) {
                        return (0, y.jsx)("div", {
                            className: d.default.hiddenTextLine,
                            children: 0 === e.words.length ? " " : e.words.map((function(e, t) {
                                return e.emojiPath ? (0, y.jsx)("span", {
                                    className: d.default.emojiPlaceholder
                                }, t) : e.text
                            }))
                        }, t)
                    }))
                })
            }
            t.EditableText = j
        },
        4392: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.layer,
                    a = t instanceof i.default && t.isSticker();
                return (0, o.jsx)(l.Rect, {
                    width: t.width,
                    height: t.height,
                    stroke: s.toRgbaString(),
                    strokeWidth: 2,
                    cornerRadius: a ? 40 : 5,
                    strokeScaleEnabled: !1
                })
            };
            var r = n(a(28448)),
                i = n(a(89826)),
                l = a(51349),
                o = a(85893),
                s = new r.default(82, 248, 24, 1)
        },
        79446: (e, t, a) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.layer;
                return (0, r.jsx)(n.Image, {
                    width: t.width,
                    height: t.height,
                    image: t.image
                })
            };
            var n = a(51349),
                r = a(85893)
        },
        7844: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(a(81109)),
                i = n(a(43269)),
                l = n(a(34575)),
                o = n(a(93913)),
                s = n(a(2205)),
                d = n(a(99842)),
                u = a(96486),
                c = a(67294),
                f = a(5956),
                p = a(22029),
                h = n(a(28448)),
                v = a(78567),
                m = n(a(79446)),
                g = a(76249),
                _ = n(a(20306)),
                C = n(a(97678)),
                x = a(51349),
                y = n(a(73860)),
                S = a(55072),
                E = n(a(55225)),
                j = a(85893),
                I = "#52F818",
                b = function(e) {
                    (0, s.default)(a, e);
                    var t = (0, d.default)(a);

                    function a() {
                        var e;
                        (0, l.default)(this, a);
                        for (var n = arguments.length, r = new Array(n), o = 0; o < n; o++) r[o] = arguments[o];
                        return (e = t.call.apply(t, [this].concat(r))).state = {
                            guides: {
                                horizontal: null,
                                vertical: null
                            },
                            dragging: !1
                        }, e._setRefStage = function(t) {
                            e._refStage = t
                        }, e._setRefSelectedGroup = function(t) {
                            e._refSelectedGroup = t
                        }, e._setRefTransformer = function(t) {
                            e._refTransformer = t
                        }, e._setRefGuidesLayer = function(t) {
                            e._refGuidesLayer = t
                        }, e._refTransparentGrid = (0, c.createRef)(), e._refPaintOverlay = (0, c.createRef)(), e._refEditableText = (0, c.createRef)(), e._canvasContext = {
                            dragging: !1,
                            transforming: !1,
                            editing: !1
                        }, e._hideEditingState = function() {
                            var t, a, n, r, i, l, o, s, d, u;
                            null === (t = e._refTransformer) || void 0 === t || t.hide(), null === (a = e._refSelectedGroup) || void 0 === a || null === (n = a.getChildren()[1]) || void 0 === n || n.hide(), null === (r = e._refSelectedGroup) || void 0 === r || null === (i = r.getChildren()[2]) || void 0 === i || i.hide(), null === (l = e._refGuidesLayer) || void 0 === l || l.hide(), null === (o = e._refPaintOverlay.current) || void 0 === o || o.toggleCursor(!1), null === (s = e._refTransformer) || void 0 === s || null === (d = s.getLayer()) || void 0 === d || d.batchDraw(), null === (u = e._refTransparentGrid.current) || void 0 === u || u.hide()
                        }, e._showEditingState = function() {
                            var t, a, n, r, i, l, o, s, d, u;
                            null === (t = e._refTransformer) || void 0 === t || t.show(), null === (a = e._refSelectedGroup) || void 0 === a || null === (n = a.getChildren()[1]) || void 0 === n || n.show(), null === (r = e._refSelectedGroup) || void 0 === r || null === (i = r.getChildren()[2]) || void 0 === i || i.show(), null === (l = e._refGuidesLayer) || void 0 === l || l.show(), null === (o = e._refPaintOverlay.current) || void 0 === o || o.toggleCursor(!0), null === (s = e._refTransformer) || void 0 === s || null === (d = s.getLayer()) || void 0 === d || d.batchDraw(), null === (u = e._refTransparentGrid.current) || void 0 === u || u.show()
                        }, e._handleMouseDown = function(t) {
                            e.props.currentlyEditingTextLayer || (0, g.isEventOnAnchor)(t) || e.props.onLayerUnselect()
                        }, e._handleDragStart = function() {
                            e._canvasContext.dragging = !0, e.setState({
                                dragging: !0
                            })
                        }, e._handleDragEnd = function(t, a) {
                            e._canvasContext.dragging = !1, e.props.onLayerTranslate(t, a), e.setState({
                                guides: {
                                    vertical: null,
                                    horizontal: null
                                },
                                dragging: !1
                            })
                        }, e._handleTransformStart = function() {
                            e._canvasContext.transforming = !0
                        }, e._handleTransformEnd = function(t, a, n) {
                            e._canvasContext.transforming = !1, e.props.onLayerTransform(t, a, n)
                        }, e._handleDragMove = function(t, a) {
                            for (var n, r, l, o, s = [{
                                    position: e.getStage().width() / 2,
                                    orientation: "v"
                                }, {
                                    position: e.getStage().height() / 2,
                                    orientation: "h"
                                }], d = a.target, c = d.absolutePosition(), f = [], p = 0, h = [{
                                    position: c.y,
                                    orientation: "h"
                                }, {
                                    position: c.x,
                                    orientation: "v"
                                }]; p < h.length; p++) {
                                var v, m = h[p],
                                    g = (0, i.default)(s);
                                try {
                                    for (g.s(); !(v = g.n()).done;) {
                                        var _ = v.value;
                                        if (m.orientation === _.orientation) {
                                            var C = Math.abs(_.position - m.position);
                                            C <= 15 && f.push({
                                                guide: _,
                                                distance: C
                                            })
                                        }
                                    }
                                } catch (e) {
                                    g.e(e)
                                } finally {
                                    g.f()
                                }
                            }
                            f.sort((function(e, t) {
                                return e.distance - t.distance
                            }));
                            for (var x = null, y = null, S = 0, E = f; S < E.length; S++) {
                                var j = E[S].guide;
                                "v" !== j.orientation || x ? "h" !== j.orientation || y || (y = j) : x = j
                            }
                            d.absolutePosition({
                                x: null !== (n = null === (r = x) || void 0 === r ? void 0 : r.position) && void 0 !== n ? n : c.x,
                                y: null !== (l = null === (o = y) || void 0 === o ? void 0 : o.position) && void 0 !== l ? l : c.y
                            });
                            var I = {
                                horizontal: y,
                                vertical: x
                            };
                            (0, u.isEqual)(e.state.guides, I) || e.setState({
                                guides: I
                            })
                        }, e._handleDoubleClick = function(t) {
                            t instanceof y.default && e.props.onTextEditingStart(t)
                        }, e._handleTextSave = function(t) {
                            e.props.draftTextLayer && e.props.onTextEditingEnd(e.props.draftTextLayer, t)
                        }, e._handleSelect = function(t) {
                            e.props.onLayerSelect(t)
                        }, e._renderEditableText = function() {
                            var t = e.props.draftTextLayer;
                            if (!t) return null;
                            var a = e.props.data.toScreenPoint(t.frame.getCenter());
                            return (0, j.jsx)(v.EditableText, {
                                ref: e._refEditableText,
                                layer: t,
                                layerCenter: a,
                                text: t.text,
                                scale: e.props.scale,
                                onSave: e._handleTextSave,
                                onUnselect: e.props.onLayerUnselect,
                                onOutsideClick: e.props.onTextInputOutsideClick
                            })
                        }, e._renderLayer = function(t) {
                            var a = e.props.data,
                                n = e.props.currentlyEditingTextLayer,
                                r = a.selectedLayer === t && n !== t,
                                i = e.props.scale,
                                l = e.props.data.screenWidth * i,
                                o = e.props.data.screenHeight * i,
                                s = a.cropSize.dimension,
                                d = t.editable && e.props.canEditLayer && !e.props.inPaintMode && !e.props.inOutlineMode && !e.props.currentlyEditingTextLayer;
                            return (0, j.jsx)(p.CanvasLayer, {
                                layer: t,
                                scale: i,
                                textBackgroundShadow: !e.state.dragging,
                                dimension: s,
                                editing: n === t,
                                selected: r,
                                editable: d,
                                stageHeight: o,
                                stageWidth: l,
                                selectedGroupRef: e._setRefSelectedGroup,
                                transformerRef: e._setRefTransformer,
                                onSelect: e._handleSelect,
                                onDoubleClick: e._handleDoubleClick,
                                onDragMove: e._handleDragMove,
                                onDragStart: e._handleDragStart,
                                onDragEnd: e._handleDragEnd,
                                onTransformStart: e._handleTransformStart,
                                onTransformEnd: e._handleTransformEnd
                            }, String(t.id))
                        }, e
                    }
                    return (0, o.default)(a, [{
                        key: "componentDidUpdate",
                        value: function() {
                            var e, t, a;
                            this._refSelectedGroup && (null === (e = this._refTransformer) || void 0 === e || e.nodes([this._refSelectedGroup]), null === (t = this._refTransformer) || void 0 === t || null === (a = t.getLayer()) || void 0 === a || a.batchDraw())
                        }
                    }, {
                        key: "getStage",
                        value: function() {
                            if (!this._refStage) throw new Error("MediaEditorCanvas:stage is not initialized");
                            return this._refStage.getStage()
                        }
                    }, {
                        key: "getDataUrl",
                        value: function() {
                            this._hideEditingState();
                            var e = this.getStage().toDataURL({
                                mimetype: "image/png",
                                quality: 1,
                                pixelRatio: 1 / this.props.scale
                            });
                            return this._showEditingState(), e
                        }
                    }, {
                        key: "endTextEditing",
                        value: function() {
                            var e;
                            null === (e = this._refEditableText.current) || void 0 === e || e.save()
                        }
                    }, {
                        key: "_getCursor",
                        value: function() {
                            return this.props.inPaintMode ? "none" : this.props.inOutlineMode ? "crosshair" : "default"
                        }
                    }, {
                        key: "_renderGuides",
                        value: function() {
                            var e = this.state.guides,
                                t = e.vertical,
                                a = e.horizontal;
                            if (!t && !a) return null;
                            var n = this.getStage(),
                                r = this.props.scale;
                            return (0, j.jsxs)(x.Layer, {
                                ref: this._setRefGuidesLayer,
                                children: [t && (0, j.jsx)(x.Line, {
                                    x: t.position / r,
                                    y: 0,
                                    points: [0, 0, 0, n.height() / r],
                                    stroke: I,
                                    strokeWidth: 1,
                                    strokeScaleEnabled: !1
                                }, "vertical"), a && (0, j.jsx)(x.Line, {
                                    x: 0,
                                    y: a.position / r,
                                    points: [0, 0, n.width() / r, 0],
                                    stroke: I,
                                    strokeWidth: 1,
                                    strokeScaleEnabled: !1
                                }, "horizontal")]
                            }, "guides")
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e, t = this.props,
                                a = t.data,
                                n = t.inPaintMode,
                                i = t.inOutlineMode,
                                l = t.paintColor,
                                o = t.paintThickness,
                                s = t.outlineEnabled,
                                d = this.props.scale,
                                u = a.screenWidth / 2,
                                c = a.screenHeight / 2,
                                p = a.toScreenPoint(a.cropCenter),
                                h = a.toScreenPoint(a.canvasCenter),
                                v = u - (p.x - h.x),
                                g = c - (p.y - h.y);
                            return (0, j.jsxs)(j.Fragment, {
                                children: [(0, j.jsx)(x.Stage, {
                                    ref: this._setRefStage,
                                    width: a.screenWidth * d,
                                    height: a.screenHeight * d,
                                    onMouseDown: this._handleMouseDown,
                                    scaleX: d,
                                    scaleY: d,
                                    style: (0, r.default)({
                                        cursor: this._getCursor()
                                    }, null !== (e = this.props.style) && void 0 !== e ? e : {}),
                                    children: (0, j.jsxs)(f.CanvasContext.Provider, {
                                        value: this._canvasContext,
                                        children: [s && (0, j.jsx)(x.Layer, {
                                            x: v,
                                            y: g,
                                            offsetX: a.width / 2,
                                            offsetY: a.height / 2,
                                            rotation: a.rotation,
                                            children: (0, j.jsx)(E.default, {
                                                ref: this._refTransparentGrid,
                                                width: a.width,
                                                height: a.height
                                            })
                                        }, "transparent"), a.background && (0, j.jsxs)(x.Layer, {
                                            x: v,
                                            y: g,
                                            offsetX: a.width / 2,
                                            offsetY: a.height / 2,
                                            rotation: a.rotation,
                                            children: [(0, j.jsx)(m.default, {
                                                layer: a.background
                                            }), s && !i && this._renderLayer(a.outlineLayer)]
                                        }, "background"), (0, j.jsxs)(x.Layer, {
                                            x: v,
                                            y: g,
                                            offsetX: a.width / 2,
                                            offsetY: a.height / 2,
                                            rotation: a.rotation,
                                            children: [a.paintLayer && this._renderLayer(a.paintLayer), a.layers.map(this._renderLayer)]
                                        }, "edits"), this._renderGuides(), n && (0, j.jsx)(C.default, {
                                            ref: this._refPaintOverlay,
                                            width: a.screenWidth,
                                            height: a.screenHeight,
                                            scale: d,
                                            pathStyle: {
                                                color: l,
                                                thickness: (0, S.getThicknessValue)(o)
                                            },
                                            data: a,
                                            onDrawEnd: this.props.onPaintDrawEnd
                                        }), i && (0, j.jsx)(_.default, {
                                            width: a.screenWidth,
                                            height: a.screenHeight,
                                            scale: d,
                                            data: a,
                                            onDrawEnd: this.props.onOutlineDrawEnd,
                                            onDone: this.props.onOutlineDone
                                        })]
                                    })
                                }), this._renderEditableText()]
                            })
                        }
                    }]), a
                }(c.Component);
            t.default = b, b.defaultProps = {
                inPaintMode: !1,
                inOutlineMode: !1,
                paintColor: h.default.White,
                paintThickness: S.THICKNESS.MEDIUM,
                canEditLayer: !0,
                outlineEnabled: !1,
                currentlyEditingTextLayer: null,
                draftTextLayer: null,
                onLayerSelect: function() {},
                onLayerUnselect: function() {},
                onLayerTranslate: function() {},
                onLayerTransform: function() {},
                onTextEditingStart: function() {},
                onTextEditingEnd: function() {},
                onTextInputOutsideClick: function() {
                    return !0
                },
                onPaintDrawEnd: function() {},
                onOutlineDrawEnd: function() {},
                onOutlineDone: function() {}
            }, b.displayName = "MediaEditorCanvas"
        },
        34330: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.layer,
                    a = e.dimension,
                    n = t.getAllPoints().flatMap((function(e) {
                        return [e.x, e.y]
                    })),
                    o = a / r.default.STICKER_DIMENSION,
                    s = 2 * r.default.STICKER_BORDER_WIDTH * o;
                return (0, l.jsxs)(i.Group, {
                    width: t.width,
                    height: t.height,
                    children: [(0, l.jsx)(i.Line, {
                        points: n,
                        closed: !0,
                        fill: "white",
                        lineCap: "round",
                        lineJoin: "round",
                        tension: .5,
                        globalCompositeOperation: "destination-in"
                    }), (0, l.jsx)(i.Line, {
                        points: n,
                        closed: !0,
                        lineCap: "round",
                        lineJoin: "round",
                        tension: .5,
                        stroke: "rgb(255,255,255)",
                        strokeWidth: s,
                        globalCompositeOperation: "destination-over"
                    })]
                })
            };
            var r = n(a(94253)),
                i = a(51349),
                l = a(85893)
        },
        20306: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, a = e.width,
                    n = e.height,
                    c = e.scale,
                    f = e.data,
                    p = e.onDrawEnd,
                    h = e.onDone,
                    v = (0, l.useRef)(),
                    m = (0, s.default)({
                        onDrawEnd: p,
                        onMouseDown: function(e) {
                            ["dot-first", "dot-last"].includes(e.target.name()) && (h(), e.evt.preventDefault())
                        },
                        data: f,
                        stage: null === (t = v.current) || void 0 === t ? void 0 : t.getStage(),
                        minPointDistance: 12 / c,
                        clickThreshold: 200
                    }),
                    g = m.cursorPosition,
                    _ = m.points,
                    C = m.handlers,
                    x = f.outlineLayer.getAllPoints().concat(_),
                    y = (0, i.default)(x);
                g && y.push(g);
                y.length && (y.unshift(y[0]), y.push(y[y.length - 1]));
                var S = y.flatMap((function(e) {
                        return [e.x, e.y]
                    })),
                    E = 3 / c;
                return (0, d.jsxs)(o.Layer, (0, r.default)((0, r.default)({
                    ref: v
                }, C), {}, {
                    width: a,
                    height: n,
                    children: [(0, d.jsx)(o.Rect, {
                        x: 0,
                        y: 0,
                        width: a,
                        height: n,
                        fill: "#0E41f6",
                        opacity: .4
                    }), (0, d.jsx)(o.Line, {
                        points: S,
                        lineCap: "round",
                        lineJoin: "round",
                        closed: !0,
                        fill: "white",
                        globalCompositeOperation: "destination-out",
                        tension: .4
                    }), (0, d.jsx)(o.Line, {
                        points: S,
                        lineCap: "round",
                        lineJoin: "round",
                        stroke: "#FA6533",
                        strokeWidth: E,
                        dash: [12 / c, 6 / c],
                        tension: .4
                    }), x.map((function(e, t) {
                        return (0, d.jsx)(o.Circle, {
                            name: u(t, x.length),
                            x: e.x,
                            y: e.y,
                            radius: E,
                            stroke: "white"
                        }, t)
                    }))]
                }), "paintCursor")
            };
            var r = n(a(81109)),
                i = n(a(319)),
                l = a(67294),
                o = a(51349),
                s = n(a(95575)),
                d = a(85893);

            function u(e, t) {
                return 0 === e ? "dot-first" : e === t - 1 ? "dot-last" : `dot-${e}`
            }
        },
        62451: (e, t, a) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.layer,
                    a = (0, n.useMemo)((function() {
                        var e = document.createElement("canvas");
                        return e.width = Math.max(t.width, 1), e.height = Math.max(t.height, 1), e
                    }), [t.width, t.height]),
                    l = (0, n.useRef)();
                return (0, n.useEffect)((function() {
                    var e, n;
                    a.getContext("2d").clearRect(0, 0, a.width, a.height), t.paths.forEach((function(e) {
                        return function(e, t) {
                            var a = t.points;
                            if (!a.length) return;
                            var n = e.getContext("2d"),
                                r = {
                                    color: t.color,
                                    thickness: t.thickness
                                };
                            (function(e, t) {
                                e.lineCap = "round", e.lineJoin = "round", e.lineWidth = t.thickness, e.strokeStyle = t.color.toHex()
                            })(n, r), n.beginPath(), n.moveTo(a[0].x, a[0].y), t.points.slice(1).forEach((function(e) {
                                return n.lineTo(e.x, e.y)
                            })), n.stroke()
                        }(a, e)
                    })), null === (e = l.current) || void 0 === e || null === (n = e.getLayer()) || void 0 === n || n.batchDraw()
                }), [t.paths, a]), (0, i.jsx)(r.Image, {
                    ref: l,
                    width: t.width,
                    height: t.height,
                    image: a
                })
            };
            var n = a(67294),
                r = a(51349),
                i = a(85893)
        },
        97678: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(a(81109)),
                i = a(67294),
                l = a(51349),
                o = n(a(95575)),
                s = a(85893),
                d = function(e, t) {
                    var a, n = e.width,
                        d = e.height,
                        u = (e.scale, e.pathStyle),
                        c = e.data,
                        f = e.onDrawEnd,
                        p = (0, i.useRef)(),
                        h = (0, i.useRef)();
                    (0, i.useImperativeHandle)(t, (function() {
                        return {
                            toggleCursor: function(e) {
                                var t = h.current;
                                t && (e ? t.show() : t.hide())
                            }
                        }
                    }));
                    var v = (0, o.default)({
                            onDrawEnd: f,
                            data: c,
                            pathStyle: u,
                            stage: null === (a = p.current) || void 0 === a ? void 0 : a.getStage()
                        }),
                        m = v.cursorPosition,
                        g = v.points,
                        _ = v.handlers,
                        C = g.flatMap((function(e) {
                            return [e.x, e.y]
                        }));
                    return (0, s.jsxs)(l.Layer, (0, r.default)((0, r.default)({
                        ref: p
                    }, _), {}, {
                        width: n,
                        height: d,
                        children: [(0, s.jsx)(l.Rect, {
                            width: n,
                            height: d,
                            fill: "rgba(0, 0, 0, 0)"
                        }), m && (0, s.jsx)(l.Circle, {
                            ref: h,
                            x: m.x,
                            y: m.y,
                            radius: u.thickness / 2,
                            fill: u.color.toRgbaString()
                        }), (0, s.jsx)(l.Line, {
                            points: C,
                            lineCap: "round",
                            lineJoin: "round",
                            stroke: u.color.toRgbaString(),
                            strokeWidth: u.thickness
                        })]
                    }), "paintCursor")
                },
                u = (0, i.forwardRef)(d);
            t.default = u
        },
        76909: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.layer,
                    a = t instanceof i.default && t.isSticker();
                return (0, o.jsx)(o.Fragment, {
                    children: (0, o.jsx)(l.Rect, {
                        width: t.width,
                        height: t.height,
                        fill: d.toRgbaString(),
                        stroke: s.toRgbaString(),
                        strokeWidth: 2,
                        cornerRadius: a ? 40 : 5,
                        strokeScaleEnabled: !1
                    })
                })
            };
            var r = n(a(28448)),
                i = n(a(89826)),
                l = a(51349),
                o = a(85893),
                s = new r.default(82, 248, 24, 1),
                d = new r.default(82, 248, 24, .1)
        },
        91278: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.layer,
                    a = e.shadow,
                    n = function(e) {
                        var t, a = [],
                            n = (0, i.default)(e);
                        try {
                            for (n.s(); !(t = n.n()).done;) {
                                var s, d = t.value,
                                    u = (0, i.default)(d.words);
                                try {
                                    for (u.s(); !(s = u.n()).done;) {
                                        var c = s.value.emojiPath;
                                        c && a.push(c)
                                    }
                                } catch (e) {
                                    u.e(e)
                                } finally {
                                    u.f()
                                }
                            }
                        } catch (e) {
                            n.e(e)
                        } finally {
                            n.f()
                        }
                        return f = a, p = (0, l.default)(new Set(f)), h = p.join(""), v = (0, o.useRef)({}), m = (0, o.useState)(0), g = (0, r.default)(m, 2)[1], (0, o.useEffect)((function() {
                            v.current = {}, g(0), p.forEach((function(e) {
                                var t = new Image;
                                t.onload = function() {
                                    v.current[e] = t, g(Object.keys(v.current).length)
                                }, t.src = e
                            }))
                        }), [g, h]), v.current;
                        var f, p, h, v, m, g
                    }(t.lines),
                    f = function(e) {
                        var a = Math.max.apply(Math, (0, l.default)(t.lineWidths)),
                            r = 0;
                        switch (t.alignment) {
                            case s.TextAlignment.LEFT:
                                r = 0;
                                break;
                            case s.TextAlignment.CENTER:
                                r = (a - e.width) / 2;
                                break;
                            case s.TextAlignment.RIGHT:
                                r = a - e.width
                        }
                        var i = 0;
                        return e.words.map((function(e, a) {
                            var l, o = e.text,
                                f = e.emojiPath,
                                p = e.width,
                                h = r + t.styles.lineHorizontalPadding + i,
                                v = t.styles.lineVerticalPadding;
                            if (f) {
                                var m = n[f];
                                l = m ? (0, c.jsx)(d.Image, {
                                    x: h,
                                    y: v,
                                    width: t.lineHeight,
                                    height: t.lineHeight,
                                    image: m
                                }, a) : (0, c.jsx)(d.Rect, {
                                    x: h,
                                    y: v,
                                    width: t.lineHeight,
                                    height: t.lineHeight,
                                    fill: "rgba(0,0,0,0)"
                                }, a)
                            } else {
                                var g = (0, u.getTextBounds)(t.font, t.fontSize);
                                l = (0, c.jsx)(c.Fragment, {
                                    children: (0, c.jsx)(d.Text, {
                                        x: h,
                                        y: v - g.top + (g.top + g.bottom) / 2,
                                        width: p,
                                        height: t.lineHeight,
                                        text: o,
                                        fill: t.textColor.toHex(),
                                        fontFamily: (0, s.getFontStyle)(t.font).fontFamily,
                                        fontSize: t.fontSize
                                    }, a)
                                })
                            }
                            return i += p, l
                        }))
                    },
                    p = t.lines.map((function(e, a) {
                        var n = e.width + 2 * t.styles.lineHorizontalPadding,
                            r = t.lineHeight + 2 * t.styles.lineVerticalPadding;
                        return (0, c.jsx)(d.Group, {
                            width: n,
                            height: r,
                            y: a * r,
                            children: f(e)
                        }, a)
                    })),
                    h = t.styles.backgroundShadow;
                return (0, c.jsx)(d.Group, {
                    visible: 0 !== t.width,
                    width: t.width,
                    height: t.height,
                    children: (0, c.jsxs)(d.Group, {
                        x: t.styles.layerPadding,
                        y: t.styles.layerPadding,
                        children: [t.textBackground && (a ? (0, c.jsx)(d.Path, {
                            data: t.backgroundPath,
                            stroke: t.textBackgroundColor.toHex(),
                            fill: t.textBackgroundColor.toHex(),
                            shadowColor: h.color.toHex(),
                            shadowBlur: h.radius,
                            shadowOffset: {
                                x: h.offsetX,
                                y: h.offsetY
                            },
                            shadowOpacity: h.color.alpha
                        }, "1") : (0, c.jsx)(d.Path, {
                            data: t.backgroundPath,
                            stroke: t.textBackgroundColor.toHex(),
                            fill: t.textBackgroundColor.toHex()
                        }, "2")), p]
                    })
                })
            };
            var r = n(a(63038)),
                i = n(a(43269)),
                l = n(a(319)),
                o = a(67294),
                s = a(45738),
                d = a(51349),
                u = a(62367),
                c = a(85893)
        },
        55225: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = a(67294),
                i = n(a(28448)),
                l = a(51349),
                o = a(85893),
                s = new i.default(230, 230, 230).toRgbString(),
                d = new i.default(255, 255, 255).toRgbString();

            function u(e, t) {
                var a = e.width,
                    n = e.height,
                    i = (0, r.useRef)();
                (0, r.useImperativeHandle)(t, (function() {
                    return {
                        hide: function() {
                            var e;
                            null === (e = i.current) || void 0 === e || e.hide()
                        },
                        show: function() {
                            var e;
                            null === (e = i.current) || void 0 === e || e.show()
                        }
                    }
                }));
                var u = (0, r.useMemo)((function() {
                    var e = document.createElement("canvas");
                    return e.width = Math.max(a, 1), e.height = Math.max(n, 1), e
                }), [a, n]);
                return (0, r.useEffect)((function() {
                    var e, t, r = u.getContext("2d");
                    r.clearRect(0, 0, u.width, u.height);
                    for (var l = 20, o = Math.ceil(a / l), c = Math.ceil(n / l), f = 0; f < c; f++)
                        for (var p = 0; p < o; p++) {
                            var h = (f + p) % 2 == 0 ? d : s;
                            r.beginPath(), r.rect(p * l, f * l, l, l), r.fillStyle = h, r.fill()
                        }
                    null === (e = i.current) || void 0 === e || null === (t = e.getLayer()) || void 0 === t || t.batchDraw()
                }), [u, a, n]), (0, o.jsx)(l.Image, {
                    ref: i,
                    width: a,
                    height: n,
                    image: u
                })
            }
            var c = (0, r.forwardRef)(u);
            t.default = c
        },
        95575: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.onDrawEnd,
                    a = e.onMouseDown,
                    n = e.data,
                    c = (e.endOnMouseLeave, e.minPointDistance),
                    f = void 0 === c ? 0 : c,
                    p = e.clickThreshold,
                    h = void 0 === p ? 0 : p,
                    v = e.pathStyle,
                    m = void 0 === v ? {} : v,
                    g = e.stage,
                    _ = (0, l.useState)(),
                    C = (0, i.default)(_, 2),
                    x = C[0],
                    y = C[1],
                    S = (0, l.useRef)([]),
                    E = (0, l.useRef)(!1),
                    j = (0, s.default)(),
                    I = (0, d.default)(h);
                return (0, u.useListener)(window, "mouseup", (function() {
                    if (E.current = !1, 0 !== S.current.length) {
                        var e = S.current.map((function(e) {
                            return n.toCanvasPoint(e)
                        }));
                        t((0, r.default)({
                            points: e
                        }, m)), S.current = [], j()
                    }
                })), (0, u.useListener)(window, "mousemove", (function(e) {
                    var t = (0, o.getPointFromStage)(e, g);
                    if (y(t), E.current) {
                        var a = S.current,
                            n = a[a.length - 1];
                        (!n || n.distance(t) >= f && I()) && a.push(t)
                    }
                })), {
                    cursorPosition: x,
                    points: S.current,
                    handlers: {
                        onMouseDown: function(e) {
                            if (null == a || a(e), !e.evt.defaultPrevented) {
                                var t = (0, o.getPointFromStage)(e.evt, g);
                                S.current.push(t), E.current = !0
                            }
                        }
                    }
                }
            };
            var r = n(a(81109)),
                i = n(a(63038)),
                l = a(67294),
                o = a(76249),
                s = n(a(57811)),
                d = n(a(95081)),
                u = a(8413)
        },
        38053: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(a(59713)),
                i = n(a(34575)),
                l = n(a(93913)),
                o = n(a(2205)),
                s = n(a(99842)),
                d = n(a(94184)),
                u = a(67294),
                c = n(a(51241)),
                f = n(a(94253)),
                p = a(98169),
                h = n(a(10508)),
                v = a(27968),
                m = n(a(50907)),
                g = n(a(45159)),
                _ = n(a(4313)),
                C = n(a(43890)),
                x = a(23932),
                y = n(a(7665)),
                S = n(a(16835)),
                E = n(a(93820)),
                j = a(52546),
                I = a(85893),
                b = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, s.default)(a);

                    function a(e) {
                        var n;
                        return (0, i.default)(this, a), (n = t.call(this, e)).setRefInput = function(e) {
                            n.refInput = e, n.props.setCaptionInputRef(e)
                        }, n.setRefEmojiPicker = function(e) {
                            n.refEmojiPicker = e
                        }, n.restoreFocus = function() {
                            n.refInput && n.refInput.focus()
                        }, n.handleReset = function() {
                            n.refInput && n.refInput.reset(), n.restoreFocus()
                        }, n.handleEmojiPickerClose = function() {
                            n.setState({
                                emojiPicker: null
                            })
                        }, n.handleEmoji = function(e) {
                            var t = n.refInput;
                            t && (t.focus(!1), t.replaceSelection(e))
                        }, n.handleEmojiPicker = function(e) {
                            e.preventDefault(), e.stopPropagation();
                            var t = (0, I.jsx)(h.default, {
                                onEmoji: n.handleEmoji,
                                onFocusNext: n.restoreFocus,
                                onFocusPrev: n.restoreFocus
                            });
                            n.setState({
                                emojiPicker: {
                                    menu: t,
                                    dirY: p.DirY.TOP,
                                    type: "emoji_picker",
                                    anchor: e.target
                                }
                            }), n.restoreFocus()
                        }, n.handleEnter = function(e) {
                            n.refInput && n.refInput.isFocused() && n.props.onEnter(e)
                        }, n.state = {
                            emojiPicker: null
                        }, n
                    }
                    return (0, l.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            this.restoreFocus()
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e, t = this.state.emojiPicker,
                                a = this.props.caption,
                                n = (0, j.numCodepoints)(this.props.caption || ""),
                                i = f.default.MAX_CAPTION_LENGTH - n < 50,
                                l = (0, I.jsx)("div", {
                                    role: "button",
                                    className: m.default.inputEmoji,
                                    onClick: this.handleEmojiPicker,
                                    children: (0, I.jsx)(y.default, {
                                        name: "emoji-input"
                                    })
                                }),
                                o = a && "" !== a ? (0, I.jsx)("div", {
                                    role: "button",
                                    className: m.default.clearBtn,
                                    onClick: this.handleReset,
                                    children: (0, I.jsx)(y.default, {
                                        name: "x-alt"
                                    })
                                }) : null,
                                s = i && (0, I.jsx)("div", {
                                    className: m.default.charCounter,
                                    children: g.default.n(f.default.MAX_CAPTION_LENGTH - n)
                                }),
                                u = null;
                            return t && (u = (0, I.jsx)(S.default, {
                                displayName: "EmojiPicker",
                                escapable: !0,
                                popable: !0,
                                ref: this.setRefEmojiPicker,
                                requestDismiss: this.handleEmojiPickerClose,
                                children: (0, I.jsx)(E.default, {
                                    contextMenu: t
                                })
                            })), C.default.viewOnceWrite && (e = (0, I.jsx)("div", {
                                className: m.default.secondaryButtonContainer,
                                children: (0, I.jsx)(c.default, {
                                    disabled: this.props.viewOnceDisabled,
                                    isOn: Boolean(this.props.viewOnce),
                                    mediaType: this.props.msgType,
                                    onChange: this.props.onToggleViewOnce,
                                    noMargin: !0
                                })
                            })), (0, I.jsxs)(v.FlexRow, {
                                className: (0, d.default)(m.default.container, (0, r.default)({}, m.default.videoCaption, "video" === this.props.theme)),
                                align: "center",
                                justify: "center",
                                children: [(0, I.jsx)("div", {
                                    className: m.default.suggestionsPositioner,
                                    children: (0, I.jsxs)("div", {
                                        className: m.default.suggestionsContainer,
                                        children: [(0, I.jsx)(_.default.MentionSuggestions, {
                                            chat: this.props.chat,
                                            theme: x.ThemeOptions.MEDIA_CAPTION
                                        }), (0, I.jsx)(_.default.EmojiSuggestions, {
                                            chat: this.props.chat,
                                            theme: x.ThemeOptions.MEDIA_CAPTION
                                        })]
                                    })
                                }), (0, I.jsxs)(v.FlexRow, {
                                    align: "start",
                                    className: m.default.inputContainer,
                                    children: [(0, I.jsx)(_.default, {
                                        ref: this.setRefInput,
                                        initialValue: a,
                                        placeholder: g.default.t(1730),
                                        onChange: this.props.onChange,
                                        onEnter: this.handleEnter,
                                        onFiles: this.props.onFiles,
                                        theme: "media-caption",
                                        maxLength: f.default.MAX_CAPTION_LENGTH,
                                        multiline: !0,
                                        spellCheck: !0
                                    }), (0, I.jsxs)(v.FlexRow, {
                                        className: m.default.buttonContainer,
                                        align: "center",
                                        children: [s, o, l]
                                    })]
                                }), e, u]
                            })
                        }
                    }]), a
                }(u.Component);
            t.default = b, b.displayName = "Caption"
        },
        55072: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.getAllThicknesses = function() {
                return Object.keys(l)
            }, t.getThicknessValue = function(e) {
                return o[e]
            }, t.THICKNESS = void 0;
            var r, i = n(a(59713)),
                l = Object.freeze({
                    SMALL: "SMALL",
                    MEDIUM: "MEDIUM",
                    LARGE: "LARGE",
                    XLARGE: "XLARGE"
                });
            t.THICKNESS = l;
            var o = (r = {}, (0, i.default)(r, l.SMALL, 8), (0, i.default)(r, l.MEDIUM, 12), (0, i.default)(r, l.LARGE, 18), (0, i.default)(r, l.XLARGE, 24), r)
        },
        86151: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.onClick,
                    a = e.onClose,
                    n = e.forwardRef,
                    l = e.id,
                    s = (0, p.default)(e.attachMedia, ["mimetype", "preview", "type", "fullPreview", "fullPreviewSize", "documentPageCount"]);
                return (0, h.jsxs)("div", {
                    className: (0, i.default)(o.default.thumb, (0, r.default)({}, o.default.active, e.active)),
                    onClick: function(e) {
                        t((0, c.unproxy)(s), e)
                    },
                    tabIndex: "-1",
                    ref: function(e) {
                        n(l, e)
                    },
                    children: [(0, h.jsx)("div", {
                        className: o.default.btnDelete,
                        onClick: function(e) {
                            a((0, c.unproxy)(s), e)
                        },
                        role: "button",
                        children: (0, h.jsx)(f.default, {
                            name: "x-alt"
                        })
                    }), (0, h.jsx)("div", {
                        className: o.default.bodyWrapper,
                        children: function() {
                            var e;
                            if (s.type === m) e = s.preview;
                            else if (s.type === g) e = `data:image/jpeg;base64,${s.preview}`;
                            else if ("pdf" === (0, u.previewType)(s.mimetype)) {
                                s.fullPreview && s.fullPreviewSize && null != s.documentPageCount && s.documentPageCount > 0 && (e = s.fullPreview)
                            }
                            if (e) return (0, h.jsx)("div", {
                                className: o.default.body,
                                children: (0, h.jsx)("img", {
                                    src: e,
                                    alt: d.default.t(2179)
                                })
                            });
                            var t = (0, i.default)(o.default.body, o.default.bodyIcon, _[s.mimetype] ? _[s.mimetype].icon : "icon-doc-generic");
                            return (0, h.jsx)("div", {
                                className: t
                            })
                        }()
                    })]
                })
            };
            var r = n(a(59713)),
                i = n(a(94184)),
                l = n(a(96486)),
                o = n(a(30635)),
                s = n(a(94253)),
                d = n(a(45159)),
                u = a(45438),
                c = a(68220),
                f = n(a(7665)),
                p = n(a(69283)),
                h = a(85893),
                v = s.default.MSG_TYPE,
                m = v.IMAGE,
                g = v.VIDEO,
                _ = l.default.pickBy(u.MIMETYPES, (function(e) {
                    return "document" === e.msgType
                }))
        },
        78995: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(a(34575)),
                i = n(a(93913)),
                l = n(a(2205)),
                o = n(a(99842)),
                s = a(67294),
                d = a(99420),
                u = n(a(86151)),
                c = n(a(94253)),
                f = a(85893),
                p = (0, d.SortableElement)((function(e) {
                    return e.children
                })),
                h = (0, d.SortableContainer)((function(e) {
                    return e.children
                })),
                v = function(e) {
                    (0, l.default)(a, e);
                    var t = (0, o.default)(a);

                    function a(e) {
                        var n;
                        return (0, r.default)(this, a), (n = t.call(this, e))._handleSortEnd = function(e) {
                            var t = e.oldIndex,
                                a = e.newIndex,
                                r = n.props.mediaCollection.reorder(t, a);
                            n.setState({
                                medias: r
                            })
                        }, n.state = {
                            medias: n.props.mediaCollection.getPreviewableMedias()
                        }, n
                    }
                    return (0, i.default)(a, [{
                        key: "render",
                        value: function() {
                            var e = this,
                                t = this.props,
                                a = t.mediaCollection,
                                n = t.className,
                                r = t.forwardRef,
                                i = this.state.medias;
                            return (0, f.jsx)(h, {
                                onSortEnd: this._handleSortEnd,
                                axis: "x",
                                helperClass: "SortableHelper",
                                distance: 10,
                                children: (0, f.jsx)("div", {
                                    className: n,
                                    children: i.map((function(t, n) {
                                        var i;
                                        return (0, f.jsx)(p, {
                                            index: n,
                                            children: (0, f.jsx)(u.default, {
                                                id: t.id,
                                                attachMedia: t,
                                                active: t === a.getActive(),
                                                previewMode: (null === (i = a.getActive()) || void 0 === i ? void 0 : i.type) !== c.default.MSG_TYPE.IMAGE,
                                                onClick: e.props.onClick,
                                                onClose: e.props.onClose,
                                                forwardRef: r
                                            })
                                        }, t.id)
                                    }))
                                })
                            })
                        }
                    }], [{
                        key: "getDerivedStateFromProps",
                        value: function(e) {
                            return {
                                medias: e.mediaCollection.getPreviewableMedias()
                            }
                        }
                    }]), a
                }(s.Component);
            t.default = v, v.displayName = "DragAndDrop"
        },
        41044: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(a(59713)),
                i = n(a(34575)),
                l = n(a(93913)),
                o = n(a(2205)),
                s = n(a(99842)),
                d = n(a(94184)),
                u = n(a(96486)),
                c = a(67294),
                f = n(a(62281)),
                p = n(a(7844)),
                h = n(a(38053)),
                v = n(a(42462)),
                m = a(73763),
                g = a(50142),
                _ = n(a(23390)),
                C = a(27968),
                x = n(a(51451)),
                y = a(45738),
                S = a(3309),
                E = n(a(90388)),
                j = n(a(45159)),
                I = n(a(63641)),
                b = n(a(7885)),
                k = a(82380),
                T = n(a(47916)),
                M = n(a(97954)),
                w = a(23961),
                P = n(a(61897)),
                L = n(a(7665)),
                O = n(a(73860)),
                D = n(a(36466)),
                N = n(a(63782)),
                R = a(55072),
                A = n(a(29034)),
                F = a(85893),
                B = new M.default({
                    width: 200,
                    height: 200
                }),
                U = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, s.default)(a);

                    function a(e) {
                        var n;
                        return (0, i.default)(this, a), (n = t.call(this, e))._setRefCanvasContainer = function(e) {
                            return n._refCanvasContainer = e
                        }, n._setRefHeaderContainer = function(e) {
                            return n._refHeaderContainer = e
                        }, n._setRefFooterContainer = function(e) {
                            return n._refFooterContainer = e
                        }, n._setRefCanvas = function(e) {
                            return n._refCanvas = e
                        }, n._refTextColorToolbar = (0, c.createRef)(), n._refFontToolbar = (0, c.createRef)(), n._handleGlobalMouseDown = function(e) {
                            n._outsideClickTarget = e.target
                        }, n._handleGlobalClick = function() {
                            n._outsideClickTarget !== n._refCanvasContainer && n._outsideClickTarget !== n._refFooterContainer && n._outsideClickTarget !== n._refHeaderContainer || n.resetUIState()
                        }, n._handleResize = function() {
                            if (n._refCanvasContainer) {
                                var e = n._refCanvasContainer.getBoundingClientRect(),
                                    t = new M.default({
                                        width: e.width - 40,
                                        height: e.height - 40
                                    });
                                n.setState({
                                    containerSize: t
                                })
                            }
                        }, n._handleGlobalKeydown = function(e) {
                            "Backspace" !== e.code || e.target instanceof HTMLInputElement || e.target instanceof HTMLDivElement && "true" === e.target.contentEditable || n.state.inCropRotateMode || n._handleLayerDelete()
                        }, n._handleLayerDelete = function() {
                            var e = n.props.attachMedia.mediaEditorData.selectedLayer;
                            e && n.props.onLayerDelete(e)
                        }, n._updatePreview = function() {
                            if (null != n._refCanvas) {
                                var e = n._refCanvas.getStage().attrs,
                                    t = e.width,
                                    a = e.height;
                                if (0 !== t && 0 !== a) {
                                    var r = n._getFile(),
                                        i = window.URL.createObjectURL(r);
                                    n.props.attachMedia.updateEditedFile(r), n.props.attachMedia.updatePreview(i), n.props.attachMedia.updateFullPreview(i)
                                }
                            }
                        }, n._updatePreviewDebounced = u.default.debounce((function() {
                            n._ricId && ((0, S.cancelIdleCallback)(n._ricId), n._ricId = null), n._ricId = (0, S.requestIdleCallback)(n._updatePreview)
                        }), 1e3), n._handleTextEditingStart = function(e) {
                            n.setState({
                                isEditing: !0
                            }), n.props.onTextEditingStart(e)
                        }, n._handleTextEditingEnd = function(e, t) {
                            n.setState({
                                isEditing: !1
                            }), n.props.onTextEditingEnd(e, t)
                        }, n._handleClickDone = function() {
                            if (n.state.inCropRotateMode) n._toggleCropRotateMode();
                            else if (n.state.inPaintMode) n._togglePaintMode();
                            else if (n.state.inOutlineMode) n.props.onOutlineDone(), n._toggleOutlineMode();
                            else if (n.props.draftTextLayer) {
                                var e;
                                null === (e = n._refCanvas) || void 0 === e || e.endTextEditing()
                            } else n._getData().selectedLayer && n.props.onLayerUnselect()
                        }, n._handlePaintSelect = function() {
                            n._togglePaintMode(), n.props.onPaintSelect()
                        }, n._handleCropRotateSelect = function() {
                            n._toggleCropRotateMode()
                        }, n._handleRotateCanvas = function(e) {
                            n.props.onCropRotateCanvas(n._getData().rotation + e, n._getData().cropOrigin, n._getData().cropSize)
                        }, n._handleResetCropRotate = function() {
                            n.props.onCropRotateCanvas(0, new T.default({
                                x: 0,
                                y: 0
                            }), n._getData().size)
                        }, n._handleCropChange = function(e, t) {
                            n.props.onCropRotateCanvas(n._getData().rotation, e, t)
                        }, n._handleOutlineSelect = function() {
                            n._toggleOutlineMode(), n.props.onOutlineSelect()
                        }, n._handleToggleEmojiPanel = function(e) {
                            n.setState({
                                isEmojiPanelVisible: e
                            })
                        }, n._handleToggleStickerPanel = function(e) {
                            n.setState({
                                isStickerPanelVisible: e
                            })
                        }, n._handleTextInputOutsideClick = function(e) {
                            var t, a, r = e.target;
                            return !(r instanceof HTMLElement && r.closest(`.${E.default.footer}`) && r !== n._refFooterContainer || (null === (t = n._refTextColorToolbar.current) || void 0 === t ? void 0 : t.isPanelVisible()) || (null === (a = n._refFontToolbar.current) || void 0 === a ? void 0 : a.isMenuVisible()))
                        }, n.state = {
                            containerSize: M.default.empty(),
                            isEditing: !1,
                            inPaintMode: !1,
                            inCropRotateMode: !1,
                            inOutlineMode: !1,
                            isEmojiPanelVisible: !1,
                            isStickerPanelVisible: !1
                        }, n
                    }
                    return (0, l.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            window.addEventListener("resize", this._handleResize), window.addEventListener("keydown", this._handleGlobalKeydown), this._handleResize(), this.props.listeners.add(window, "mousedown", this._handleGlobalMouseDown), this.props.listeners.add(window, "click", this._handleGlobalClick)
                        }
                    }, {
                        key: "componentWillUnmount",
                        value: function() {
                            window.removeEventListener("resize", this._handleResize), window.removeEventListener("keydown", this._handleGlobalKeydown), this.updatePreview({
                                immediately: !0
                            })
                        }
                    }, {
                        key: "resetUIState",
                        value: function() {
                            if (this._inPaintMode()) this._togglePaintMode();
                            else if (this._inCropRotateMode()) this._toggleCropRotateMode();
                            else if (this._inOutlineMode()) this.props.onOutlineDone(), this._toggleOutlineMode();
                            else {
                                if (!this.props.attachMedia.mediaEditorData.selectedLayer || this.props.draftTextLayer) return !1;
                                this.props.onLayerUnselect()
                            }
                            return !0
                        }
                    }, {
                        key: "_inPaintMode",
                        value: function() {
                            return this.state.inPaintMode
                        }
                    }, {
                        key: "_inCropRotateMode",
                        value: function() {
                            return this.state.inCropRotateMode
                        }
                    }, {
                        key: "_inOutlineMode",
                        value: function() {
                            return this.state.inOutlineMode
                        }
                    }, {
                        key: "_togglePaintMode",
                        value: function() {
                            this.setState((function(e) {
                                return {
                                    inPaintMode: !e.inPaintMode
                                }
                            }))
                        }
                    }, {
                        key: "_toggleCropRotateMode",
                        value: function() {
                            !this.state.inCropRotateMode && this._getData().selectedLayer && this.props.onLayerUnselect(), this.setState((function(e) {
                                return {
                                    inCropRotateMode: !e.inCropRotateMode
                                }
                            }), this._handleResize)
                        }
                    }, {
                        key: "_toggleOutlineMode",
                        value: function() {
                            this.setState((function(e) {
                                return {
                                    inOutlineMode: !e.inOutlineMode
                                }
                            }))
                        }
                    }, {
                        key: "updatePreview",
                        value: function(e) {
                            (null == e ? void 0 : e.immediately) ? this._updatePreview(): this._updatePreviewDebounced()
                        }
                    }, {
                        key: "_getDataUrl",
                        value: function() {
                            if (!this._refCanvas) throw new Error("MediaEditor:canvas is not initialized");
                            return this._refCanvas.getDataUrl()
                        }
                    }, {
                        key: "_getFile",
                        value: function() {
                            var e = this._getDataUrl();
                            return A.default.dataURLtoFile(e)
                        }
                    }, {
                        key: "_getData",
                        value: function() {
                            return this.props.attachMedia.mediaEditorData
                        }
                    }, {
                        key: "getCanvasScale",
                        value: function() {
                            var e = this.props.attachMedia.mediaEditorData;
                            return (0, w.calculateContainScale)(e.screenWidth, e.screenHeight, this.state.containerSize, B)
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e, t = this,
                                a = this.props,
                                n = a.attachMedia,
                                i = a.paintColor,
                                l = a.paintThickness,
                                o = this.state,
                                s = o.inPaintMode,
                                u = o.inCropRotateMode,
                                c = o.inOutlineMode,
                                S = n.mediaEditorData,
                                I = this.props.draftTextLayer || S.selectedLayer;
                            if (u) e = (0, F.jsx)(g.CropRotateToolbar, {
                                canReset: S.isRotated() || S.isCropped(),
                                onRotateCanvas: this._handleRotateCanvas,
                                onReset: this._handleResetCropRotate
                            });
                            else if (I)
                                if (I instanceof O.default) {
                                    var T = (0, m.getAllColors)().map((function(e) {
                                        var t = (0, m.getColorValue)(e),
                                            a = (0, m.getColorValue)(t.isLight() ? m.COLORS.BLACK : m.COLORS.WHITE);
                                        return {
                                            primaryColor: t,
                                            secondaryColor: a
                                        }
                                    }));
                                    e = (0, F.jsxs)(F.Fragment, {
                                        children: [(0, F.jsx)(v.default, {
                                            ref: this._refTextColorToolbar,
                                            colors: T,
                                            onColorSelect: this.props.onTextColorSelect,
                                            selectedColor: I.textColor
                                        }), (0, F.jsx)(x.default, {
                                            ref: this._refFontToolbar,
                                            fonts: (0, y.getAllFonts)(),
                                            selectedFont: I.font,
                                            selectedAlignment: I.alignment,
                                            onFontSelect: this.props.onFontSelect,
                                            onAlignmentSelect: this.props.onAlignmentSelect
                                        }), (0, F.jsx)(D.default, {
                                            checked: I.textBackground,
                                            onBackgroundToggle: this.props.onTextBackgroundToggle
                                        }), (0, F.jsx)(f.default, {
                                            icon: "delete",
                                            title: j.default.t(1213),
                                            onClick: this._handleLayerDelete
                                        })]
                                    })
                                } else e = (0, F.jsx)(F.Fragment, {
                                    children: (0, F.jsx)(f.default, {
                                        icon: "delete",
                                        title: j.default.t(1213),
                                        onClick: this._handleLayerDelete
                                    })
                                });
                            else s && (e = (0, F.jsxs)(F.Fragment, {
                                children: [(0, F.jsx)(v.default, {
                                    colors: (0, m.getAllColors)().map((function(e) {
                                        return {
                                            primaryColor: (0, m.getColorValue)(e)
                                        }
                                    })),
                                    onColorSelect: this.props.onPaintColorSelect,
                                    selectedColor: i
                                }), (0, F.jsx)(N.default, {
                                    thicknesses: (0, R.getAllThicknesses)(),
                                    onThicknessSelect: this.props.onPaintThicknessSelect,
                                    selectedThickness: l
                                })]
                            }));
                            var M = !e && !this.props.draftTextLayer && !this.props.sendAsSticker,
                                w = (0, F.jsx)(C.FlexRow, {
                                    className: (0, d.default)(E.default.captionInputContainer, (0, r.default)({}, E.default.captionInputHidden, !M)),
                                    justify: "center",
                                    children: (0, F.jsx)(h.default, {
                                        chat: this.props.chat,
                                        caption: n.caption,
                                        viewOnce: this.props.viewOnce,
                                        viewOnceDisabled: this.props.viewOnceDisabled,
                                        msgType: k.TYPE.IMAGE,
                                        theme: "image",
                                        onToggleViewOnce: this.props.onToggleViewOnce,
                                        onChange: this.props.onCaptionChange,
                                        onEnter: this.props.onEnter,
                                        onFiles: this.props.onFiles,
                                        setCaptionInputRef: function(e) {
                                            t.props.setCaptionInputRef(n.id, e)
                                        }
                                    }, n.id)
                                }),
                                P = (0, F.jsxs)(C.FlexRow, {
                                    justify: "center",
                                    align: "center",
                                    className: E.default.footer,
                                    ref: this._setRefFooterContainer,
                                    children: [e && (0, F.jsx)(C.FlexRow, {
                                        justify: "center",
                                        align: "center",
                                        className: E.default.bottomToolbar,
                                        children: e
                                    }), w]
                                }),
                                A = null;
                            u && (A = (0, F.jsx)(_.default, {
                                data: S,
                                rotation: this._getData().rotation,
                                cropOrigin: this._getData().cropOrigin,
                                cropSize: this._getData().cropSize,
                                onCropChange: this._handleCropChange,
                                containerSize: this.state.containerSize
                            }));
                            var B = u || s || c || this.state.isEmojiPanelVisible || this.state.isStickerPanelVisible || Boolean(this.props.draftTextLayer) || Boolean(this._getData().selectedLayer);
                            return (0, F.jsxs)("div", {
                                className: E.default.container,
                                children: [(0, F.jsxs)(C.FlexRow, {
                                    className: E.default.header,
                                    ref: this._setRefHeaderContainer,
                                    children: [this.props.onClose ? (0, F.jsx)("div", {
                                        onClick: this.props.onClose,
                                        className: E.default.closeButton,
                                        children: (0, F.jsx)(L.default, {
                                            name: "x"
                                        })
                                    }) : (0, F.jsx)("div", {
                                        className: E.default.closeButtonPlaceholder
                                    }), (0, F.jsx)(b.default, {
                                        selectedLayer: I,
                                        inPaintMode: s,
                                        inCropRotateMode: u,
                                        inTextEditingMode: Boolean(this.props.draftTextLayer),
                                        inOutlineMode: c,
                                        canUndo: this.props.canUndo,
                                        canRedo: this.props.canRedo,
                                        onPaintSelect: this._handlePaintSelect,
                                        onCropRotateSelect: this._handleCropRotateSelect,
                                        onOutlineSelect: this._handleOutlineSelect,
                                        onTextSelect: this.props.onTextSelect,
                                        onEmojiSelect: this.props.onEmojiSelect,
                                        onStickerSelect: this.props.onStickerSelect,
                                        onToggleEmojiPanel: this._handleToggleEmojiPanel,
                                        onToggleStickerPanel: this._handleToggleStickerPanel,
                                        onUndo: this.props.onUndo,
                                        onRedo: this.props.onRedo,
                                        showOutline: this.props.sendAsSticker
                                    }), (0, F.jsx)(C.FlexRow, {
                                        className: E.default.headerRight,
                                        justify: "end",
                                        children: B && (0, F.jsx)(f.default, {
                                            onClick: this._handleClickDone,
                                            children: j.default.t(1203)
                                        })
                                    })]
                                }), (0, F.jsxs)("div", {
                                    ref: this._setRefCanvasContainer,
                                    className: (0, d.default)(E.default.canvasContainer, (0, r.default)({}, E.default.cropRotateContainer, u)),
                                    children: [(0, F.jsx)("div", {
                                        className: E.default.canvas,
                                        style: {
                                            display: u ? "none" : "unset"
                                        },
                                        children: (0, F.jsx)(p.default, {
                                            ref: this._setRefCanvas,
                                            data: S,
                                            inPaintMode: s,
                                            inOutlineMode: c,
                                            paintColor: i,
                                            paintThickness: l,
                                            currentlyEditingTextLayer: this.props.currentlyEditingTextLayer,
                                            draftTextLayer: this.props.draftTextLayer,
                                            scale: this.getCanvasScale(),
                                            onLayerSelect: this.props.onLayerSelect,
                                            onLayerUnselect: this.props.onLayerUnselect,
                                            onLayerTranslate: this.props.onLayerTranslate,
                                            onLayerTransform: this.props.onLayerTransform,
                                            onTextEditingStart: this._handleTextEditingStart,
                                            onTextEditingEnd: this._handleTextEditingEnd,
                                            onTextInputOutsideClick: this._handleTextInputOutsideClick,
                                            onPaintDrawEnd: this.props.onPaintDrawEnd,
                                            onOutlineDrawEnd: this.props.onOutlineDrawEnd,
                                            onOutlineDone: this._handleClickDone,
                                            outlineEnabled: this.props.sendAsSticker
                                        })
                                    }), A]
                                }), P]
                            })
                        }
                    }]), a
                }(c.PureComponent);
            U.CONCERNS = {
                attachMedia: ["mediaEditorData", "caption", "id"]
            }, U.displayName = "ImageBodyBase";
            var G = function(e) {
                (0, o.default)(a, e);
                var t = (0, s.default)(a);

                function a() {
                    var e;
                    (0, i.default)(this, a);
                    for (var n = arguments.length, r = new Array(n), l = 0; l < n; l++) r[l] = arguments[l];
                    return (e = t.call.apply(t, [this].concat(r))).updatePreview = function(t) {
                        return e.getComponent().updatePreview(t)
                    }, e
                }
                return (0, l.default)(a, [{
                    key: "getCanvasScale",
                    value: function() {
                        return this.getComponent().getCanvasScale()
                    }
                }, {
                    key: "resetUIState",
                    value: function() {
                        return this.getComponent().resetUIState()
                    }
                }]), a
            }((0, I.default)((0, P.default)(U, U.CONCERNS)));
            t.default = G
        },
        37286: (e, t, a) => {
            "use strict";
            var n = a(52108).default,
                r = a(20862),
                i = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var l = i(a(59713)),
                o = i(a(87757)),
                s = i(a(48926)),
                d = i(a(34575)),
                u = i(a(93913)),
                c = i(a(2205)),
                f = i(a(99842)),
                p = i(a(94184)),
                h = a(18077),
                v = i(a(48842)),
                m = a(67294),
                g = i(a(78888)),
                _ = i(a(65901)),
                C = a(73763),
                x = i(a(94253)),
                y = i(a(30211)),
                S = i(a(68054)),
                E = i(a(21893)),
                j = i(a(78995)),
                I = i(a(53187)),
                b = i(a(18345)),
                k = i(a(42985)),
                T = a(53802),
                M = r(a(18286)),
                w = i(a(75304)),
                P = a(50157),
                L = a(27968),
                O = i(a(29832)),
                D = a(45738),
                N = i(a(38032)),
                R = i(a(58342)),
                A = i(a(41044)),
                F = r(a(89826)),
                B = i(a(79334)),
                U = i(a(45159)),
                G = i(a(63641)),
                H = i(a(66739)),
                V = i(a(50507)),
                W = a(45438),
                z = i(a(14755)),
                K = i(a(47916)),
                Y = i(a(5202)),
                q = i(a(2011)),
                Z = i(a(43890)),
                X = i(a(85651)),
                $ = i(a(28706)),
                J = i(a(7665)),
                Q = r(a(73860)),
                ee = a(55072),
                te = r(a(92428)),
                ae = i(a(41262)),
                ne = i(a(20305)),
                re = a(85893),
                ie = x.default.MSG_TYPE,
                le = ie.IMAGE,
                oe = ie.VIDEO,
                se = ie.AUDIO,
                de = ie.STICKER,
                ue = function(e) {
                    (0, c.default)(a, e);
                    var t = (0, f.default)(a);

                    function a(e) {
                        var r;
                        return (0, d.default)(this, a), (r = t.call(this, e))._setRefCanvasContainer = function(e) {
                            r._refCanvasContainer = e
                        }, r._setRefCanvas = function(e) {
                            r._refCanvas = e
                        }, r._setRefImageBody = function(e) {
                            r._refImageBody = e
                        }, r._setRefFileInput = function(e) {
                            r._refFileInput = e
                        }, r._setRefCaptionInput = function(e) {
                            r.props.mediaCollection.getActive() && !e || (r._refCaptionInput = e)
                        }, r._setRefSendButton = function(e) {
                            r._refSendButton = e
                        }, r._mediaThumbRefMap = new Map, r._setRefMediaThumb = function(e, t) {
                            r._mediaThumbRefMap.set(e, t)
                        }, r._captionInputRefMap = new Map, r._setRefCaptionInput = function(e, t) {
                            r.props.mediaCollection.getActive() && !t || r._captionInputRefMap.set(e, t)
                        }, r._setRefHotKeys = function(e) {
                            r._refHotKeys = e
                        }, r._update = function(e, t) {
                            if (e !== r._getData()) {
                                var a, n, i = r.state.activeMedia;
                                if (i) i.updateMediaEditorData(e, {
                                    undoable: null !== (a = null == t ? void 0 : t.undoable) && void 0 !== a && a
                                }), r._updateUndoRedoState();
                                if (null == t ? void 0 : t.updatePreview) null === (n = r._refImageBody) || void 0 === n || n.updatePreview();
                                __LOG__(2)`MediaEditor: Updated MediaEditorData`
                            }
                        }, r._getData = function() {
                            var e = r.state.activeMedia;
                            return null == e ? y.default.create() : e.mediaEditorData
                        }, r._handleUndo = function() {
                            var e, t = r.state.activeMedia;
                            t && t.canUndoMediaEditorData() && (t.undoMediaEditorData(), r._updateUndoRedoState(), null === (e = r._refImageBody) || void 0 === e || e.updatePreview())
                        }, r._handleRedo = function() {
                            var e, t = r.state.activeMedia;
                            t && t.canRedoMediaEditorData() && (t.redoMediaEditorData(), r._updateUndoRedoState(), null === (e = r._refImageBody) || void 0 === e || e.updatePreview())
                        }, r._updateUndoRedoState = function() {
                            r.setState((function(e) {
                                var t, a, n, i, l = null !== (t = null === (a = r.state.activeMedia) || void 0 === a ? void 0 : a.canUndoMediaEditorData()) && void 0 !== t && t,
                                    o = null !== (n = null === (i = r.state.activeMedia) || void 0 === i ? void 0 : i.canRedoMediaEditorData()) && void 0 !== n && n;
                                return e.canUndo !== l || e.canRedo !== o ? {
                                    canUndo: l,
                                    canRedo: o
                                } : null
                            }))
                        }, r._addImageLayer = function(e, t, a, n, i) {
                            var l = (0, v.default)(r._refImageBody, "_this._refImageBody").getCanvasScale(),
                                o = t.width * l,
                                s = t.width * l,
                                d = Math.min(i / o, i / s),
                                u = r._getData().addImageLayerToCenter({
                                    type: e,
                                    image: t,
                                    editable: !0,
                                    scale: d
                                });
                            r._update(u, {
                                updatePreview: !0,
                                undoable: !0
                            })
                        }, r._handleEmojiSelect = function() {
                            var e = (0, s.default)(o.default.mark((function e(t) {
                                var a, n, i;
                                return o.default.wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                        case 0:
                                            if (e.prev = 0, null != (a = k.default.getGlyphId(t))) {
                                                e.next = 4;
                                                break
                                            }
                                            return e.abrupt("return");
                                        case 4:
                                            return n = k.default.getGlyphPath(a, "xlarge").high, e.next = 7, fe(n);
                                        case 7:
                                            i = e.sent, r._addImageLayer(F.ImageLayerType.Emoji, i, i.width, i.height, 64), e.next = 14;
                                            break;
                                        case 11:
                                            e.prev = 11, e.t0 = e.catch(0), _.default.openToast((0, re.jsx)(te.default, {
                                                msg: U.default.t(1204),
                                                id: (0, te.genId)()
                                            }));
                                        case 14:
                                        case "end":
                                            return e.stop()
                                    }
                                }), e, null, [
                                    [0, 11]
                                ])
                            })));
                            return function() {
                                return e.apply(this, arguments)
                            }
                        }(), r._handleStickerSelect = function() {
                            var e = (0, s.default)(o.default.mark((function e(t) {
                                var a, n, i, l, s;
                                return o.default.wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                        case 0:
                                            return e.prev = 0, n = t.mediaData.fullWidth, i = t.mediaData.fullHeight, e.next = 5, (0, E.default)();
                                        case 5:
                                            if (!e.sent) {
                                                e.next = 13;
                                                break
                                            }
                                            return l = t.mediaData.filehash, s = H.default.getOrCreateURL(l), e.next = 10, fe(s);
                                        case 10:
                                            a = e.sent, e.next = 16;
                                            break;
                                        case 13:
                                            return e.next = 15, pe(t.mediaData);
                                        case 15:
                                            a = e.sent;
                                        case 16:
                                            r._addImageLayer(F.ImageLayerType.Sticker, a, n, i, 128), e.next = 22;
                                            break;
                                        case 19:
                                            e.prev = 19, e.t0 = e.catch(0), _.default.openToast((0, re.jsx)(te.default, {
                                                msg: U.default.t(1204),
                                                id: (0, te.genId)()
                                            }));
                                        case 22:
                                        case "end":
                                            return e.stop()
                                    }
                                }), e, null, [
                                    [0, 19]
                                ])
                            })));
                            return function() {
                                return e.apply(this, arguments)
                            }
                        }(), r._handlePaintSelect = function() {
                            var e = r._getData().clearSelectedLayer();
                            r._update(e)
                        }, r._handleOutlineSelect = function() {
                            var e = r._getData().clearSelectedLayer();
                            r._update(e)
                        }, r._handleOutlineDone = function() {
                            var e = x.default.STICKER_PADDING + x.default.STICKER_BORDER_WIDTH;
                            r._update(r._getData().cropToOutline(e, x.default.STICKER_DIMENSION), {
                                undoable: !0,
                                updatePreview: !0
                            })
                        }, r._handleCropRotateCanvas = function(e, t, a) {
                            var n = r._getData().setRotation(e).setCrop(t, a);
                            r._update(n, {
                                undoable: !0,
                                updatePreview: !0
                            })
                        }, r._handlePaintColorSelect = function(e) {
                            r.setState({
                                paintColor: e
                            })
                        }, r._handlePaintThicknessSelect = function(e) {
                            r.setState({
                                paintThickness: e
                            })
                        }, r._handleTextSelect = function() {
                            if (!r.state.currentlyEditingTextLayer) {
                                r._handleLayerUnselect();
                                var e = (0, v.default)(r._refImageBody, "_this._refImageBody").getCanvasScale(),
                                    t = new K.default({
                                        x: r._getData().screenWidth / 2,
                                        y: r._getData().screenHeight / 2
                                    }),
                                    a = {
                                        origin: r._getData().toCanvasPoint(t),
                                        text: "",
                                        textColor: r.state.textColor,
                                        textBackground: r.state.textBackground,
                                        alignment: r.state.alignment,
                                        font: r.state.font,
                                        scale: Q.DEFAULT_FONT_SIZE / (Q.DEFAULT_FONT_SIZE * e) * 1.2
                                    },
                                    n = r._getData().addTextLayer(a),
                                    i = (0, v.default)(n.lastTextLayer, "data.lastTextLayer");
                                r.setState({
                                    draftTextLayer: i,
                                    currentlyEditingTextLayer: null
                                })
                            }
                        }, r._handleFontSelect = function(e) {
                            r.setState({
                                font: e
                            });
                            var t = r._getData().selectedLayer,
                                a = r.state.draftTextLayer;
                            if (a) r.setState({
                                draftTextLayer: a.setFont(e)
                            });
                            else if (t && t instanceof Q.default) {
                                var n = r._getData().setFont(t, e);
                                r._update(n, {
                                    updatePreview: !0,
                                    undoable: !0
                                })
                            }
                        }, r._handleAlignmentSelect = function(e) {
                            r.setState({
                                alignment: e
                            });
                            var t = r._getData().selectedLayer,
                                a = r.state.draftTextLayer;
                            if (a) r.setState({
                                draftTextLayer: a.setAlignment(e)
                            });
                            else if (t && t instanceof Q.default) {
                                var n = r._getData().setAlignment(t, e);
                                r._update(n, {
                                    updatePreview: !0,
                                    undoable: !0
                                })
                            }
                        }, r._handleTextColorSelect = function(e) {
                            r.setState({
                                textColor: e
                            });
                            var t = r._getData().selectedLayer,
                                a = r.state.draftTextLayer;
                            if (a) r.setState({
                                draftTextLayer: a.setTextColor(e)
                            });
                            else if (t && t instanceof Q.default) {
                                var n = r._getData().setTextColor(t, e);
                                r._update(n, {
                                    updatePreview: !0,
                                    undoable: !0
                                })
                            }
                        }, r._handleTextBackgroundToggle = function() {
                            var e = !r.state.textBackground;
                            r.setState({
                                textBackground: e
                            });
                            var t = r._getData().selectedLayer,
                                a = r.state.draftTextLayer;
                            if (a) r.setState({
                                draftTextLayer: a.setTextBackground(e)
                            });
                            else if (t && t instanceof Q.default) {
                                var n = r._getData().setTextBackground(t, e);
                                r._update(n, {
                                    updatePreview: !0,
                                    undoable: !0
                                })
                            }
                        }, r._handleTextEditingStart = function(e) {
                            r.setState({
                                draftTextLayer: e,
                                currentlyEditingTextLayer: e
                            })
                        }, r._handleTextEditingEnd = function(e, t) {
                            var a;
                            if (t) {
                                var n = r._getData(),
                                    i = (0, v.default)(r.state.draftTextLayer, "_this.state.draftTextLayer").setText(t);
                                n = r.state.currentlyEditingTextLayer ? n.updateLayer((0, v.default)(r.state.currentlyEditingTextLayer, "_this.state.currentlyEditingTextLayer"), i) : n.addTextLayer(i), r._update(n, {
                                    updatePreview: !0,
                                    undoable: !0
                                })
                            } else {
                                var l = r.state.currentlyEditingTextLayer;
                                l && r._update(r._getData().deleteLayer(l), {
                                    updatePreview: !0,
                                    undoable: Boolean(e.text)
                                })
                            }
                            setTimeout((function() {
                                r.setState({
                                    draftTextLayer: null,
                                    currentlyEditingTextLayer: null
                                })
                            }), 0), null === (a = r._refHotKeys) || void 0 === a || a.focus()
                        }, r._handlePaintDrawEnd = function(e) {
                            r._update(r._getData().addPaintPath(e), {
                                undoable: !0,
                                updatePreview: !0
                            })
                        }, r._handleOutlineDrawEnd = function(e) {
                            r._update(r._getData().addOutlinePath(e), {
                                undoable: !0,
                                updatePreview: !0
                            })
                        }, r._handleLayerUnselect = function() {
                            r._update(r._getData().clearSelectedLayer())
                        }, r._handleLayerSelect = function(e) {
                            if (e.editable) {
                                var t = r._getData().setSelectedLayer(e).moveToTop(e);
                                r._update(t), e instanceof Q.default && r.setState({
                                    textColor: e.textColor,
                                    textBackground: e.textBackground,
                                    font: e.font
                                })
                            }
                        }, r._handleLayerTranslate = function(e, t) {
                            var a = r._getData().translateLayer(e, t);
                            r._update(a, {
                                updatePreview: !0,
                                undoable: !0
                            })
                        }, r._handleLayerTransform = function(e, t, a) {
                            var n = r._getData().transformLayer(e, t, a);
                            r._update(n, {
                                updatePreview: !0,
                                undoable: !0
                            })
                        }, r._handleLayerDelete = function(e) {
                            var t = r._getData().deleteLayer(e);
                            r._update(t, {
                                updatePreview: !0,
                                undoable: !0
                            })
                        }, r._handleMediaProcessUpdate = function() {
                            var e = r.props.mediaCollection;
                            if (e.canSend()) {
                                var t = e.uiProcessMsgs().errorMsgs;
                                t && (_.default.openToast((0, re.jsx)(te.default, {
                                    msg: t,
                                    id: (0, te.genId)()
                                })), 0 === e.getPreviewableMedias().length && r.props.onClose()), r.forceUpdate()
                            }
                        }, r._handleDrop = function(e) {
                            r.state.viewOnce || r.state.sendAsSticker || r._handleFilePick(e)
                        }, r._handleDragChange = function(e, t) {
                            r.state.viewOnce || r.state.sendAsSticker || (r.setState({
                                isDragging: e
                            }), e || t || r.props.mediaCollection.length || r.props.onClose())
                        }, r._handleCaptionChange = function(e) {
                            var t = r.state,
                                a = t.activeMedia,
                                n = t.isInitCaptionUsed;
                            if (a) {
                                var i = r.props.mediaCollection.indexOf(a);
                                a.updateCaption(e), 0 === i && "" === e && n && r.setState({
                                    isInitCaptionUsed: !1
                                })
                            }
                        }, r._handlePaste = function(e) {
                            e.preventDefault(), e.stopPropagation();
                            var t = new S.default(e.clipboardData);
                            t.hasFiles() && r._handleFiles(t)
                        }, r._handleFiles = function(e) {
                            var t = e.getFiles().filter((function(e) {
                                var t = (0, P.typeFromMimetype)(e.type);
                                return "image" === t || "video" === t
                            })).map((function(e) {
                                return {
                                    file: e
                                }
                            }));
                            r.props.mediaCollection.processAttachments(t, V.default.MEDIA_PICKER_ORIGIN_TYPE.PASTE)
                        }, r._handleAddFileClick = function() {
                            r._refFileInput && r._refFileInput.click()
                        }, r._handleFilePick = function(e) {
                            (0, T.getFiles)(e).then((function(t) {
                                return N.default.supportsFeature(N.default.F.STICKER_MAKER) && e.shiftKey && 1 === t.length && r.setState({
                                    sendAsSticker: !0
                                }), r.props.mediaCollection.processAttachments(t.map((function(e) {
                                    return {
                                        file: e
                                    }
                                })), V.default.MEDIA_PICKER_ORIGIN_TYPE.CHAT_PHOTO_LIBRARY)
                            })).checkpoint(r.props.rejectOnUnmount()).catch((0, h.filteredCatch)(M.Unmount, (function() {}))).catch((0, h.filteredCatch)(M.MediaDragDropError, (function(e) {
                                r.props.mediaCollection.length || r.props.onDropText(e.src)
                            }))), e.target && e.target.value && (e.target.value = "")
                        }, r._handleEnter = function(e) {
                            if (r.state.activeMedia && !e.repeat && !e.shiftKey && !r.state.draftTextLayer) {
                                var t = r._getData().selectedLayer;
                                t instanceof Q.default ? (e.preventDefault(), e.stopPropagation(), r._handleTextEditingStart(t)) : r._handleSendFromMediaEditor()
                            }
                        }, r._handleArrowKey = function(e, t) {
                            if (r.state.activeMedia && !t.repeat && !r.state.draftTextLayer) {
                                var a = r.state.activeMedia,
                                    n = a && !a.caption,
                                    i = r._refCaptionInput && r._refCaptionInput.refInput;
                                (n || i && !i.isFocused() || i && i.cursorIsAtStart()) && ("left" === e ? r._handlePrev() : r._handleNext())
                            }
                        }, r._handlePrev = function() {
                            r.props.mediaCollection.setPrevAsActive() && (r._refSendButton && !r.state.draftTextLayer && O.default.focus(r._refSendButton), r._scrollIntoView())
                        }, r._handleNext = function() {
                            r.props.mediaCollection.setNextAsActive() && (r._refSendButton && !r.state.draftTextLayer && O.default.focus(r._refSendButton), r._scrollIntoView())
                        }, r._scrollIntoView = function() {
                            var e = r.state.activeMedia;
                            if (e) {
                                var t = r._mediaThumbRefMap.get(e.id);
                                t && t.scrollIntoView()
                            }
                        }, r._handleSelectThumb = function(e) {
                            r.props.mediaCollection.setActive(e)
                        }, r._handleRemoveThumb = function(e, t) {
                            t.stopPropagation(), t.preventDefault(), r.props.mediaCollection.remove(e), 0 === r.props.mediaCollection.getValidMedias().length ? r._delayedClose = setTimeout((function() {
                                r.props.onClose()
                            }), 200) : r._refSendButton && O.default.focus(r._refSendButton)
                        }, r._handleSendFromMediaEditor = function(e) {
                            var t;
                            e && e.preventDefault();
                            var a = r.props.mediaCollection;
                            if (a.canSend()) {
                                var i = a.getPreviewableMedias();
                                if (0 !== i.length) {
                                    var l;
                                    if (null === (t = r.state.activeMedia) || void 0 === t ? void 0 : t.mediaEditorData.hasEdits()) null === (l = r._refImageBody) || void 0 === l || l.updatePreview({
                                        immediately: !0
                                    });
                                    var o = new Map,
                                        s = [];
                                    i.forEach((function(e) {
                                        var t = e.caption,
                                            n = r._captionInputRefMap.get(e.id);
                                        if (t && n) {
                                            var i = n.serialize(t);
                                            o.set(e.id, i)
                                        }
                                        if (e.editedFile && (e.mediaEditorData.hasEdits() || r.state.sendAsSticker)) {
                                            var l = a.replace(e.id, {
                                                file: e.editedFile,
                                                asSticker: r.state.sendAsSticker
                                            });
                                            s.push(l)
                                        }
                                    })), n.all(s).then((function() {
                                        var e = a.getPreviewableMedias();
                                        if (0 !== e.length) {
                                            var t = e.map((function(e) {
                                                var t, a = e.caption,
                                                    n = [],
                                                    r = o.get(e.id);
                                                if (r) {
                                                    var i = [r[0].trim(), r[1]],
                                                        l = i[0],
                                                        s = i[1];
                                                    l.length && (a = l, n = s.mentionedJidList || [])
                                                }
                                                return e.caption = null !== (t = a) && void 0 !== t ? t : void 0, {
                                                    media: e,
                                                    mentionedJidList: n
                                                }
                                            }));
                                            r.props.onSendMedia(t, {
                                                initCaptionUsed: r.state.isInitCaptionUsed,
                                                isViewOnce: r._canViewOnce() && r.state.viewOnce
                                            }), r._commitMediaEditorSendMetric(i)
                                        }
                                    }))
                                } else r.props.onClose()
                            }
                        }, r._handleToggleViewOnce = function(e) {
                            r.setState({
                                viewOnce: e
                            })
                        }, r._handleToggleStickerMaker = function() {
                            var e = !r.state.sendAsSticker && r._canSendAsSticker();
                            r.setState({
                                sendAsSticker: e
                            })
                        }, r._canViewOnce = function() {
                            var e, t = r.props,
                                a = t.chat,
                                n = t.mediaCollection,
                                i = a.contact.isEnterprise;
                            return Z.default.viewOnceWrite && 1 === n.length && !0 === (null === (e = n.at(0)) || void 0 === e ? void 0 : e.isViewableOnce()) && !i && !r.props.sendAsSticker
                        }, r._canSendAsSticker = function() {
                            var e, t = r.props.mediaCollection;
                            return 1 === t.length && (null === (e = t.at(0)) || void 0 === e ? void 0 : e.type) === le
                        }, r._getMediaBody = function(e) {
                            var t = null,
                                a = r.state,
                                n = a.paintColor,
                                i = a.paintThickness,
                                l = a.canUndo,
                                o = a.canRedo,
                                s = Z.default.viewOnceWrite ? r.state.viewOnce : null;
                            switch (e.type) {
                                case de:
                                case le:
                                    t = (0, re.jsx)(A.default, {
                                        ref: r._setRefImageBody,
                                        attachMedia: e,
                                        chat: r.props.chat,
                                        onCaptionChange: r._handleCaptionChange,
                                        onClose: "capture" === r.props.theme ? null : r.props.onClose,
                                        onEnter: r._handleSendFromMediaEditor,
                                        setCaptionInputRef: r._setRefCaptionInput,
                                        paintColor: n,
                                        paintThickness: i,
                                        canUndo: l,
                                        canRedo: o,
                                        currentlyEditingTextLayer: r.state.currentlyEditingTextLayer,
                                        draftTextLayer: r.state.draftTextLayer,
                                        viewOnce: s,
                                        viewOnceDisabled: !r._canViewOnce(),
                                        sendAsSticker: r.state.sendAsSticker,
                                        onPaintSelect: r._handlePaintSelect,
                                        onOutlineSelect: r._handleOutlineSelect,
                                        onOutlineDone: r._handleOutlineDone,
                                        onTextSelect: r._handleTextSelect,
                                        onTextBackgroundToggle: r._handleTextBackgroundToggle,
                                        onEmojiSelect: r._handleEmojiSelect,
                                        onStickerSelect: r._handleStickerSelect,
                                        onLayerSelect: r._handleLayerSelect,
                                        onLayerUnselect: r._handleLayerUnselect,
                                        onLayerDelete: r._handleLayerDelete,
                                        onLayerTranslate: r._handleLayerTranslate,
                                        onLayerTransform: r._handleLayerTransform,
                                        onTextEditingStart: r._handleTextEditingStart,
                                        onTextEditingEnd: r._handleTextEditingEnd,
                                        onTextColorSelect: r._handleTextColorSelect,
                                        onFontSelect: r._handleFontSelect,
                                        onAlignmentSelect: r._handleAlignmentSelect,
                                        onPaintColorSelect: r._handlePaintColorSelect,
                                        onPaintThicknessSelect: r._handlePaintThicknessSelect,
                                        onCropRotateCanvas: r._handleCropRotateCanvas,
                                        onUndo: r._handleUndo,
                                        onRedo: r._handleRedo,
                                        onPaintDrawEnd: r._handlePaintDrawEnd,
                                        onOutlineDrawEnd: r._handleOutlineDrawEnd,
                                        onToggleViewOnce: r._handleToggleViewOnce,
                                        onFiles: r._handleFiles
                                    }, e.mediaEditorData.id);
                                    break;
                                case oe:
                                    t = (0, re.jsx)(ae.default, {
                                        attachMedia: e,
                                        chat: r.props.chat,
                                        viewOnce: s,
                                        viewOnceDisabled: !r._canViewOnce(),
                                        setCaptionInputRef: r._setRefCaptionInput,
                                        onCaptionChange: r._handleCaptionChange,
                                        onClose: r.props.onClose,
                                        onEnter: r._handleSendFromMediaEditor,
                                        onToggleViewOnce: r._handleToggleViewOnce,
                                        onFiles: r._handleFiles
                                    }, e.id);
                                    break;
                                case se:
                                    t = (0, re.jsx)(g.default, {
                                        item: e,
                                        onClose: r.props.onClose
                                    }, e.id);
                                    break;
                                default:
                                    t = "pdf" === (0, W.previewType)(e.mimetype) ? (0, re.jsx)(z.default, {
                                        item: e,
                                        onClose: r.props.onClose
                                    }, e.id) : (0, re.jsx)(w.default, {
                                        mimeType: e.mimetype,
                                        filesize: e.filesize,
                                        filename: e.filename,
                                        fileExt: e.fileExt,
                                        onClose: r.props.onClose
                                    }, e.id)
                            }
                            return t
                        }, r.getThumbs = function() {
                            var e = r.props.mediaCollection;
                            return (0, re.jsx)(j.default, {
                                className: B.default.thumbs,
                                mediaCollection: e,
                                onClick: r._handleSelectThumb,
                                onClose: r._handleRemoveThumb,
                                forwardRef: r._setRefMediaThumb
                            })
                        }, r.state = {
                            paintColor: (0, C.getColorValue)(C.COLORS.BLUE),
                            paintThickness: ee.THICKNESS.SMALL,
                            textColor: (0, C.getColorValue)(C.COLORS.BLACK),
                            font: D.FONTS.SANS_SERIF,
                            textBackground: !0,
                            alignment: D.TextAlignment.CENTER,
                            isDragging: !1,
                            canUndo: !1,
                            canRedo: !1,
                            activeMedia: null,
                            prevActiveMedia: null,
                            isInitCaptionUsed: !1,
                            initCaption: r.props.initCaption && r.props.initCaption.text,
                            currentlyEditingTextLayer: null,
                            draftTextLayer: null,
                            viewOnce: !1,
                            sendAsSticker: e.sendAsSticker
                        }, r
                    }
                    return (0, u.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            var e, t = this,
                                a = this.props,
                                n = a.mediaCollection,
                                r = a.listeners;
                            r.add(n, "add remove reset", (function() {
                                t.forceUpdate()
                            })), r.add(n, "active-change change:state change:previewable", this._handleMediaProcessUpdate), r.add(_.default, "toggle_sticker_maker", this._handleToggleStickerMaker), null === (e = this._refHotKeys) || void 0 === e || e.focus()
                        }
                    }, {
                        key: "componentDidUpdate",
                        value: function() {}
                    }, {
                        key: "componentWillUnmount",
                        value: function() {
                            this._delayedClose && clearTimeout(this._delayedClose)
                        }
                    }, {
                        key: "handleRequestDismiss",
                        value: function() {
                            var e;
                            return !(null === (e = this._refImageBody) || void 0 === e ? void 0 : e.resetUIState()) && (!this.state.draftTextLayer || (this.setState({
                                currentlyEditingTextLayer: null,
                                draftTextLayer: null
                            }), !1))
                        }
                    }, {
                        key: "_commitMediaEditorSendMetric",
                        value: function(e) {
                            if (this.state.sendAsSticker) new V.default.StickerSend({
                                stickerSendOrigin: V.default.STICKER_SEND_ORIGIN_TYPE.STICKER_MAKER,
                                stickerIsAnimated: !1,
                                stickerIsFirstParty: !1
                            }).commit();
                            else {
                                var t = 0,
                                    a = 0,
                                    n = 0,
                                    r = 0,
                                    i = 0,
                                    l = 0;
                                e.forEach((function(e) {
                                    var o = e.mediaEditorData;
                                    e.type === le && (t++, o.hasEdits() && a++, o.paintLayer.paths.length > 0 && n++), o.layers.forEach((function(e) {
                                        e instanceof F.default ? (e.isEmoji() && r++, e.isSticker() && i++) : e instanceof Q.default && l++
                                    }))
                                })), new V.default.WebcMediaEditorSend({
                                    imageCount: t,
                                    editedImageCount: a,
                                    paintedImageCount: n,
                                    emojiLayerCount: r,
                                    stickerLayerCount: i,
                                    textLayerCount: l
                                }).commit()
                            }
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e, t = this,
                                a = this.props.mediaCollection,
                                n = this.state.activeMedia,
                                r = a.getPreviewableMedias();
                            r.length > x.default.MAX_FILES && (r = r.slice(0, x.default.MAX_FILES)), a.canSend() ? n && (e = this._getMediaBody(n)) : e = (0, re.jsx)("div", {
                                className: B.default.spinner,
                                children: (0, re.jsx)(X.default, {
                                    color: "highlight"
                                }, "processing")
                            });
                            var i, o, s = this.state.isDragging ? (0, re.jsx)("div", {
                                    className: B.default.dropOverlay,
                                    children: (0, re.jsx)("div", {
                                        className: B.default.dropOverlayOutline,
                                        children: U.default.t(804)
                                    })
                                }, "container") : null,
                                d = {
                                    enter: this._handleEnter,
                                    left: function(e) {
                                        return t._handleArrowKey("left", e)
                                    },
                                    right: function(e) {
                                        return t._handleArrowKey("right", e)
                                    }
                                },
                                u = "*" === W.DOC_MIMES ? "*" : [x.default.IMAGE_MIMES].join();
                            if (null != e)
                                if (r.length > 0 && (o = (0, re.jsx)("div", {
                                        className: B.default.sendButton,
                                        tabIndex: "-1",
                                        ref: this._setRefSendButton,
                                        onKeyPress: function(e) {
                                            return e.preventDefault()
                                        },
                                        children: (0, re.jsx)(q.default, {
                                            large: !0,
                                            icon: (0, re.jsx)(J.default, {
                                                name: "send",
                                                directional: !0
                                            }),
                                            count: 1 === r.length ? null : r.length,
                                            onClick: this._handleSendFromMediaEditor,
                                            disabled: !a.canSend()
                                        })
                                    })), "capture" === this.props.theme) i = (0, re.jsx)("div", {
                                    className: B.default.captureFooter,
                                    children: o
                                });
                                else {
                                    var c, f = !this.state.viewOnce && !this.state.sendAsSticker && r.length < x.default.MAX_FILES,
                                        h = this.state.sendAsSticker ? null : (0, re.jsx)($.default, {
                                            className: (0, p.default)(B.default.addMediaButton, (0, l.default)({}, B.default.addMediaButtonDisabled, !f)),
                                            disabled: !f,
                                            name: "media-editor-add",
                                            title: U.default.t(237),
                                            onClick: this._handleAddFileClick,
                                            "aria-label": U.default.t(237)
                                        }, "media-more");
                                    r.length > 0 && (c = (0, re.jsxs)(L.FlexRow, {
                                        className: B.default.filmstripContainer,
                                        justify: "center",
                                        align: "start",
                                        children: [this.getThumbs(), h]
                                    })), i = (0, re.jsxs)("div", {
                                        className: B.default.footer,
                                        children: [c, o]
                                    })
                                } var v = (0, p.default)(B.default.container, (0, l.default)({}, B.default.previewOnly, n && n.type !== le)),
                                m = (0, re.jsxs)(L.FlexColumn, {
                                    className: v,
                                    align: "stretch",
                                    children: [s, e, i, (0, re.jsx)("input", {
                                        ref: this._setRefFileInput,
                                        type: "file",
                                        accept: u,
                                        style: {
                                            display: "none"
                                        },
                                        onChange: this._handleFilePick,
                                        multiple: !0
                                    })]
                                });
                            return "attach" === this.props.theme && (m = (0, re.jsx)(I.default, {
                                theme: "media",
                                onDrop: this._handleDrop,
                                onDragChange: this._handleDragChange,
                                children: (0, re.jsx)(b.default, {
                                    tabIndex: "-1",
                                    overflow: "hidden",
                                    onPaste: this._handlePaste,
                                    children: m
                                })
                            }, "attach-image-modal")), (0, re.jsx)(R.default, {
                                handlers: d,
                                onRef: this._setRefHotKeys,
                                children: m
                            })
                        }
                    }], [{
                        key: "getDerivedStateFromProps",
                        value: function(e, t) {
                            var a, n, r = e.mediaCollection.getActive(),
                                i = t.initCaption,
                                l = t.isInitCaptionUsed;
                            return l || t.activeMedia || !i || !r || r.type !== le && r.type !== oe || (r.caption = i, l = !0), {
                                prevActiveMedia: r,
                                activeMedia: r,
                                canUndo: null !== (a = null == r ? void 0 : r.canUndoMediaEditorData()) && void 0 !== a && a,
                                canRedo: null !== (n = null == r ? void 0 : r.canRedoMediaEditorData()) && void 0 !== n && n,
                                isInitCaptionUsed: l
                            }
                        }
                    }]), a
                }(m.Component);
            ue.defaultProps = {
                onClose: function() {},
                theme: "attach",
                sendAsSticker: !1
            }, ue.displayName = "MediaEditor";
            var ce = function(e) {
                (0, c.default)(a, e);
                var t = (0, f.default)(a);

                function a() {
                    return (0, d.default)(this, a), t.apply(this, arguments)
                }
                return (0, u.default)(a, [{
                    key: "handleRequestDismiss",
                    value: function() {
                        return this.getComponent().handleRequestDismiss()
                    }
                }]), a
            }((0, Y.default)((0, G.default)(ue)));

            function fe(e) {
                return new n((function(t, a) {
                    var n = new Image;
                    n.onload = function() {
                        t(n)
                    }, n.onerror = a, n.src = e
                }))
            }

            function pe() {
                return he.apply(this, arguments)
            }

            function he() {
                return (he = (0, s.default)(o.default.mark((function e(t) {
                    var a, n, r, i, l, s, d, u, c;
                    return o.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                if (a = t.rgbaBuffer) {
                                    e.next = 14;
                                    break
                                }
                                if (n = H.default.get(t.filehash)) {
                                    e.next = 5;
                                    break
                                }
                                throw new Error("Failed to get media blob");
                            case 5:
                                return e.next = 7, (0, P.blobToArrayBuffer)(n);
                            case 7:
                                return r = e.sent, e.next = 10, (0, ne.default)(r);
                            case 10:
                                if (i = e.sent.frames[0]) {
                                    e.next = 13;
                                    break
                                }
                                throw new Error("Failed to get sticker first frame.");
                            case 13:
                                a = i.rgbaBuffer;
                            case 14:
                                return l = t.fullWidth, s = t.fullHeight, (d = document.createElement("canvas")).width = l, d.height = s, u = d.getContext("2d"), (c = u.createImageData(l, s)).data.set(new Uint8Array(a)), u.putImageData(c, 0, 0), e.abrupt("return", d);
                            case 24:
                            case "end":
                                return e.stop()
                        }
                    }), e)
                })))).apply(this, arguments)
            }
            t.default = ce
        },
        78888: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.onClose,
                    a = e.item,
                    n = a.mimetype,
                    s = a.fullPreview;
                return (0, o.jsxs)("div", {
                    className: l.default.container,
                    children: [(0, o.jsx)(i.default, {
                        onClose: t
                    }), (0, o.jsx)(r.default, {
                        mimeType: n,
                        url: s
                    })]
                })
            };
            var r = n(a(47461)),
                i = n(a(72580)),
                l = n(a(58099)),
                o = a(85893)
        },
        23390: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.data,
                    a = e.rotation,
                    n = e.cropOrigin,
                    m = e.cropSize,
                    g = e.containerSize,
                    _ = e.onCropChange,
                    C = t.resetCropRotate().setRotation(a),
                    x = (0, r.useRef)(),
                    y = (0, r.useRef)(),
                    S = m.width,
                    E = m.height,
                    j = n.x,
                    I = n.y,
                    b = (0, r.useRef)(m),
                    k = S / b.current.width,
                    T = E / b.current.height,
                    M = t.width,
                    w = t.height,
                    P = h(M, w, a),
                    L = P.width,
                    O = P.height,
                    D = new d.default({
                        width: g.width - 20,
                        height: g.height - 20
                    }),
                    N = (0, u.calculateContainScale)(a % 180 ? w : M, a % 180 ? M : w, D, f),
                    R = p / N,
                    A = new d.default({
                        width: M + 2 * R,
                        height: w + 2 * R
                    }),
                    F = h(A.width, A.height, a),
                    B = F.width,
                    U = F.height,
                    G = A.width / 2,
                    H = A.height / 2;
                (0, r.useEffect)((function() {
                    var e, t = x.current,
                        a = y.current;
                    t && a && 0 === t.nodes().length && (t.nodes([a]), null === (e = a.getLayer()) || void 0 === e || e.batchDraw())
                }));
                var V = function(e) {
                    var t = e.target,
                        a = Math.round(t.x()),
                        n = Math.round(t.y()),
                        r = Math.min(Math.round(t.width() * t.scaleX()), M - a),
                        i = Math.min(Math.round(t.height() * t.scaleY()), w - n);
                    _(new o.default({
                        x: a,
                        y: n
                    }), new d.default({
                        width: r,
                        height: i
                    }))
                };
                return (0, c.jsxs)("div", {
                    className: l.default.container,
                    children: [(0, c.jsx)(i.default, {
                        data: C,
                        scale: N,
                        canEditLayer: !1,
                        style: {
                            padding: p
                        }
                    }), (0, c.jsx)(s.Stage, {
                        className: l.default.cropperContainer,
                        width: Math.round(B * N),
                        height: Math.round(U * N),
                        scaleX: N,
                        scaleY: N,
                        children: (0, c.jsx)(s.Layer, {
                            rotation: a,
                            offsetX: G,
                            offsetY: H,
                            x: B / 2,
                            y: U / 2,
                            children: (0, c.jsxs)(s.Group, {
                                x: R,
                                y: R,
                                children: [(0, c.jsx)(s.Rect, {
                                    x: 0,
                                    y: 0,
                                    width: M,
                                    height: w,
                                    fill: "black",
                                    opacity: .6
                                }), (0, c.jsx)(s.Rect, {
                                    ref: y,
                                    fill: "red",
                                    x: j,
                                    y: I,
                                    width: b.current.width,
                                    height: b.current.height,
                                    scaleX: k,
                                    scaleY: T,
                                    draggable: !0,
                                    dragBoundFunc: function(e) {
                                        var t = h(S, E, a),
                                            n = t.width,
                                            r = t.height,
                                            i = function(e, t, a, n, r) {
                                                switch ((r % 360 + 360) % 360) {
                                                    case 0:
                                                        return {
                                                            x: e, y: t
                                                        };
                                                    case 90:
                                                        return {
                                                            x: e - a, y: t
                                                        };
                                                    case 180:
                                                        return {
                                                            y: t - n, x: e - a
                                                        };
                                                    case 270:
                                                        return {
                                                            x: e, y: t - n
                                                        };
                                                    default:
                                                        throw new Error("Unsupported angle")
                                                }
                                            }(e.x, e.y, n * N, r * N, a),
                                            l = i.x,
                                            o = i.y;
                                        return l < p ? l = p : (l - p) / N + n > L && (l = Math.round(L - n + R) * N), o < p ? o = p : (o - p) / N + r > O && (o = Math.round(O - r + R) * N),
                                            function(e, t, a, n, r) {
                                                switch ((r % 360 + 360) % 360) {
                                                    case 0:
                                                        return {
                                                            x: e, y: t
                                                        };
                                                    case 90:
                                                        return {
                                                            x: e + a, y: t
                                                        };
                                                    case 180:
                                                        return {
                                                            y: t + n, x: e + a
                                                        };
                                                    case 270:
                                                        return {
                                                            x: e, y: t + n
                                                        };
                                                    default:
                                                        throw new Error("Unsupported angle")
                                                }
                                            }(l, o, n * N, r * N, a)
                                    },
                                    onTransformEnd: V,
                                    onDragEnd: V,
                                    globalCompositeOperation: "destination-out"
                                }), (0, c.jsx)(s.Transformer, {
                                    ref: x,
                                    anchorStroke: "blue",
                                    anchorFill: "white",
                                    anchorSize: 10,
                                    anchorCornerRadius: 5,
                                    borderEnabled: !1,
                                    centeredScaling: !1,
                                    resizeEnabled: !0,
                                    rotateEnabled: !1,
                                    ignoreStroke: !0,
                                    boundBoxFunc: function(e, t) {
                                        var n = M * N + 20,
                                            r = w * N + 20,
                                            i = v(e, n, r, a, -a),
                                            l = v(t, n, r, a, -a);
                                        return Math.round(l.x) < p ? (l.x = p, l.width = i.width + (i.x - p)) : Math.round(l.width) < 20 ? (l.x = i.x, l.width = i.width) : Math.round(l.x + l.width) > Math.round(n) - p && (l.width = n - l.x - p), Math.round(l.y) < p ? (l.y = p, l.height = i.height + (i.y - p)) : Math.round(l.height) < 20 ? (l.y = i.y, l.height = i.height) : Math.round(l.y + l.height) > Math.round(r) - p && (l.height = r - l.y - p), v(l, n, r, 0, a)
                                    },
                                    keepRatio: !1
                                }, "transformer")]
                            })
                        }, "cropper")
                    })]
                })
            };
            var r = a(67294),
                i = n(a(7844)),
                l = n(a(10706)),
                o = n(a(47916)),
                s = a(51349),
                d = n(a(97954)),
                u = a(23961),
                c = a(85893),
                f = new d.default({
                    width: 200,
                    height: 200
                }),
                p = 10;

            function h(e, t, a) {
                return {
                    width: a % 180 == 0 ? e : t,
                    height: a % 180 == 0 ? t : e
                }
            }

            function v(e, t, a, n, r) {
                var i = Math.max(t, a),
                    l = h(t, a, n),
                    s = (i - l.width) / 2,
                    d = (i - l.height) / 2,
                    u = new o.default({
                        x: e.x + s,
                        y: e.y + d
                    }),
                    c = new o.default({
                        x: i / 2,
                        y: i / 2
                    }),
                    f = u.rotate(c, r),
                    p = h(t, a, n + r),
                    v = (i - p.width) / 2,
                    m = (i - p.height) / 2;
                return {
                    x: f.x - v,
                    y: f.y - m,
                    width: e.width,
                    height: e.height,
                    rotation: e.rotation
                }
            }
        },
        75304: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, a = e.onClose,
                    n = e.filename,
                    f = e.filesize,
                    p = e.fileExt,
                    h = e.mimeType,
                    v = null != f ? s.default.filesize(f) : "",
                    m = null !== (t = c[h]) && void 0 !== t ? t : "preview-generic";
                return (0, u.jsxs)("div", {
                    className: o.default.container,
                    children: [(0, u.jsx)(l.default, {
                        onClose: a,
                        filename: n
                    }), (0, u.jsx)(i.FlexColumn, {
                        className: r.default.body,
                        align: "center",
                        justify: "center",
                        children: (0, u.jsxs)(i.FlexColumn, {
                            className: r.default.previewContainer,
                            align: "center",
                            justify: "center",
                            children: [(0, u.jsx)("div", {
                                className: r.default.previewIcon,
                                children: (0, u.jsx)(d.default, {
                                    name: m
                                })
                            }), (0, u.jsx)("div", {
                                className: r.default.header,
                                children: s.default.t(1210)
                            }), (0, u.jsxs)("div", {
                                className: r.default.metadata,
                                children: [v, p ? ` - ${p.toUpperCase()}` : null]
                            })]
                        })
                    })]
                })
            };
            var r = n(a(45134)),
                i = a(27968),
                l = n(a(72580)),
                o = n(a(58099)),
                s = n(a(45159)),
                d = n(a(7665)),
                u = a(85893),
                c = {
                    "text/plain": "preview-txt",
                    "text/rtf": "preview-doc",
                    "application/msword": "preview-doc",
                    "application/vnd.openxmlformats-officedocument.wordprocessingml.document": "preview-doc",
                    "text/csv": "preview-sheet",
                    "application/vnd.ms-excel": "preview-sheet",
                    "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet": "preview-sheet",
                    "application/vnd.ms-powerpoint": "preview-slides",
                    "application/vnd.openxmlformats-officedocument.presentationml.presentation": "preview-slides",
                    "audio/aac": "preview-audio",
                    "audio/mp4": "preview-audio",
                    "audio/amr": "preview-audio",
                    "audio/mpeg": "preview-audio",
                    "audio/ogg; codecs=opus": "preview-audio",
                    "audio/wav": "preview-audio",
                    "application/zip": "preview-compressed"
                }
        },
        72580: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.filename,
                    a = e.pageCount,
                    n = null;
                null != a && a > 0 && (n = i.default.t(269, {
                    count: a,
                    _plural: a
                }));
                return (0, o.jsxs)("div", {
                    className: r.default.container,
                    children: [(0, o.jsx)("div", {
                        onClick: e.onClose,
                        className: r.default.closeButton,
                        children: (0, o.jsx)(l.default, {
                            name: "x"
                        })
                    }), (0, o.jsxs)("div", {
                        className: r.default.header,
                        children: [t && (0, o.jsx)("span", {
                            className: r.default.title,
                            children: t
                        }), null != n && (0, o.jsx)("span", {
                            className: r.default.pageCount,
                            children: n
                        })]
                    })]
                })
            };
            var r = n(a(84130)),
                i = n(a(45159)),
                l = n(a(7665)),
                o = a(85893)
        },
        14755: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.onClose,
                    a = e.item,
                    n = a.mimetype,
                    d = a.fullPreview,
                    u = a.fullPreviewSize,
                    c = a.documentPageCount,
                    f = a.filename;
                if (!(d && u && null != c && c > 0)) return (0, s.jsx)(i.default, {
                    mimeType: a.mimetype,
                    filesize: a.filesize,
                    filename: a.filename,
                    fileExt: a.fileExt,
                    onClose: t
                });
                return (0, s.jsxs)("div", {
                    className: o.default.container,
                    children: [(0, s.jsx)(l.default, {
                        onClose: t,
                        filename: f,
                        pageCount: c
                    }), (0, s.jsx)(r.default, {
                        fullPreview: d,
                        fullPreviewSize: u,
                        pageCount: c,
                        showPageCount: !1,
                        showBorder: !0,
                        mimeType: n,
                        filename: f
                    })]
                })
            };
            var r = n(a(92028)),
                i = n(a(75304)),
                l = n(a(72580)),
                o = n(a(58099)),
                s = a(85893)
        },
        41262: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.attachMedia,
                    a = e.onClose,
                    n = e.chat,
                    r = e.viewOnce,
                    p = e.viewOnceDisabled,
                    h = e.onCaptionChange,
                    v = e.onEnter,
                    m = e.setCaptionInputRef,
                    g = e.onToggleViewOnce,
                    _ = e.onFiles,
                    C = (0, d.default)(t, ["caption"]).caption;
                return (0, c.jsxs)("div", {
                    className: u.default.container,
                    children: [(0, c.jsx)(o.default, {
                        onClose: a
                    }), (0, c.jsx)(i.default, {
                        mimeType: t.mimetype,
                        url: t.fullPreview,
                        isGif: t.isGif,
                        size: t.fullPreviewSize,
                        processing: t.state === f,
                        preview: t.preview
                    }), (0, c.jsx)("div", {
                        className: u.default.footer,
                        children: (0, c.jsx)(l.default, {
                            chat: n,
                            caption: C,
                            viewOnce: r,
                            viewOnceDisabled: p,
                            msgType: s.TYPE.VIDEO,
                            theme: "video",
                            onToggleViewOnce: g,
                            onChange: h,
                            onEnter: v,
                            onFiles: _,
                            setCaptionInputRef: function(e) {
                                m(t.id, e)
                            }
                        }, t.id)
                    })]
                })
            };
            var r = a(71988),
                i = n(a(21791)),
                l = n(a(38053)),
                o = n(a(72580)),
                s = a(82380),
                d = n(a(69283)),
                u = n(a(91976)),
                c = a(85893),
                f = r.ATTACH_MEDIA_STATE.PROCESSING
        },
        62281: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, a, n = e.children,
                    u = e.onClick,
                    c = e.icon,
                    f = e.caret,
                    p = e.disabled,
                    h = e.title;
                if ("string" == typeof c) switch (c) {
                    case "sans-serif":
                        t = (0, d.jsx)(s.default, {
                            name: "panel-emoji-flags",
                            display: "inline"
                        });
                        break;
                    case "checked":
                        t = (0, d.jsx)(s.default, {
                            name: "checkmark",
                            display: "inline"
                        });
                        break;
                    case "unchecked":
                        t = (0, d.jsx)(s.default, {
                            name: "x",
                            display: "inline"
                        });
                        break;
                    default:
                        c && (t = (0, d.jsx)(s.default, {
                            name: c,
                            display: "inline"
                        }))
                } else c && (t = c);
                if (f) switch (f) {
                    case "up":
                        a = (0, d.jsx)(s.default, {
                            name: "chevron-down-alt",
                            display: "inline",
                            className: l.default.rotate
                        });
                        break;
                    case "down":
                        a = (0, d.jsx)(s.default, {
                            name: "chevron-down-alt",
                            display: "inline"
                        })
                }
                return (0, d.jsxs)("div", {
                    role: "button",
                    tabIndex: "-1",
                    onClick: u,
                    className: (0, i.default)(l.default.container, e.className, (0, r.default)({}, l.default.disabled, p)),
                    title: h,
                    children: [t && (0, d.jsx)(o.FlexRow, {
                        align: "center",
                        justify: "center",
                        className: l.default.icon,
                        children: t
                    }), n && (0, d.jsx)("span", {
                        className: l.default.body,
                        children: n
                    }), a && (0, d.jsx)("span", {
                        className: l.default.caret,
                        children: a
                    })]
                })
            };
            var r = n(a(59713)),
                i = n(a(94184)),
                l = n(a(86382)),
                o = a(27968),
                s = n(a(7665)),
                d = a(85893)
        },
        42462: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(a(63038)),
                i = a(67294),
                l = n(a(62281)),
                o = n(a(4837)),
                s = n(a(30605)),
                d = n(a(9513)),
                u = a(98169),
                c = a(27968),
                f = n(a(45159)),
                p = n(a(16835)),
                h = n(a(93820)),
                v = a(85893);

            function m(e, t) {
                var a = e.colors,
                    n = e.onColorSelect,
                    m = e.selectedColor,
                    g = (0, i.useState)(null),
                    _ = (0, r.default)(g, 2),
                    C = _[0],
                    x = _[1],
                    y = function() {
                        x(null)
                    },
                    S = function() {
                        return Boolean(C)
                    };
                (0, i.useImperativeHandle)(t, (function() {
                    return {
                        isPanelVisible: S
                    }
                }));
                var E = a.map((function(e) {
                        var t = e.primaryColor;
                        e.secondaryColor;
                        return (0, v.jsx)(s.default, {
                            primaryColor: t,
                            onSelect: function() {
                                return n(t)
                            },
                            selected: Boolean(m && m.equals(t))
                        }, t.toString())
                    })),
                    j = null;
                return C && (j = (0, v.jsx)(p.default, {
                    displayName: "ColorPicker",
                    escapable: !0,
                    popable: !0,
                    requestDismiss: y,
                    children: (0, v.jsx)(h.default, {
                        contextMenu: C
                    })
                })), (0, v.jsxs)("div", {
                    className: o.default.container,
                    children: [(0, v.jsx)(c.FlexRow, {
                        className: o.default.colorChipsContainer,
                        children: E
                    }), (0, v.jsx)(l.default, {
                        onClick: function(e) {
                            e.preventDefault(), e.stopPropagation();
                            var t = {
                                menu: (0, v.jsx)(d.default, {
                                    onColorSelect: n,
                                    selectedColor: m,
                                    onColorPickerClose: y
                                }),
                                dirX: f.default.isRTL() ? u.DirX.RIGHT : u.DirX.LEFT,
                                dirY: u.DirY.BOTTOM,
                                type: "color_picker",
                                anchor: e.target
                            };
                            x(t)
                        },
                        caret: C ? "down" : "up"
                    }), j]
                })
            }
            var g = (0, i.forwardRef)(m);
            t.default = g
        },
        30605: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, a, n = e.primaryColor,
                    u = e.secondaryColor,
                    c = e.onSelect,
                    f = e.selected,
                    p = e.withBorder,
                    h = (0, o.useState)(!1),
                    v = (0, i.default)(h, 2),
                    m = v[0],
                    g = v[1],
                    _ = (0, o.useState)(!1),
                    C = (0, i.default)(_, 2),
                    x = C[0],
                    y = C[1];
                return (0, d.jsx)("div", {
                    onClick: c,
                    onMouseEnter: function() {
                        g(!0)
                    },
                    onMouseLeave: function() {
                        g(!1)
                    },
                    onMouseDown: function() {
                        y(!0)
                    },
                    onMouseUp: function() {
                        y(!1)
                    },
                    className: (0, l.default)(s.default.colorButton, (t = {}, (0, r.default)(t, s.default.selected, f), (0, r.default)(t, s.default.hover, m), (0, r.default)(t, s.default.active, x), t)),
                    style: {
                        backgroundColor: x && !f ? n.withAlpha(.2).toRgbaString() : "transparent"
                    },
                    children: (0, d.jsx)("div", {
                        className: (0, l.default)(s.default.primaryColorChip, (a = {}, (0, r.default)(a, s.default.colorChipWithBorder, p && n.isWhite()), (0, r.default)(a, s.default.primaryColorChipMedium, "medium" === e.theme), a)),
                        style: {
                            backgroundColor: n.toRgbaString()
                        },
                        children: u && f && (0, d.jsx)("div", {
                            className: s.default.secondaryColorChip,
                            style: {
                                backgroundColor: u.toRgbaString()
                            }
                        })
                    })
                })
            };
            var r = n(a(59713)),
                i = n(a(63038)),
                l = n(a(94184)),
                o = a(67294),
                s = n(a(88501)),
                d = a(85893)
        },
        54336: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(a(34575)),
                l = r(a(93913)),
                o = r(a(2205)),
                s = r(a(99842)),
                d = a(67294),
                u = n(a(28448)),
                c = r(a(30605)),
                f = r(a(60755)),
                p = a(78839),
                h = r(a(58342)),
                v = a(96197),
                m = a(85893),
                g = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, s.default)(a);

                    function a() {
                        var e;
                        (0, i.default)(this, a);
                        for (var n = arguments.length, r = new Array(n), l = 0; l < n; l++) r[l] = arguments[l];
                        return (e = t.call.apply(t, [this].concat(r)))._setRefHexColorInput = function(t) {
                            return e._refHexColorInput = t
                        }, e.state = {
                            inputColorVal: e.props.color.toHex(),
                            selectedColor: e.props.color
                        }, e._handleInputChange = function(t) {
                            var a = t.target.value;
                            if (e.setState({
                                    inputColorVal: a
                                }), a && (!a || (0, u.isValidHex)(a))) {
                                var n = u.default.fromHex(a);
                                e.props.onChangeColor(n)
                            }
                        }, e._handleEnter = function() {
                            e.props.onColorPickerClose()
                        }, e
                    }
                    return (0, l.default)(a, [{
                        key: "render",
                        value: function() {
                            var e = this.props.color,
                                t = this.state.inputColorVal;
                            return (0, m.jsxs)("div", {
                                className: f.default.container,
                                style: {
                                    width: p.CONTAINER_WIDTH,
                                    height: p.INPUT_HEIGHT
                                },
                                children: [(0, m.jsx)(c.default, {
                                    withBorder: !0,
                                    primaryColor: e,
                                    selected: !1,
                                    theme: "medium"
                                }), (0, m.jsx)(h.default, {
                                    handlers: {
                                        enter: this._handleEnter
                                    },
                                    children: (0, m.jsx)(v.SelectableDiv, {
                                        selectable: !0,
                                        children: (0, m.jsx)("input", {
                                            type: "text",
                                            ref: this._setRefHexColorInput,
                                            className: f.default.input,
                                            value: t,
                                            onChange: this._handleInputChange
                                        })
                                    })
                                })]
                            })
                        }
                    }], [{
                        key: "getDerivedStateFromProps",
                        value: function(e, t) {
                            var a = {};
                            return e.color !== t.selectedColor && ((0, u.compareHex)(t.inputColorVal, e.color.toHex()) || (a.inputColorVal = e.color.toHex()), a.selectedColor = e.color), a
                        }
                    }]), a
                }(d.Component);
            t.default = g, g.displayName = "ColorPickerInput"
        },
        22756: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(a(34575)),
                i = n(a(93913)),
                l = n(a(2205)),
                o = n(a(99842)),
                s = n(a(96486)),
                d = a(67294),
                u = n(a(28448)),
                c = n(a(50889)),
                f = a(78839),
                p = a(69401),
                h = a(85893),
                v = function(e) {
                    (0, l.default)(a, e);
                    var t = (0, o.default)(a);

                    function a(e) {
                        var n;
                        return (0, r.default)(this, a), (n = t.call(this, e))._setCanvasRef = function(e) {
                            n._canvasRef = e
                        }, n._updateIsDraggingAndPosition = function(e, t) {
                            null != t && n.setState({
                                isDragging: t
                            });
                            var a = n._getCursorPosition(e),
                                r = a.x,
                                i = a.y,
                                l = n._getColorAt({
                                    x: r,
                                    y: i
                                });
                            n._updateSelectedColor(l), n.props.onChangeCanvasColor(l)
                        }, n._handleMouseDown = function(e) {
                            n._updateIsDraggingAndPosition(e, !0)
                        }, n._handleMouseMove = function(e) {
                            n.state.isDragging && (e.stopPropagation(), e.preventDefault(), n._updateIsDraggingAndPosition(e))
                        }, n._handleMouseUp = function(e) {
                            n._updateIsDraggingAndPosition(e, !1)
                        }, n._getCursorPosition = function(e) {
                            var t = n._canvasRef;
                            if (!t) return {
                                x: 0,
                                y: 0
                            };
                            var a = t.getBoundingClientRect(),
                                r = e.clientX - a.left,
                                i = e.clientY - a.top;
                            return r > a.width && (r = a.width - .1), r < 0 && (r = 0), i > a.height && (i = a.height), i < 0 && (i = .1), {
                                x: r -= f.CURSOR_SIZE / 2,
                                y: i -= f.CURSOR_SIZE / 2
                            }
                        }, n._getColorAt = function(e) {
                            var t = n._canvasRef;
                            if (!t) return new u.default(0, 0, 0);
                            var a = e.x + f.CURSOR_SIZE / 2,
                                r = e.y + f.CURSOR_SIZE / 2,
                                i = t.getContext("2d").getImageData(a, r, 1, 1).data;
                            return new u.default(i[0], i[1], i[2])
                        }, n.state = {
                            isDragging: !1
                        }, n._updateSelectedColor = s.default.throttle(n.props.onChangeSelectedColor, f.THROTTLE_WAIT_TIME), n
                    }
                    return (0, i.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            this._initColorPicker()
                        }
                    }, {
                        key: "_initColorPicker",
                        value: function() {
                            var e = this._canvasRef;
                            if (e) {
                                var t = e.getContext("2d"),
                                    a = t.createLinearGradient(0, 0, e.width, 0);
                                a.addColorStop(0, "#ff0000"), a.addColorStop(1 / 6, "#ffff00"), a.addColorStop(1 / 6 * 2, "#00ff00"), a.addColorStop(.5, "#00ffff"), a.addColorStop(1 / 6 * 4, "#0000ff"), a.addColorStop(1 / 6 * 5, "#ff00ff"), a.addColorStop(1, "#ff0000"), t.fillStyle = a, t.fillRect(0, 0, e.width, e.height), (a = t.createLinearGradient(0, 0, 0, e.height)).addColorStop(0, "rgba(255, 255, 255, 1)"), a.addColorStop(.5, "rgba(255, 255, 255, 0)"), a.addColorStop(1, "rgba(255, 255, 255, 0)"), t.fillStyle = a, t.fillRect(0, 0, e.width, e.height), (a = t.createLinearGradient(0, 0, 0, e.height)).addColorStop(0, "rgba(0, 0, 0, 0)"), a.addColorStop(.5, "rgba(0, 0, 0, 0)"), a.addColorStop(1, "rgba(0, 0, 0, 1)"), t.fillStyle = a, t.fillRect(0, 0, e.width, e.height)
                            }
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e = this.props.color,
                                t = (0, p.getPositionFromColor)(e);
                            return (0, h.jsxs)(h.Fragment, {
                                children: [(0, h.jsx)("canvas", {
                                    width: f.CONTAINER_WIDTH,
                                    height: f.CANVAS_HEIGHT,
                                    className: c.default.canvas,
                                    ref: this._setCanvasRef,
                                    onMouseDown: this._handleMouseDown,
                                    onMouseMove: this._handleMouseMove,
                                    onMouseUp: this._handleMouseUp
                                }), (0, h.jsx)("div", {
                                    className: c.default.cursor,
                                    style: {
                                        width: f.CURSOR_SIZE,
                                        height: f.CURSOR_SIZE,
                                        left: t.x,
                                        top: t.y,
                                        backgroundColor: e.toRgbaString()
                                    }
                                })]
                            })
                        }
                    }]), a
                }(d.Component);
            t.default = v, v.displayName = "ColorPickerPanel"
        },
        78839: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.THROTTLE_WAIT_TIME = t.DEFAULT_COLOR = t.CURSOR_SIZE = t.INPUT_HEIGHT = t.CANVAS_HEIGHT = t.CONTAINER_HEIGHT = t.CONTAINER_WIDTH = void 0;
            var r = n(a(28448));
            t.CONTAINER_WIDTH = 334;
            t.CONTAINER_HEIGHT = 203;
            var i = 150.22;
            t.CANVAS_HEIGHT = i;
            t.INPUT_HEIGHT = 52.78;
            t.CURSOR_SIZE = 20;
            var l = new r.default(210, 252, 86);
            t.DEFAULT_COLOR = l;
            t.THROTTLE_WAIT_TIME = 900
        },
        9513: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(a(34575)),
                i = n(a(93913)),
                l = n(a(2205)),
                o = n(a(99842)),
                s = a(67294),
                d = n(a(54336)),
                u = n(a(22756)),
                c = a(78839),
                f = n(a(90560)),
                p = a(85893),
                h = function(e) {
                    (0, l.default)(a, e);
                    var t = (0, o.default)(a);

                    function a(e) {
                        var n, i;
                        return (0, r.default)(this, a), (i = t.call(this, e)).handleChangeCanvasColor = function(e) {
                            i.setState({
                                canvasColor: e
                            })
                        }, i.handleChangeSelectedColor = function(e) {
                            i.props.onColorSelect(e)
                        }, i.handleChangeColor = function(e) {
                            i.handleChangeCanvasColor(e), i.handleChangeSelectedColor(e)
                        }, i.state = {
                            canvasColor: null !== (n = i.props.selectedColor) && void 0 !== n ? n : c.DEFAULT_COLOR
                        }, i
                    }
                    return (0, i.default)(a, [{
                        key: "render",
                        value: function() {
                            var e = this.state.canvasColor;
                            return (0, p.jsxs)("div", {
                                className: f.default.container,
                                style: {
                                    width: c.CONTAINER_WIDTH,
                                    height: c.CONTAINER_HEIGHT
                                },
                                children: [(0, p.jsx)(u.default, {
                                    color: e,
                                    onChangeCanvasColor: this.handleChangeCanvasColor,
                                    onChangeSelectedColor: this.handleChangeSelectedColor
                                }), (0, p.jsx)(d.default, {
                                    color: e,
                                    onChangeColor: this.handleChangeColor,
                                    onColorPickerClose: this.props.onColorPickerClose
                                })]
                            })
                        }
                    }]), a
                }(s.Component);
            t.default = h, h.displayName = "ColorPicker"
        },
        50142: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.CropRotateToolbar = function(e) {
                var t = e.canReset,
                    a = e.onRotateCanvas,
                    n = e.onReset;
                return (0, s.jsxs)(l.FlexRow, {
                    className: i.default.container,
                    children: [(0, s.jsx)(r.default, {
                        className: i.default.rotateLeftButton,
                        icon: "media-editor-rotate-left",
                        title: o.default.t(1218),
                        onClick: function() {
                            return a(-90)
                        }
                    }), (0, s.jsx)(r.default, {
                        icon: "media-editor-rotate-right",
                        title: o.default.t(1219),
                        onClick: function() {
                            return a(90)
                        }
                    }), (0, s.jsx)(r.default, {
                        onClick: n,
                        disabled: !t,
                        children: o.default.t(1211)
                    })]
                })
            };
            var r = n(a(62281)),
                i = n(a(52418)),
                l = a(27968),
                o = n(a(45159)),
                s = a(85893)
        },
        51451: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(a(81109)),
                i = n(a(34575)),
                l = n(a(93913)),
                o = n(a(2205)),
                s = n(a(99842)),
                d = a(67294),
                u = n(a(62281)),
                c = a(27968),
                f = n(a(43384)),
                p = n(a(9194)),
                h = a(45738),
                v = n(a(16835)),
                m = n(a(93820)),
                g = n(a(60806)),
                _ = a(85893),
                C = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, s.default)(a);

                    function a() {
                        var e;
                        (0, i.default)(this, a);
                        for (var n = arguments.length, r = new Array(n), l = 0; l < n; l++) r[l] = arguments[l];
                        return (e = t.call.apply(t, [this].concat(r))).state = {
                            contextMenu: null
                        }, e._setRefButton = function(t) {
                            e._refButton = t
                        }, e._handleOpen = function() {
                            e.state.contextMenu || e._refButton && e.setState({
                                contextMenu: {
                                    menu: e._getDropdown(),
                                    anchor: e._refButton
                                }
                            })
                        }, e._handleClose = function() {
                            e.setState({
                                contextMenu: null
                            })
                        }, e
                    }
                    return (0, l.default)(a, [{
                        key: "_getDropdown",
                        value: function() {
                            var e = this.props,
                                t = e.fonts,
                                a = e.onFontSelect,
                                n = e.onAlignmentSelect,
                                r = e.selectedFont,
                                i = e.selectedAlignment;
                            return (0, _.jsx)(p.default, {
                                fonts: t,
                                selectedFont: r,
                                selectedAlignment: i,
                                onFontSelect: a,
                                onAlignmentSelect: n
                            })
                        }
                    }, {
                        key: "isMenuVisible",
                        value: function() {
                            return Boolean(this.state.contextMenu)
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e, t = this.props.selectedFont,
                                a = this.state.contextMenu,
                                n = Boolean(a);
                            return a && (e = (0, _.jsx)(v.default, {
                                displayName: "MediaEditorFontDropdown",
                                escapable: !0,
                                popable: !0,
                                requestDismiss: this._handleClose,
                                children: (0, _.jsx)(m.default, {
                                    contextMenu: a
                                })
                            })), (0, _.jsxs)("div", {
                                ref: this._setRefButton,
                                className: f.default.container,
                                children: [(0, _.jsx)(u.default, {
                                    onClick: this._handleOpen,
                                    icon: (0, _.jsx)(x, {
                                        font: t
                                    }),
                                    selected: n,
                                    caret: n ? "down" : "up",
                                    children: (0, _.jsx)("span", {
                                        className: f.default.fontLabel,
                                        children: (0, h.getFontTranslation)(t)
                                    })
                                }), (0, _.jsx)(g.default, {
                                    transitionName: "dropdown",
                                    children: e
                                })]
                            })
                        }
                    }]), a
                }(d.Component);

            function x(e) {
                var t = e.font;
                return (0, _.jsx)(c.FlexRow, {
                    className: f.default.icon,
                    style: (0, r.default)({}, (0, h.getFontStyle)(t)),
                    justify: "center",
                    align: "center",
                    children: (0, _.jsx)("div", {
                        "aria-hidden": "true",
                        children: "A"
                    })
                })
            }
            t.default = C, C.displayName = "FontToolbar"
        },
        9194: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.onFontSelect,
                    a = e.onAlignmentSelect,
                    n = e.selectedFont,
                    v = e.selectedAlignment;
                (0, l.useEffect)((function() {
                    u.default.loadAllFonts()
                }), []);
                return (0, p.jsxs)("div", {
                    children: [e.fonts.map((function(e) {
                        var a;
                        n === e && (a = (0, p.jsx)("span", {
                            className: d.default.selected,
                            children: (0, p.jsx)(f.default, {
                                name: "checkmark",
                                display: "inline"
                            })
                        }));
                        var r, i = (0, c.getFontTranslation)(e);
                        switch (e) {
                            case c.FONTS.SANS_SERIF:
                                r = d.default.sansSerif;
                                break;
                            case c.FONTS.SERIF:
                                r = d.default.serif;
                                break;
                            case c.FONTS.NORICAN_REGULAR:
                                r = d.default.noricanRegular;
                                break;
                            case c.FONTS.BRYNDAN_WRITE:
                                r = d.default.bryndanWrite;
                                break;
                            case c.FONTS.OSWALD_HEAVY:
                                r = d.default.oswaldHeavy
                        }
                        return (0, p.jsx)(o.default, {
                            action: function(a) {
                                return function(e, a) {
                                    e.stopPropagation(), t(a)
                                }(a, e)
                            },
                            children: (0, p.jsxs)("div", {
                                role: "button",
                                className: d.default.item,
                                style: (0, c.getFontStyle)(e),
                                children: [(0, p.jsx)("span", {
                                    className: r,
                                    children: i
                                }), a]
                            })
                        }, e)
                    })), (0, p.jsx)(s.FlexRow, {
                        className: d.default.alignmentContainer,
                        justify: "around",
                        align: "center",
                        children: h.map((function(e) {
                            var t = e.alignment,
                                n = e.icon;
                            return (0, p.jsx)(s.FlexItem, {
                                children: (0, p.jsx)(o.default, {
                                    action: function(e) {
                                        return function(e, t) {
                                            e.stopPropagation(), a(t)
                                        }(e, t)
                                    },
                                    children: (0, p.jsx)(f.default, {
                                        name: n,
                                        className: (0, i.default)(d.default.alignmentIcon, (0, r.default)({}, d.default.alignmentIconSelected, t === v))
                                    })
                                })
                            }, n)
                        }))
                    }, "alignment")]
                })
            };
            var r = n(a(59713)),
                i = n(a(94184)),
                l = a(67294),
                o = n(a(94680)),
                s = a(27968),
                d = n(a(16702)),
                u = n(a(99617)),
                c = a(45738),
                f = n(a(7665)),
                p = a(85893),
                h = [{
                    alignment: c.TextAlignment.LEFT,
                    icon: "align-left"
                }, {
                    alignment: c.TextAlignment.CENTER,
                    icon: "align-center"
                }, {
                    alignment: c.TextAlignment.RIGHT,
                    icon: "align-right"
                }]
        },
        7885: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.selectedLayer,
                    a = e.inPaintMode,
                    n = e.inCropRotateMode,
                    x = e.inTextEditingMode,
                    y = e.inOutlineMode,
                    S = e.canUndo,
                    E = e.canRedo,
                    j = e.onPaintSelect,
                    I = e.onCropRotateSelect,
                    b = e.onTextSelect,
                    k = e.onEmojiSelect,
                    T = e.onToggleEmojiPanel,
                    M = e.onStickerSelect,
                    w = e.onToggleStickerPanel,
                    P = e.onOutlineSelect,
                    L = e.onUndo,
                    O = e.onRedo,
                    D = e.showOutline,
                    N = (0, i.useState)(),
                    R = (0, r.default)(N, 2),
                    A = R[0],
                    F = R[1],
                    B = (0, i.useState)(),
                    U = (0, r.default)(B, 2),
                    G = U[0],
                    H = U[1],
                    V = (0, i.useRef)({});
                V.current = {
                    inPaintMode: a,
                    onEmojiSelect: k,
                    onStickerSelect: M,
                    onPaintSelect: j
                };
                var W = function() {
                        n ? I() : a ? j() : y && P()
                    },
                    z = function() {
                        F(null), T(!1)
                    },
                    K = function() {
                        H(null), w(!1)
                    };
                return (0, C.jsxs)(c.MenuBar, {
                    theme: "media-editor",
                    children: [(0, C.jsx)(c.MenuBarItem, {
                        icon: (0, C.jsx)(p.default, {
                            name: "media-editor-emoji"
                        }),
                        a8nText: "emoji-button",
                        title: u.default.t(1214),
                        onClick: function(e) {
                            e.preventDefault(), e.stopPropagation(), W();
                            var t = (0, C.jsx)(o.default, {
                                onEmoji: function(e) {
                                    V.current.inPaintMode && V.current.onPaintSelect(), V.current.onEmojiSelect(e), z()
                                },
                                onFocusNext: z,
                                onFocusPrev: z
                            });
                            F({
                                menu: t,
                                dirY: l.DirY.TOP,
                                type: "emoji_picker",
                                anchor: e.target
                            }), T(!0)
                        },
                        selected: Boolean(A) || t instanceof d.default && t.isEmoji()
                    }, "emoji"), (0, C.jsx)(c.MenuBarItem, {
                        icon: (0, C.jsx)(p.default, {
                            name: "media-editor-sticker"
                        }),
                        a8nText: "sticker-button",
                        title: u.default.t(1220),
                        onClick: function(e) {
                            e.preventDefault(), e.stopPropagation(), W();
                            var t, a = function(e) {
                                V.current.inPaintMode && V.current.onPaintSelect(), V.current.onStickerSelect(e), K()
                            };
                            s.default.supportsFeature(s.default.F.MD_BACKEND) ? _.default.webServerStickerPanel && (t = (0, C.jsx)(g.default, {
                                onSticker: a,
                                onFocusNext: K,
                                onFocusPrev: K
                            })) : t = (0, C.jsx)(f.default, {
                                onSticker: a,
                                onFocusNext: K,
                                onFocusPrev: K
                            }), t && (H({
                                menu: t,
                                dirY: l.DirY.TOP,
                                type: "sticker_picker",
                                anchor: e.target
                            }), w(!0))
                        },
                        selected: Boolean(G) || t instanceof d.default && t.isSticker()
                    }, "sticker"), (0, C.jsx)(c.MenuBarItem, {
                        icon: (0, C.jsx)(p.default, {
                            name: "media-editor-text"
                        }),
                        a8nText: "text-button",
                        title: u.default.t(1221),
                        onClick: function(e) {
                            e.preventDefault(), W(), b()
                        },
                        selected: x || t instanceof h.default
                    }, "text"), (0, C.jsx)(c.MenuBarItem, {
                        icon: (0, C.jsx)(p.default, {
                            name: "media-editor-drawing"
                        }),
                        a8nText: "paint-button",
                        title: u.default.t(1216),
                        onClick: function(e) {
                            e.preventDefault(), a || W(), j()
                        },
                        selected: a
                    }, "paint"), (0, C.jsx)(c.MenuBarItem, {
                        icon: (0, C.jsx)(p.default, {
                            name: "media-editor-crop-rotate"
                        }),
                        a8nText: "crop-rotate-button",
                        title: u.default.t(1212),
                        onClick: function(e) {
                            e.preventDefault(), n || W(), I()
                        },
                        selected: n
                    }, "crop-rotate"), D && (0, C.jsx)(c.MenuBarItem, {
                        icon: (0, C.jsx)(p.default, {
                            name: "scissors"
                        }),
                        a8nText: "outline-button",
                        title: u.default.t(1215),
                        onClick: function(e) {
                            e.preventDefault(), y || W(), P()
                        },
                        selected: y
                    }, "outline"), (0, C.jsx)(c.MenuBarItem, {
                        icon: (0, C.jsx)(p.default, {
                            name: "media-editor-undo"
                        }),
                        a8nText: "undo-button",
                        title: u.default.t(1222),
                        disabled: !S,
                        onClick: L
                    }, "undo"), (0, C.jsx)(c.MenuBarItem, {
                        icon: (0, C.jsx)(p.default, {
                            name: "media-editor-redo"
                        }),
                        a8nText: "redo-button",
                        title: u.default.t(1217),
                        disabled: !E,
                        onClick: O
                    }, "redo"), G && (0, C.jsx)(v.default, {
                        displayName: "StickerPicker",
                        escapable: !0,
                        popable: !0,
                        requestDismiss: K,
                        children: (0, C.jsx)(m.default, {
                            contextMenu: G
                        })
                    }), A && (0, C.jsx)(v.default, {
                        displayName: "EmojiPicker",
                        escapable: !0,
                        popable: !0,
                        requestDismiss: z,
                        children: (0, C.jsx)(m.default, {
                            contextMenu: A
                        })
                    })]
                })
            };
            var r = n(a(63038)),
                i = a(67294),
                l = a(98169),
                o = n(a(10508)),
                s = n(a(38032)),
                d = n(a(89826)),
                u = n(a(45159)),
                c = a(91823),
                f = n(a(78893)),
                p = n(a(7665)),
                h = n(a(73860)),
                v = n(a(16835)),
                m = n(a(93820)),
                g = n(a(55279)),
                _ = n(a(43890)),
                C = a(85893)
        },
        36466: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.checked,
                    a = e.onBackgroundToggle,
                    n = (0, u.jsx)("div", {
                        className: (0, i.default)(d.default.cirle, (0, r.default)({}, d.default.circleFilled, t)),
                        children: t ? (0, u.jsx)("div", {
                            className: d.default.checked,
                            children: (0, u.jsx)(s.default, {
                                name: "checkmark"
                            })
                        }) : (0, u.jsx)("div", {
                            className: d.default.unchecked
                        })
                    });
                return (0, u.jsx)(l.default, {
                    icon: n,
                    onClick: a,
                    children: o.default.t(1202)
                })
            };
            var r = n(a(59713)),
                i = n(a(94184)),
                l = n(a(62281)),
                o = n(a(45159)),
                s = n(a(7665)),
                d = n(a(89046)),
                u = a(85893)
        },
        63782: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.thicknesses.map((function(t, a) {
                    return (0, s.jsx)(d, {
                        thickness: t,
                        onThicknessSelect: e.onThicknessSelect,
                        selectedThickness: e.selectedThickness
                    }, a)
                }));
                return (0, s.jsx)("div", {
                    className: l.default.container,
                    children: t
                })
            };
            var r = n(a(59713)),
                i = n(a(94184)),
                l = n(a(60349)),
                o = a(55072),
                s = a(85893);

            function d(e) {
                return (0, s.jsx)("div", {
                    onClick: function() {
                        return e.onThicknessSelect(e.thickness)
                    },
                    className: (0, i.default)(l.default.thicknessButton, (0, r.default)({}, l.default.selected, e.selectedThickness && e.selectedThickness === e.thickness)),
                    children: (0, s.jsx)("div", {
                        className: l.default.thicknessChip,
                        style: {
                            height: (0, o.getThicknessValue)(e.thickness),
                            width: (0, o.getThicknessValue)(e.thickness)
                        }
                    })
                }, e.thickness.toString())
            }
        },
        69401: (e, t, a) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.getPositionFromColor = function(e) {
                var t = e.toHsl(),
                    a = n.CONTAINER_WIDTH * t.hue - n.CURSOR_SIZE / 2,
                    r = n.CANVAS_HEIGHT * (1 - t.lightness) - n.CURSOR_SIZE / 2;
                return {
                    x: a,
                    y: r
                }
            };
            var n = a(78839)
        },
        76249: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.getPointFromStage = function(e, t) {
                if (!t) return new r.default({
                    x: 0,
                    y: 0
                });
                var a = t.getAbsoluteScale(),
                    n = a.x,
                    i = a.y,
                    l = t.content.getBoundingClientRect(),
                    o = e.clientX - l.left,
                    s = e.clientY - l.top;
                return new r.default({
                    x: o / n,
                    y: s / i
                })
            }, t.getPointFromGroup = function(e) {
                return new r.default({
                    x: e.target.x() - e.target.offsetX(),
                    y: e.target.y() - e.target.offsetY()
                })
            }, t.getRotationFromGroup = function(e) {
                return e.target.rotation()
            }, t.getScaleFromGroup = function(e) {
                return e.target.scaleX()
            }, t.isEventOnAnchor = function(e) {
                var t, a;
                return null !== (t = null === (a = e.target.attrs.name) || void 0 === a ? void 0 : a.includes("anchor")) && void 0 !== t && t
            };
            var r = n(a(47916))
        },
        51349: (e, t, a) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), Object.defineProperty(t, "Circle", {
                enumerable: !0,
                get: function() {
                    return n.Circle
                }
            }), Object.defineProperty(t, "Group", {
                enumerable: !0,
                get: function() {
                    return n.Group
                }
            }), Object.defineProperty(t, "Image", {
                enumerable: !0,
                get: function() {
                    return n.Image
                }
            }), Object.defineProperty(t, "Layer", {
                enumerable: !0,
                get: function() {
                    return n.Layer
                }
            }), Object.defineProperty(t, "Line", {
                enumerable: !0,
                get: function() {
                    return n.Line
                }
            }), Object.defineProperty(t, "Path", {
                enumerable: !0,
                get: function() {
                    return n.Path
                }
            }), Object.defineProperty(t, "Rect", {
                enumerable: !0,
                get: function() {
                    return n.Rect
                }
            }), Object.defineProperty(t, "Stage", {
                enumerable: !0,
                get: function() {
                    return n.Stage
                }
            }), Object.defineProperty(t, "Text", {
                enumerable: !0,
                get: function() {
                    return n.Text
                }
            }), Object.defineProperty(t, "Transformer", {
                enumerable: !0,
                get: function() {
                    return n.Transformer
                }
            }), a(7643), a(71298), a(27149), a(87339), a(75244), a(23787), a(29516);
            var n = a(77201)
        },
        23961: (e, t) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.calculateContainScale = function(e, t, a, n) {
                if (0 === e || 0 === t) return 1;
                if (!a.isEmpty() && (e > a.width || t > a.height)) return Math.min(a.width / e, a.height / t);
                if (!n.isEmpty() && e < n.width && t < n.height) return Math.min(n.width / e, n.height / t);
                return 1
            }
        },
        39382: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(a(34575)),
                l = r(a(93913)),
                o = r(a(2205)),
                s = r(a(99842)),
                d = a(67294),
                u = r(a(29351)),
                c = r(a(65901)),
                f = r(a(86777)),
                p = r(a(94253)),
                h = r(a(45159)),
                v = a(11887),
                m = n(a(45042)),
                g = a(80549),
                _ = a(90600),
                C = r(a(50507)),
                x = r(a(85651)),
                y = r(a(68544)),
                S = a(85893),
                E = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, s.default)(a);

                    function a(e) {
                        var n;
                        return (0, i.default)(this, a), (n = t.call(this, e))._labelModel = null, n.handleOk = function() {
                            var e = n.state,
                                t = e.labelName,
                                a = e.labelColor;
                            if (!e.labelNameError) {
                                (0, g.logLabelOperationEvent)(C.default.LABEL_OPERATIONS.CLICK_POSITIVE, 1, n.props.onAddLabel ? C.default.LABEL_TARGETS.ADD_LABEL_DIALOG : C.default.LABEL_TARGETS.EDIT_LABEL_DIALOG);
                                var r = t && t.trim(),
                                    i = n._validateLabelName(r || "");
                                i.passed ? (n.props.labelId && n.props.onUpdateLabel ? n.props.onUpdateLabel({
                                    id: n.props.labelId,
                                    color: a,
                                    name: t
                                }, m.LABEL_PROPERTIES.NAME) : n.props.onAddLabel && n.props.onAddLabel(t || "", a), n.props.onCancel ? n.props.onCancel() : c.default.closeModal()) : n.setState({
                                    labelNameError: i.error
                                })
                            }
                        }, n.handleCancel = function() {
                            (0, g.logLabelOperationEvent)(C.default.LABEL_OPERATIONS.CLICK_NEGATIVE, 1, n.props.onAddLabel ? C.default.LABEL_TARGETS.ADD_LABEL_DIALOG : C.default.LABEL_TARGETS.EDIT_LABEL_DIALOG), n.props.onCancel ? n.props.onCancel() : c.default.closeModal()
                        }, n._handleLabelNameChange = function(e) {
                            var t = n._validateLabelName(e);
                            n.setState({
                                labelName: e,
                                labelNameError: t.passed ? void 0 : t.error
                            })
                        }, n._validateLabelName = function(e) {
                            var t = !0,
                                a = null;
                            return e && "" !== e.trim() || (t = !1), n._labelModel && n._labelModel.name === e || 0 === m.default.where({
                                name: e
                            }).length || (t = !1, a = h.default.t(242)), {
                                passed: t,
                                error: a
                            }
                        }, n._handleKeyEnter = function(e) {
                            e.stopPropagation(), n.handleOk()
                        }, n.props.labelId && (n._labelModel = m.default.assertGet(n.props.labelId)), n.state = {
                            labelColor: n._labelModel && n._labelModel.color || void 0,
                            labelName: n._labelModel && n._labelModel.name || "",
                            labelNameError: void 0
                        }, n
                    }
                    return (0, l.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this;
                            this.props.onAddLabel ? (m.default.getNewLabelColor().then((function(t) {
                                e.setState({
                                    labelColor: t || p.default.DEFAULT_SMB__NEW_LABEL_COLOR
                                })
                            })), (0, g.logLabelOperationEvent)(C.default.LABEL_OPERATIONS.VIEW, 1, C.default.LABEL_TARGETS.ADD_LABEL_DIALOG)) : this.props.onUpdateLabel && (0, g.logLabelOperationEvent)(C.default.LABEL_OPERATIONS.VIEW, 1, C.default.LABEL_TARGETS.EDIT_LABEL_DIALOG)
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e = !this._validateLabelName(this.state.labelName.trim()).passed;
                            return (0, S.jsx)(f.default, {
                                title: this.props.onUpdateLabel ? h.default.t(812) : h.default.t(245),
                                okText: h.default.t(2125),
                                onOK: this.handleOk,
                                okDisabled: e,
                                onCancel: this.handleCancel,
                                children: (0, S.jsxs)("div", {
                                    className: u.default.inputContainer,
                                    children: [(0, S.jsx)("div", {
                                        className: u.default.label,
                                        children: this.state.labelColor ? (0, _.renderLabelSvg)((0, v.intColorToHex)(this.state.labelColor)) : (0, S.jsx)(x.default, {
                                            stroke: 5,
                                            size: 20
                                        })
                                    }), (0, S.jsx)("div", {
                                        className: u.default.input,
                                        children: (0, S.jsx)(y.default, {
                                            a8n: "add-new-label-name-input",
                                            focusOnMount: !0,
                                            hideFloatingLabel: !0,
                                            showRemaining: !0,
                                            supportsEmoji: !0,
                                            value: this.state.labelName,
                                            error: this.state.labelNameError,
                                            maxLength: p.default.SMB_LABELS.MAX_LABEL_LENGTH,
                                            onChange: this._handleLabelNameChange,
                                            onEnter: this._handleKeyEnter,
                                            placeholder: h.default.t(244)
                                        })
                                    })]
                                })
                            })
                        }
                    }]), a
                }(d.Component);
            t.default = E, E.displayName = "AddOrEditLabelPopup"
        },
        94928: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.product,
                    a = e.sessionId,
                    n = (0, o.useState)(!1),
                    r = (0, i.default)(n, 2),
                    y = r[0],
                    S = r[1],
                    E = (0, o.useState)(!1),
                    j = (0, i.default)(E, 2),
                    I = j[0],
                    b = j[1],
                    k = (0, o.useState)(""),
                    T = (0, i.default)(k, 2),
                    M = T[0],
                    w = T[1],
                    P = function() {
                        s.default.closeModal()
                    };
                return I ? (0, x.jsx)(d.default, {
                    title: f.default.t(1567),
                    onOK: P,
                    children: (0, x.jsx)(m.TextDiv, {
                        children: f.default.t(536)
                    })
                }) : (0, x.jsx)(d.default, {
                    title: f.default.t(1567),
                    onOK: function() {
                        (0, p.logAppealProductCatalogClick)(a), S(!0), (0, h.appealProduct)(t.id.toString(), M).then((function() {
                            t.canAppeal = !1, t.reviewStatus = v.PRODUCT_REVIEW_STATUS.PENDING, (0, p.logAppealProductCatalogSuccess)(a), S(!1), b(!0)
                        })).catch((0, l.filteredCatch)(C.ServerStatusCodeError, (function(e) {
                            s.default.openToast((0, x.jsx)(_.default, {
                                msg: f.default.t(507),
                                id: (0, _.genId)("catalog_appeal_submission_failed")
                            })), (0, p.logAppealProductCatalogFailed)(a, e.status), S(!1)
                        })))
                    },
                    onCancel: P,
                    okDisabled: y,
                    children: (0, x.jsxs)("form", {
                        children: [(0, x.jsx)(g.default, {
                            a8n: "confirm-popup-text-input",
                            placeholder: f.default.t(1116),
                            onChange: function(e) {
                                w(e)
                            },
                            value: M,
                            maxLength: 1e3
                        }), (0, x.jsx)(c.default, {
                            href: u.default.WA_COMMERCE_POLICY_URL,
                            children: f.default.t(1120)
                        })]
                    })
                })
            };
            var i = r(a(63038)),
                l = a(18077),
                o = a(67294),
                s = r(a(65901)),
                d = r(a(86777)),
                u = r(a(94253)),
                c = r(a(49012)),
                f = r(a(45159)),
                p = a(10951),
                h = a(61689),
                v = a(67315),
                m = a(22552),
                g = r(a(68544)),
                _ = n(a(92428)),
                C = a(59175),
                x = a(85893)
        },
        47461: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.mimeType,
                    a = e.url;
                return (0, i.jsx)("div", {
                    className: r.default.container,
                    "data-animate-attach-media": !0,
                    children: (0, i.jsx)("div", {
                        className: r.default.media,
                        children: (0, i.jsx)("audio", {
                            controls: !0,
                            type: t,
                            src: a
                        })
                    })
                })
            };
            var r = n(a(77046)),
                i = a(85893)
        },
        77621: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.mimeType,
                    a = e.filename,
                    n = (0, r.default)(l.default.icon, d[t] ? d[t].icon : "icon-doc-generic");
                return (0, s.jsx)("div", {
                    className: l.default.container,
                    "data-animate-attach-media": !0,
                    children: (0, s.jsx)("div", {
                        className: l.default.media,
                        children: (0, s.jsxs)("div", {
                            className: l.default.document,
                            children: [(0, s.jsx)("div", {
                                className: n
                            }), (0, s.jsx)("div", {
                                className: l.default.text,
                                children: a
                            })]
                        })
                    })
                })
            };
            var r = n(a(94184)),
                i = n(a(96486)),
                l = n(a(71003)),
                o = a(45438),
                s = a(85893),
                d = i.default.pickBy(o.MIMETYPES, (function(e) {
                    return "document" === e.msgType
                }))
        },
        21791: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, a = e.mimeType,
                    n = e.url,
                    r = e.isGif,
                    o = e.size,
                    u = e.processing,
                    m = e.preview;
                switch (v[a].msgType) {
                    case "image":
                        t = (0, h.jsx)("img", {
                            alt: d.default.t(2179),
                            src: n,
                            className: s.default.img
                        });
                        break;
                    case "video":
                        var g = r ? {
                                loop: !u,
                                autoPlay: !u,
                                muted: !1,
                                controls: !1
                            } : {},
                            _ = u ? (0, h.jsx)("div", {
                                className: s.default.spinner,
                                children: (0, h.jsx)(f.default, {
                                    color: f.colorOptions.white,
                                    size: 50,
                                    stroke: 3
                                })
                            }) : null,
                            C = m ? (0, h.jsx)("img", {
                                alt: d.default.t(2179),
                                className: s.default.staticPreview,
                                src: `data:image/jpeg;base64,${m}`
                            }) : null,
                            x = u ? null : (0, h.jsx)(p.default, (0, i.default)((0, i.default)({
                                controls: !0,
                                controlsList: "nodownload nofullscreen",
                                className: s.default.video
                            }, g), {}, {
                                src: n
                            }));
                        t = (0, h.jsxs)("div", {
                            className: (0, l.default)(s.default.img, s.default.videoContainer),
                            children: [_, x, C]
                        });
                        break;
                    case "audio":
                        t = (0, h.jsx)("audio", {
                            controls: !0,
                            className: s.default.audio,
                            type: a,
                            src: n
                        })
                }
                return (0, h.jsx)("div", {
                    className: s.default.container,
                    "data-animate-attach-media": !0,
                    children: (0, h.jsx)("div", {
                        className: s.default.media,
                        children: (0, h.jsx)(c.default, {
                            type: "scaleDown",
                            size: o,
                            children: t
                        })
                    })
                })
            };
            var i = r(a(81109)),
                l = r(a(94184)),
                o = r(a(96486)),
                s = r(a(58523)),
                d = r(a(45159)),
                u = a(45438),
                c = r(a(58497)),
                f = n(a(85651)),
                p = r(a(61566)),
                h = a(85893),
                v = o.default.pickBy(u.MIMETYPES, (function(e) {
                    return "image" === e.msgType || "video" === e.msgType
                }))
        },
        92028: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.fullPreview,
                    a = e.fullPreviewSize,
                    n = e.pageCount,
                    c = e.mimeType,
                    f = e.filename,
                    p = e.showPageCount,
                    h = void 0 === p || p,
                    v = e.showBorder,
                    m = void 0 !== v && v;
                if (t && a && null != n && n > 0) {
                    var g = s.default.t(269, {
                        count: n,
                        _plural: n
                    });
                    return (0, u.jsxs)("div", {
                        className: o.default.container,
                        "data-js-attach-preview": !0,
                        children: [(0, u.jsx)("div", {
                            className: o.default.preview,
                            children: (0, u.jsx)(d.default, {
                                type: "scaleDown",
                                size: a,
                                children: (0, u.jsx)("img", {
                                    alt: s.default.t(2179),
                                    src: t,
                                    className: (0, i.default)(o.default.img, (0, r.default)({}, o.default.imgBorder, m))
                                })
                            })
                        }), h && (0, u.jsx)("div", {
                            className: o.default.caption,
                            children: g
                        })]
                    })
                }
                return (0, u.jsx)(l.default, {
                    mimeType: c,
                    filename: f
                })
            };
            var r = n(a(59713)),
                i = n(a(94184)),
                l = n(a(77621)),
                o = n(a(38728)),
                s = n(a(45159)),
                d = n(a(58497)),
                u = a(85893)
        },
        51241: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.disabled,
                    a = e.isOn,
                    n = e.mediaType,
                    r = e.onChange,
                    C = e.noMargin,
                    x = (0, l.useState)((0, c.shouldShowNUX)(u.default.NUX.EPHEMERAL_VIEW_ONCE)),
                    y = (0, i.default)(x, 2),
                    S = y[0],
                    E = y[1];
                return (0, l.useEffect)((function() {
                    if (a) {
                        if (!S) {
                            var e = n === p.TYPE.VIDEO ? f.default.t(1815) : f.default.t(1812),
                                t = (0, g.jsx)(v.default, {
                                    msg: e,
                                    id: (0, v.genId)("view-once-toast")
                                });
                            return d.default.openToast(t),
                                function() {
                                    d.default.closeToast(t)
                                }
                        }
                        var r = (0, g.jsx)(s.default, {
                            onOkClick: function() {
                                E(!1), d.default.closeModal()
                            }
                        });
                        d.default.openModal(r)
                    }
                }), [S, n, a]), (0, g.jsx)(m.default, {
                    a8nText: o.default.key("view-once-toggle"),
                    xstyle: [_.btnViewOnce, C && _.btnNoMargin, t && _.btnDisabled],
                    disabled: t,
                    onClick: function() {
                        return r(!a)
                    },
                    "aria-pressed": a,
                    children: (0, g.jsx)(h.default, {
                        "aria-label": a ? f.default.t(60) : f.default.t(61),
                        name: a ? "view-once-media-select-on" : "view-once-media-select",
                        height: 26,
                        width: 26
                    })
                })
            };
            var i = r(a(63038)),
                l = a(67294),
                o = (r(a(56720)), r(a(40501))),
                s = r(a(4338)),
                d = r(a(65901)),
                u = r(a(94253)),
                c = a(1577),
                f = r(a(45159)),
                p = a(82380),
                h = r(a(7665)),
                v = n(a(92428)),
                m = r(a(76080)),
                g = a(85893),
                _ = {
                    btnViewOnce: {
                        display: "f804f6gw",
                        marginTop: "c46o30wg",
                        marginEnd: "bugiwsl0",
                        marginStart: "eab7llgz",
                        color: "svlsagor"
                    },
                    btnNoMargin: {
                        marginTop: "tt8xd2xn",
                        marginEnd: "jnwc1y2a",
                        marginBottom: "mpdn4nr2",
                        marginStart: "svoq16ka"
                    },
                    btnDisabled: {
                        cursor: "h2qzpyga",
                        opacity: "notw83rv"
                    }
                }
        },
        4338: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.onOkClick;
                return (0, r.useEffect)((function() {
                    return function() {
                        (0, c.setNUX)(o.default.NUX.EPHEMERAL_VIEW_ONCE, {
                            views: 1,
                            maxViews: 1
                        })
                    }
                }), []), (0, v.jsx)(l.default, {
                    onOK: t,
                    cancelText: f.default.t(1120),
                    onCancel: function() {
                        (0, s.openExternalLink)((0, d.getViewOnceFaqUrl)())
                    },
                    children: (0, v.jsxs)(u.FlexColumn, {
                        children: [(0, v.jsx)(u.FlexItem, {
                            xstyle: m.graphic,
                            align: "center",
                            children: (0, v.jsx)(p.default, {
                                name: "view-once-sender-nux",
                                width: 195,
                                height: 177
                            })
                        }), (0, v.jsx)(h.TextHeader, {
                            className: i.default.text,
                            theme: "popup-title",
                            children: f.default.t(1810)
                        }), (0, v.jsx)(h.TextParagraph, {
                            className: i.default.text,
                            color: "secondary",
                            children: f.default.t(1809)
                        })]
                    })
                })
            };
            var r = a(67294),
                i = (n(a(56720)), n(a(60994))),
                l = n(a(86777)),
                o = n(a(94253)),
                s = a(49012),
                d = a(29281),
                u = a(27968),
                c = a(1577),
                f = n(a(45159)),
                p = n(a(7665)),
                h = a(22552),
                v = a(85893),
                m = {
                    graphic: {
                        marginBottom: "t4zgqcuo"
                    }
                }
        },
        77353: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function() {
                var e = (0, l.useState)(o.getAutoDownloadPhotos),
                    t = (0, i.default)(e, 2),
                    a = t[0],
                    n = t[1],
                    r = (0, l.useState)(o.getAutoDownloadAudio),
                    f = (0, i.default)(r, 2),
                    p = f[0],
                    h = f[1],
                    v = (0, l.useState)(o.getAutoDownloadVideos),
                    m = (0, i.default)(v, 2),
                    g = m[0],
                    _ = m[1],
                    C = (0, l.useState)(o.getAutoDownloadDocuments),
                    x = (0, i.default)(C, 2),
                    y = x[0],
                    S = x[1];
                return (0, c.jsxs)(d.default, {
                    children: [(0, c.jsx)(d.SettingsCheckListItem, {
                        a8nText: "option-photos",
                        id: "photos",
                        checked: a,
                        onChange: function() {
                            return n((function(e) {
                                var t = !e;
                                return o.setAutoDownloadPhotos(t), t
                            }))
                        },
                        children: s.default.t(1432)
                    }), (0, c.jsx)(d.SettingsCheckListItem, {
                        a8nText: "option-audio",
                        id: "audio",
                        checked: p,
                        onChange: function() {
                            return h((function(e) {
                                var t = !e;
                                return o.setAutoDownloadAudio(t), t
                            }))
                        },
                        children: s.default.t(1423)
                    }), (0, c.jsx)(d.SettingsCheckListItem, {
                        a8nText: "option-videos",
                        id: "videos",
                        checked: g,
                        onChange: function() {
                            return _((function(e) {
                                var t = !e;
                                return o.setAutoDownloadVideos(t), t
                            }))
                        },
                        children: s.default.t(1434)
                    }), (0, c.jsx)(d.SettingsCheckListItem, {
                        a8nText: "option-documents",
                        id: "documents",
                        checked: y,
                        onChange: function() {
                            return S((function(e) {
                                var t = !e;
                                return o.setAutoDownloadDocuments(t), t
                            }))
                        },
                        children: s.default.t(1427)
                    }), (0, c.jsx)(d.SettingsCheckListSection, {
                        children: (0, c.jsx)(u.TextDiv, {
                            theme: "muted",
                            children: s.default.t(1200)
                        })
                    })]
                })
            };
            var i = r(a(63038)),
                l = a(67294),
                o = n(a(1577)),
                s = r(a(45159)),
                d = n(a(79348)),
                u = a(22552),
                c = a(85893)
        },
        70135: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(a(34575)),
                l = r(a(93913)),
                o = r(a(81506)),
                s = r(a(2205)),
                d = r(a(99842)),
                u = r(a(96486)),
                c = a(67294),
                f = r(a(40501)),
                p = a(84533),
                h = r(a(88191)),
                v = r(a(29830)),
                m = r(a(65901)),
                g = r(a(86777)),
                _ = r(a(65002)),
                C = r(a(20050)),
                x = r(a(71562)),
                y = r(a(53187)),
                S = r(a(18345)),
                E = r(a(61876)),
                j = n(a(19288)),
                I = a(75993),
                b = r(a(73568)),
                k = r(a(23803)),
                T = r(a(92546)),
                M = r(a(45159)),
                w = r(a(63641)),
                P = r(a(7665)),
                L = a(85893),
                O = function(e) {
                    (0, s.default)(a, e);
                    var t = (0, d.default)(a);

                    function a() {
                        var e;
                        (0, i.default)(this, a);
                        for (var n = arguments.length, r = new Array(n), l = 0; l < n; l++) r[l] = arguments[l];
                        return (e = t.call.apply(t, [this].concat(r))).flatListController = new T.default, e._handleBlockConfirm = function(e) {
                            (0, p.blockContact)(e).catch((function() {})), m.default.closeModal()
                        }, e.handleBlock = function() {
                            m.default.openModal((0, L.jsx)(x.default, {
                                title: M.default.t(234),
                                filter: function(e) {
                                    return !!C.default.isFilteredContact(e) && (!v.default.get(e.id) || M.default.t(1451))
                                },
                                onCancel: function() {
                                    return m.default.closeModal()
                                },
                                onSelect: u.default.once(e._handleBlockConfirm)
                            }))
                        }, e._handleUnblockConfirm = function(e) {
                            (0, p.unblockContact)(e).catch((function() {})), m.default.closeModal()
                        }, e._handleUnblockCancel = function() {
                            m.default.closeModal()
                        }, e._handleUnblock = function(t, a) {
                            m.default.openModal((0, L.jsx)(g.default, {
                                okText: M.default.t(1733),
                                onOK: e._handleUnblockConfirm.bind((0, o.default)(e), a),
                                cancelText: M.default.t(1938),
                                onCancel: e._handleUnblockCancel,
                                children: M.default.t(1734, {
                                    contact: a.formattedName
                                })
                            }))
                        }, e.renderItem = function(t) {
                            var a = t.blocklist.contact();
                            return (0, L.jsx)(_.default, {
                                contact: a,
                                onClick: e._handleUnblock,
                                onDelete: e._handleUnblock,
                                waitIdle: !0
                            }, a.id.toString())
                        }, e
                    }
                    return (0, l.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this;
                            this.props.listeners.add(v.default, "add remove", (function() {
                                e.forceUpdate()
                            }))
                        }
                    }, {
                        key: "getData",
                        value: function() {
                            return v.default.map((function(e) {
                                return {
                                    itemKey: e.id.toString(),
                                    blocklist: e
                                }
                            }))
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e, t;
                            return v.default.length > 0 ? (e = (0, L.jsx)(k.default, {
                                flatListControllers: [this.flatListController],
                                className: h.default.list,
                                children: (0, L.jsx)(b.default, {
                                    flatListController: this.flatListController,
                                    direction: "vertical",
                                    data: this.getData(),
                                    renderItem: this.renderItem
                                })
                            }), t = (0, L.jsx)("div", {
                                "data-a8n": f.default.key("blocked-description"),
                                className: h.default.hint,
                                children: M.default.t(233)
                            })) : e = (0, L.jsx)(I.Blocked, {}), (0, L.jsxs)(y.default, {
                                children: [(0, L.jsx)(j.default, {
                                    title: M.default.t(326),
                                    onBack: this.props.onClose,
                                    type: j.DRAWER_HEADER_TYPE.LARGE
                                }), (0, L.jsx)("div", {
                                    className: h.default.button,
                                    children: (0, L.jsx)(E.default, {
                                        a8nText: "li-add-blocked",
                                        onClick: this.handleBlock,
                                        icon: (0, L.jsx)(P.default, {
                                            name: "add-user",
                                            directional: !0
                                        }),
                                        children: M.default.t(234)
                                    })
                                }), (0, L.jsxs)(S.default, {
                                    children: [e, t]
                                })]
                            })
                        }
                    }]), a
                }(c.Component);
            O.displayName = "BlockedDrawer";
            var D = (0, w.default)(O);
            t.default = D
        },
        96002: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(a(59713)),
                l = r(a(34575)),
                o = r(a(93913)),
                s = r(a(2205)),
                d = r(a(99842)),
                u = r(a(94184)),
                c = a(18077),
                f = a(90076),
                p = r(a(48842)),
                h = a(67294),
                v = r(a(22232)),
                m = r(a(51241)),
                g = r(a(26616)),
                _ = r(a(65901)),
                C = r(a(94253)),
                x = r(a(53187)),
                y = r(a(18345)),
                S = n(a(19288)),
                E = n(a(18286)),
                j = a(50157),
                I = n(a(7244)),
                b = n(a(19829)),
                k = r(a(45159)),
                T = r(a(89694)),
                M = r(a(45170)),
                w = n(a(29550)),
                P = r(a(37286)),
                L = r(a(50507)),
                O = r(a(58497)),
                D = r(a(57393)),
                N = r(a(5202)),
                R = r(a(80385)),
                A = r(a(43890)),
                F = r(a(85651)),
                B = r(a(7665)),
                U = r(a(29034)),
                G = r(a(60806)),
                H = r(a(61566)),
                V = a(85893),
                W = "CAPTURE_MEDIA",
                z = "ANIMATING",
                K = "LOADING",
                Y = "RECORDING",
                q = "SENDING",
                Z = function(e) {
                    (0, s.default)(a, e);
                    var t = (0, d.default)(a);

                    function a() {
                        var e;
                        (0, l.default)(this, a);
                        for (var n = arguments.length, r = new Array(n), i = 0; i < n; i++) r[i] = arguments[i];
                        return (e = t.call.apply(t, [this].concat(r))).state = {
                            caption: void 0,
                            img: void 0,
                            isViewOnce: !1,
                            state: z,
                            stream: void 0,
                            videoSize: void 0
                        }, e._refVideo = (0, h.createRef)(), e._startTimer = new f.ShiftTimer((function(t) {
                            var a = t.stream,
                                n = t.disposeStream;
                            e.loadNewStream(a, n)
                        })), e.loadNewStreamTimerUpdate = function(t, a) {
                            e._startTimer.forceRunNow({
                                stream: t,
                                disposeStream: a
                            })
                        }, e.loadNewStream = function(t, a) {
                            var n, r;
                            t ? (null === (n = (r = e)._disposeStream) || void 0 === n || n.call(r), e._disposeStream = a, e.setState({
                                state: K,
                                stream: t
                            }), (0, w.isSrcObjectInVideoElement)() || (t ? (window.URL.revokeObjectURL(e.url), e.url = window.URL.createObjectURL(t)) : (window.URL.revokeObjectURL(e.url), e.url = void 0))) : e.state.state === z && e.setState({
                                state: K
                            })
                        }, e._stopStreamTimer = new f.ShiftTimer((function(t) {
                            var a = t.stream,
                                n = t.disposeStream;
                            a && n && n(), (0, w.isSrcObjectInVideoElement)() || (e.url = window.URL.revokeObjectURL(e.url))
                        })), e.onCapture = function() {
                            var t, a = null === (t = e._refVideo.current) || void 0 === t ? void 0 : t.underlyingVideo();
                            if (a) {
                                var n = e.props.chat,
                                    r = document.createElement("canvas");
                                r.height = a.videoHeight, r.width = a.videoWidth;
                                var i = r.getContext("2d");
                                if (i) {
                                    i.translate(r.width, 0), i.scale(-1, 1), i.drawImage(a, 0, 0, a.videoWidth, a.videoHeight);
                                    var l = e.props.onCaptured;
                                    if (l) b.canvasToBlob(r).then((function(e) {
                                        l(e)
                                    }));
                                    else {
                                        e._stopStreamTimer.onOrBefore(500, {
                                            stream: e.state.stream,
                                            disposeStream: e._disposeStream
                                        }), e._mediaLogger = new T.default, e._mediaLogger.logAdd(W, "image", L.default.MEDIA_PICKER_ORIGIN_TYPE.MENU_CAMERA_CAPTURE), e._mediaLogger.chatRecipients = n && n.groupMetadata ? n.groupMetadata.participants.length : 1;
                                        var o = r.toDataURL("image/jpeg"),
                                            s = window.dataURLtoBlob(o);
                                        if (n) n.attachMediaContents || n.setAttachMediaContents(new v.default({
                                            chatParticipantCount: n.getParticipantCount()
                                        })), (0, p.default)(n.attachMediaContents, "chat.attachMediaContents").processAttachments([{
                                            file: (0, j.createFile)([s], "", {
                                                type: "image/jpeg"
                                            })
                                        }]);
                                        e.setState({
                                            state: q,
                                            stream: void 0,
                                            img: o
                                        })
                                    }
                                } else __LOG__(3)`CaptureDrawer:onCapture can not get 2d context`
                            }
                        }, e.onVideoLoaded = function(t) {
                            e.setState({
                                state: Y,
                                videoSize: {
                                    width: t.videoWidth,
                                    height: t.videoHeight
                                }
                            })
                        }, e.onRetake = function() {
                            e.setState({
                                state: K,
                                caption: void 0
                            }), e._clearAttachMedia();
                            var t = w.start("camera"),
                                a = t.asyncStream,
                                n = t.disposeStream;
                            e._disposeStream = n, a.then((function(t) {
                                t && ((0, w.isSrcObjectInVideoElement)() || (e.url = window.URL.createObjectURL(t)), e.setState({
                                    stream: t
                                }))
                            })).catch((0, c.filteredCatch)(E.GUM.NotAllowedError, (function() {
                                e.props.onBack(), _.default.openModal((0, V.jsx)(I.default, {
                                    messaging: I.Messaging.CAMERA_FAIL,
                                    type: I.TYPE.GUIDE_UNBLOCK
                                }))
                            }))).catch((0, c.filteredCatch)(E.GUM.GUMError, (function() {
                                e.props.onBack(), _.default.openModal((0, V.jsx)(I.default, {
                                    messaging: I.Messaging.CAMERA_MISSING,
                                    type: I.TYPE.GUIDE_NONE
                                }))
                            })))
                        }, e.onSend = function() {
                            var t = e.state,
                                a = t.img,
                                n = t.caption,
                                r = e.props.onSend;
                            if (r)
                                if (a) {
                                    var i = e.refCaptionInput && e.refCaptionInput.refInput,
                                        l = [];
                                    if (n && i) {
                                        var o = i.serialize(n),
                                            s = [o[0].trim(), o[1]],
                                            d = s[0],
                                            u = s[1];
                                        d.length && (n = d, l = u.mentionedJidList || [])
                                    }
                                    r({
                                        caption: n,
                                        getImg: D.default.createFromBase64Jpeg(U.default.parseDataURL(a).data),
                                        isViewOnce: e.state.isViewOnce,
                                        mentionedJidList: l
                                    }), e._mediaLogger.logSend()
                                } else __LOG__(4, void 0, new Error, !0)`Assertion failed!`, SEND_LOGS("capture-drawer-no-img");
                            else __LOG__(4, void 0, new Error, !0)`Assertion failed!`, SEND_LOGS("capture-drawer-no-onSend")
                        }, e.onCaptionChange = function(t) {
                            e.setState({
                                caption: t
                            })
                        }, e._canViewOnce = function() {
                            var t = e.props.chat,
                                a = null == t ? void 0 : t.contact.isEnterprise;
                            return A.default.viewOnceWrite && !a
                        }, e._onViewOnceChange = function(t) {
                            e.setState({
                                isViewOnce: t
                            })
                        }, e.setRefCaptionInput = function(t) {
                            e.refCaptionInput = t
                        }, e._handleSendMedia = function(t) {
                            var a = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                                n = a.isViewOnce,
                                r = e.props.onSend;
                            if (r)
                                if (0 === t.length) __LOG__(4, void 0, new Error, !0)`Assertion failed!`, SEND_LOGS("capture-drawer-no-img");
                                else {
                                    var i, l = (0, p.default)(t[0], "medias[0]"),
                                        o = l.media,
                                        s = l.mentionedJidList,
                                        d = o.file;
                                    if (d instanceof Blob) r({
                                        getImg: D.default.createFromData(d, d.type),
                                        caption: null !== (i = o.caption) && void 0 !== i ? i : void 0,
                                        isViewOnce: n,
                                        mentionedJidList: s
                                    }), e._mediaLogger.logSend();
                                    e._clearAttachMedia()
                                }
                            else __LOG__(4, void 0, new Error, !0)`Assertion failed!`, SEND_LOGS("capture-drawer-no-onSend")
                        }, e._clearAttachMedia = function() {
                            e.props.chat && e.props.chat.setAttachMediaContents(null)
                        }, e
                    }
                    return (0, o.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            this._startTimer.onOrBefore(300, {
                                stream: this.props.stream,
                                disposeStream: this.props.disposeStream
                            })
                        }
                    }, {
                        key: "componentWillUnmount",
                        value: function() {
                            var e;
                            this._startTimer.cancel(), this.url && window.URL.revokeObjectURL(this.url), null === (e = this._disposeStream) || void 0 === e || e.call(this), this._mediaLogger && this._mediaLogger.logCancel(), this._clearAttachMedia()
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e, t, a, n, r, l = "capture-cover" === this.props.theme ? "cover" : "contain";
                            switch (this.state.state) {
                                case z:
                                case K:
                                    if (r = (0, V.jsx)(F.default, {
                                            stroke: 4,
                                            size: 50
                                        }), this.state.state === z) break;
                                case Y:
                                    var o = (0, u.default)(g.default.video, (0, i.default)({}, g.default.videoInactive, this.state.stream && this.state.state === K)),
                                        s = this.state.stream ? (0, V.jsx)(H.default, {
                                            autoPlay: !0,
                                            ref: this._refVideo,
                                            onPlay: this.onVideoLoaded,
                                            src: this.url ? this.url : void 0,
                                            srcObject: this.url ? void 0 : this.state.stream
                                        }) : null;
                                    a = this.state.stream ? (0, V.jsx)("div", {
                                        children: (0, V.jsx)(O.default, {
                                            type: l,
                                            size: this.state.videoSize,
                                            children: (0, V.jsx)("div", {
                                                className: o,
                                                "data-animage-capture-webcam": !0,
                                                children: s
                                            })
                                        })
                                    }, "webcam") : null, e = this.state.state === Y ? (0, V.jsx)("div", {
                                        className: g.default.btn,
                                        children: (0, V.jsx)(R.default, {
                                            large: !0,
                                            onClick: this.onCapture,
                                            children: (0, V.jsx)(B.default, {
                                                name: "camera"
                                            })
                                        })
                                    }, "btn-capture") : null;
                                    break;
                                case q:
                                    a = (0, V.jsx)(O.default, {
                                        type: l,
                                        size: this.state.videoSize,
                                        children: (0, V.jsx)("img", {
                                            alt: "",
                                            className: g.default.image,
                                            "data-animate-capture-snapshot": !0,
                                            src: this.state.img
                                        })
                                    });
                                    var d = this.props.chat;
                                    if (d) {
                                        var c = (0, p.default)(d.attachMediaContents, "chat.attachMediaContents");
                                        a = (0, V.jsx)(P.default, {
                                            theme: "capture",
                                            chat: d,
                                            initCaption: null,
                                            mediaCollection: c,
                                            onDropText: function() {},
                                            onSendMedia: this._handleSendMedia
                                        })
                                    }
                                    e = (0, V.jsx)("div", {
                                        className: (0, u.default)(g.default.btn, g.default.btnSend),
                                        children: (0, V.jsx)(R.default, {
                                            large: !0,
                                            onClick: this.onSend,
                                            children: (0, V.jsx)(B.default, {
                                                name: "send",
                                                directional: !0
                                            })
                                        })
                                    }, "btn-send"), t = (0, V.jsxs)("div", {
                                        className: g.default.retakeBtn,
                                        onClick: this.onRetake,
                                        children: [(0, V.jsx)("div", {
                                            className: g.default.retakeIcon,
                                            children: (0, V.jsx)(B.default, {
                                                name: "return"
                                            })
                                        }), k.default.t(1569)]
                                    }), n = this.props.chat ? (0, V.jsxs)("div", {
                                        className: g.default.captionInput,
                                        children: [(0, V.jsx)(M.default, {
                                            ref: this.setRefCaptionInput,
                                            chat: this.props.chat,
                                            maxLength: C.default.MAX_CAPTION_LENGTH,
                                            multiline: !0,
                                            onEnter: this.onSend,
                                            onChange: this.onCaptionChange,
                                            placeholder: k.default.t(231),
                                            showRemaining: !0,
                                            spellCheck: !0,
                                            supportsEmoji: !0,
                                            value: this.state.caption
                                        }), A.default.viewOnceWrite ? (0, V.jsx)(m.default, {
                                            disabled: !this._canViewOnce(),
                                            isOn: this.state.isViewOnce,
                                            mediaType: "image",
                                            onChange: this._onViewOnceChange
                                        }) : null]
                                    }) : null;
                                    break;
                                default:
                                    __LOG__(2)`captureDrawer:render Unhandled video capture state ${this.state.state}`
                            }
                            var f = this.props.caption ? (0, V.jsx)(G.default, {
                                    transitionName: "media-caption",
                                    className: g.default.caption,
                                    children: n
                                }) : null,
                                h = (0, V.jsxs)("div", {
                                    className: g.default.footer,
                                    children: [f, (0, V.jsx)(G.default, {
                                        transitionName: "pop_delay",
                                        children: e
                                    })]
                                });
                            return this.state.state === q && (h = null), (0, V.jsxs)(x.default, {
                                theme: this.props.theme,
                                children: [(0, V.jsx)(S.default, {
                                    title: k.default.t(1709),
                                    type: S.DRAWER_HEADER_TYPE.OFFSET,
                                    onCancel: this.props.onBack,
                                    children: t
                                }), (0, V.jsxs)(y.default, {
                                    overflow: "hidden",
                                    children: [(0, V.jsxs)("div", {
                                        className: g.default.container,
                                        children: [r, (0, V.jsx)("div", {
                                            className: g.default.body,
                                            children: (0, V.jsx)(G.default, {
                                                transitionName: "capture",
                                                className: g.default.videoContainer,
                                                children: a
                                            })
                                        })]
                                    }), h]
                                })]
                            }, "attach-capture-modal")
                        }
                    }]), a
                }(h.PureComponent);
            Z.defaultProps = {
                caption: !1
            }, Z.displayName = "CaptureDrawer";
            var X = function(e) {
                (0, s.default)(a, e);
                var t = (0, d.default)(a);

                function a() {
                    var e;
                    (0, l.default)(this, a);
                    for (var n = arguments.length, r = new Array(n), i = 0; i < n; i++) r[i] = arguments[i];
                    return (e = t.call.apply(t, [this].concat(r))).loadNewStream = function(t, a) {
                        e.getComponent().loadNewStreamTimerUpdate(t, a)
                    }, e
                }
                return a
            }((0, N.default)(Z));
            t.default = X
        },
        6862: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                return (0, s.jsx)("div", {
                    className: (0, r.default)(d.container),
                    children: (0, s.jsx)(l.FlexRow, {
                        align: "start",
                        justify: "start",
                        wrap: "wrap",
                        children: e.categories.map((function(t) {
                            return (0, s.jsx)(i.default, {
                                "aria-label": o.default.t(58),
                                onClick: function() {
                                    return e.onRemoveItem(t.id)
                                },
                                label: t.localized_display_name,
                                postfixIcon: "round-x-inv",
                                xstyle: d.chip
                            }, t.id.toString())
                        }))
                    })
                })
            };
            var r = n(a(94184)),
                i = (n(a(56720)), n(a(8352))),
                l = a(27968),
                o = n(a(45159)),
                s = a(85893),
                d = {
                    container: {
                        paddingTop: "b7n2qyd4",
                        paddingEnd: "iffbo4e8",
                        paddingBottom: "s8gyl5p1",
                        paddingStart: "khscay3k",
                        backgroundColor: "sjyhwr5o",
                        borderTop: "dl47i6rc"
                    },
                    chip: {
                        marginTop: "dj1c3cmq",
                        marginEnd: "bugiwsl0",
                        marginBottom: "mpdn4nr2",
                        marginStart: "svoq16ka"
                    }
                }
        },
        15201: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(a(63038)),
                l = a(67294),
                o = r(a(23734)),
                s = r(a(88186)),
                d = r(a(20050)),
                u = r(a(33621)),
                c = r(a(6080)),
                f = r(a(53187)),
                p = r(a(18345)),
                h = n(a(19288)),
                v = a(75993),
                m = r(a(92546)),
                g = r(a(92919)),
                _ = r(a(29832)),
                C = r(a(58342)),
                x = r(a(45159)),
                y = r(a(17094)),
                S = r(a(98232)),
                E = r(a(84287)),
                j = r(a(7665)),
                I = r(a(8995)),
                b = a(85893),
                k = (0, l.forwardRef)((function(e, t) {
                    var a = e.title,
                        n = e.onBack,
                        r = e.onClick,
                        k = e.onNewGroup,
                        T = (0, l.useState)(""),
                        M = (0, i.default)(T, 2),
                        w = M[0],
                        P = M[1],
                        L = (0, l.useRef)(),
                        O = (0, l.useRef)(),
                        D = (0, l.useRef)(),
                        N = (0, l.useMemo)((function() {
                            return d.default.frequentContacts("message")
                        }), [d.default.length]),
                        R = Boolean(w),
                        A = (0, l.useMemo)((function() {
                            return R ? [] : N
                        }), [R, N]),
                        F = (0, l.useState)((function() {
                            return new m.default
                        })),
                        B = (0, i.default)(F, 1)[0],
                        U = (0, l.useCallback)((function(e) {
                            d.default.ensureSorted();
                            var t = "string" == typeof e ? e : w;
                            if (!t) return d.default.getFilteredContacts();
                            var a = d.default.getFilteredContacts().concat(d.default.filter((function(e) {
                                    return e.name && !e.isMe && !e.isPSA && !e.isWAContact
                                }))),
                                n = x.default.accentFold(t),
                                r = (0, S.default)(n);
                            return a.filter((function(e) {
                                return e.searchMatch(n, r)
                            }))
                        }), [w]);
                    (0, l.useEffect)((function() {
                        _.default.focus(L.current)
                    }), []);
                    var G, H, V = (0, l.useCallback)((function() {
                            g.default.shouldIndicateFocus(), _.default.focus(L.current)
                        }), []),
                        W = (0, l.useCallback)((function(e) {
                            var t = O.current;
                            null != t && (e.preventDefault(), e.stopPropagation(), g.default.shouldIndicateFocus(), t.focusFirst())
                        }), []),
                        z = (0, I.default)((function(e) {
                            return P(e)
                        }), 100),
                        K = (0, l.useCallback)((function(e) {
                            D.current = e, z(e)
                        }), [z]),
                        Y = (0, l.useCallback)((function(e) {
                            e.preventDefault(), e.stopPropagation();
                            var t = A[0];
                            if (t) return g.default.shouldIndicateFocus(), void r(e, t);
                            var a = U(D.current)[0];
                            a && (g.default.shouldIndicateFocus(), r(e, a))
                        }), [r, U, A]),
                        q = U();
                    if (G = 0 === q.length ? w ? (0, v.SearchWithKeyword)(w) : (0, v.SearchWithoutKeyword)() : (0, b.jsx)(c.default, {
                            ref: O,
                            contacts: q,
                            flatListController: B,
                            frequentContacts: A,
                            onClick: r,
                            onFocusSearch: V,
                            showPersonGroupDivisionHeader: !!w
                        }), !w) {
                        var Z = (0, b.jsx)(E.default, {
                            children: (0, b.jsx)(j.default, {
                                name: "new-group",
                                directional: !0
                            })
                        });
                        H = (0, b.jsx)("div", {
                            "data-list-scroll-offset": !0,
                            children: (0, b.jsxs)("div", {
                                className: u.default.newGroupButton,
                                children: [(0, b.jsx)(s.default, {
                                    image: Z,
                                    primary: x.default.t(2105),
                                    onClick: k
                                }), (0, b.jsx)(o.default, {})]
                            })
                        })
                    }
                    return (0, b.jsxs)(f.default, {
                        ref: t,
                        children: [(0, b.jsx)(h.default, {
                            title: a,
                            type: h.DRAWER_HEADER_TYPE.LARGE,
                            onBack: n
                        }), (0, b.jsx)(C.default, {
                            handlers: {
                                down: W
                            },
                            children: (0, b.jsx)(y.default, {
                                ref: L,
                                onSearch: K,
                                onEnter: Y,
                                placeholder: x.default.t(1583)
                            })
                        }), (0, b.jsxs)(p.default, {
                            flatListControllers: [B],
                            children: [H, G]
                        })]
                    }, "contact-modal")
                }));
            t.default = k
        },
        54482: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(a(34575)),
                l = r(a(93913)),
                o = r(a(2205)),
                s = r(a(99842)),
                d = a(18077),
                u = a(67294),
                c = r(a(88549)),
                f = r(a(65901)),
                p = r(a(94253)),
                h = r(a(91884)),
                v = r(a(40261)),
                m = r(a(53187)),
                g = r(a(18345)),
                _ = n(a(19288)),
                C = r(a(46821)),
                x = n(a(18286)),
                y = a(2629),
                S = r(a(2424)),
                E = r(a(29015)),
                j = r(a(45159)),
                I = r(a(63641)),
                b = a(83592),
                k = r(a(50507)),
                T = r(a(94413)),
                M = r(a(29289)),
                w = r(a(76997)),
                P = r(a(80233)),
                L = r(a(5202)),
                O = r(a(43890)),
                D = r(a(85651)),
                N = r(a(61897)),
                R = r(a(7665)),
                A = n(a(92428)),
                F = r(a(43026)),
                B = a(85893),
                U = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, s.default)(a);

                    function a(e) {
                        var n;
                        return (0, i.default)(this, a), (n = t.call(this, e)).setRefScrollable = function(e) {
                            n.refScrollable = e
                        }, n.state = {
                            msgInfo: void 0,
                            unimplemented: !1
                        }, n._refWrapper = (0, u.createRef)(), n.isMsgVisible = function(e) {
                            var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                            return e === n.props.msg.id && (!!t || n.getMsgComponent())
                        }, n.handleClose = function() {
                            n.props.uim.uie.requestDismiss()
                        }, n._uiActionEvent = new k.default.UiAction({
                            uiActionType: k.default.UI_ACTION_TYPE.MSG_INFO_OPEN,
                            uiActionPreloaded: !0
                        }), n
                    }
                    return (0, l.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            var e, t = this;
                            M.default.find(this.props.msg.id).checkpoint(this.props.rejectOnUnmount()).then((function(e) {
                                t.setState({
                                    msgInfo: e
                                }), t.props.listeners.add(e.played, "add remove", (function() {
                                    t.forceUpdate()
                                })), t.props.listeners.add(e.read, "add remove", (function() {
                                    t.forceUpdate()
                                })), t.props.listeners.add(e.delivery, "add remove", (function() {
                                    t.forceUpdate()
                                }))
                            })).catch((0, d.filteredCatch)(x.Unmount, (function() {}))).catch((function() {
                                t.setState({
                                    unimplemented: !0
                                }), f.default.openToast((0, B.jsx)(A.default, {
                                    msg: j.default.t(1289),
                                    id: (0, A.genId)("msg_info_failed")
                                }))
                            }));
                            var a = null === (e = this.refScrollable) || void 0 === e ? void 0 : e.container;
                            this.props.msg.type === p.default.MSG_TYPE.IMAGE && a && (a.scrollTop = a.scrollHeight), this.props.listeners.add(this.props.msg, "remove", (function(e, a) {
                                a === T.default && t.props.uim.uie.requestDismiss()
                            }));
                            var n = this._uiActionEvent;
                            n && (n.markUiActionT(), n.commit(), this._uiActionEvent = void 0)
                        }
                    }, {
                        key: "getMsgComponent",
                        value: function() {
                            var e;
                            return null === (e = this._refWrapper.current) || void 0 === e ? void 0 : e.getMsgComponentRef()
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e, t, a, n = this.props.msg,
                                r = this.state,
                                i = r.msgInfo,
                                l = r.unimplemented;
                            if (i) {
                                var o, s, d, u, f = [],
                                    x = n.type === p.default.MSG_TYPE.PTT;
                                (x || n.isViewOnce) && (t = x ? j.default.t(1262) : j.default.t(1264), d = (s = i.played.head()) && s.t, u = (0, B.jsx)("span", {
                                    className: v.default.icon,
                                    children: (0, B.jsx)(R.default, {
                                        name: x ? "status-ptt" : "view-once-viewed",
                                        className: v.default.statusBlue
                                    })
                                }), f.push((0, B.jsx)(h.default, {
                                    title: x ? j.default.t(1257) : j.default.t(1266),
                                    t: d,
                                    icon: u
                                }, "played"))), d = (s = i.read.head()) && s.t, u = (0, B.jsx)("span", {
                                    className: v.default.icon,
                                    children: (0, B.jsx)(R.default, {
                                        name: "status-dblcheck",
                                        className: v.default.ack
                                    })
                                }), t = null !== (o = t) && void 0 !== o ? o : j.default.t(1259), f.push((0, B.jsx)(h.default, {
                                    title: t,
                                    t: d,
                                    icon: u
                                }, "read")), d = (s = i.delivery.head()) && s.t, u = (0, B.jsx)("span", {
                                    className: v.default.icon,
                                    children: (0, B.jsx)(R.default, {
                                        name: "status-dblcheck"
                                    })
                                }), f.push((0, B.jsx)(h.default, {
                                    title: j.default.t(1255),
                                    t: d,
                                    icon: u
                                }, "delivery")), !O.default.hfmStringChanges && n.numTimesForwarded > 0 && !n.isFrequentlyForwarded && f.push((0, B.jsx)(w.default, {
                                    msg: n
                                }, "forward")), e = (0, B.jsx)(C.default, {
                                    theme: "padding",
                                    children: f
                                })
                            }
                            i || l || (a = (0, B.jsx)("div", {
                                className: v.default.spinner,
                                children: (0, B.jsx)(D.default, {
                                    size: 50,
                                    stroke: 4
                                })
                            }, "spinner"));
                            var S = null;
                            return n.labels && n.labels.length > 0 && (0, y.canDisplayLabel)() && (S = (0, B.jsx)(C.default, {
                                theme: "padding",
                                children: (0, B.jsx)(E.default, {
                                    labels: n.labels
                                })
                            })), (0, B.jsxs)(m.default, {
                                theme: "striped",
                                children: [(0, B.jsx)(_.default, {
                                    title: j.default.t(1254),
                                    type: _.DRAWER_HEADER_TYPE.SMALL,
                                    darwinRtlFix: !0,
                                    onCancel: this.handleClose
                                }), (0, B.jsx)(P.default, {
                                    ref: this.setRefScrollable,
                                    chatPreference: c.default.assertGet("defaultPreference"),
                                    children: (0, B.jsx)(F.default, {
                                        msg: n,
                                        ref: this._refWrapper,
                                        displayType: p.default.DISP_TYPE.MSG_INFO,
                                        isMsgVisible: this.isMsgVisible,
                                        position: b.MsgPosition.END,
                                        onProductClick: this.props.onProductClick
                                    })
                                }), (0, B.jsxs)(g.default, {
                                    children: [S, (0, B.jsxs)("div", {
                                        className: v.default.body,
                                        children: [a, e]
                                    })]
                                })]
                            }, "message-info-modal")
                        }
                    }]), a
                }(u.Component);
            U.CONCERNS = {
                msg: ["id", "star", "type", "isGif", "isViewOnce", "labels", "numTimesForwarded", "isFrequentlyForwarded"]
            }, U.displayName = "ContactMsgInfoDrawer";
            var G = (0, S.default)((0, L.default)((0, I.default)((0, N.default)(U, U.CONCERNS))));
            t.default = G
        },
        34045: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(a(81109)),
                l = r(a(34575)),
                o = r(a(93913)),
                s = r(a(2205)),
                d = r(a(99842)),
                u = a(67294),
                c = r(a(65901)),
                f = r(a(86777)),
                p = r(a(94253)),
                h = r(a(38032)),
                v = r(a(45159)),
                m = a(22552),
                g = (r(a(56720)), a(4049)),
                _ = r(a(81288)),
                C = r(a(91404)),
                x = r(a(49012)),
                y = a(27968),
                S = r(a(68544)),
                E = n(a(92428)),
                j = a(29281),
                I = r(a(58342)),
                b = r(a(692)),
                k = a(1577),
                T = a(85893),
                M = p.default.CONTACT_US_MAX_DESC_LENGTH,
                w = {
                    deviceInfo: {
                        marginBottom: "t4zgqcuo",
                        marginTop: "opp68qpq"
                    },
                    deviceInfoCheckbox: {
                        minWidth: "r7yn1a4o"
                    },
                    deviceInfoLabel: {
                        paddingEnd: "l9g3jx6n"
                    },
                    emailLink: {
                        marginTop: "opp68qpq"
                    }
                },
                P = function(e) {
                    (0, s.default)(a, e);
                    var t = (0, d.default)(a);

                    function a() {
                        var e;
                        (0, l.default)(this, a);
                        for (var n = arguments.length, r = new Array(n), o = 0; o < n; o++) r[o] = arguments[o];
                        return (e = t.call.apply(t, [this].concat(r))).state = {
                            description: "",
                            includeDeviceInfo: !0,
                            isSending: !1
                        }, e._setDescriptionRef = function(t) {
                            e._descriptionInput = t
                        }, e.handleSend = function() {
                            var t = e.state,
                                a = t.description,
                                n = t.includeDeviceInfo;
                            if (e.validateDescription(a)) {
                                var r = (0, i.default)((0, i.default)({}, b.default.parser.getResult()), {}, {
                                        "Device ID": (0, k.assertGetMe)()
                                    }),
                                    l = n ? JSON.stringify(r) : void 0;
                                e.setState({
                                    isSending: !0
                                }), e.props.onSend && e.props.onSend({
                                    description: a
                                }), __LOG__(2)`InAppSupport: Sending support request with deviceInfo=${n}:${null!=l?l:"n/a"}`, e._sendRequest = (0, g.sendSupportRequest)(a, l).then((function(t) {
                                    null != t.message ? (c.default.closeModal(), c.default.openToast((0, T.jsx)(E.default, {
                                        msg: v.default.t(1696),
                                        id: (0, E.genId)()
                                    }))) : e.props.onFailure && e.props.onFailure({
                                        description: a
                                    })
                                })).finally((function() {
                                    e._sendRequest = void 0, e.setState({
                                        isSending: !1
                                    })
                                }))
                            } else e.setState({
                                descriptionError: v.default.t(1638)
                            })
                        }, e.handleCancel = function() {
                            e.props.onCancel && e.props.onCancel(), c.default.closeModal()
                        }, e.handleEmail = function() {
                            var t = e.props.onEmail;
                            t && (c.default.closeModal(), t({
                                description: e.state.description
                            }))
                        }, e.handleDescriptionChange = function(t) {
                            e.setState({
                                description: t,
                                descriptionError: e.validateDescription(t) ? void 0 : e.state.descriptionError
                            })
                        }, e._handleIncludeDeviceInfoChange = function() {
                            e.setState({
                                includeDeviceInfo: !e.state.includeDeviceInfo
                            })
                        }, e.validateDescription = function(e) {
                            return e.length >= p.default.CONTACT_US_MIN_DESC_LENGTH
                        }, e.stopPropagation = function(e) {
                            e.stopPropagation()
                        }, e
                    }
                    return (0, o.default)(a, [{
                        key: "componentWillUnmount",
                        value: function() {
                            var e, t;
                            !0 === (null === (e = this._sendRequest) || void 0 === e ? void 0 : e.isPending()) && (null === (t = this._sendRequest) || void 0 === t || t.cancel())
                        }
                    }, {
                        key: "componentDidMount",
                        value: function() {
                            var e;
                            null === (e = this._descriptionInput) || void 0 === e || e.restoreFocus()
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e = this.state.isSending,
                                t = {
                                    enter: this.stopPropagation
                                };
                            if (e && (t.esc = this.stopPropagation), h.default.supportsFeature(h.default.F.MD_BACKEND)) {
                                var a = "contact-us-include-device";
                                return (0, T.jsx)(f.default, {
                                    title: v.default.t(1697),
                                    okDisabled: !this.validateDescription(this.state.description) || e,
                                    okSpinner: e,
                                    okText: v.default.t(1622),
                                    onOK: this.handleSend,
                                    onCancel: e ? void 0 : this.handleCancel,
                                    children: (0, T.jsx)(I.default, {
                                        handlers: t,
                                        children: (0, T.jsxs)(y.FlexColumn, {
                                            align: "stretch",
                                            children: [(0, T.jsx)(S.default, {
                                                error: this.state.descriptionError,
                                                maxLength: M,
                                                onChange: this.handleDescriptionChange,
                                                placeholder: v.default.t(1695),
                                                ref: this._setDescriptionRef,
                                                value: this.state.description
                                            }), (0, T.jsx)(y.FlexItem, {
                                                xstyle: w.deviceInfo,
                                                grow: 1,
                                                children: (0, T.jsx)(m.TextParagraph, {
                                                    theme: "muted-small",
                                                    children: v.default.t(1693)
                                                })
                                            }), (0, T.jsxs)(y.FlexRow, {
                                                children: [(0, T.jsx)(y.FlexItem, {
                                                    xstyle: w.deviceInfoLabel,
                                                    grow: 1,
                                                    children: (0, T.jsx)("label", {
                                                        htmlFor: a,
                                                        children: (0, T.jsxs)(m.TextParagraph, {
                                                            theme: "plain",
                                                            children: [v.default.t(1694), " ", (0, T.jsx)(x.default, {
                                                                href: (0, j.getSupportChatFaqUrl)(),
                                                                children: v.default.t(1120)
                                                            })]
                                                        })
                                                    })
                                                }), (0, T.jsx)(y.FlexItem, {
                                                    xstyle: w.deviceInfoCheckbox,
                                                    grow: 0,
                                                    children: (0, T.jsx)(C.default, {
                                                        checked: this.state.includeDeviceInfo,
                                                        id: a,
                                                        onChange: this._handleIncludeDeviceInfoChange
                                                    })
                                                })]
                                            }), (0, T.jsx)(y.FlexRow, {
                                                children: (0, T.jsx)(y.FlexItem, {
                                                    xstyle: w.emailLink,
                                                    grow: 1,
                                                    children: (0, T.jsx)(_.default, {
                                                        onClick: this.handleEmail,
                                                        children: v.default.t(937)
                                                    })
                                                })
                                            })]
                                        })
                                    })
                                })
                            }
                            return (0, T.jsx)(f.default, {
                                okText: v.default.t(2125),
                                onOK: function() {
                                    return c.default.closeModal()
                                },
                                title: v.default.t(1697),
                                children: (0, T.jsx)(m.TextParagraph, {
                                    theme: "plain",
                                    children: v.default.t(1698)
                                })
                            })
                        }
                    }]), a
                }(u.Component);
            t.default = P, P.displayName = "ContactUsModal"
        },
        8681: (e, t, a) => {
            "use strict";
            var n = a(52108).default,
                r = a(20862),
                i = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var l = i(a(34575)),
                o = i(a(93913)),
                s = i(a(2205)),
                d = i(a(99842)),
                u = a(18077),
                c = a(67294),
                f = i(a(40501)),
                p = i(a(91404)),
                h = i(a(25958)),
                v = r(a(18286)),
                m = i(a(15048)),
                g = i(a(45159)),
                _ = i(a(5202)),
                C = a(85893),
                x = m.default.require("AutoLauncher"),
                y = function(e) {
                    (0, s.default)(a, e);
                    var t = (0, d.default)(a);

                    function a() {
                        var e;
                        return (0, l.default)(this, a), (e = t.apply(this, arguments))._handleAutoLaunch = function() {
                            var t = !e.state.autoLaunch,
                                a = t ? x.enable() : x.disable();
                            n.resolve(a).checkpoint(e.props.rejectOnUnmount()).then((function() {
                                e.setState({
                                    autoLaunch: t
                                })
                            })).catch((0, u.filteredCatch)(v.Unmount, (function() {})))
                        }, e.state = {
                            autoLaunch: !1
                        }, e
                    }
                    return (0, o.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this;
                            n.resolve(x.isEnabled()).checkpoint(this.props.rejectOnUnmount()).then((function(t) {
                                e.setState({
                                    autoLaunch: t
                                })
                            })).catch((0, u.filteredCatch)(v.Unmount, (function() {}))).catch((function(e) {
                                __LOG__(3)`Unknown error while getting initial auto launch settings, ${String(e)}`
                            }))
                        }
                    }, {
                        key: "render",
                        value: function() {
                            return (0, C.jsx)("div", {
                                className: h.default.container,
                                children: (0, C.jsxs)("div", {
                                    className: h.default.section,
                                    onClick: this._handleAutoLaunch,
                                    children: [(0, C.jsx)("div", {
                                        "data-a8n": f.default.key("menu-icon-auto-launch"),
                                        className: h.default.control,
                                        children: (0, C.jsx)(p.default, {
                                            onChange: this._handleAutoLaunch,
                                            checked: this.state.autoLaunch
                                        })
                                    }), (0, C.jsx)("div", {
                                        className: h.default.label,
                                        children: g.default.t(1424)
                                    })]
                                })
                            })
                        }
                    }]), a
                }(c.Component);
            y.displayName = "DesktopSettings";
            var S = (0, _.default)(y);
            t.default = S
        },
        55315: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(a(8681)),
                l = r(a(53187)),
                o = r(a(18345)),
                s = n(a(19288)),
                d = r(a(45159)),
                u = a(85893),
                c = function(e) {
                    var t = e.onClose;
                    return (0, u.jsxs)(l.default, {
                        children: [(0, u.jsx)(s.default, {
                            a8n: "drawer-title-desktop-settings",
                            title: d.default.t(772),
                            onBack: t,
                            type: s.DRAWER_HEADER_TYPE.LARGE
                        }), (0, u.jsx)(o.default, {
                            children: (0, u.jsx)(i.default, {})
                        })]
                    })
                };
            t.default = c
        },
        26004: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(a(63038)),
                l = a(67294),
                o = r(a(10399)),
                s = r(a(65901)),
                d = r(a(45159)),
                u = r(a(66821)),
                c = n(a(79348)),
                f = a(68220),
                p = a(22552),
                h = r(a(69283)),
                v = a(85893),
                m = function(e) {
                    var t = (0, h.default)(e.mute, ["isMuted", "expiration", "isCallMuted", "callExpiration"]),
                        a = (0, l.useState)((function() {
                            return u.default.getGlobalNotifications()
                        })),
                        n = (0, i.default)(a, 2),
                        r = n[0],
                        m = n[1],
                        g = (0, l.useState)((function() {
                            return u.default.getOutgoingMessageSound()
                        })),
                        _ = (0, i.default)(g, 2),
                        C = (_[0], _[1], (0, l.useState)((function() {
                            return u.default.getGlobalSounds()
                        }))),
                        x = (0, i.default)(C, 2),
                        y = x[0],
                        S = x[1],
                        E = (0, l.useState)((function() {
                            return u.default.getGlobalPreviews()
                        })),
                        j = (0, i.default)(E, 2),
                        I = j[0],
                        b = j[1],
                        k = (0, l.useState)((function() {
                            return u.default.getCollapseMuted()
                        })),
                        T = (0, i.default)(k, 2),
                        M = (T[0], T[1], []);
                    window.Notification && (M.push((0, v.jsx)(c.SettingsCheckListItem, {
                        a8nText: "option-desktop-notifications",
                        id: "desktop-notifications",
                        checked: r,
                        onChange: function() {
                            m((function(e) {
                                var t = !e;
                                return u.default.setGlobalNotifications(t), t
                            }))
                        },
                        children: d.default.t(1426)
                    }, 0)), M.push((0, v.jsxs)(c.SettingsCheckListItem, {
                        a8nText: "options-msg-previews",
                        disabled: !r,
                        id: "msg-previews",
                        checked: I,
                        onChange: function() {
                            b((function(e) {
                                var t = !e;
                                return u.default.setGlobalPreviews(t), t
                            }))
                        },
                        children: [d.default.t(1428), (0, v.jsx)(p.TextDiv, {
                            theme: "muted",
                            children: d.default.t(1429)
                        })]
                    }, 1)));
                    var w = t.expiration,
                        P = t.isMuted;
                    return (0, v.jsxs)(c.default, {
                        children: [(0, v.jsx)(c.SettingsCheckListItem, {
                            a8nText: "option-sounds",
                            id: "sounds",
                            checked: y,
                            onChange: function() {
                                S((function(e) {
                                    var t = !e;
                                    return u.default.setGlobalSounds(t), t
                                }))
                            },
                            children: d.default.t(1433)
                        }), undefined, M, undefined, (0, v.jsxs)(c.SettingsCheckListItem, {
                            a8nText: "option-mute-desktop-notifications",
                            id: "mute-desktop-notifications",
                            checked: P,
                            onChange: function() {
                                s.default.muteAll((0, f.unproxy)(t), !t.isMuted)
                            },
                            children: [d.default.t(1728), P && null != w ? (0, v.jsx)(p.TextDiv, {
                                theme: "muted",
                                children: o.default.untilStr(w)
                            }) : null]
                        }), null, null]
                    })
                };
            t.default = m
        },
        19868: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function() {
                return (0, l.jsx)("div", {
                    className: r.default.dropOverlay,
                    children: (0, l.jsx)("div", {
                        className: r.default.dropOverlayOutline,
                        children: i.default.t(804)
                    })
                }, "container")
            };
            var r = n(a(45082)),
                i = n(a(45159)),
                l = a(85893)
        },
        37261: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.E2EChangeModal = t.E2EChangeModalClass = void 0;
            var r = n(a(34575)),
                i = n(a(93913)),
                l = n(a(2205)),
                o = n(a(99842)),
                s = a(67294),
                d = n(a(65901)),
                u = n(a(86777)),
                c = n(a(45159)),
                f = n(a(61897)),
                p = a(85893),
                h = function(e) {
                    (0, l.default)(a, e);
                    var t = (0, o.default)(a);

                    function a() {
                        return (0, r.default)(this, a), t.apply(this, arguments)
                    }
                    return (0, i.default)(a, [{
                        key: "render",
                        value: function() {
                            var e = c.default.t(2125),
                                t = this.props.contact.formattedShortName,
                                a = c.default.t(2099, {
                                    contactName: t
                                }),
                                n = c.default.t(2098, {
                                    contactName: t
                                });
                            return (0, p.jsx)(u.default, {
                                title: a,
                                onOK: function() {
                                    return d.default.closeModal()
                                },
                                okText: e,
                                children: n
                            })
                        }
                    }]), a
                }(s.Component);
            t.E2EChangeModalClass = h, h.CONCERNS = {
                contact: ["formattedShortName"]
            }, h.displayName = "E2EChangeModalClass";
            var v = (0, f.default)(h, h.CONCERNS);
            t.E2EChangeModal = v
        },
        5847: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = t.RETRY_OPTIONS = void 0;
            var r = n(a(34575)),
                i = n(a(93913)),
                l = n(a(2205)),
                o = n(a(99842)),
                s = n(a(96486)),
                d = a(67294),
                u = n(a(53187)),
                c = n(a(18345)),
                f = n(a(19288)),
                p = n(a(65548)),
                h = n(a(43620)),
                v = n(a(49012)),
                m = n(a(45159)),
                g = n(a(63641)),
                _ = n(a(29418)),
                C = n(a(21782)),
                x = n(a(58497)),
                y = n(a(9319)),
                S = n(a(80385)),
                E = n(a(7665)),
                j = a(98110),
                I = n(a(29034)),
                b = n(a(60806)),
                k = a(85893),
                T = {
                    NONE: "none",
                    RETAKE: "retake",
                    RESTART: "restart"
                };
            t.RETRY_OPTIONS = T;
            var M = function(e) {
                (0, l.default)(a, e);
                var t = (0, o.default)(a);

                function a(e) {
                    var n;
                    return (0, r.default)(this, a), (n = t.call(this, e))._handleDoneEditing = function() {
                        var e = n.state.editedMedia;
                        n.saveCanvas(), n._refProfileCropTool && n._refProfileCropTool.crop().then((function(t) {
                            var a = t.thumb,
                                r = t.full;
                            n.props.onFinished(a, r), e.cleanUp()
                        }))
                    }, n._handleObjectLoad = function(e) {
                        if (e && e instanceof HTMLElement) {
                            var t = {};
                            !n.state.editorSize || n.state.editorSize.width === e.clientWidth && n.state.editorSize.height === e.clientHeight || (t.editorSize = {
                                width: e.clientWidth,
                                height: e.clientHeight
                            }), n.state.loaded || (t.loaded = !0), s.default.isEmpty(t) || n.setState(t)
                        }
                    }, n.setRefMediaEditCanvas = function(e) {
                        n.mediaEditCanvas = e
                    }, n._setRefProfileCropTool = function(e) {
                        n._refProfileCropTool = e
                    }, n.drawCanvas = function(e, t) {
                        n.mediaEditCanvas && n.mediaEditCanvas.drawCanvas(e, t)
                    }, n.saveCanvas = function() {
                        n.mediaEditCanvas && n.mediaEditCanvas.saveCanvas()
                    }, n.updateCanvasSize = function(e, t) {
                        n.mediaEditCanvas && n.mediaEditCanvas.updateCanvasSize(e, t)
                    }, n.handleCanvasInitialized = function() {
                        n.forceUpdate()
                    }, n.state = {
                        doneEditing: !1,
                        loaded: !1,
                        editorSize: {
                            width: 500,
                            height: 361
                        },
                        editedMedia: new h.default(e.img)
                    }, n.mediaEditController = new C.default, n
                }
                return (0, i.default)(a, [{
                    key: "componentDidMount",
                    value: function() {
                        this.props.listeners.add(this.mediaEditController, "change:isInitialized", this.handleCanvasInitialized)
                    }
                }, {
                    key: "render",
                    value: function() {
                        var e, t = this.props,
                            a = t.attributionUrl,
                            n = t.onRetake,
                            r = t.retryText,
                            i = this.state.loaded ? (0, k.jsx)("div", {
                                className: p.default.btnSend,
                                children: (0, k.jsx)(S.default, {
                                    large: !0,
                                    onClick: this._handleDoneEditing,
                                    children: (0, k.jsx)(E.default, {
                                        name: "checkmark-large"
                                    })
                                })
                            }, "btn-send") : null;
                        this.mediaEditController.isInitialized && (e = (0, k.jsx)(y.default, {
                            editedMedia: this.state.editedMedia,
                            stage: this.mediaEditController.stage,
                            cropOverlay: this.mediaEditController.cropOverlay,
                            mediaContainer: this.mediaEditController.mediaContainer,
                            drawCanvas: this.drawCanvas,
                            ref: this._setRefProfileCropTool
                        }));
                        var l, o = (0, k.jsx)(_.default, {
                            className: p.default.mediaElement,
                            editedMedia: this.state.editedMedia,
                            mediaEditController: this.mediaEditController,
                            fitType: "cover",
                            ref: this.setRefMediaEditCanvas
                        });
                        if (n) {
                            var s;
                            switch (r) {
                                case T.NONE:
                                    s = null;
                                    break;
                                case T.RETAKE:
                                    s = m.default.t(1569);
                                    break;
                                case T.RESTART:
                                default:
                                    s = m.default.t(1572)
                            }
                            l = (0, k.jsxs)("button", {
                                className: p.default.retake,
                                onClick: n,
                                children: [(0, k.jsx)("div", {
                                    className: p.default.retakeIcon,
                                    children: (0, k.jsx)(E.default, {
                                        name: "return"
                                    })
                                }), s]
                            })
                        }
                        var d = a ? (0, k.jsxs)("div", {
                                className: p.default.attribution,
                                children: [(0, k.jsx)(v.default, {
                                    className: p.default.attributionLink,
                                    href: a,
                                    children: I.default.hostname(a)
                                }), (0, k.jsxs)("span", {
                                    children: [m.default.t(1063), "", (0, k.jsx)(v.default, {
                                        href: (0, j.getTosUrl)(),
                                        children: m.default.t(1069)
                                    })]
                                })]
                            }) : null,
                            h = (0, k.jsxs)("div", {
                                className: p.default.footer,
                                children: [(0, k.jsx)(b.default, {
                                    transitionName: "btn",
                                    children: i
                                }), d]
                            }),
                            g = this.props.imageSize ? this.props.imageSize : {
                                width: 500,
                                height: 361
                            };
                        return (0, k.jsxs)(u.default, {
                            theme: "edit",
                            children: [(0, k.jsx)(f.default, {
                                title: m.default.t(249),
                                type: "offset",
                                onCancel: this.props.onCancel,
                                children: l
                            }), (0, k.jsxs)(c.default, {
                                overflow: "hidden",
                                children: [(0, k.jsxs)("div", {
                                    className: p.default.mediaBody,
                                    children: [e, (0, k.jsx)("div", {
                                        className: p.default.containerBackground,
                                        children: (0, k.jsx)(b.default, {
                                            transitionName: "capture",
                                            children: (0, k.jsx)(x.default, {
                                                type: "cover",
                                                size: g,
                                                onObjectLoad: this._handleObjectLoad,
                                                children: o
                                            })
                                        })
                                    })]
                                }), h]
                            })]
                        }, "attach-edit-modal")
                    }
                }]), a
            }(d.Component);
            M.displayName = "EditImageDrawer";
            var w = (0, g.default)(M);
            t.default = w
        },
        43620: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(a(34575)),
                i = n(a(96486)),
                l = a(50157),
                o = n(a(29034));
            t.default = function e(t, a, n, s) {
                var d = this;
                (0, r.default)(this, e), this.updateEditData = function(e) {
                    d.saveEdits(), d.editData = i.default.merge({}, d.editData, e)
                }, this.updateEditItems = function(e, t) {
                    d.saveEdits();
                    var a = [];
                    d.editData.items && d.editData.items.forEach((function(e) {
                        e !== t && a.push(e)
                    })), a.push(e), d.editData.items = a
                }, this.saveEdits = function() {
                    var t = new e(d.media, d.originalImage, d.editData, d.previous);
                    d.previous = t
                }, this.revertEdit = function() {
                    d.previous && (d.editData = d.previous.editData, d.previous = d.previous.previous)
                }, this.saveEditsFromCanvas = function(e) {
                    var t = e.toDataURL();
                    d.editedImage || (d.editedImage = new Image), d.editedImage.src = t
                }, this.exportEditedMedia = function() {
                    if (d.hasEdits() && d.editedImage) {
                        var e = d.editedImage.src;
                        return o.default.dataURLtoFile(e)
                    }
                    return d.media instanceof File ? d.media : (0, l.createFile)([d.media], "", {
                        type: d.media.type
                    })
                }, this.hasEdits = function() {
                    return !!d.previous && d.editedImage
                }, this.cleanUp = function() {
                    window.URL.revokeObjectURL(d.originalImage.src)
                }, this.media = t, a ? this.originalImage = a : (this.originalImage = new Image, this.originalImage.src = window.URL.createObjectURL(t)), this.previous = s, this.editData = {
                    height: 0,
                    width: 0,
                    offsetX: 0,
                    offsetY: 0,
                    rotation: 0,
                    scale: 1,
                    items: [],
                    baseItem: null
                }, i.default.merge(this.editData, n)
            }
        },
        29418: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(a(319)),
                i = n(a(34575)),
                l = n(a(93913)),
                o = n(a(2205)),
                s = n(a(99842)),
                d = a(8587),
                u = a(76304),
                c = a(67294),
                f = n(a(214)),
                p = n(a(58497)),
                h = n(a(6220)),
                v = a(85893),
                m = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, s.default)(a);

                    function a(e) {
                        var n;
                        return (0, i.default)(this, a), (n = t.call(this, e))._initCanvas = function() {
                            var e = n.props.editedMedia.originalImage;
                            e.complete ? n.handleImageLoad() : e.onload = n.handleImageLoad
                        }, n.handleImageLoad = function() {
                            var e = n.props.editedMedia.editData;
                            n.props.editedMedia.editedImage = null;
                            var t = n.props.editedMedia.originalImage;
                            if (e.width || e.height || (e.width = t.naturalWidth, e.height = t.naturalHeight), !e.baseItem) {
                                var a = new u.Easel.Bitmap(t);
                                e.baseItem = a
                            }
                            n.drawCanvas(!0)
                        }, n._maybeInitStage = function(e) {
                            var t;
                            return n.state.stage ? t = n.state.stage : (t = new u.Easel.Stage(e)).enableMouseOver(), n.props.mediaEditController.stage = t, t
                        }, n.drawCanvas = function(e, t) {
                            if (n._refStaticCanvas && n._refStaticCanvas.refCanvas) {
                                var a = n._refStaticCanvas.refCanvas;
                                t && n.props.mediaPickerStatsLogger && n.props.mediaPickerStatsLogger.logChange(n.props.activeMediaId || -1, t);
                                var i = n.props.editedMedia,
                                    l = i.editData,
                                    o = n._maybeInitStage(a);
                                e && (a.width = l.width, a.height = l.height), o.removeAllChildren(), null != l.baseItem && o.addChild(l.baseItem), l.items && o.addChild.apply(o, (0, r.default)(l.items));
                                var s = i.originalImage.naturalWidth,
                                    u = i.originalImage.naturalHeight;
                                o.regX = s / 2, o.regY = u / 2, o.rotation = l.rotation, (0, d.isNonZeroNumber)(l.width) && (0, d.isNonZeroNumber)(l.height) && (o.x = l.width / 2 + l.scale * l.offsetX, o.y = l.height / 2 + l.scale * l.offsetY), o.scaleX = l.scale, o.scaleY = l.scale, o.update(), n.setState({
                                    canvasSize: {
                                        width: a.width,
                                        height: a.height
                                    },
                                    stage: o
                                })
                            }
                        }, n.saveCanvas = function() {
                            n.drawCanvas(!0);
                            var e = n._refStaticCanvas && n._refStaticCanvas.refCanvas;
                            e && n.props.editedMedia.saveEditsFromCanvas(e)
                        }, n.clearStage = function(e) {
                            e && (e.children.forEach((function(e) {
                                e.removeAllEventListeners()
                            })), e.removeAllEventListeners(), e.removeAllChildren(), e.enableMouseOver(0), e.clear())
                        }, n._setRefStaticCanvas = function(e) {
                            n._refStaticCanvas = e
                        }, n._setRefMediaContainer = function(e) {
                            n._refMediaContainer = e
                        }, n._setRefCropOverlay = function(e) {
                            n._refCropOverlay = e
                        }, n.updateCanvasSize = function(e, t) {
                            n.setState({
                                canvasSize: {
                                    width: e,
                                    height: t
                                }
                            })
                        }, n.state = {
                            canvasSize: {
                                height: 1,
                                width: 1
                            },
                            stage: null,
                            mediaContainer: null
                        }, n
                    }
                    return (0, l.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            this._initCanvas(), this.setState({
                                mediaContainer: this._refMediaContainer
                            }), this.cropOverlay = new u.Easel.Stage(this._refCropOverlay), this.cropOverlay.autoClear = !1, this.cropOverlay.enableMouseOver(), this._refMediaContainer && (this.props.mediaEditController.mediaContainer = this._refMediaContainer), this.props.mediaEditController.cropOverlay = this.cropOverlay
                        }
                    }, {
                        key: "componentWillUnmount",
                        value: function() {
                            var e = this.props.editedMedia.originalImage;
                            e.complete || (e.onload = void 0), this.saveCanvas(), this.clearStage(this.state.stage), this.clearStage(this.cropOverlay)
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e = (0, v.jsx)("canvas", {
                                ref: this._setRefCropOverlay,
                                className: f.default.cropOverlay
                            });
                            return (0, v.jsx)("div", {
                                className: this.props.className,
                                ref: this._setRefMediaContainer,
                                children: (0, v.jsxs)(p.default, {
                                    type: this.props.fitType || "scaleDown",
                                    size: this.state.canvasSize,
                                    children: [e, (0, v.jsx)(h.default, {
                                        ref: this._setRefStaticCanvas,
                                        className: f.default.mediaViewerImg
                                    })]
                                })
                            })
                        }
                    }]), a
                }(c.Component);
            t.default = m, m.displayName = "MediaEditCanvas"
        },
        21782: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(a(34575)),
                l = r(a(93913)),
                o = r(a(2205)),
                s = r(a(99842)),
                d = n(a(64287)),
                u = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, s.default)(a);

                    function a() {
                        var e;
                        (0, i.default)(this, a);
                        for (var n = arguments.length, r = new Array(n), l = 0; l < n; l++) r[l] = arguments[l];
                        return (e = t.call.apply(t, [this].concat(r))).stage = (0, d.prop)(), e.cropOverlay = (0, d.prop)(), e.mediaContainer = (0, d.prop)(), e.isInitialized = (0, d.derived)(e._isInitialized, ["stage", "cropOverlay", "mediaContainer"]), e
                    }
                    return (0, l.default)(a, [{
                        key: "_isInitialized",
                        value: function() {
                            return !!this.stage && !!this.cropOverlay && !!this.mediaContainer
                        }
                    }, {
                        key: "clearStage",
                        value: function(e) {
                            e && (e.children.forEach((function(e) {
                                e.removeAllEventListeners()
                            })), e.removeAllEventListeners(), e.removeAllChildren(), e.clear())
                        }
                    }]), a
                }(d.default),
                c = (0, d.defineModel)(u);
            t.default = c
        },
        9319: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(a(87757)),
                l = r(a(48926)),
                o = a(76304),
                s = a(67294),
                d = r(a(94253)),
                u = n(a(19829)),
                c = r(a(50922)),
                f = r(a(7665)),
                p = a(8413),
                h = a(85893),
                v = 1.1;

            function m(e, t) {
                var a = e.editedMedia,
                    n = e.cropOverlay,
                    r = e.drawCanvas,
                    m = (0, s.useRef)(0),
                    g = function(e) {
                        var t = m.current,
                            n = a.editData,
                            r = Math.max(2 * t / n.width, 2 * t / n.height),
                            i = Math.max(e, r);
                        if (n.width * e < t || n.height * e < t) return !1;
                        var l = -t / i + n.width / 2,
                            o = t / i - n.width / 2,
                            s = -t / i + n.height / 2,
                            d = t / i - n.height / 2;
                        return {
                            scale: i,
                            offsetX: Math.min(Math.max(n.offsetX, o), l),
                            offsetY: Math.min(Math.max(n.offsetY, d), s)
                        }
                    },
                    _ = function() {
                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : v,
                            t = a.editData,
                            n = 0 !== e ? e : v,
                            i = g(t.scale * n);
                        i && (t.scale = i.scale, t.offsetX = i.offsetX, t.offsetY = i.offsetY, r())
                    },
                    C = function() {
                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : v,
                            t = a.editData,
                            n = 0 !== e ? e : v,
                            i = g(t.scale / n);
                        i && (t.scale = i.scale, t.offsetX = i.offsetX, t.offsetY = i.offsetY, r())
                    };
                (0, p.useListener)(n.canvas, "mousewheel", (function(e) {
                    e.deltaY > 0 ? _(1.02) : C(1.02)
                }));
                var x = function(e, t) {
                    var n = a.editData,
                        i = e.stageX - t.x,
                        l = e.stageY - t.y,
                        o = n.offsetX + i / n.scale,
                        s = n.offsetY + l / n.scale,
                        d = function(e, t) {
                            var n = m.current,
                                r = a.editData,
                                i = (e - r.width / 2) * r.scale,
                                l = (e + r.width / 2) * r.scale,
                                o = (t + r.height / 2) * r.scale;
                            return {
                                x: i < -n && l > n,
                                y: (t - r.height / 2) * r.scale < -n && o > n
                            }
                        }(o, s);
                    d.x && (n.offsetX = o), d.y && (n.offsetY = s), t.x = e.stageX, t.y = e.stageY, r()
                };
                (0, s.useEffect)((function() {
                    a.saveEdits();
                    var e, t = a.editData,
                        r = n.canvas;
                    e = t.baseItem ? t.baseItem.getBounds() : {
                        width: 0,
                        height: 0
                    }, r.style.display = "block", r.width = e.width, r.height = e.height;
                    var i = new o.Easel.Shape;
                    i.graphics.beginFill("rgba(0, 0, 0, 0.1)"), i.graphics.drawRect(0, 0, e.width, e.height), i.regX = e.width / 2, i.regY = e.height / 2, i.x = e.width / 2, i.y = e.height / 2, i.on("mousedown", (function(e) {
                        var t = {
                                x: e.stageX,
                                y: e.stageY
                            },
                            a = i.on("pressmove", x, null, !1, t);
                        i.on("pressup", (function() {
                            i.off("pressmove", a)
                        }), null, !0)
                    })), i.cursor = "move";
                    var l = r.getContext("2d"),
                        s = r.width,
                        d = r.height,
                        u = s / d > 500 / 361 ? d / 361 : s / 500;
                    m.current = Math.min(361, 500) / 2 * .9 * u;
                    var c = m.current;
                    l.fillStyle = "rgba(0, 0, 0, 0.5)", l.fillRect(0, 0, s, d), l.globalCompositeOperation = "destination-out", l.beginPath(), l.arc(s / 2, d / 2, c, 0, 2 * Math.PI, !0), l.fillStyle = "#ffffff", l.fill(), n.addChild(i), n.update()
                }), []);
                var y = function() {
                    var e = (0, l.default)(i.default.mark((function e() {
                        var t, n, r, l, o, s, c, f;
                        return i.default.wrap((function(e) {
                            for (;;) switch (e.prev = e.next) {
                                case 0:
                                    if (t = a.editData, n = a.editedImage && a.editedImage.src, r = m.current, n) {
                                        e.next = 5;
                                        break
                                    }
                                    throw new Error("empty image");
                                case 5:
                                    return o = l = 2 * r, l > d.default.MAX_PIC_SIDE ? o = d.default.MAX_PIC_SIDE : l < d.default.MIN_PIC_SIDE && (o = d.default.MIN_PIC_SIDE), e.next = 10, u.crop(n, (t.width - 2 * r) / 2, (t.height - 2 * r) / 2, 2 * r, 2 * r, o, o, u.DATA_URL | u.CANVAS);
                                case 10:
                                    return s = e.sent, c = s.images.dataUrl, e.next = 14, u.crop(s.images.canvas, 0, 0, d.default.PROF_PIC_THUMB_SIDE, d.default.PROF_PIC_THUMB_SIDE);
                                case 14:
                                    return f = e.sent, e.abrupt("return", {
                                        thumb: f.images.dataUrl,
                                        full: c
                                    });
                                case 16:
                                case "end":
                                    return e.stop()
                            }
                        }), e)
                    })));
                    return function() {
                        return e.apply(this, arguments)
                    }
                }();
                return (0, s.useImperativeHandle)(t, (function() {
                    return {
                        crop: y
                    }
                })), (0, h.jsxs)("div", {
                    className: c.default.scaler,
                    children: [(0, h.jsx)("div", {
                        className: c.default.scalerButton,
                        onClick: function() {
                            _()
                        },
                        children: (0, h.jsx)(f.default, {
                            name: "plus"
                        })
                    }), (0, h.jsx)("div", {
                        className: c.default.scalerButton,
                        onClick: function() {
                            C()
                        },
                        children: (0, h.jsx)(f.default, {
                            name: "minus"
                        })
                    })]
                })
            }
            var g = (0, s.forwardRef)(m);
            t.default = g
        },
        6220: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(a(34575)),
                i = n(a(93913)),
                l = n(a(2205)),
                o = n(a(99842)),
                s = a(67294),
                d = a(85893),
                u = function(e) {
                    (0, l.default)(a, e);
                    var t = (0, o.default)(a);

                    function a() {
                        var e;
                        (0, r.default)(this, a);
                        for (var n = arguments.length, i = new Array(n), l = 0; l < n; l++) i[l] = arguments[l];
                        return (e = t.call.apply(t, [this].concat(i)))._setRefCanvas = function(t) {
                            e.refCanvas = t
                        }, e
                    }
                    return (0, i.default)(a, [{
                        key: "shouldComponentUpdate",
                        value: function() {
                            return !1
                        }
                    }, {
                        key: "render",
                        value: function() {
                            return (0, d.jsx)("canvas", {
                                className: this.props.className,
                                ref: this._setRefCanvas
                            })
                        }
                    }]), a
                }(s.Component);
            t.default = u, u.displayName = "StaticCanvas"
        },
        74715: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = (0, i.useState)(e.initialDuration),
                    a = (0, r.default)(t, 2),
                    n = a[0],
                    C = a[1],
                    x = (0, i.useState)((0, p.shouldShowNUX)(d.default.NUX.EPHEMERAL)),
                    y = (0, r.default)(x, 2),
                    S = y[0],
                    E = y[1];
                (0, i.useEffect)((function() {
                    (0, p.setNUX)(d.default.NUX.EPHEMERAL, {
                        views: 1,
                        maxViews: 1
                    })
                }), []);
                var j, I = function(e) {
                    return C(parseInt(e.target.value, 10))
                };
                j = S ? (0, g.jsx)(u.default, {
                    fromMe: !0
                }) : (0, g.jsxs)(g.Fragment, {
                    children: [(0, g.jsx)(m.TextParagraph, {
                        xstyle: _.explanation,
                        children: v.default.t(864)
                    }), (0, h.getAllDurations)().map((function(e) {
                        var t = e.value,
                            a = e.label;
                        return (0, g.jsx)("div", {
                            className: (0, l.default)(_.option),
                            children: (0, g.jsxs)("label", {
                                className: (0, l.default)(_.label),
                                children: [(0, g.jsx)("input", {
                                    type: "radio",
                                    className: (0, l.default)(_.input),
                                    value: String(t),
                                    checked: t === n,
                                    onChange: I
                                }), a]
                            })
                        }, `option-${t}`)
                    }))]
                });
                return (0, g.jsx)(s.default, {
                    title: S ? void 0 : v.default.t(1009),
                    onOK: S ? function() {
                        E(!1)
                    } : function() {
                        e.onDurationSelected(n), o.default.closeModal()
                    },
                    onCancel: S ? function() {
                        (0, c.openExternalLink)((0, f.getEphemeralFaqUrl)())
                    } : function() {
                        o.default.closeModal()
                    },
                    children: j
                })
            };
            var r = n(a(63038)),
                i = a(67294),
                l = n(a(56720)),
                o = n(a(65901)),
                s = n(a(86777)),
                d = n(a(94253)),
                u = n(a(71842)),
                c = a(49012),
                f = a(29281),
                p = a(1577),
                h = a(78190),
                v = n(a(45159)),
                m = a(22552),
                g = a(85893),
                _ = {
                    option: {
                        display: "p357zi0d",
                        alignItems: "gndfcl4n",
                        height: "sai7fuui"
                    },
                    label: {
                        display: "f804f6gw",
                        cursor: "ajgl1lbb"
                    },
                    input: {
                        marginEnd: "claouzo6",
                        verticalAlign: "neme6l2y"
                    },
                    explanation: {
                        marginBottom: "t4zgqcuo"
                    }
                }
        },
        15733: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.frequentlyForwardedCount,
                    a = e.totalCount,
                    n = (0, u.jsxs)("span", {
                        className: o.default.text,
                        children: [1 === t && 1 === a ? s.default.t(926) : s.default.t(925), " ", (0, u.jsx)(i.default, {
                            href: (0, l.getFrequentlyForwardedFaqUrl)(),
                            children: s.default.t(1120)
                        })]
                    });
                return (0, u.jsxs)("div", {
                    className: o.default.wrapper,
                    children: [(0, u.jsx)("div", {
                        className: o.default.icon,
                        children: (0, u.jsx)(d.default, {
                            name: "highly-forwarded"
                        })
                    }), (0, u.jsx)(r.default, {
                        theme: "plain",
                        primary: n,
                        idle: !0
                    })]
                })
            };
            var r = n(a(88186)),
                i = n(a(49012)),
                l = a(29281),
                o = n(a(83123)),
                s = n(a(45159)),
                d = n(a(7665)),
                u = a(85893)
        },
        85077: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(a(63038)),
                l = a(84805),
                o = a(74733),
                s = a(18077),
                d = a(67294),
                u = r(a(88186)),
                c = r(a(65901)),
                f = r(a(22261)),
                p = n(a(66834)),
                h = r(a(53187)),
                v = r(a(18345)),
                m = r(a(61876)),
                g = n(a(19288)),
                _ = r(a(73008)),
                C = a(75993),
                x = n(a(18286)),
                y = a(34755),
                S = r(a(57363)),
                E = r(a(9025)),
                j = r(a(45159)),
                I = r(a(27003)),
                b = a(96197),
                k = a(4865),
                T = r(a(59782)),
                M = r(a(7665)),
                w = n(a(92428)),
                P = r(a(69283)),
                L = r(a(1379)),
                O = a(59175),
                D = a(85893),
                N = "group-invite-link-anchor",
                R = 0,
                A = 1,
                F = 2;

            function B(e, t) {
                var a = e.onBack,
                    n = e.chat,
                    r = (0, d.useState)(R),
                    B = (0, i.default)(r, 2),
                    U = B[0],
                    G = B[1],
                    H = (0, L.default)(),
                    V = (0, P.default)(e.groupMetadata, ["inviteCode", "groupInviteLink"]),
                    W = function(e) {
                        switch (e) {
                            case 401:
                                return j.default.t(984);
                            case 403:
                                return j.default.t(985);
                            case 404:
                                return j.default.t(986);
                            default:
                                return j.default.t(987)
                        }
                    };
                (0, d.useEffect)((function() {
                    (0, I.default)((0, y.queryGroupInviteCode)(V), H).then((function() {
                        G(F)
                    })).catch((0, s.filteredCatch)(O.ServerStatusCodeError, (function(e) {
                        ! function(e) {
                            var t = W(e);
                            a(), c.default.openToast((0, D.jsx)(w.default, {
                                msg: t,
                                id: (0, w.genId)()
                            }))
                        }(e.statusCode)
                    }))).catch((0, l.catchAbort)((function() {})))
                }), []);
                var z = (0, y.revokeGroupInvite)(V),
                    K = function() {
                        G(A), (0, o.delayMs)(500).then((function() {
                            return z
                        })).then((function() {
                            c.default.openToast((0, D.jsx)(w.default, {
                                msg: j.default.t(995),
                                id: (0, w.genId)()
                            })), G(F)
                        })).catch((0, s.filteredCatch)(O.ServerStatusCodeError, (function(e) {
                            ! function(e) {
                                var t = W(e);
                                a(), c.default.openToast((0, D.jsx)(w.default, {
                                    msg: t,
                                    id: (0, w.genId)()
                                }))
                            }(e.statusCode)
                        }))).catch((0, s.filteredCatch)(x.Unmount, (function() {})))
                    },
                    Y = function() {
                        c.default.openModal((0, D.jsx)(E.default, {
                            pushTransition: "none",
                            popTransition: "none",
                            chat: n,
                            onConfirm: K
                        }), {
                            transition: "modal-flow"
                        })
                    },
                    q = function() {
                        c.default.openModal((0, D.jsx)(k.SendGroupInviteFlowLoadable, {
                            chat: n
                        }), {
                            transition: "modal-flow"
                        })
                    };
                return (0, D.jsxs)(h.default, {
                    ref: t,
                    children: [(0, D.jsx)(g.default, {
                        title: j.default.t(981),
                        onBack: e.onBack,
                        darwinRtlFix: !0,
                        type: g.DRAWER_HEADER_TYPE.SMALL
                    }), function() {
                        var e;
                        if (U === R) e = (0, D.jsx)(C.LoadingWithText, {
                            text: j.default.t(977)
                        });
                        else if (U === A) e = (0, D.jsx)(C.LoadingWithText, {
                            text: j.default.t(994, {
                                groupName: n.contact.name
                            })
                        });
                        else {
                            var t = V.groupInviteLink,
                                a = null;
                            document.queryCommandSupported("copy") && (a = (0, D.jsx)(f.default, {
                                elementId: N
                            }));
                            var r = (0, D.jsx)(p.default, {
                                    id: n.id,
                                    size: 82,
                                    quality: p.DETAIL_IMAGE_QUALITY.HIGH
                                }),
                                i = (0, D.jsx)("span", {
                                    className: S.default.linkContainer,
                                    children: (0, D.jsx)(b.SelectableLink, {
                                        id: N,
                                        href: t,
                                        selectable: !0,
                                        children: t
                                    })
                                });
                            e = (0, D.jsxs)(v.default, {
                                children: [(0, D.jsx)(u.default, {
                                    image: r,
                                    primary: (0, D.jsx)(_.default, {
                                        text: n.contact.name,
                                        direction: "auto"
                                    }),
                                    theme: "identity",
                                    secondary: i
                                }), (0, D.jsx)("div", {
                                    className: S.default.descContainer,
                                    children: j.default.t(982)
                                }), (0, D.jsx)(T.default, {
                                    onClick: q
                                }), a, (0, D.jsx)(m.default, {
                                    a8nText: "li-revoke-link",
                                    icon: (0, D.jsx)(M.default, {
                                        name: "revoke",
                                        className: S.default.icon
                                    }),
                                    onClick: Y,
                                    children: j.default.t(979)
                                })]
                            })
                        }
                        return e
                    }()]
                })
            }
            var U = (0, d.forwardRef)(B);
            t.default = U
        },
        4485: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.onConfirm;
                return (0, s.jsx)(i.default, {
                    title: o.default.t(979),
                    onOK: function() {
                        t(), r.default.closeModal()
                    },
                    okText: o.default.t(979),
                    onCancel: function() {
                        r.default.closeModal()
                    },
                    cancelText: o.default.t(1938),
                    children: (0, s.jsx)("div", {
                        className: l.default.confirmationText,
                        children: o.default.t(993, {
                            groupName: e.chat.contact.name
                        })
                    })
                })
            };
            var r = n(a(65901)),
                i = n(a(86777)),
                l = n(a(26297)),
                o = n(a(45159)),
                s = a(85893)
        },
        57027: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(a(319)),
                l = r(a(34575)),
                o = r(a(93913)),
                s = r(a(2205)),
                d = r(a(99842)),
                u = a(18077),
                c = r(a(48842)),
                f = a(67294),
                p = r(a(40501)),
                h = r(a(88549)),
                v = r(a(65901)),
                m = r(a(94253)),
                g = r(a(53187)),
                _ = r(a(18345)),
                C = n(a(19288)),
                x = r(a(46821)),
                y = n(a(18286)),
                S = n(a(73568)),
                E = r(a(92546)),
                j = a(2629),
                I = r(a(52336)),
                b = r(a(50329)),
                k = r(a(67371)),
                T = r(a(67121)),
                M = a(21943),
                w = r(a(2424)),
                P = r(a(29015)),
                L = r(a(45159)),
                O = r(a(63641)),
                D = a(83592),
                N = r(a(50507)),
                R = r(a(94413)),
                A = r(a(29289)),
                F = r(a(76997)),
                B = r(a(80233)),
                U = r(a(5202)),
                G = r(a(62861)),
                H = r(a(43890)),
                V = r(a(85651)),
                W = r(a(61897)),
                z = r(a(7665)),
                K = a(22552),
                Y = n(a(92428)),
                q = r(a(43026)),
                Z = a(85893),
                X = function(e) {
                    (0, s.default)(a, e);
                    var t = (0, d.default)(a);

                    function a(e) {
                        var n;
                        return (0, l.default)(this, a), (n = t.call(this, e)).flatListController = new E.default, n.setRefScrollable = function(e) {
                            n.refScrollable = e
                        }, n.state = {
                            msgInfo: void 0,
                            unimplemented: !1
                        }, n._refWrapper = (0, f.createRef)(), n.isMsgVisible = function(e) {
                            var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                            return e === n.props.msg.id && (!!t || n.getMsgComponent())
                        }, n.handleClose = function() {
                            n.props.uim.uie.requestDismiss()
                        }, n._getHeaderAtSection = function(e) {
                            var t, a;
                            switch (e) {
                                case M.SECTIONS.PLAYED_HEADER:
                                    a = (0, Z.jsx)(z.default, {
                                        name: "status-ptt",
                                        className: k.default.statusBlue
                                    }), t = L.default.t(1258);
                                    break;
                                case M.SECTIONS.READ_HEADER:
                                    a = (0, Z.jsx)(z.default, {
                                        name: "status-dblcheck",
                                        className: k.default.ack
                                    }), t = L.default.t(1260);
                                    break;
                                case M.SECTIONS.SEEN_HEADER:
                                    a = (0, Z.jsx)(z.default, {
                                        name: "status-dblcheck",
                                        className: k.default.ack
                                    }), t = n.props.msg.isViewOnce ? L.default.t(1265) : L.default.t(1263);
                                    break;
                                case M.SECTIONS.DELIVERED_HEADER:
                                    a = (0, Z.jsx)(z.default, {
                                        name: "status-dblcheck"
                                    }), t = L.default.t(1256);
                                    break;
                                case M.SECTIONS.VIEWED_HEADER:
                                    a = (0, Z.jsx)(z.default, {
                                        name: "view-once-viewed",
                                        className: k.default.statusBlue
                                    }), t = L.default.t(1267);
                                    break;
                                default:
                                    return __LOG__(4, void 0, new Error)`Invalid SECTION for group message info section header`, null
                            }
                            return a = (0, Z.jsx)("div", {
                                className: k.default.titleIcon,
                                children: a
                            }), (0, Z.jsx)("div", {
                                "data-a8n": p.default.key("msg-info-title"),
                                className: k.default.title,
                                children: (0, Z.jsx)(G.default, {
                                    side: a,
                                    ellipsify: !0,
                                    children: (0, Z.jsx)(K.TextSpan, {
                                        theme: "section-title",
                                        children: t
                                    })
                                })
                            })
                        }, n._getFooterAtSection = function(e) {
                            var t = (0, c.default)(n.state.msgInfo, "_this.state.msgInfo");
                            return (0, Z.jsx)(T.default, {
                                section: e,
                                msgInfo: t
                            }, e)
                        }, n.renderItem = function(e) {
                            if ("row" === e.kind) return n._getInfoCell(e.participant);
                            if (e.type === M.SECTIONS.FORWARD_COUNT) return n._getForwardCount();
                            switch (e.type) {
                                case M.SECTIONS.PLAYED_HEADER:
                                case M.SECTIONS.READ_HEADER:
                                case M.SECTIONS.SEEN_HEADER:
                                case M.SECTIONS.DELIVERED_HEADER:
                                case M.SECTIONS.VIEWED_HEADER:
                                    return n._getHeaderAtSection(e.type);
                                default:
                                    return n._getFooterAtSection(e.type)
                            }
                        }, n._uiActionEvent = new N.default.UiAction({
                            uiActionType: N.default.UI_ACTION_TYPE.MSG_INFO_OPEN,
                            uiActionPreloaded: !0
                        }), n
                    }
                    return (0, o.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            var e, t = this;
                            A.default.find(this.props.msg.id).checkpoint(this.props.rejectOnUnmount()).then((function(e) {
                                t.setState({
                                    msgInfo: e
                                }), t.props.listeners.add(e.played, "add remove", (function() {
                                    t.forceUpdate()
                                })), t.props.listeners.add(e.read, "add remove", (function() {
                                    t.forceUpdate()
                                })), t.props.listeners.add(e.delivery, "add remove", (function() {
                                    t.forceUpdate()
                                }))
                            })).catch((0, u.filteredCatch)(y.Unmount, (function() {}))).catch((function() {
                                t.setState({
                                    unimplemented: !0
                                }), v.default.openToast((0, Z.jsx)(Y.default, {
                                    msg: L.default.t(1289),
                                    id: (0, Y.genId)("msg_info_failed")
                                }))
                            }));
                            var a = null === (e = this.refScrollable) || void 0 === e ? void 0 : e.container;
                            this.props.msg.type === m.default.MSG_TYPE.IMAGE && a && (a.scrollTop = a.scrollHeight), this.props.listeners.add(this.props.msg, "remove", (function(e, a) {
                                a === R.default && t.props.uim.uie.requestDismiss()
                            }));
                            var n = this._uiActionEvent;
                            if (n) {
                                var r, i = null === (r = I.default.get(this.props.msg.chat.id)) || void 0 === r ? void 0 : r.cachedDeviceSizeBucket;
                                null != i && (n.sizeBucket = i), n.markUiActionT(), n.commit(), this._uiActionEvent = void 0
                            }
                        }
                    }, {
                        key: "getAnimateEnterClass",
                        value: function(e) {
                            return `animate-enter${-1===e?"":e}`
                        }
                    }, {
                        key: "getMsgComponent",
                        value: function() {
                            var e;
                            return null === (e = this._refWrapper.current) || void 0 === e ? void 0 : e.getMsgComponentRef()
                        }
                    }, {
                        key: "_getInfoCell",
                        value: function(e) {
                            return (0, Z.jsx)(b.default, {
                                msgInfoParticipant: e,
                                contact: e.contact,
                                theme: "drawer-list"
                            }, e.id.toString())
                        }
                    }, {
                        key: "_getForwardCount",
                        value: function() {
                            return H.default.hfmStringChanges ? null : (0, Z.jsx)("div", {
                                className: k.default.forwardCount,
                                children: (0, Z.jsx)(F.default, {
                                    msg: this.props.msg
                                })
                            })
                        }
                    }, {
                        key: "getData",
                        value: function() {
                            var e = this.props.msg,
                                t = this.state.msgInfo,
                                a = [],
                                n = e.type === m.default.MSG_TYPE.PTT,
                                r = n || e.isViewOnce;
                            if (t && r) {
                                var l = n ? M.SECTIONS.PLAYED_HEADER : M.SECTIONS.VIEWED_HEADER;
                                a.push({
                                    kind: "section",
                                    type: l,
                                    itemKey: l,
                                    height: 50
                                }), a.push.apply(a, (0, i.default)(t.played.map((function(e) {
                                    return {
                                        participant: e,
                                        kind: "row",
                                        itemKey: e.id.toString(),
                                        height: S.DEFAULT_ITEM_HEIGHT
                                    }
                                })))), t.playedRemaining > 0 && (l = n ? M.SECTIONS.PLAYED_FOOTER : M.SECTIONS.VIEWED_FOOTER, a.push({
                                    kind: "section",
                                    type: l,
                                    itemKey: l,
                                    height: 50
                                }))
                            }
                            return t && (t.read.length > 0 || t.playedRemaining > 0) && (a.push({
                                kind: "section",
                                type: r ? M.SECTIONS.SEEN_HEADER : M.SECTIONS.READ_HEADER,
                                itemKey: M.SECTIONS.READ_HEADER,
                                height: 50
                            }), a.push.apply(a, (0, i.default)(t.read.map((function(e) {
                                return {
                                    participant: e,
                                    kind: "row",
                                    itemKey: e.id.toString(),
                                    height: S.DEFAULT_ITEM_HEIGHT
                                }
                            })))), t.readRemaining > 0 && a.push({
                                kind: "section",
                                type: M.SECTIONS.READ_FOOTER,
                                itemKey: r ? M.SECTIONS.SEEN_FOOTER : M.SECTIONS.READ_FOOTER,
                                height: 50
                            })), t && (t.delivery.length > 0 || t.deliveryRemaining > 0) && (a.push({
                                kind: "section",
                                type: M.SECTIONS.DELIVERED_HEADER,
                                itemKey: M.SECTIONS.DELIVERED_HEADER,
                                height: 50
                            }), a.push.apply(a, (0, i.default)(t.delivery.map((function(e) {
                                return {
                                    participant: e,
                                    kind: "row",
                                    itemKey: e.id.toString(),
                                    height: S.DEFAULT_ITEM_HEIGHT
                                }
                            })))), t.deliveryRemaining > 0 && a.push({
                                kind: "section",
                                type: M.SECTIONS.DELIVERED_FOOTER,
                                itemKey: M.SECTIONS.DELIVERED_FOOTER,
                                height: 50
                            })), e.numTimesForwarded > 0 && !e.isFrequentlyForwarded && a.push({
                                kind: "section",
                                type: M.SECTIONS.FORWARD_COUNT,
                                itemKey: M.SECTIONS.FORWARD_COUNT,
                                height: 60
                            }), a
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e, t = this.props.msg,
                                a = this.state,
                                n = a.msgInfo,
                                r = a.unimplemented;
                            n || r || (e = (0, Z.jsx)("div", {
                                className: k.default.spinner,
                                children: (0, Z.jsx)(V.default, {
                                    size: 50,
                                    stroke: 4
                                })
                            }, "spinner"));
                            var i = this.getData(),
                                l = i.length ? (0, Z.jsx)(S.default, {
                                    flatListController: this.flatListController,
                                    direction: "vertical",
                                    forceConsistentRenderCount: !1,
                                    data: i,
                                    renderItem: this.renderItem
                                }) : null,
                                o = null;
                            return t.labels && t.labels.length > 0 && (0, j.canDisplayLabel)() && (o = (0, Z.jsx)(x.default, {
                                theme: "padding",
                                children: (0, Z.jsx)(P.default, {
                                    labels: t.labels
                                })
                            })), (0, Z.jsxs)(g.default, {
                                theme: "striped",
                                children: [(0, Z.jsx)(C.default, {
                                    title: L.default.t(1254),
                                    type: C.DRAWER_HEADER_TYPE.SMALL,
                                    darwinRtlFix: !0,
                                    onCancel: this.handleClose
                                }), (0, Z.jsx)(B.default, {
                                    ref: this.setRefScrollable,
                                    chatPreference: h.default.assertGet("defaultPreference"),
                                    children: (0, Z.jsx)(q.default, {
                                        msg: t,
                                        ref: this._refWrapper,
                                        displayType: m.default.DISP_TYPE.MSG_INFO,
                                        isMsgVisible: this.isMsgVisible,
                                        position: D.MsgPosition.END,
                                        onProductClick: this.props.onProductClick
                                    })
                                }), (0, Z.jsxs)(_.default, {
                                    flatListControllers: [this.flatListController],
                                    children: [o, e, (0, Z.jsx)("div", {
                                        className: k.default.list,
                                        children: l
                                    })]
                                })]
                            }, "message-info-modal")
                        }
                    }]), a
                }(f.Component);
            X.CONCERNS = {
                msg: ["id", "star", "type", "isGif", "isViewOnce", "labels", "numTimesForwarded", "isFrequentlyForwarded", "chat"]
            }, X.displayName = "GroupMsgInfoDrawer";
            var $ = (0, w.default)((0, U.default)((0, O.default)((0, W.default)(X, X.CONCERNS))));
            t.default = $
        },
        67121: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, a, n, c = (0, d.default)(e.msgInfo, ["playedRemaining", "readRemaining", "deliveryRemaining"]);
                switch (e.section) {
                    case l.SECTIONS.PLAYED_FOOTER:
                    case l.SECTIONS.VIEWED_FOOTER:
                        t = c.playedRemaining, a = c.playedRemaining;
                        break;
                    case l.SECTIONS.READ_FOOTER:
                    case l.SECTIONS.SEEN_FOOTER:
                        t = c.readRemaining, a = c.readRemaining;
                        break;
                    case l.SECTIONS.DELIVERED_FOOTER:
                        t = c.deliveryRemaining, a = c.deliveryRemaining;
                        break;
                    default:
                        return __LOG__(4, void 0, new Error)`Invalid SECTION for group message info section footer`, null
                }
                n = null != t && 0 !== t ? {
                    count: t,
                    _plural: a
                } : {
                    _plural: a
                };
                var f = o.default.t(1261, n);
                return (0, u.jsx)("div", {
                    "data-a8n": r.default.key("msg-info-remaining"),
                    className: i.default.footer,
                    children: (0, u.jsx)(s.TextSpan, {
                        theme: "muted",
                        children: f
                    })
                })
            };
            var r = n(a(40501)),
                i = n(a(67371)),
                l = a(21943),
                o = n(a(45159)),
                s = a(22552),
                d = n(a(69283)),
                u = a(85893)
        },
        21943: (e, t, a) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.SECTIONS = void 0;
            var n = a(54302).Mirrored(["DELIVERED_FOOTER", "DELIVERED_HEADER", "FORWARD_COUNT", "PLAYED_FOOTER", "PLAYED_HEADER", "READ_FOOTER", "READ_HEADER", "SEEN_FOOTER", "SEEN_HEADER", "VIEWED_FOOTER", "VIEWED_HEADER"]);
            t.SECTIONS = n
        },
        91522: (e, t, a) => {
            "use strict";
            var n = a(52108).default,
                r = a(20862),
                i = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var l = i(a(34575)),
                o = i(a(93913)),
                s = i(a(2205)),
                d = i(a(99842)),
                u = a(67294),
                c = i(a(88186)),
                f = i(a(94253)),
                p = i(a(66834)),
                h = i(a(53187)),
                v = i(a(18345)),
                m = r(a(19288)),
                g = i(a(73008)),
                _ = i(a(9445)),
                C = i(a(4025)),
                x = i(a(45159)),
                y = r(a(73454)),
                S = i(a(98755)),
                E = i(a(30194)),
                j = i(a(5202)),
                I = i(a(80385)),
                b = i(a(7665)),
                k = i(a(68544)),
                T = i(a(60806)),
                M = a(85893),
                w = function(e) {
                    (0, s.default)(a, e);
                    var t = (0, d.default)(a);

                    function a() {
                        var e;
                        (0, l.default)(this, a);
                        for (var r = arguments.length, i = new Array(r), o = 0; o < r; o++) i[o] = arguments[o];
                        return (e = t.call.apply(t, [this].concat(i))).state = {
                            isBusy: !1,
                            inviteComment: x.default.t(1020)
                        }, e.setRefParticipantList = function(t) {
                            e.refParticipantList = t
                        }, e.handleClose = function() {
                            (0, e.props.onClose)()
                        }, e._getGroupThumbBase64 = function() {
                            var t = e.props.gid,
                                a = E.default.get(t);
                            return new n((function(e) {
                                a && a.img ? (0, _.default)(a.img).then((function(t) {
                                    if (t.ok) return t.blob();
                                    e(void 0)
                                })).then((function(t) {
                                    if (t) {
                                        var a = new FileReader;
                                        a.onloadend = function() {
                                            var t = a.result;
                                            if (null != t) {
                                                var n = t.toString().split(",")[1];
                                                e(n)
                                            } else e(void 0)
                                        }, a.readAsDataURL(t)
                                    }
                                })).catch((function() {
                                    return e(void 0)
                                })) : e(void 0)
                            }))
                        }, e.handleSend = function() {
                            var t = e.props.onSend,
                                a = e.state.inviteComment;
                            e._getGroupThumbBase64().then((function(e) {
                                t(a, e)
                            }))
                        }, e._handleInviteCommentChange = function(t) {
                            e.setState({
                                inviteComment: t
                            })
                        }, e.setRefEmojiInput = function(t) {
                            e.refEmojiInput = t
                        }, e
                    }
                    return (0, o.default)(a, [{
                        key: "render",
                        value: function() {
                            var e = (0, M.jsx)(I.default, {
                                    a8nText: "group-participants-btn",
                                    large: !0,
                                    onClick: this.handleSend,
                                    children: (0, M.jsx)(b.default, {
                                        name: "send",
                                        directional: !0
                                    })
                                }),
                                t = (0, M.jsx)(p.default, {
                                    id: this.props.gid
                                }),
                                a = (0, M.jsx)(g.default, {
                                    text: this.props.subject
                                });
                            return (0, M.jsx)(y.default, {
                                type: y.ModalTheme.Invite,
                                children: (0, M.jsxs)(h.default, {
                                    theme: "invite",
                                    children: [(0, M.jsx)(m.default, {
                                        type: m.DRAWER_HEADER_TYPE.POPUP,
                                        title: x.default.t(1029),
                                        onCancel: this.handleClose
                                    }), (0, M.jsxs)(v.default, {
                                        children: [(0, M.jsx)("div", {
                                            className: C.default.search,
                                            children: (0, M.jsx)("div", {
                                                "data-list-scroll-container": !0,
                                                children: (0, M.jsx)(S.default, {
                                                    ref: this.setRefParticipantList,
                                                    theme: "list-names",
                                                    contacts: this.props.participants.map((function(e) {
                                                        return e.contact
                                                    }))
                                                })
                                            })
                                        }), (0, M.jsx)("div", {
                                            className: C.default.commentInput,
                                            children: (0, M.jsx)(k.default, {
                                                a8n: "groups-v4-invite-add-comment-input",
                                                ref: this.setRefEmojiInput,
                                                value: this.state.inviteComment,
                                                showRemaining: !0,
                                                maxLength: f.default.MAX_CAPTION_LENGTH,
                                                onChange: this._handleInviteCommentChange,
                                                theme: "v4-invite-caption",
                                                supportsEmoji: !0
                                            })
                                        }), (0, M.jsx)(T.default, {
                                            transitionName: "btn",
                                            className: C.default.onSendInvite,
                                            children: e
                                        }), (0, M.jsx)("div", {
                                            className: C.default.groupInfo,
                                            children: (0, M.jsx)(c.default, {
                                                idle: !0,
                                                image: t,
                                                primary: a,
                                                secondary: x.default.t(1024),
                                                theme: "group_v4_invite"
                                            })
                                        })]
                                    })]
                                })
                            })
                        }
                    }]), a
                }(u.Component);
            w.displayName = "GroupV4InviteAddComment";
            var P = (0, j.default)(w);
            t.default = P
        },
        50504: (e, t, a) => {
            "use strict";
            var n = a(52108).default,
                r = a(20862),
                i = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var l = i(a(34575)),
                o = i(a(93913)),
                s = i(a(2205)),
                d = i(a(99842)),
                u = a(74733),
                c = i(a(96486)),
                f = a(67294),
                p = r(a(97397)),
                h = a(75993),
                v = i(a(45159)),
                m = i(a(41502)),
                g = i(a(98232)),
                _ = i(a(39916)),
                C = a(85893),
                x = function(e) {
                    (0, s.default)(r, e);
                    var t = (0, d.default)(r);

                    function r(e) {
                        var a;
                        return (0, l.default)(this, r), (a = t.call(this, e))._setRefEl = function(e) {
                            a._refEl = e
                        }, a.handleSelect = function(e, t) {
                            if (t instanceof p.Mode) {
                                var n = t.props.chat;
                                !0 === a.props.filter(n) && a.props.onGroup(t.props.chat)
                            }
                        }, a.handleSearch = c.default.debounce((function(e) {
                            a.setState({
                                searchText: e
                            })
                        }), 100), a.renderItem = function(e) {
                            var t, n, r = a.props,
                                i = r.onGroup,
                                l = (0, r.filter)(e.chat),
                                o = "boolean" != typeof l;
                            return o && (t = l, n = "group-modal"), (0, C.jsx)(p.default, {
                                chat: e.chat,
                                contact: e.chat.contact,
                                mode: p.Mode.INFO,
                                active: a.selection,
                                secondary: t,
                                noContext: !0,
                                theme: n,
                                onClick: o ? void 0 : i.bind(null, e.chat)
                            })
                        }, a.selection = new _.default, a.state = {
                            loading: !0,
                            searchText: void 0
                        }, a
                    }
                    return (0, o.default)(r, [{
                        key: "getElement",
                        value: function() {
                            this._refEl
                        }
                    }]), (0, o.default)(r, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this,
                                t = this.props.chats;
                            (0, u.delayMs)(300).then((function() {
                                return n.all(c.default.map(c.default.filter(t, (function(e) {
                                    var t;
                                    return null === (t = e.groupMetadata) || void 0 === t ? void 0 : t.stale
                                })), (function(e) {
                                    var t;
                                    return a(52336).default.update(null === (t = e.groupMetadata) || void 0 === t ? void 0 : t.id).catch((function() {}))
                                })))
                            })).then((function() {
                                return e.setState({
                                    loading: !1
                                })
                            }))
                        }
                    }, {
                        key: "getData",
                        value: function() {
                            var e = this.props,
                                t = e.chats,
                                a = e.filter,
                                n = this.state,
                                r = n.loading,
                                i = n.searchText;
                            if (r) return [];
                            var l = v.default.accentFold(i),
                                o = (0, g.default)(l),
                                s = t.filter((function(e) {
                                    return a(e) && (!l || l && e.contact.searchMatch(l, o))
                                }));
                            return this.selection.init(s.filter((function(e) {
                                return !0 === a(e)
                            })).map((function(e) {
                                return e.id
                            }))), s.map((function(e) {
                                return {
                                    chat: e,
                                    itemKey: e.id.toString()
                                }
                            }))
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e = this.props.onCancel,
                                t = this.state.loading ? (0, C.jsx)(h.Loading, {}) : (0, C.jsx)(h.SearchGroups, {});
                            return (0, C.jsx)(m.default, {
                                title: v.default.t(2068),
                                data: this.getData(),
                                renderItem: this.renderItem,
                                emptyState: t,
                                selection: this.selection,
                                onCancel: e,
                                onSearch: this.handleSearch,
                                onSelect: this.handleSelect,
                                onRef: this._setRefEl,
                                searchPlaceholder: v.default.t(1586)
                            })
                        }
                    }]), r
                }(f.Component);
            t.default = x, x.defaultProps = {
                filter: function() {
                    return !0
                }
            }, x.displayName = "GroupsModal"
        },
        97437: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = (0, i.useRef)(-1),
                    a = (0, i.useRef)(!1),
                    n = function(e, n) {
                        (0, C.logSessionEvent)(e, t.current, n), a.current = !0
                    };
                (0, i.useEffect)((function() {
                    return t.current = performance.now(), o.default.loadAsset(I, o.LOAD_PRIORITY.HELP_ANIMATED_DOODLE),
                        function() {
                            a.current || n(x.default.CONTACT_US_EXIT_STATE.CANCELLED)
                        }
                }), []);
                var r, l = function() {
                        n(x.default.CONTACT_US_EXIT_STATE.PROBLEM_DESCRIPTION)
                    },
                    b = function(e) {
                        n(x.default.CONTACT_US_EXIT_STATE.EMAIL_SEND, e)
                    },
                    k = function() {};
                S.default.isElectron && (r = (0, j.jsx)(f.default, {
                    a8nText: "li-licenses",
                    onClick: function() {
                        s.default.openModal((0, j.jsx)(_.LicensesPopupLoadable, {
                            onOk: k
                        }))
                    },
                    children: g.default.t(1121)
                }));
                return (0, j.jsxs)(u.default, {
                    children: [(0, j.jsx)(p.default, {
                        a8n: "drawer-title-help",
                        title: g.default.t(1056),
                        onBack: e.onClose,
                        type: p.DRAWER_HEADER_TYPE.LARGE
                    }), (0, j.jsxs)(c.default, {
                        children: [(0, j.jsx)("div", {
                            className: m.default.animation
                        }), (0, j.jsx)(E.default, {
                            className: m.default.versionInfo
                        }), (0, j.jsx)(f.default, {
                            a8nText: "li-faq",
                            onClick: function() {
                                (0, h.openExternalLink)((0, v.getFaqUrl)()), n(x.default.CONTACT_US_EXIT_STATE.FAQ)
                            },
                            children: g.default.t(2196)
                        }), (0, j.jsx)(f.default, {
                            a8nText: "li-contact-us",
                            onClick: function() {
                                s.default.openModal((0, j.jsx)(d.default, {
                                    onCancel: l,
                                    onSend: b
                                }))
                            },
                            children: g.default.t(1636)
                        }), r, (0, j.jsx)(f.default, {
                            a8nText: "li-tos",
                            onClick: function() {
                                a.current = !0, (0, h.openExternalLink)((0, y.getTosUrl)())
                            },
                            children: g.default.t(1717)
                        }), undefined, undefined]
                    })]
                })
            };
            var i = a(67294),
                l = r(a(9349)),
                o = n(a(52423)),
                s = r(a(65901)),
                d = r(a(94779)),
                u = r(a(53187)),
                c = r(a(18345)),
                f = r(a(61876)),
                p = n(a(19288)),
                h = a(49012),
                v = a(29281),
                m = r(a(77798)),
                g = r(a(45159)),
                _ = a(3473),
                C = a(77839),
                x = r(a(50507)),
                y = a(98110),
                S = r(a(692)),
                E = r(a(68605)),
                j = a(85893),
                I = {
                    id: "animated-doodle",
                    selectors: [`.${m.default.animation}`],
                    low: {
                        default: l.default
                    },
                    high: {
                        default: l.default
                    }
                }
        },
        59574: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(a(34575)),
                l = r(a(93913)),
                o = r(a(2205)),
                s = r(a(99842)),
                d = a(84805),
                u = a(18077),
                c = r(a(96486)),
                f = a(67294),
                p = n(a(39205)),
                h = r(a(65901)),
                v = r(a(94253)),
                m = r(a(53187)),
                g = r(a(18345)),
                _ = n(a(19288)),
                C = a(75993),
                x = n(a(18286)),
                y = r(a(9445)),
                S = r(a(92919)),
                E = r(a(29832)),
                j = r(a(58342)),
                I = r(a(5282)),
                b = r(a(45159)),
                k = r(a(17094)),
                T = r(a(5202)),
                M = r(a(22395)),
                w = r(a(36450)),
                P = n(a(92428)),
                L = r(a(692)),
                O = a(52546),
                D = r(a(54270)),
                N = a(85893),
                R = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, s.default)(a);

                    function a(e) {
                        var n;
                        return (0, i.default)(this, a), (n = t.call(this, e)).setRefSearch = function(e) {
                            n.refSearch = e
                        }, n._setRefSearchHotkeys = function(e) {
                            n._refSearchHotkeys = e
                        }, n._setRefGallery = function(e) {
                            n._refGallery = e
                        }, n._search = function(e, t) {
                            n._hasPendingSearch = !1;
                            var a = p.search(e, t).cancellable().then((function(t) {
                                a === n._searchPromise && (n._addSearchResults(e, t), n.setState({
                                    isSearching: !1
                                }))
                            })).catch((0, d.catchAbort)((function() {}))).catch((function() {
                                __LOG__(3, !0)`Image search failed`, h.default.openToast((0, N.jsx)(P.default, {
                                    msg: b.default.t(1064),
                                    id: (0, P.genId)()
                                })), a === n._searchPromise && n.setState({
                                    isSearching: !1
                                })
                            })).finally((function() {
                                a === n._searchPromise && (n._searchPromise = null)
                            }));
                            n._searchPromise = a, n.setState({
                                isSearching: !0
                            })
                        }, n._handleUserInput = function(e) {
                            var t = (e || "").trim();
                            if (!t) return n._cancelSearch(), void n._resetState();
                            (0, O.numCodepoints)(t) < v.default.FTS_MIN_CHARS || t !== n.state.query && (n._cancelSearch(), n._resetState(), n._requestSearch(t))
                        }, n._handleRequestMoreImages = function() {
                            n._hasPendingSearch || n._searchPromise || !n.state.totalEstimatedMatches || n.state.nextOffset >= n.state.totalEstimatedMatches || n._requestSearch(n.state.query, n.state.nextOffset)
                        }, n._handleImageClick = function(e) {
                            var t = n.state.imageData[e];
                            if (t) {
                                var a = t.contentUrl;
                                (L.default.isElectron ? (0, M.default)((function() {
                                    return (0, y.default)(a)
                                })).then((function(e) {
                                    if (200 !== e.status) throw new x.ServerStatusError(null, a, e.status);
                                    return e.blob()
                                })) : D.default.downloadImage(a)).checkpoint(n.props.rejectOnUnmount()).then((function(e) {
                                    if (!(e instanceof Blob)) throw new x.ImageError("Server did not respond with image bytes", a);
                                    n.props.onImageSelected(e, t.hostPageUrl)
                                })).catch((0, u.filteredCatch)(x.Unmount, (function() {}))).catch((function() {
                                    __LOG__(3, !0)`Image search failed`, h.default.openToast((0, N.jsx)(P.default, {
                                        msg: b.default.t(1061),
                                        id: (0, P.genId)()
                                    }))
                                }))
                            }
                        }, n._focusSearch = function() {
                            S.default.shouldIndicateFocus(), E.default.focus(n.refSearch)
                        }, n._focusGallery = function(e) {
                            e.repeat || n._refGallery && n.refSearch && n.refSearch.cursorIsAtEnd() && (e.preventDefault(), e.stopPropagation(), S.default.shouldIndicateFocus(), null != n._refGallery && E.default.focus(n._refGallery))
                        }, n._handleSearchFocus = function() {
                            S.default.maybeIndicateFocus(n._refSearchHotkeys)
                        }, n.state = {
                            imageData: {},
                            isSearching: !1,
                            nextOffset: 0,
                            query: "",
                            thumbnails: [],
                            totalEstimatedMatches: 0
                        }, n._hasPendingSearch = !1, n._searchPromise = null, n._debouncedSearch = n.props.debounce(n._search, 750), n
                    }
                    return (0, l.default)(a, [{
                        key: "componentWillUnmount",
                        value: function() {
                            this._cancelSearch()
                        }
                    }, {
                        key: "_requestSearch",
                        value: function(e) {
                            var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
                            this._hasPendingSearch = !0, this._debouncedSearch(e, t)
                        }
                    }, {
                        key: "_cancelSearch",
                        value: function() {
                            this._hasPendingSearch && (this._debouncedSearch.cancel(), this._hasPendingSearch = !1), this._searchPromise && this._searchPromise.cancel()
                        }
                    }, {
                        key: "_resetState",
                        value: function() {
                            this.setState({
                                imageData: {},
                                isSearching: !1,
                                nextOffset: 0,
                                query: "",
                                thumbnails: [],
                                totalEstimatedMatches: 0
                            })
                        }
                    }, {
                        key: "_addSearchResults",
                        value: function(e, t) {
                            this.setState((function(a) {
                                var n = c.default.keyBy(t.value, (function(e) {
                                        return null == e ? void 0 : e.thumbnailUrl
                                    })),
                                    r = c.default.map(t.value, (function(e) {
                                        return {
                                            id: e.imageId,
                                            name: e.name,
                                            thumbUrl: e.thumbnailUrl
                                        }
                                    })),
                                    i = t.value.length,
                                    l = {};
                                return a.query === e ? (l.nextOffset = t.nextOffset ? t.nextOffset : a.nextOffset + i, l.thumbnails = c.default.concat(a.thumbnails, r), l.totalEstimatedMatches = t.totalEstimatedMatches, l.imageData = Object.assign(n, a.imageData)) : (l.imageData = n, l.nextOffset = t.nextOffset ? t.nextOffset : i, l.query = e, l.thumbnails = r, l.totalEstimatedMatches = t.totalEstimatedMatches), l
                            }))
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e, t = _.DRAWER_HEADER_TYPE.POPUP,
                                a = {
                                    down: this._focusGallery
                                };
                            return e = 0 === this.state.thumbnails.length ? this.state.isSearching ? (0, N.jsx)(C.SearchingImages, {}) : this.state.query ? (0, N.jsx)(C.ImageSearchEmpty, {}) : (0, N.jsx)(C.BeforeImageSearch, {}) : (0, N.jsx)(I.default, {
                                ref: this._setRefGallery,
                                canLoadMore: this.state.nextOffset < this.state.totalEstimatedMatches,
                                isLoadingMore: this.state.isSearching,
                                thumbnails: this.state.thumbnails,
                                onFocusPrev: this._focusSearch,
                                onImageClick: this._handleImageClick,
                                onRequestMoreImages: this._handleRequestMoreImages
                            }), (0, N.jsxs)(m.default, {
                                children: [(0, N.jsx)(_.default, {
                                    title: b.default.t(1068),
                                    type: t,
                                    onBack: this.props.onBack,
                                    onCancel: this.props.onCancel
                                }), (0, N.jsxs)(g.default, {
                                    children: [(0, N.jsx)(j.default, {
                                        onRef: this._setRefSearchHotkeys,
                                        handlers: a,
                                        onFocus: this._handleSearchFocus,
                                        children: (0, N.jsx)(k.default, {
                                            ref: this.setRefSearch,
                                            placeholder: b.default.t(1065),
                                            onSearch: this._handleUserInput,
                                            loading: this.state.isSearching
                                        })
                                    }), e]
                                })]
                            })
                        }
                    }]), a
                }(f.Component);
            R.displayName = "ImageSearchDrawer";
            var A = (0, w.default)((0, T.default)(R));
            t.default = A
        },
        51657: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function() {
                var e = (t = p.default.pttPlaybackSpeedEnabled ? m : [], [
                    [c.default.t(1318), l.default.TOGGLE_UNREAD],
                    [c.default.t(1369), l.default.TOGGLE_MUTE],
                    [c.default.t(1309), l.default.TOGGLE_ARCHIVE],
                    [c.default.t(1313), l.default.DELETE_OR_EXIT_CHAT],
                    [c.default.t(1372), l.default.TOGGLE_PIN],
                    [c.default.t(1340), l.default.SEARCH],
                    [c.default.t(1351), l.default.SEARCH_IN_CHAT],
                    [c.default.t(1370), l.default.OPEN_NEW_CHAT],
                    [c.default.t(1371), l.default.OPEN_NEW_GROUP],
                    [c.default.t(1373), l.default.OPEN_PROFILE]
                ].concat((0, i.default)(t), [
                    [c.default.t(1241), l.default.OPEN_SETTINGS],
                    [c.default.t(1101), l.default.OPEN_EMOJI_PANEL],
                    [c.default.t(1102), l.default.OPEN_GIF_PANEL],
                    [c.default.t(1103), l.default.OPEN_STICKER_PANEL]
                ])).map((function(e, t) {
                    var a = (0, r.default)(e, 3),
                        n = a[0],
                        i = a[1],
                        l = a[2],
                        o = void 0 === l || l,
                        s = (0, v.jsx)(d.default, {
                            action: i,
                            addModifiers: o
                        });
                    if (s) return (0, v.jsxs)("div", {
                        className: u.default.section,
                        children: [(0, v.jsx)("div", {
                            className: u.default.action,
                            title: n,
                            children: n
                        }), (0, v.jsx)("div", {
                            className: u.default.shortcut,
                            children: s
                        })]
                    }, t)
                }));
                var t;
                return (0, v.jsx)(s.default, {
                    onOK: function() {
                        o.default.closeModal()
                    },
                    okText: c.default.t(2125),
                    type: f.ModalTheme.Flex,
                    children: (0, v.jsxs)("div", {
                        className: u.default.container,
                        children: [(0, v.jsx)(h.TextSpan, {
                            theme: "popup-title",
                            children: c.default.t(1104)
                        }), (0, v.jsx)("div", {
                            className: u.default.list,
                            children: e
                        })]
                    })
                })
            };
            var r = n(a(63038)),
                i = n(a(319)),
                l = n(a(49305)),
                o = n(a(65901)),
                s = n(a(86777)),
                d = n(a(88175)),
                u = n(a(95694)),
                c = n(a(45159)),
                f = a(73454),
                p = n(a(43890)),
                h = a(22552),
                v = a(85893),
                m = [
                    [c.default.t(1076), l.default.INCREASE_PTT_SPEED, !1],
                    [c.default.t(750), l.default.DECREASE_PTT_SPEED, !1]
                ]
        },
        42217: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(a(34575)),
                l = r(a(93913)),
                o = r(a(2205)),
                s = r(a(99842)),
                d = r(a(59713)),
                u = r(a(63038)),
                c = r(a(94184)),
                f = a(67294),
                p = r(a(53187)),
                h = r(a(18345)),
                v = n(a(19288)),
                m = r(a(45159)),
                g = a(11887),
                _ = n(a(45042)),
                C = r(a(66995)),
                x = r(a(85651)),
                y = r(a(7665)),
                S = a(85893);

            function E(e) {
                var t, a = e.onUpdateColor,
                    n = e.labelId,
                    r = e.colorInt,
                    i = e.onBack,
                    l = (0, f.useState)(!1),
                    o = (0, u.default)(l, 2),
                    s = o[0],
                    p = o[1],
                    h = e.isSelected ? (0, S.jsx)(y.default, {
                        name: "checkmark-medium"
                    }) : null,
                    v = function() {
                        s || p(!0)
                    },
                    m = (0, c.default)(C.default.wallpaperColorCanvas, (t = {}, (0, d.default)(t, C.default.canvasHover, s), (0, d.default)(t, C.default.canvasActive, e.isSelected), t));
                return (0, S.jsx)("span", {
                    className: m,
                    style: {
                        backgroundColor: (0, g.intColorToHex)(e.colorInt)
                    },
                    onMouseOver: v,
                    onMouseEnter: v,
                    onMouseLeave: function() {
                        s && p(!1)
                    },
                    onClick: function() {
                        a({
                            id: n,
                            color: r
                        }, _.LABEL_PROPERTIES.COLOR), i()
                    },
                    children: h
                })
            }

            function j(e) {
                for (var t = e.currentColor, a = e.colors.map((function(a) {
                        return (0, S.jsx)(E, {
                            onUpdateColor: e.onUpdateColor,
                            colorInt: a,
                            onBack: e.onBack,
                            labelId: e.labelId,
                            isSelected: t === a
                        }, a)
                    })), n = 0; n < 2; n++) a.push((0, S.jsx)("div", {
                    className: C.default.wallpaperColorEmpty
                }, "emptyEl" + n));
                return a
            }
            var I = function(e) {
                (0, o.default)(a, e);
                var t = (0, s.default)(a);

                function a() {
                    var e;
                    return (0, i.default)(this, a), (e = t.call(this))._getColorPromise = null, e.state = {
                        colors: _.default.labelColorPalette && _.default.labelColorPalette.colors
                    }, e
                }
                return (0, l.default)(a, [{
                    key: "componentWillUnmount",
                    value: function() {
                        this._getColorPromise && this._getColorPromise.cancel()
                    }
                }, {
                    key: "render",
                    value: function() {
                        var e = this,
                            t = (0, S.jsx)(x.default, {
                                stroke: 6,
                                size: 24
                            });
                        return this.state.colors ? t = (0, S.jsx)(j, {
                            labelId: this.props.labelId,
                            onBack: this.props.onClose,
                            onUpdateColor: this.props.onUpdateColor,
                            colors: this.state.colors,
                            currentColor: this.props.currentColor
                        }) : (this._getColorPromise = _.default.getLabelColorPalette(), this._getColorPromise.cancellable().then((function(t) {
                            e.setState({
                                colors: t
                            })
                        }))), (0, S.jsxs)(p.default, {
                            children: [(0, S.jsx)(v.default, {
                                theme: this.state.colors ? void 0 : "center-content",
                                title: m.default.t(1107),
                                onBack: this.props.onClose,
                                type: v.DRAWER_HEADER_TYPE.LARGE
                            }), (0, S.jsx)(h.default, {
                                children: (0, S.jsx)("div", {
                                    className: C.default.container,
                                    children: t
                                })
                            })]
                        })
                    }
                }]), a
            }(f.Component);
            t.default = I, I.displayName = "LabelColorDrawer"
        },
        3174: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(a(34575)),
                l = r(a(93913)),
                o = r(a(2205)),
                s = r(a(99842)),
                d = a(67294),
                u = r(a(65901)),
                c = r(a(86777)),
                f = r(a(53187)),
                p = r(a(18345)),
                h = n(a(19288)),
                v = a(2629),
                m = r(a(45159)),
                g = r(a(35180)),
                _ = a(80549),
                C = r(a(63641)),
                x = r(a(50507)),
                y = r(a(13599)),
                S = r(a(18336)),
                E = r(a(73524)),
                j = r(a(80385)),
                I = r(a(7665)),
                b = a(85893),
                k = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, s.default)(a);

                    function a() {
                        var e;
                        return (0, i.default)(this, a), (e = t.call(this)).onMultiSelect = function() {
                            var t = e.multiSelection.getSelected().length;
                            e.setState({
                                selectedCount: t
                            })
                        }, e.shouldScrollIntoViewAndSelect = function() {
                            return {
                                shouldScrollIntoView: !0,
                                shouldSelect: !1
                            }
                        }, e.onDeleteLabel = function(t) {
                            u.default.closeModal(), e.multiSelection.unsetAll(), e.props.onDeleteLabel(t)
                        }, e._confirmDeleteSelectedLabels = function() {
                            var t = e.multiSelection.getSelected();
                            (0, _.logLabelOperationEvent)(x.default.LABEL_OPERATIONS.VIEW, t.length, x.default.LABEL_TARGETS.DELETE_LABEL_DIALOG), u.default.openModal((0, b.jsx)(c.default, {
                                okText: m.default.t(2266),
                                cancelText: m.default.t(2122),
                                onCancel: function() {
                                    (0, _.logLabelOperationEvent)(x.default.LABEL_OPERATIONS.CLICK_NEGATIVE, 1, x.default.LABEL_TARGETS.DELETE_LABEL_DIALOG), u.default.closeModal()
                                },
                                onOK: function() {
                                    (0, _.logLabelOperationEvent)(x.default.LABEL_OPERATIONS.CLICK_POSITIVE, 1, x.default.LABEL_TARGETS.DELETE_LABEL_DIALOG), e.onDeleteLabel(t)
                                },
                                children: m.default.t(763, {
                                    _plural: t.length
                                })
                            }))
                        }, e.onCancelSelection = function() {
                            e.multiSelection.unsetAll(), e.setState({
                                selectedCount: 0
                            })
                        }, e.multiSelection = new E.default([], (function(e) {
                            return e.id
                        })), e.state = {
                            selectedCount: 0
                        }, e
                    }
                    return (0, l.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            (0, _.logLabelOperationEvent)(x.default.LABEL_OPERATIONS.VIEW, void 0, x.default.LABEL_TARGETS.LABELS_SCREEN)
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e = null;
                            e = this.state.selectedCount > 0 ? (0, b.jsx)(y.default, {
                                selectedModels: this.multiSelection,
                                onCancel: this.onCancelSelection,
                                onDelete: this._confirmDeleteSelectedLabels,
                                theme: "drawer-header"
                            }) : (0, b.jsx)(h.default, {
                                title: m.default.t(1118),
                                onBack: this.props.onClose,
                                type: h.DRAWER_HEADER_TYPE.LARGE
                            });
                            var t = (0, v.canEditLabel)() && (0, b.jsx)("div", {
                                className: g.default.addLabelBtContainer,
                                children: (0, b.jsx)(j.default, {
                                    large: !0,
                                    onClick: this.props.openAddLabel,
                                    children: (0, b.jsx)(I.default, {
                                        name: "plus-large"
                                    })
                                })
                            });
                            return (0, b.jsxs)(f.default, {
                                theme: "settings",
                                children: [e, (0, b.jsx)(p.default, {
                                    children: (0, b.jsx)(S.default, {
                                        shouldScrollIntoViewAndSelect: this.shouldScrollIntoViewAndSelect,
                                        selectedLabels: this.multiSelection,
                                        renderContext: "label-list",
                                        onMultiSelect: this.onMultiSelect,
                                        onLabelClick: this.props.onLabelClick
                                    })
                                }), t]
                            })
                        }
                    }]), a
                }(d.PureComponent);
            k.displayName = "LabelDrawer";
            var T = (0, C.default)(k);
            t.default = T
        },
        57285: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            t.Z = function(e) {
                var t = e.labelId,
                    a = e.openLabelColorDrawer,
                    n = e.onEditLabel,
                    r = e.onRemoveLabel,
                    f = (0, b.default)(),
                    p = (0, k.default)((function() {
                        return new E.default([], (function(e) {
                            return e.id.toString()
                        }))
                    })).current;
                (0, T.useListener)(p, "all", (function() {
                    return f()
                })), (0, i.useEffect)((function() {
                    (0, g.logLabelOperationEvent)(x.default.LABEL_OPERATIONS.VIEW, void 0, x.default.LABEL_TARGETS.LABEL_DETAILS_SCREEN)
                }), []);
                var h = function() {
                        p.unsetAll()
                    },
                    C = function() {
                        var e = p.getSelected();
                        (0, g.logLabelOperationEvent)(x.default.LABEL_OPERATIONS.CLICK_NEGATIVE, e.length, x.default.LABEL_TARGETS.BULK_UNLABEL_DIALOG), o.default.closeModal()
                    },
                    I = function(e) {
                        for (var t, a, n = 0; n < e.length; n++) {
                            if (e[n] instanceof S.default ? a = !0 : t = !0, t && a) return !0
                        }
                        return !1
                    }(p.getSelected()),
                    P = p.getSelected().length > 0 ? (0, M.jsx)(y.default, {
                        labelEditEnabled: !I,
                        onRemoveLabel: function() {
                            var e = p.getSelected();
                            if (r) {
                                var a = m.default.assertGet(t);
                                (0, g.logLabelOperationEvent)(x.default.LABEL_OPERATIONS.VIEW, e.length, x.default.LABEL_TARGETS.BULK_UNLABEL_DIALOG), o.default.openModal((0, M.jsx)(s.default, {
                                    title: v.default.t(1532, {
                                        count: e.length,
                                        labelName: a.name,
                                        _plural: e.length
                                    }),
                                    okText: v.default.t(2125),
                                    cancelText: v.default.t(1938),
                                    onCancel: C,
                                    onOK: function() {
                                        return function(e, t) {
                                            o.default.closeModal(), h(), r(e, t), (0, g.logLabelOperationEvent)(x.default.LABEL_OPERATIONS.CLICK_POSITIVE, t.length, x.default.LABEL_TARGETS.BULK_UNLABEL_DIALOG)
                                        }(t, e)
                                    }
                                }))
                            }
                        },
                        selectedModels: p,
                        onCancel: h,
                        theme: "drawer-header"
                    }) : (0, M.jsx)(c.default, {
                        onBack: e.onClose,
                        menu: (0, M.jsx)(w, {
                            openColorPicker: function() {
                                var e = m.default.assertGet(t);
                                a(t, e.color)
                            },
                            openEditLabel: function() {
                                n && n(t)
                            }
                        }),
                        type: c.DRAWER_HEADER_TYPE.LABELS,
                        children: (0, M.jsx)(_.default, {
                            labels: [e.labelId],
                            renderAsCircle: !0,
                            showName: !0,
                            theme: "drawer-title"
                        })
                    });
                return (0, M.jsxs)(d.default, {
                    theme: "settings",
                    children: [P, (0, M.jsx)(u.default, {
                        children: (0, M.jsx)(l.default, {
                            hideMultiSelectBar: !0,
                            multiSelection: p,
                            labelFilter: e.labelId,
                            settings: j.default,
                            selectable: !0
                        })
                    })]
                })
            };
            var i = a(67294),
                l = r(a(62058)),
                o = r(a(65901)),
                s = r(a(86777)),
                d = r(a(53187)),
                u = r(a(18345)),
                c = n(a(19288)),
                f = n(a(98169)),
                p = r(a(94680)),
                h = a(2629),
                v = r(a(45159)),
                m = r(a(45042)),
                g = a(80549),
                _ = r(a(90600)),
                C = a(91823),
                x = r(a(50507)),
                y = r(a(13599)),
                S = r(a(82380)),
                E = r(a(73524)),
                j = r(a(43463)),
                I = r(a(7665)),
                b = r(a(57811)),
                k = r(a(39394)),
                T = a(8413),
                M = a(85893);

            function w(e) {
                var t = e.openColorPicker,
                    a = e.openEditLabel;
                return (0, h.canEditLabel)() ? (0, M.jsx)(C.MenuBarItem, {
                    a8nText: "starred-menu",
                    icon: (0, M.jsx)(I.default, {
                        name: "menu"
                    }),
                    title: v.default.t(1246),
                    children: (0, M.jsxs)(f.default, {
                        type: "dropdown_menu",
                        flipOnRTL: !0,
                        dirX: f.DirX.LEFT,
                        children: [(0, M.jsx)(p.default, {
                            a8n: "menu-item",
                            action: t,
                            children: v.default.t(1107)
                        }), (0, M.jsx)(p.default, {
                            a8n: "menu-item",
                            action: a,
                            children: v.default.t(812)
                        })]
                    }, "labelChooseColor")
                }) : null
            }
        },
        46039: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(a(34575)),
                i = n(a(93913)),
                l = n(a(2205)),
                o = n(a(99842)),
                s = a(67294),
                d = n(a(65901)),
                u = n(a(86777)),
                c = n(a(45159)),
                f = n(a(64791)),
                p = a(73454),
                h = n(a(85651)),
                v = a(22552),
                m = a(85893),
                g = function(e) {
                    (0, l.default)(n, e);
                    var t = (0, o.default)(n);

                    function n() {
                        var e;
                        (0, r.default)(this, n);
                        for (var a = arguments.length, i = new Array(a), l = 0; l < a; l++) i[l] = arguments[l];
                        return (e = t.call.apply(t, [this].concat(i))).state = {
                            licensesText: void 0
                        }, e.onOk = function() {
                            e.props.onOk && e.props.onOk(), d.default.closeModal()
                        }, e
                    }
                    return (0, i.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this;
                            a.e(9223).then(a.bind(a, 88221)).catch((function() {
                                return null
                            })).then((function(t) {
                                e.setState({
                                    licensesText: null == t ? void 0 : t.default
                                })
                            }))
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e, t;
                            return this.state.licensesText || (e = (0, m.jsx)("div", {
                                className: f.default.spinner,
                                children: (0, m.jsx)(h.default, {
                                    size: 50,
                                    stroke: 4
                                })
                            }, "spinner")), this.state.licensesText && (t = (0, m.jsx)("div", {
                                className: f.default.textContainer,
                                children: this.state.licensesText
                            })), (0, m.jsx)(u.default, {
                                okText: c.default.t(2125),
                                onOK: this.onOk,
                                type: p.ModalTheme.Flex,
                                children: (0, m.jsxs)("div", {
                                    className: f.default.container,
                                    children: [(0, m.jsx)(v.TextSpan, {
                                        theme: "popup-title",
                                        children: c.default.t(1121)
                                    }), t, e]
                                })
                            })
                        }
                    }]), n
                }(s.Component);
            t.default = g, g.displayName = "LicensesPopup"
        },
        42154: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = t.ID_SEPARATOR = void 0;
            var r = n(a(319)),
                i = n(a(34575)),
                l = n(a(93913)),
                o = n(a(92810)),
                s = a(10532);
            t.ID_SEPARATOR = ",";
            var d = function() {
                function e() {
                    var t = this;
                    (0, i.default)(this, e), this.participants = new o.default;
                    for (var a = arguments.length, n = new Array(a), r = 0; r < a; r++) n[r] = arguments[r];
                    n.forEach((function(e) {
                        return t.add(e)
                    }))
                }
                return (0, l.default)(e, [{
                    key: "add",
                    value: function(e) {
                        this.participants.add(e)
                    }
                }, {
                    key: "hasSingleParticipant",
                    value: function() {
                        return 1 === this.length
                    }
                }, {
                    key: "fits",
                    value: function(e, t, a) {
                        var n = this.center,
                            r = n.lat,
                            i = n.lng,
                            l = e.lat,
                            o = e.lng,
                            d = (0, s.getMetersBetweenLatLngs)(r, i, r, o),
                            u = (0, s.getMetersBetweenLatLngs)(r, i, l, i),
                            c = (0, s.getMetersPerPixel)(r, t);
                        return d / c <= a && u / c <= a
                    }
                }, {
                    key: "id",
                    get: function() {
                        return this.participants.map((function(e) {
                            return e.id.toString()
                        })).join(",")
                    }
                }, {
                    key: "center",
                    get: function() {
                        var e = this.participants.map((function(e) {
                                return e.lat
                            })),
                            t = this.participants.map((function(e) {
                                return e.lng
                            }));
                        return {
                            lat: (Math.min.apply(Math, (0, r.default)(e)) + Math.max.apply(Math, (0, r.default)(e))) / 2,
                            lng: (Math.min.apply(Math, (0, r.default)(t)) + Math.max.apply(Math, (0, r.default)(t))) / 2
                        }
                    }
                }, {
                    key: "lat",
                    get: function() {
                        return this.center.lat
                    }
                }, {
                    key: "lng",
                    get: function() {
                        return this.center.lng
                    }
                }, {
                    key: "length",
                    get: function() {
                        return this.participants.length
                    }
                }, {
                    key: "northeast",
                    get: function() {
                        var e = this.participants.map((function(e) {
                                return e.lat
                            })),
                            t = this.participants.map((function(e) {
                                return e.lng
                            }));
                        return {
                            lat: Math.max.apply(Math, (0, r.default)(e)),
                            lng: Math.max.apply(Math, (0, r.default)(t))
                        }
                    }
                }, {
                    key: "southwest",
                    get: function() {
                        var e = this.participants.map((function(e) {
                                return e.lat
                            })),
                            t = this.participants.map((function(e) {
                                return e.lng
                            }));
                        return {
                            lat: Math.min.apply(Math, (0, r.default)(e)),
                            lng: Math.min.apply(Math, (0, r.default)(t))
                        }
                    }
                }]), e
            }();
            t.default = d
        },
        45080: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.onParticipantSelected,
                    a = e.participants,
                    n = (0, h.default)((function() {
                        return new d.default
                    }));
                return (0, v.jsxs)("div", {
                    className: r.default.container,
                    children: [(0, v.jsxs)("div", {
                        className: r.default.header,
                        children: [(0, v.jsx)("div", {
                            className: r.default.left,
                            children: (0, v.jsx)("span", {
                                className: r.default.close,
                                onClick: e.onClearSelected,
                                children: (0, v.jsx)(f.default, {
                                    name: "x"
                                })
                            })
                        }), (0, v.jsx)("div", {
                            className: r.default.right,
                            children: u.default.t(1127, {
                                count: e.participants.length,
                                _plural: e.participants.length
                            })
                        })]
                    }), (0, v.jsx)(s.default, {
                        className: r.default.list,
                        flatListControllers: [n.current],
                        children: (0, v.jsx)(o.default, {
                            data: a.map((function(e) {
                                return {
                                    itemKey: e.id.toString(),
                                    participant: e
                                }
                            })),
                            flatListController: n.current,
                            direction: "vertical",
                            defaultItemHeight: 48,
                            renderItem: function(e) {
                                var a = e.participant,
                                    n = a.isMe ? (0, v.jsx)("div", {
                                        className: r.default.time,
                                        children: (0, v.jsx)(l.default, {
                                            reason: "live-location-time",
                                            children: (0, v.jsx)(p.default, {
                                                participant: a
                                            })
                                        })
                                    }) : null;
                                return (0, v.jsxs)("div", {
                                    className: r.default.item,
                                    onClick: function() {
                                        return t(a.contact.id.toString())
                                    },
                                    children: [(0, v.jsx)("div", {
                                        className: r.default.left,
                                        children: (0, v.jsx)(i.default, {
                                            id: a.contact.id,
                                            size: 28
                                        })
                                    }), (0, v.jsxs)("div", {
                                        className: r.default.right,
                                        children: [(0, v.jsx)("div", {
                                            className: r.default.name,
                                            children: (0, v.jsx)(c.default, {
                                                contact: a.contact,
                                                titlify: !0,
                                                ellipsify: !0,
                                                you: !0
                                            })
                                        }), n]
                                    })]
                                })
                            }
                        })
                    })]
                })
            };
            var r = n(a(50521)),
                i = n(a(66834)),
                l = n(a(67049)),
                o = n(a(73568)),
                s = n(a(23803)),
                d = n(a(92546)),
                u = n(a(45159)),
                c = n(a(1191)),
                f = n(a(7665)),
                p = n(a(60880)),
                h = n(a(39394)),
                v = a(85893)
        },
        93139: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e, t, a, n) {
                var r = new Map;
                if (!e.length) return r;
                for (var o = e.filter((function(e) {
                        return e !== a
                    })).sort((function(e, t) {
                        return e.lat - t.lat
                    })), s = function(e) {
                        var a = o[e],
                            s = void 0;
                        if (r.forEach((function(e) {
                                !s && e.fits(a, t, n) && (s = e)
                            })), s) {
                            var d = s,
                                u = s.id;
                            r.delete(u), d.add(a)
                        } else s = new l.default(a);
                        r.set((0, i.default)(s, "clusterToAdd").id, (0, i.default)(s, "clusterToAdd"))
                    }, d = 0; d < o.length; d++) s(d);
                if (a && e.length !== o.length) {
                    var u = new l.default(a);
                    r.set(u.id, u)
                }
                return r
            }, t.participantInCluster = function(e, t) {
                return e.split(l.ID_SEPARATOR).includes(t.toString())
            }, t.singleParticipantClusterId = function(e) {
                return !e.includes(l.ID_SEPARATOR)
            }, t.findClusterForParticipant = function(e, t) {
                var a, n = e.values();
                for (;
                    (a = n.next()) && !a.done;) {
                    var r = a.value;
                    if (r.participants.get(t)) return r
                }
                return null
            };
            var i = r(a(48842)),
                l = n(a(42154))
        },
        28871: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.getSmallestElapsedTime = i, t.isStale = function(e) {
                return i(e) >= 600
            }, t.MARKER_SIZE = t.AVATAR_SIZE = t.PIN_SIZE = t.GLOW_SIZE = t.IMAGE_BORDER_SIZE = t.IMAGE_SIZE = t.STALE_THRESHOLD = void 0;
            var r = n(a(319));
            t.STALE_THRESHOLD = 600;
            t.IMAGE_SIZE = 40;
            t.IMAGE_BORDER_SIZE = 2;
            t.GLOW_SIZE = 4;
            t.PIN_SIZE = 4;
            t.AVATAR_SIZE = 44;

            function i(e) {
                var t = e.participants.map((function(e) {
                    return e.elapsedTime()
                }));
                return Math.min.apply(Math, (0, r.default)(t))
            }
            t.MARKER_SIZE = 52
        },
        70533: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(a(34575)),
                l = r(a(93913)),
                o = r(a(2205)),
                s = r(a(99842)),
                d = a(67294),
                u = r(a(10399)),
                c = r(a(53187)),
                f = r(a(18345)),
                p = n(a(19288)),
                h = r(a(2424)),
                v = r(a(94692)),
                m = r(a(45159)),
                g = r(a(63641)),
                _ = r(a(68660)),
                C = a(95313),
                x = r(a(33416)),
                y = r(a(77804)),
                S = r(a(61897)),
                E = r(a(7665)),
                j = a(85893),
                I = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, s.default)(a);

                    function a(e) {
                        var n;
                        return (0, i.default)(this, a), (n = t.call(this, e)).onClose = function() {
                            n.props.onClose ? n.props.onClose() : n.props.uim.uie.requestDismiss()
                        }, n.onRoadmapSelected = function() {
                            n.setState({
                                mapType: C.MapType.ROADMAP
                            })
                        }, n.onSatelliteSelected = function() {
                            n.setState({
                                mapType: C.MapType.SATELLITE
                            })
                        }, n.onTerrainSelected = function() {
                            n.setState({
                                mapType: C.MapType.TERRAIN
                            })
                        }, n.onTrafficToggled = function() {
                            n.setState((function(e) {
                                return {
                                    showTraffic: !e.showTraffic
                                }
                            }))
                        }, n.onMarkerSelected = function(e) {
                            n.setState({
                                markerSelected: e
                            })
                        }, n.state = {
                            mapType: C.MapType.ROADMAP,
                            showTraffic: !1,
                            markerSelected: !1,
                            online: y.default.online
                        }, n
                    }
                    return (0, l.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this;
                            this.props.listeners.add(y.default, "change:online", (function() {
                                e.setState({
                                    online: y.default.online
                                })
                            }))
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e, t, a, n, r = (0, j.jsx)(x.default, {
                                    onRoadmapSelected: this.onRoadmapSelected,
                                    onSatelliteSelected: this.onSatelliteSelected,
                                    onTerrainSelected: this.onTerrainSelected,
                                    onTrafficToggled: this.onTrafficToggled,
                                    showTraffic: this.state.showTraffic
                                }),
                                i = this.props.msg,
                                l = i.finalLat,
                                o = i.finalLng,
                                s = i.finalTimeOffset,
                                d = i.lat,
                                h = i.lng,
                                g = i.senderObj,
                                C = i.t,
                                y = this.state,
                                S = y.mapType,
                                I = y.showTraffic,
                                b = y.markerSelected;
                            return void 0 === l || void 0 === o || void 0 === s ? (e = d, t = h, a = C) : (e = l, t = o, a = C + s), n = y.online ? (0, j.jsxs)("div", {
                                className: v.default.wrapper,
                                children: [(0, j.jsx)(_.default, {
                                    contact: g,
                                    lat: e,
                                    lng: t,
                                    mapType: S,
                                    showTraffic: I,
                                    markerSelected: b,
                                    onMarkerSelected: this.onMarkerSelected
                                }), (0, j.jsxs)("div", {
                                    className: v.default.notification,
                                    children: [(0, j.jsx)("div", {
                                        className: v.default.ended,
                                        children: m.default.t(1128)
                                    }), (0, j.jsx)("div", {
                                        className: v.default.lastUpdated,
                                        children: u.default.liveLocationLastUpdatedStr(a)
                                    })]
                                })]
                            }) : (0, j.jsx)("div", {
                                className: v.default.offline,
                                children: (0, j.jsxs)("div", {
                                    children: [(0, j.jsx)("div", {
                                        className: v.default.circle,
                                        children: (0, j.jsx)(E.default, {
                                            name: "live-location-disconnected"
                                        })
                                    }), (0, j.jsx)("div", {
                                        className: v.default.text,
                                        children: m.default.t(1176)
                                    })]
                                })
                            }), (0, j.jsxs)(c.default, {
                                children: [(0, j.jsx)(p.default, {
                                    title: m.default.t(1129),
                                    type: p.DRAWER_HEADER_TYPE.SMALL,
                                    menu: r,
                                    onCancel: this.onClose
                                }), (0, j.jsx)(f.default, {
                                    children: n
                                })]
                            })
                        }
                    }]), a
                }(d.PureComponent);
            I.CONCERNS = {
                msg: ["finalLat", "finalLng", "finalTimeOffset", "lat", "lng", "senderObj", "t"]
            }, I.displayName = "ExpiredLocationDrawer";
            var b = (0, h.default)((0, g.default)((0, S.default)(I, I.CONCERNS)));
            t.default = b
        },
        68660: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(a(34575)),
                i = n(a(93913)),
                l = n(a(2205)),
                o = n(a(99842)),
                s = a(90076),
                d = a(67294),
                u = a(43990),
                c = a(95313),
                f = n(a(53575)),
                p = a(85893),
                h = function(e) {
                    (0, l.default)(a, e);
                    var t = (0, o.default)(a);

                    function a(e) {
                        var n;
                        return (0, r.default)(this, a), (n = t.call(this, e)).setMap = function(e) {
                            return n.map = e
                        }, n.mapOnClick = function() {
                            n.dismissMarkerTimer.debounceAndCap(50, 100)
                        }, n.markerOnClick = function() {
                            n.dismissMarkerTimer.isScheduled() && n.dismissMarkerTimer.cancel(), n.props.onMarkerSelected(!0)
                        }, n.getPixelPositionOffset = function(e, t) {
                            return {
                                x: -e / 2,
                                y: -t
                            }
                        }, n.dismissMarkerTimer = new s.ShiftTimer((function() {
                            n.props.markerSelected && n.props.onMarkerSelected(!1)
                        })), n
                    }
                    return (0, i.default)(a, [{
                        key: "componentWillUnmount",
                        value: function() {
                            this.dismissMarkerTimer.isScheduled() && this.dismissMarkerTimer.cancel()
                        }
                    }, {
                        key: "getMapPaneName",
                        value: function() {
                            return u.OverlayView.OVERLAY_MOUSE_TARGET
                        }
                    }, {
                        key: "getMarkers",
                        value: function() {
                            var e = this,
                                t = this.props,
                                a = t.lat,
                                n = t.lng,
                                r = t.contact,
                                i = t.markerSelected;
                            return (0, p.jsx)(f.default, {
                                marker: {
                                    isLive: !1,
                                    contact: r,
                                    lat: a,
                                    lng: n,
                                    selected: i,
                                    onClick: function(t) {
                                        return e.markerOnClick(t)
                                    }
                                }
                            })
                        }
                    }, {
                        key: "getTrafficLayer",
                        value: function() {
                            return this.props.showTraffic ? (0, p.jsx)(u.TrafficLayer, {
                                autoRefresh: !0
                            }) : null
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e = this.props,
                                t = e.lat,
                                a = e.lng;
                            return (0, p.jsxs)(u.GoogleMap, {
                                ref: this.setMap,
                                defaultCenter: {
                                    lat: t,
                                    lng: a
                                },
                                defaultOptions: this.props.getMapOptions(),
                                defaultZoom: c.INITIAL_ZOOM,
                                mapTypeId: this.props.mapType,
                                onClick: this.mapOnClick,
                                children: [this.getMarkers(), this.getTrafficLayer()]
                            })
                        }
                    }]), a
                }(d.Component);
            h.displayName = "ExpiredLocationMap";
            var v = (0, c.withConfig)((0, u.withScriptjs)((0, u.withGoogleMap)(h)));
            t.default = v
        },
        17174: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(a(59713)),
                l = r(a(34575)),
                o = r(a(93913)),
                s = r(a(2205)),
                d = r(a(99842)),
                u = r(a(94184)),
                c = r(a(96486)),
                f = a(67294),
                p = r(a(45080)),
                h = n(a(93139)),
                v = r(a(65901)),
                m = a(28871),
                g = r(a(53187)),
                _ = r(a(18345)),
                C = n(a(19288)),
                x = r(a(2424)),
                y = r(a(26658)),
                S = r(a(45159)),
                E = r(a(63641)),
                j = r(a(16284)),
                I = r(a(76142)),
                b = a(95313),
                k = r(a(33416)),
                T = r(a(77804)),
                M = r(a(47211)),
                w = r(a(70099)),
                P = r(a(61897)),
                L = a(68220),
                O = r(a(7665)),
                D = r(a(36450)),
                N = n(a(92428)),
                R = r(a(78208)),
                A = a(8297),
                F = a(85893),
                B = ["click", "mousedown", "mousemove", "scroll"],
                U = "ACTIVE",
                G = "INACTIVE",
                H = "OFFLINE",
                V = function(e) {
                    (0, s.default)(a, e);
                    var t = (0, d.default)(a);

                    function a(e) {
                        var n;
                        return (0, l.default)(this, a), (n = t.call(this, e))._onParticipantAdd = function() {
                            var e = n.state,
                                t = e.zoomLevel,
                                a = e.selectedParticipantId;
                            n._updateMinZoomClusters(), n.setState({
                                clusters: n._getClusters(t, a)
                            })
                        }, n.onParticipantRemove = function(e) {
                            var t = n.state,
                                a = t.selectedClusterId,
                                r = t.selectedParticipantId,
                                i = t.zoomLevel;
                            n._updateMinZoomClusters();
                            var l = a,
                                o = r;
                            a && (0, h.participantInCluster)(a, e.id) && (l = null), R.default.equals(r, e.id) && (o = null), n.setState({
                                selectedClusterId: l,
                                selectedParticipantId: o,
                                clusters: n._getClusters(i, o)
                            })
                        }, n._onParticipantDisable = function(e) {
                            if (!e.isMe) {
                                var t = e.contact.formattedName;
                                v.default.openToast((0, F.jsx)(N.default, {
                                    msg: S.default.t(1153, {
                                        name: t
                                    }),
                                    id: (0, N.genId)()
                                }))
                            }
                        }, n.onLocationChanged = function() {
                            var e = n.state,
                                t = e.zoomLevel,
                                a = e.selectedParticipantId;
                            n._updateMinZoomClusters(), n.setState({
                                clusters: n._getClusters(t, a)
                            })
                        }, n.onIdle = function() {
                            var e = n.props.chat.liveLocation;
                            e && (e.stopViewingMap(), n.setState({
                                status: G
                            }))
                        }, n.onActivity = c.default.throttle((function() {
                            n._removeIdleTimeout(), n._addIdleTimeout()
                        }), 250), n._onRefresh = function() {
                            var e = n.props.chat.liveLocation;
                            e && (e.startViewingMap(), n.setState({
                                status: U
                            }))
                        }, n.onClose = function() {
                            n.props.onClose ? n.props.onClose() : n.props.uim.uie.requestDismiss()
                        }, n.onMarkerSelected = function(e) {
                            e ? (0, h.singleParticipantClusterId)(e) ? n.onParticipantSelected(e) : n._onClusterSelected(e) : n.onClearSelected()
                        }, n.onClearSelected = function() {
                            var e = n.state,
                                t = e.selectedParticipantId,
                                a = e.selectedClusterId,
                                r = e.zoomLevel;
                            (t || a) && n.setState({
                                selectedParticipantId: null,
                                selectedClusterId: null,
                                clusters: n._getClusters(r)
                            })
                        }, n._onClusterSelected = function(e) {
                            n.state.selectedClusterId !== e && n.setState({
                                selectedParticipantId: null,
                                selectedClusterId: e
                            })
                        }, n.onParticipantSelected = function(e) {
                            var t = n.state,
                                a = t.selectedParticipantId,
                                r = t.zoomLevel,
                                i = (0, A.createWid)(e);
                            R.default.equals(a, i) || n.setState({
                                selectedParticipantId: i,
                                selectedClusterId: null,
                                clusters: n._getClusters(r, i)
                            })
                        }, n.onStopSharing = function(e) {
                            e.preventDefault(), e.stopPropagation();
                            var t = n.props.chat;
                            v.default.openModal((0, F.jsx)(j.default, {
                                chat: t
                            }))
                        }, n.onRoadmapSelected = function() {
                            n.setState({
                                mapType: b.MapType.ROADMAP
                            })
                        }, n.onSatelliteSelected = function() {
                            n.setState({
                                mapType: b.MapType.SATELLITE
                            })
                        }, n.onTerrainSelected = function() {
                            n.setState({
                                mapType: b.MapType.TERRAIN
                            })
                        }, n.onTrafficToggled = function() {
                            n.setState((function(e) {
                                return {
                                    showTraffic: !e.showTraffic
                                }
                            }))
                        }, n._onBackToCenter = function() {
                            n.setState({
                                selectedParticipantId: null,
                                selectedClusterId: null,
                                atCenter: !0,
                                clusters: n._getClusters(n.state.zoomLevel)
                            })
                        }, n.onMapMoved = function(e, t) {
                            n.setState((function(a) {
                                var r = {};
                                if (a.zoomLevel !== e) {
                                    var i = n._getClusters(e, a.selectedParticipantId);
                                    Object.assign(r, {
                                        zoomLevel: e,
                                        clusters: i
                                    })
                                }
                                return n._hasValidParticipants() && a.atCenter !== t && Object.assign(r, {
                                    atCenter: t
                                }), c.default.isEmpty(r) ? null : r
                            }))
                        }, n._updateMinZoomClusters(), n.state = {
                            clusters: n._getClusters(b.INITIAL_ZOOM),
                            selectedClusterId: null,
                            selectedParticipantId: null,
                            mapType: b.MapType.ROADMAP,
                            showTraffic: !1,
                            zoomLevel: b.INITIAL_ZOOM,
                            atCenter: !0,
                            status: T.default.online ? U : H
                        }, n
                    }
                    return (0, o.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            this._listenToModelChange(), this._listenToNetworkChange(), this._startCheckingForIdle();
                            var e = this.props.chat.liveLocation;
                            e && (e.startViewingMap(), this._addParticipantListeners(e))
                        }
                    }, {
                        key: "componentWillUnmount",
                        value: function() {
                            this.onActivity.cancel();
                            var e = this.props.chat.liveLocation;
                            e && e.stopViewingMap()
                        }
                    }, {
                        key: "_addParticipantListeners",
                        value: function(e) {
                            this.props.listeners.add(e.participants, "add", this._onParticipantAdd), this.props.listeners.add(e.participants, "remove", this.onParticipantRemove), this.props.listeners.add(e.participants, "change:disabled", this._onParticipantDisable), this.props.listeners.add(e.participants, "change:valid", this.onLocationChanged)
                        }
                    }, {
                        key: "_removeParticipantListeners",
                        value: function(e) {
                            this.props.listeners.remove(e.participants, "add", this._onParticipantAdd), this.props.listeners.remove(e.participants, "remove", this.onParticipantRemove), this.props.listeners.remove(e.participants, "change:disabled", this._onParticipantDisable), this.props.listeners.remove(e.participants, "change:valid", this.onLocationChanged)
                        }
                    }, {
                        key: "_listenToModelChange",
                        value: function() {
                            var e = this,
                                t = this.props.chat;
                            this.props.listeners.add((0, L.unproxy)(t), "change:liveLocation", (function() {
                                var a = t.liveLocation;
                                a && (e._removeParticipantListeners(a), e._addParticipantListeners(a));
                                var n = e.state.zoomLevel;
                                e.setState({
                                    clusters: e._getClusters(n)
                                })
                            }))
                        }
                    }, {
                        key: "_listenToNetworkChange",
                        value: function() {
                            var e = this;
                            this.props.listeners.add(T.default, "change:online", (function() {
                                T.default.online || e._stopCheckingForIdle(), e.setState({
                                    status: T.default.online ? U : H
                                })
                            }))
                        }
                    }, {
                        key: "_startCheckingForIdle",
                        value: function() {
                            this._addIdleTimeout(), this._addActivityListeners()
                        }
                    }, {
                        key: "_stopCheckingForIdle",
                        value: function() {
                            this._removeIdleTimeout(), this._removeActivityListeners()
                        }
                    }, {
                        key: "_addIdleTimeout",
                        value: function() {
                            this._idleTimeoutId = this.props.setTimeout(this.onIdle, 18e4)
                        }
                    }, {
                        key: "_removeIdleTimeout",
                        value: function() {
                            null != this._idleTimeoutId && this.props.clearTimeout(this._idleTimeoutId), this._idleTimeoutId = null
                        }
                    }, {
                        key: "_addActivityListeners",
                        value: function() {
                            var e = this;
                            B.forEach((function(t) {
                                e.props.listeners.add(document, t, e.onActivity)
                            }))
                        }
                    }, {
                        key: "_removeActivityListeners",
                        value: function() {
                            var e = this;
                            B.forEach((function(t) {
                                e.props.listeners.remove(document, t, e.onActivity)
                            }))
                        }
                    }, {
                        key: "_updateMinZoomClusters",
                        value: function() {
                            var e = this.getParticipants(),
                                t = e ? e.validLocations() : [];
                            this._minZoomClusters = (0, h.default)(t, b.MIN_ZOOM, null, m.MARKER_SIZE)
                        }
                    }, {
                        key: "getParticipants",
                        value: function() {
                            var e = this.props.chat.liveLocation;
                            return e ? e.participants : null
                        }
                    }, {
                        key: "_hasValidParticipants",
                        value: function() {
                            var e = this.getParticipants();
                            return !!e && !!e.validLocations().length
                        }
                    }, {
                        key: "_getOpenFromCluster",
                        value: function() {
                            var e = this.getParticipants();
                            if (!e || 0 === e.length) return null;
                            var t = this.props.openFrom,
                                a = null;
                            if (t) a = t;
                            else {
                                var n = e.at(0);
                                n && (a = n.id)
                            }
                            return a ? (0, h.findClusterForParticipant)(this._minZoomClusters, a) : null
                        }
                    }, {
                        key: "_getClusters",
                        value: function(e, t) {
                            var a = this.getParticipants(),
                                n = null,
                                r = [];
                            a && (t && (n = a.get(t)), r = a.validLocations());
                            var i = r,
                                l = [];
                            if (this._minZoomClusters.size > 1) {
                                var o = this._getOpenFromCluster();
                                if (o) {
                                    var s = o.participants;
                                    i = s.validLocations(), l = r.filter((function(e) {
                                        var t = e.id;
                                        return !s.get(t)
                                    }))
                                }
                            }
                            return {
                                primary: (0, h.default)(i, e, n, m.MARKER_SIZE),
                                secondary: (0, h.default)(l, e, n, m.MARKER_SIZE)
                            }
                        }
                    }, {
                        key: "_getList",
                        value: function() {
                            var e, t = this.state,
                                a = t.clusters,
                                n = t.selectedClusterId,
                                r = this.getParticipants();
                            if (r && r.length) {
                                if (n) {
                                    var i = a.primary.get(n) || a.secondary.get(n);
                                    if (i) {
                                        var l = i.participants;
                                        e = (0, F.jsx)(p.default, {
                                            participants: l,
                                            onParticipantSelected: this.onParticipantSelected,
                                            onClearSelected: this.onClearSelected
                                        })
                                    }
                                }
                                e || (e = (0, F.jsx)(M.default, {
                                    participants: r,
                                    onParticipantSelected: this.onParticipantSelected,
                                    onStopSharing: this.onStopSharing
                                }))
                            }
                            return e
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e, t;
                            this.props.isFirstLevel ? e = this.onClose : t = this.onClose;
                            var a, n, r = this.state,
                                l = r.selectedParticipantId,
                                o = r.selectedClusterId,
                                s = r.mapType,
                                d = r.showTraffic,
                                c = r.atCenter,
                                f = r.status,
                                p = f === U ? (0, F.jsx)(k.default, {
                                    onRoadmapSelected: this.onRoadmapSelected,
                                    onSatelliteSelected: this.onSatelliteSelected,
                                    onTerrainSelected: this.onTerrainSelected,
                                    onTrafficToggled: this.onTrafficToggled,
                                    showTraffic: d
                                }) : null;
                            if (f === U || f === G) {
                                var h = l && l.toString() || o;
                                a = (0, F.jsxs)("div", {
                                    className: y.default.wrapper,
                                    children: [(0, F.jsx)("div", {
                                        className: (0, u.default)(y.default.backToCenter, (0, i.default)({}, y.default.visible, !c)),
                                        onClick: this._onBackToCenter,
                                        children: (0, F.jsx)(O.default, {
                                            name: "return"
                                        })
                                    }), (0, F.jsx)(I.default, {
                                        clusters: this.state.clusters.primary,
                                        secondaryClusters: this.state.clusters.secondary,
                                        selectedMarkerId: h,
                                        openFrom: this.props.openFrom,
                                        mapType: s,
                                        showTraffic: d,
                                        atCenter: c,
                                        onMarkerSelected: this.onMarkerSelected,
                                        onClearSelected: this.onClearSelected,
                                        onLocationChanged: this.onLocationChanged,
                                        onMapMoved: this.onMapMoved
                                    }), this._getList()]
                                })
                            }
                            if (f === G || f === H) {
                                var v = f === G,
                                    m = v ? "live-location-refresh" : "live-location-disconnected",
                                    x = v ? S.default.t(1141) : S.default.t(1176);
                                n = (0, F.jsx)(w.default, {
                                    inactive: v,
                                    svgName: m,
                                    text: x,
                                    onClick: v ? this._onRefresh : void 0
                                })
                            }
                            return (0, F.jsxs)(g.default, {
                                children: [(0, F.jsx)(C.default, {
                                    title: S.default.t(1154),
                                    type: C.DRAWER_HEADER_TYPE.SMALL,
                                    menu: p,
                                    onBack: t,
                                    onCancel: e
                                }), (0, F.jsxs)(_.default, {
                                    children: [a, n]
                                })]
                            })
                        }
                    }]), a
                }(f.PureComponent);
            V.CONCERNS = {
                chat: ["id", "liveLocation"]
            }, V.displayName = "LiveLocationDrawer";
            var W = (0, x.default)((0, D.default)((0, E.default)((0, P.default)(V, V.CONCERNS))));
            t.default = W
        },
        76142: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(a(63038)),
                i = n(a(34575)),
                l = n(a(93913)),
                o = n(a(2205)),
                s = n(a(99842)),
                d = a(90076),
                u = n(a(96486)),
                c = a(67294),
                f = a(43990),
                p = a(95313),
                h = n(a(53575)),
                v = a(10532),
                m = a(85893),
                g = 1e-4,
                _ = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, s.default)(a);

                    function a(e) {
                        var n;
                        return (0, i.default)(this, a), (n = t.call(this, e)).setMap = function(e) {
                            return n.map = e
                        }, n.handleLocationChanged = function(e) {
                            var t = n.props,
                                a = t.clusters,
                                r = t.atCenter,
                                i = t.selectedMarkerId;
                            if (n.props.onLocationChanged(), !i && r) n._viewAllClusters();
                            else if (i && i === e) {
                                var l = a.get(i);
                                l && n._viewSingleCluster(l)
                            }
                        }, n.handleIdle = u.default.debounce((function() {
                            var e = n.map;
                            if (e) {
                                var t = e.getZoom();
                                if (n._zoomingToAllClusters) {
                                    n._defaultZoomLevel = t, n._zoomingToAllClusters = !1;
                                    var a = n._zoomHistory;
                                    if (a.prev.preZoom === a.curr.postZoom && a.prev.postZoom === a.curr.preZoom) return
                                }
                                n.props.onMapMoved(t, n.atCenter())
                            }
                        }), 100), n.handleDragStart = function() {
                            var e = n.map;
                            if (e) {
                                var t = e.getZoom();
                                n.props.onMapMoved(t, !1)
                            }
                        }, n.handleResize = u.default.debounce((function() {
                            n._setMapLatLngDiff()
                        }), 250), n.mapOnClick = function() {
                            n.dismissMarkerTimer.debounceAndCap(50, 100)
                        }, n.markerOnClick = function(e, t) {
                            n.dismissMarkerTimer.isScheduled() && n.dismissMarkerTimer.cancel(), n.props.onMarkerSelected(t)
                        }, n.dismissMarkerTimer = new d.ShiftTimer((function() {
                            n.props.selectedMarkerId && n.props.onClearSelected()
                        })), n._defaultLatDiff = n._defaultLngDiff = .01, n._defaultZoomLevel = -1, n._zoomingToAllClusters = !1, n._zoomHistory = {
                            prev: {
                                preZoom: -1,
                                postZoom: -1
                            },
                            curr: {
                                preZoom: -1,
                                postZoom: -1
                            }
                        }, n
                    }
                    return (0, l.default)(a, [{
                        key: "componentWillUnmount",
                        value: function() {
                            this.handleIdle.cancel(), this.handleResize.cancel(), window.removeEventListener("resize", this.handleResize), this.dismissMarkerTimer.isScheduled() && this.dismissMarkerTimer.cancel()
                        }
                    }, {
                        key: "componentDidMount",
                        value: function() {
                            window.addEventListener("resize", this.handleResize), this._setMapLatLngDiff(), this._viewAllClusters()
                        }
                    }, {
                        key: "componentDidUpdate",
                        value: function(e) {
                            var t = this.props,
                                a = t.clusters,
                                n = t.secondaryClusters,
                                r = t.selectedMarkerId,
                                i = t.atCenter,
                                l = e.selectedMarkerId;
                            if (this._setMapLatLngDiff(), a.size && (!l || r || i))
                                if (r && l !== r) {
                                    var o = a.get(r) || n.get(r);
                                    o && this._viewSingleCluster(o)
                                } else !r && i && this._viewAllClusters()
                        }
                    }, {
                        key: "_viewAllClusters",
                        value: function() {
                            var e = this.props.clusters;
                            0 === e.size || this.atCenter() || (this._zoomToFitAllClusters(e), this._centerAllClusters(e))
                        }
                    }, {
                        key: "_viewSingleCluster",
                        value: function(e) {
                            this._zoomToFitSingleCluster(e), this._centerSingleCluster(e)
                        }
                    }, {
                        key: "_zoomToFitAllClusters",
                        value: function(e) {
                            var t = this.map;
                            if (t) {
                                this._zoomingToAllClusters = !0, this._zoomHistory.prev.preZoom = this._zoomHistory.curr.preZoom, this._zoomHistory.curr.preZoom = t.getZoom();
                                var a = this.getBounds(e),
                                    n = e.entries().next();
                                if (1 !== e.size || n.done) this._boundsTooSmall(a) ? t.fitBounds(this._getDefaultBounds(a.getCenter())) : t.fitBounds(a);
                                else {
                                    var i = (0, r.default)(n.value, 2)[1];
                                    this._zoomToFitSingleCluster(i, !1)
                                }
                                this._zoomHistory.prev.postZoom = this._zoomHistory.curr.postZoom, this._zoomHistory.curr.postZoom = t.getZoom()
                            }
                        }
                    }, {
                        key: "_zoomToFitSingleCluster",
                        value: function(e) {
                            var t = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1],
                                a = this.map;
                            if (a && (!t || !this._boundsTooSmall(a.getBounds()))) {
                                var n = e.northeast,
                                    r = e.southwest,
                                    i = new google.maps.LatLng(n.lat, n.lng),
                                    l = new google.maps.LatLng(r.lat, r.lng),
                                    o = new google.maps.LatLngBounds(l, i);
                                this._boundsTooSmall(o) ? a.fitBounds(this._getDefaultBounds(o.getCenter())) : a.fitBounds(o)
                            }
                        }
                    }, {
                        key: "_centerAllClusters",
                        value: function(e) {
                            var t = this.getBounds(e).getCenter();
                            this._centerMap(t)
                        }
                    }, {
                        key: "_centerSingleCluster",
                        value: function(e) {
                            var t = new google.maps.LatLng(e.center);
                            this._centerMap(t)
                        }
                    }, {
                        key: "_centerMap",
                        value: function(e) {
                            var t = this.map;
                            t && (t.getCenter().equals(e) || t.panTo(e))
                        }
                    }, {
                        key: "_getInitialCenter",
                        value: function() {
                            return this.getBounds(this.props.clusters).getCenter()
                        }
                    }, {
                        key: "getBounds",
                        value: function(e) {
                            var t = new google.maps.LatLngBounds;
                            return e.forEach((function(e) {
                                t.extend({
                                    lat: e.lat,
                                    lng: e.lng
                                })
                            })), t
                        }
                    }, {
                        key: "_boundsTooSmall",
                        value: function(e) {
                            var t = e.getNorthEast(),
                                a = e.getSouthWest(),
                                n = t.lat() - a.lat(),
                                r = t.lng() - a.lng(),
                                i = Math.abs(n) < this._defaultLatDiff,
                                l = Math.abs(r) < this._defaultLngDiff;
                            return i || l
                        }
                    }, {
                        key: "_getDefaultBounds",
                        value: function(e) {
                            var t = new google.maps.LatLng(e.lat() - this._defaultLatDiff / 2, e.lng() - this._defaultLngDiff / 2),
                                a = new google.maps.LatLng(e.lat() + this._defaultLatDiff / 2, e.lng() + this._defaultLngDiff / 2);
                            return new google.maps.LatLngBounds(t, a)
                        }
                    }, {
                        key: "atCenter",
                        value: function() {
                            var e = this.map;
                            if (!e) return !0;
                            var t = e.getCenter(),
                                a = this._getInitialCenter(),
                                n = t.lat() - a.lat(),
                                r = t.lng() - a.lng();
                            return Math.abs(n) < g && Math.abs(r) < g && this._defaultZoomLevel === e.getZoom()
                        }
                    }, {
                        key: "_setMapLatLngDiff",
                        value: function() {
                            var e = this.map;
                            if (e) {
                                var t = e.getCenter(),
                                    a = e.getDiv(),
                                    n = (0, v.getMetersPerPixel)(t.lat(), p.INITIAL_ZOOM),
                                    r = a.offsetWidth * n,
                                    i = a.offsetHeight * n;
                                this._defaultLatDiff = (0, v.getLatDiff)(i), this._defaultLngDiff = (0, v.getLngDiff)(r, t.lat())
                            }
                        }
                    }, {
                        key: "getMarkers",
                        value: function() {
                            var e = this,
                                t = this.props,
                                a = t.clusters,
                                n = t.secondaryClusters,
                                r = t.selectedMarkerId,
                                i = [],
                                l = function(t, a) {
                                    i.push((0, m.jsx)(h.default, {
                                        marker: {
                                            isLive: !0,
                                            cluster: t,
                                            onLocationChanged: function() {
                                                return e.handleLocationChanged(a)
                                            },
                                            selected: r === a,
                                            onClick: function(t) {
                                                return e.markerOnClick(t, a)
                                            }
                                        }
                                    }, a))
                                };
                            return a.forEach(l), n.forEach(l), i
                        }
                    }, {
                        key: "getTrafficLayer",
                        value: function() {
                            return this.props.showTraffic ? (0, m.jsx)(f.TrafficLayer, {
                                autoRefresh: !0
                            }) : null
                        }
                    }, {
                        key: "render",
                        value: function() {
                            return (0, m.jsxs)(f.GoogleMap, {
                                ref: this.setMap,
                                defaultCenter: this._getInitialCenter(),
                                defaultOptions: this.props.getMapOptions(),
                                defaultZoom: p.INITIAL_ZOOM,
                                mapTypeId: this.props.mapType,
                                onClick: this.mapOnClick,
                                onDragStart: this.handleDragStart,
                                onIdle: this.handleIdle,
                                children: [this.getMarkers(), this.getTrafficLayer()]
                            })
                        }
                    }]), a
                }(c.Component);
            _.displayName = "LiveLocationMap";
            var C = (0, p.withConfig)((0, f.withScriptjs)((0, f.withGoogleMap)(_)));
            t.default = C
        },
        95313: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.withConfig = function(e) {
                return function(t) {
                    (0, o.default)(n, t);
                    var a = (0, s.default)(n);

                    function n() {
                        var e;
                        (0, i.default)(this, n);
                        for (var t = arguments.length, r = new Array(t), l = 0; l < t; l++) r[l] = arguments[l];
                        return (e = a.call.apply(a, [this].concat(r))).state = {
                            authFailed: !0 === window.gm_authFailed
                        }, e._onAuthFailed = function() {
                            window.gm_authFailed = !0, e.setState({
                                authFailed: !0
                            });
                            var t = e._getUrl();
                            __LOG__(4, void 0, new Error, !0)`url: ${t}\ntarget: ${"electron-renderer"}`, SEND_LOGS("google-map-auth-failed")
                        }, e
                    }
                    return (0, l.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            window.gm_authFailure = this._onAuthFailed
                        }
                    }, {
                        key: "componentWillUnmount",
                        value: function() {
                            window.gm_authFailure = void 0
                        }
                    }, {
                        key: "_getUrl",
                        value: function() {
                            var e = {
                                client: "gme-whatsappinc",
                                v: "3",
                                libraries: "geometry,drawing,places",
                                t: Math.floor(Date.now() / 864e5)
                            };
                            return p.default.build("https://maps.googleapis.com/maps/api/js", e)
                        }
                    }, {
                        key: "getMapOptions",
                        value: function() {
                            return {
                                clickableIcons: !1,
                                fullscreenControl: !1,
                                keyboardShortcuts: !1,
                                mapTypeControl: !1,
                                minZoom: 3,
                                streetViewControl: !1,
                                zoomControl: !0,
                                zoomControlOptions: {
                                    position: google.maps.ControlPosition.TOP_RIGHT
                                }
                            }
                        }
                    }, {
                        key: "render",
                        value: function() {
                            if (this.state.authFailed) return (0, h.jsx)("div", {
                                className: c.default.authFailed,
                                children: u.default.t(963)
                            });
                            var t = this._getUrl(),
                                a = (0, h.jsx)("div", {
                                    className: c.default.loading,
                                    children: (0, h.jsx)(f.default, {
                                        color: "highlight"
                                    })
                                }),
                                n = (0, h.jsx)("div", {
                                    className: c.default.container
                                }),
                                i = (0, h.jsx)("div", {
                                    className: c.default.map
                                });
                            return (0, h.jsx)(e, (0, r.default)({
                                googleMapURL: t,
                                loadingElement: a,
                                containerElement: n,
                                mapElement: i,
                                getMapOptions: this.getMapOptions
                            }, this.props))
                        }
                    }]), n
                }(d.Component)
            }, t.MIN_ZOOM = t.INITIAL_ZOOM = t.MapType = void 0;
            var r = n(a(81109)),
                i = n(a(34575)),
                l = n(a(93913)),
                o = n(a(2205)),
                s = n(a(99842)),
                d = a(67294),
                u = n(a(45159)),
                c = n(a(89332)),
                f = n(a(85651)),
                p = n(a(29034)),
                h = a(85893),
                v = a(54302)({
                    ROADMAP: "roadmap",
                    SATELLITE: "satellite",
                    TERRAIN: "terrain"
                });
            t.MapType = v;
            t.INITIAL_ZOOM = 15;
            t.MIN_ZOOM = 3
        },
        53575: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(a(59713)),
                i = n(a(34575)),
                l = n(a(93913)),
                o = n(a(2205)),
                s = n(a(99842)),
                d = n(a(94184)),
                u = a(67294),
                c = a(43990),
                f = n(a(99633)),
                p = a(28871),
                h = n(a(63641)),
                v = n(a(92018)),
                m = n(a(2377)),
                g = n(a(36450)),
                _ = n(a(88566)),
                C = a(85893),
                x = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, s.default)(a);

                    function a(e) {
                        var n;
                        return (0, i.default)(this, a), (n = t.call(this, e))._setOverlay = function(e) {
                            n.overlay = e
                        }, n.handleLocationChanged = function() {
                            n.props.marker.isLive && n.props.marker.onLocationChanged()
                        }, n._handleLastUpdatedTimeChanged = function() {
                            if (n.props.marker.isLive) {
                                null != n.timeoutId && (n.props.clearTimeout(n.timeoutId), n.timeoutId = null);
                                var e = (0, p.isStale)(n.props.marker.cluster);
                                n.state.stale !== e && n.setState({
                                    stale: e
                                }), e || n._setStaleTimeout()
                            }
                        }, n._getPixelPositionOffset = function(e, t) {
                            return {
                                x: -e / 2,
                                y: -t
                            }
                        }, n.state = {
                            stale: !e.marker.isLive || (0, p.isStale)(e.marker.cluster)
                        }, n
                    }
                    return (0, l.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this;
                            if (this.props.marker.isLive) {
                                var t = this.props.marker.cluster;
                                (0, p.isStale)(t) || this._setStaleTimeout(), t.participants.forEach((function(t) {
                                    e.props.listeners.add(t, "change:lat change:lng", e.handleLocationChanged), e.props.listeners.add(t, "change:lastUpdated", e._handleLastUpdatedTimeChanged)
                                }))
                            }
                        }
                    }, {
                        key: "_setStaleTimeout",
                        value: function() {
                            var e = this;
                            if (this.props.marker.isLive) {
                                var t = this.props.marker.cluster,
                                    a = p.STALE_THRESHOLD - (0, p.getSmallestElapsedTime)(t);
                                a <= 0 || (this.timeoutId = this.props.setTimeout((function() {
                                    return e.setState({
                                        stale: !0
                                    })
                                }), 1e3 * a))
                            }
                        }
                    }, {
                        key: "_getMapPaneName",
                        value: function() {
                            return this.props.marker.onClick ? c.OverlayView.OVERLAY_MOUSE_TARGET : c.OverlayView.OVERLAY_LAYER
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e, t, a, n, i, l = this.props.marker,
                                o = l.onClick,
                                s = l.selected,
                                u = this.state.stale;
                            if (this.props.marker.isLive) {
                                var h = this.props.marker.cluster;
                                t = h.lat, a = h.lng, n = h.participants.map((function(e) {
                                    return e.id
                                }))
                            } else t = this.props.marker.lat, a = this.props.marker.lng, n = [this.props.marker.contact.id];
                            if (s) {
                                var g, x, y;
                                if (this.props.marker.isLive) {
                                    var S = this.props.marker.cluster,
                                        E = S.participants,
                                        j = S.hasSingleParticipant() ? E.at(0) : null;
                                    j && (g = j.id, x = j.accuracy, y = j.isMe)
                                } else {
                                    var I = this.props.marker.contact;
                                    g = I.id, y = I.isMe
                                }
                                g && (i = (0, C.jsx)(m.default, {
                                    id: g,
                                    lat: t,
                                    lng: a,
                                    accuracy: x,
                                    isMe: y || !1,
                                    markerSize: p.MARKER_SIZE
                                }))
                            }
                            return (0, C.jsx)(c.OverlayView, {
                                ref: this._setOverlay,
                                position: {
                                    lat: t,
                                    lng: a
                                },
                                mapPaneName: this._getMapPaneName(),
                                getPixelPositionOffset: this._getPixelPositionOffset,
                                children: (0, C.jsx)(_.default.Provider, {
                                    value: this.context,
                                    children: (0, C.jsxs)("div", {
                                        className: (0, d.default)(v.default.container, (0, r.default)({}, v.default.selected, s)),
                                        onClick: o,
                                        children: [i, (0, C.jsx)("div", {
                                            className: (0, d.default)(v.default.glow, (e = {}, (0, r.default)(e, v.default.stale, u), (0, r.default)(e, v.default.expired, !this.props.marker.isLive), e)),
                                            style: {
                                                height: p.AVATAR_SIZE,
                                                width: p.AVATAR_SIZE,
                                                padding: p.GLOW_SIZE
                                            },
                                            children: (0, C.jsx)("div", {
                                                children: (0, C.jsx)(f.default, {
                                                    ids: n,
                                                    size: p.IMAGE_SIZE,
                                                    border: !0,
                                                    showCount: !0
                                                })
                                            })
                                        }), (0, C.jsx)("div", {
                                            className: (0, d.default)(v.default.pin, (0, r.default)({}, v.default.selected, s)),
                                            style: {
                                                height: p.PIN_SIZE,
                                                width: p.PIN_SIZE,
                                                marginLeft: (p.MARKER_SIZE - p.PIN_SIZE) / 2
                                            }
                                        })]
                                    })
                                })
                            })
                        }
                    }]), a
                }(u.Component);
            x.contextType = _.default, x.displayName = "LiveLocationMarker";
            var y = (0, g.default)((0, h.default)(x));
            t.default = y
        },
        33416: (e, t, a) => {
            "use strict";
            var n = a(95318),
                r = a(20862);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                return (0, u.jsx)(s.MenuBarItem, {
                    a8nText: "live-location-map-menu",
                    icon: (0, u.jsx)(d.default, {
                        name: "menu"
                    }),
                    title: o.default.t(1246),
                    children: (0, u.jsxs)(i.default, {
                        type: "dropdown_menu",
                        flipOnRTL: !0,
                        dirX: i.DirX.LEFT,
                        dirY: i.DirY.BOTTOM,
                        children: [(0, u.jsx)(l.default, {
                            a8n: "mi-roadmap-view menu-item",
                            action: e.onRoadmapSelected,
                            children: o.default.t(1135)
                        }), (0, u.jsx)(l.default, {
                            a8n: "mi-satellite-view menu-item",
                            action: e.onSatelliteSelected,
                            children: o.default.t(1136)
                        }), (0, u.jsx)(l.default, {
                            a8n: "mi-terrain-view menu-item",
                            action: e.onTerrainSelected,
                            children: o.default.t(1137)
                        }), (0, u.jsx)(l.default, {
                            a8n: "mi-traffic menu-item",
                            action: e.onTrafficToggled,
                            children: e.showTraffic ? o.default.t(1138) : o.default.t(1139)
                        })]
                    })
                })
            };
            var i = r(a(98169)),
                l = n(a(94680)),
                o = n(a(45159)),
                s = a(91823),
                d = n(a(7665)),
                u = a(85893)
        },
        47211: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(a(34575)),
                i = n(a(93913)),
                l = n(a(2205)),
                o = n(a(99842)),
                s = a(67294),
                d = n(a(65002)),
                u = n(a(67049)),
                c = n(a(73568)),
                f = n(a(23803)),
                p = n(a(92546)),
                h = n(a(45159)),
                v = n(a(6304)),
                m = n(a(60880)),
                g = a(85893),
                _ = function(e) {
                    (0, l.default)(a, e);
                    var t = (0, o.default)(a);

                    function a() {
                        var e;
                        (0, r.default)(this, a);
                        for (var n = arguments.length, i = new Array(n), l = 0; l < n; l++) i[l] = arguments[l];
                        return (e = t.call.apply(t, [this].concat(i))).flatListController = new p.default, e.renderListItem = function(t) {
                            var a = t.participant,
                                n = a.valid ? (0, g.jsx)(u.default, {
                                    reason: "live-location-time",
                                    children: (0, g.jsx)(m.default, {
                                        participant: a
                                    })
                                }) : h.default.t(1162),
                                r = a.valid ? function() {
                                    return e.props.onParticipantSelected(a.contact.id.toString())
                                } : null,
                                i = a.isMe ? (0, g.jsx)("div", {
                                    onClick: e.props.onStopSharing,
                                    className: v.default.stopSharingButton,
                                    children: h.default.t(1152)
                                }) : null;
                            return (0, g.jsx)(d.default, {
                                contact: a.contact,
                                secondary: n,
                                onClick: r,
                                detail: i
                            })
                        }, e
                    }
                    return (0, i.default)(a, [{
                        key: "getListData",
                        value: function() {
                            return this.props.participants.map((function(e) {
                                return {
                                    itemKey: e.id.toString(),
                                    contentKey: e.valid ? "valid" : "invalid",
                                    participant: e
                                }
                            }))
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e = this.getListData();
                            return (0, g.jsx)(f.default, {
                                className: v.default.list,
                                flatListControllers: [this.flatListController],
                                children: (0, g.jsx)(c.default, {
                                    data: e,
                                    renderItem: this.renderListItem,
                                    flatListController: this.flatListController,
                                    direction: "vertical"
                                })
                            })
                        }
                    }]), a
                }(s.Component);
            _.displayName = "LiveLocationParticipants";
            var C = _;
            t.default = C
        },
        2377: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(a(59713)),
                i = n(a(34575)),
                l = n(a(93913)),
                o = n(a(2205)),
                s = n(a(99842)),
                d = n(a(94184)),
                u = a(67294),
                c = n(a(65901)),
                f = n(a(67771)),
                p = n(a(20050)),
                h = n(a(94680)),
                v = a(49012),
                m = a(68985),
                g = n(a(45159)),
                _ = a(46061),
                C = n(a(1191)),
                x = n(a(22828)),
                y = n(a(7665)),
                S = n(a(16835)),
                E = n(a(93820)),
                j = a(85893),
                I = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, s.default)(a);

                    function a(e) {
                        var n;
                        return (0, i.default)(this, a), (n = t.call(this, e)).mouseEnter = function() {
                            n.state.hover || n.setState({
                                hover: !0
                            })
                        }, n.mouseLeave = function() {
                            n.state.hover && n.setState({
                                hover: !1
                            })
                        }, n._handleDirection = function() {
                            var e = n.props,
                                t = e.lat,
                                a = e.lng;
                            (0, v.openExternalLink)((0, _.getDirectionUrl)(t, a))
                        }, n.handleMessage = function() {
                            var e = n.props.id;
                            (0, m.findChat)(e).then((function(e) {
                                e.active && c.default.existsDrawerRight((function(e) {
                                    e && 2 === f.default.column && c.default.closeDrawerRight()
                                })), c.default.openChatFromUnread(e).then((function(t) {
                                    t && c.default.focusChatTextInput(e)
                                }))
                            }))
                        }, n._handleContextOpen = function(e) {
                            var t = e && e.target;
                            n.setState({
                                contextMenu: {
                                    menu: n._getContextMenu(),
                                    anchor: t
                                }
                            })
                        }, n.handleContextClose = function() {
                            n.setState({
                                contextMenu: !1
                            })
                        }, n.state = {
                            hover: !1,
                            contextMenu: !1
                        }, n
                    }
                    return (0, l.default)(a, [{
                        key: "_getContextMenu",
                        value: function() {
                            var e = [];
                            return e.push((0, j.jsx)(h.default, {
                                a8n: "get-directions",
                                action: this._handleDirection,
                                children: g.default.t(930)
                            }, "direction")), e.push((0, j.jsx)(h.default, {
                                a8n: "send-message",
                                action: this.handleMessage,
                                children: g.default.t(1247)
                            }, "message")), e
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e = this.props,
                                t = e.id,
                                a = e.accuracy,
                                n = e.isMe,
                                i = e.markerSize,
                                l = p.default.assertGet(t),
                                o = (0, j.jsx)("div", {
                                    className: x.default.name,
                                    children: (0, j.jsx)(C.default, {
                                        ellipsify: !0,
                                        you: !0,
                                        contact: l
                                    })
                                }),
                                s = null != a ? (0, j.jsx)("div", {
                                    className: x.default.status,
                                    children: g.default.t(1126, {
                                        accuracy: a,
                                        _plural: a
                                    })
                                }) : null,
                                u = n ? null : (0, j.jsx)("div", {
                                    onClick: this._handleContextOpen,
                                    className: x.default.menuButton,
                                    children: (0, j.jsx)(y.default, {
                                        name: "down"
                                    })
                                }),
                                c = (0, j.jsx)("div", {
                                    className: x.default.triangle
                                }),
                                f = !n && this.state.contextMenu ? (0, j.jsx)(S.default, {
                                    displayName: "LiveLocationPopupContextMenu",
                                    escapable: !0,
                                    popable: !0,
                                    requestDismiss: this.handleContextClose,
                                    children: (0, j.jsx)(E.default, {
                                        contextMenu: this.state.contextMenu
                                    })
                                }) : null;
                            return (0, j.jsxs)("div", {
                                className: (0, d.default)(x.default.container, (0, r.default)({}, x.default.twoLines, !!s)),
                                style: {
                                    transform: `translateX(calc(-50% + ${i/2}px))`
                                },
                                children: [(0, j.jsxs)("div", {
                                    className: x.default.popup,
                                    onMouseOver: this.mouseEnter,
                                    onMouseEnter: this.mouseEnter,
                                    onMouseDown: this.mouseLeave,
                                    onMouseUp: this.mouseEnter,
                                    onMouseLeave: this.mouseLeave,
                                    children: [o, s, u]
                                }), c, f]
                            })
                        }
                    }]), a
                }(u.Component);
            t.default = I, I.displayName = "LiveLocationPopup"
        },
        70099: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                return (0, l.jsx)("div", {
                    className: e.inactive ? r.default.inactive : r.default.offline,
                    onClick: e.onClick,
                    children: (0, l.jsxs)("div", {
                        children: [(0, l.jsx)("div", {
                            className: r.default.circle,
                            children: (0, l.jsx)(i.default, {
                                name: e.svgName
                            })
                        }), (0, l.jsx)("div", {
                            className: r.default.text,
                            children: e.text
                        })]
                    })
                })
            };
            var r = n(a(26658)),
                i = n(a(7665)),
                l = a(85893)
        },
        60880: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(a(63038)),
                i = a(67294),
                l = n(a(45159)),
                o = n(a(12149)),
                s = a(8413),
                d = a(59388),
                u = a(85893),
                c = function(e) {
                    var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
                        a = e;
                    t && (a += 59);
                    var n = 3600,
                        r = Math.floor(a / n),
                        i = a % n,
                        l = Math.floor(i / 60);
                    return {
                        hours: r,
                        minutes: l
                    }
                },
                f = function(e) {
                    var t, a, n, r;
                    return e.isMe ? (t = e.remainingTime(), a = c(t, !0), n = a.hours, r = a.minutes, n > 0 ? r > 0 ? l.default.t(1143, {
                        hours: n,
                        minutes: r
                    }) : l.default.t(1142, {
                        hours: n,
                        _plural: n
                    }) : l.default.t(1144, {
                        minutes: r,
                        _plural: r
                    })) : function(e) {
                        var t = c(e),
                            a = t.hours,
                            n = t.minutes;
                        return a > 0 ? n > 0 ? l.default.t(1156, {
                            hours: a,
                            minutes: n
                        }) : l.default.t(1155, {
                            hours: a,
                            _plural: a
                        }) : n > 0 ? l.default.t(1158, {
                            minutes: n,
                            _plural: n
                        }) : l.default.t(1157)
                    }(e.elapsedTime())
                },
                p = function(e) {
                    var t = e.participant,
                        a = (0, i.useState)((function() {
                            return f(t)
                        })),
                        n = (0, r.default)(a, 2),
                        l = n[0],
                        c = n[1];
                    (0, s.useListener)(t, t.isMe ? "change:expiration" : "change:lastUpdated", (function(e) {
                        return c(f(e))
                    }));
                    var p = (0, o.default)((function() {
                            return c(f(t))
                        }), 6e4),
                        h = (0, r.default)(p, 2),
                        v = h[0],
                        m = h[1],
                        g = (0, d.useManualTimeout)((function() {
                            c(f(t)), v()
                        })),
                        _ = (0, r.default)(g, 1)[0],
                        C = t.expiration,
                        x = t.lastUpdated;
                    return (0, i.useEffect)((function() {
                        var e = function(e) {
                            return e.isMe ? e.remainingTime() : e.elapsedTime()
                        }(t) % 60;
                        m(), _(1e3 * e)
                    }), [C, x]), (0, u.jsx)("span", {
                        children: l
                    })
                };
            t.default = p
        },
        10532: (e, t) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.getMetersBetweenLatLngs = function(e, t, r, i) {
                var l = n(r - e),
                    o = n(i - t),
                    s = Math.sin(l / 2) * Math.sin(l / 2) + Math.cos(n(e)) * Math.cos(n(r)) * Math.sin(o / 2) * Math.sin(o / 2),
                    d = 2 * Math.atan2(Math.sqrt(s), Math.sqrt(1 - s));
                return a * d
            }, t.getMetersPerPixel = function(e, t) {
                var a = Math.cos(e * Math.PI / 180),
                    n = 1 / Math.pow(2, t);
                return 156543.03392 * a * n
            }, t.getLatDiff = function(e) {
                return r(e / a)
            }, t.getLngDiff = function(e, t) {
                var i = a * Math.cos(n(t));
                return r(e / i)
            };
            var a = 6371e3;

            function n(e) {
                return e * (Math.PI / 180)
            }

            function r(e) {
                return e * (180 / Math.PI)
            }
        },
        4611: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.modelsToUpdate,
                    a = e.onLabelUpdateComplete,
                    n = (0, E.default)((function() {
                        return new C.default([], (function(e) {
                            return e.id
                        }))
                    })),
                    r = (0, l.useRef)(new Set),
                    T = n.current,
                    M = r.current,
                    w = (0, S.default)(),
                    P = (0, l.useMemo)((function() {
                        var e, a = (e = {}, t.forEach((function(t) {
                            var a = (0, x.unproxy)(t);
                            a.labels && a.labels.forEach((function(t) {
                                e[t] = e[t] ? ++e[t] : 1
                            }))
                        })), e);
                        return i.default.mapValues(a, (function(e) {
                            return e === t.length ? b : e > 0 ? k : I
                        }))
                    }), []),
                    L = (0, j.jsx)(o.default, {
                        a8nText: "popup-controls-ok",
                        type: "primary",
                        disabled: 0 === M.size,
                        onClick: function() {
                            (0, h.logLabelOperationEvent)(m.default.LABEL_OPERATIONS.CLICK_POSITIVE, t.length, m.default.LABEL_TARGETS.LABEL_COMBINED_DIALOG);
                            var e = T.list,
                                n = T.selected,
                                r = e.map((function(e, t) {
                                    return {
                                        id: e.id,
                                        type: n[t] ? "add" : "remove"
                                    }
                                }));
                            p.default.addOrRemoveLabels(r, t), a && a()
                        },
                        children: f.default.t(1581)
                    }, 1),
                    O = (0, j.jsx)(o.default, {
                        a8nText: "popup-controls-cancel",
                        type: "secondary",
                        onClick: e.onCancel,
                        children: f.default.t(1938)
                    }, 0),
                    D = (0, c.canEditLabel)() && (0, j.jsx)("div", {
                        className: v.default.newLabelBtn,
                        children: (0, j.jsxs)(o.default, {
                            a8nText: "popup-controls-cancel",
                            type: "simplified",
                            onClick: e.onAddNewLabel,
                            children: [(0, j.jsx)(y.default, {
                                name: "plus-large",
                                className: v.default.plus,
                                display: "inline"
                            }), f.default.t(243)]
                        }, 2)
                    });
                return (0, j.jsx)(g.default, {
                    type: g.ModalTheme.Tower,
                    children: (0, j.jsxs)(s.default, {
                        theme: "labels",
                        children: [(0, j.jsx)(u.default, {
                            title: f.default.t(1110),
                            type: u.DRAWER_HEADER_TYPE.POPUP,
                            onCancel: e.onCancel
                        }), (0, j.jsx)(d.default, {
                            "data-list-scroll-container": !0,
                            theme: "padding",
                            children: (0, j.jsx)(_.default, {
                                shouldScrollIntoViewAndSelect: e.shouldScrollIntoViewAndSelect,
                                initialLabelState: P,
                                selectedLabels: T,
                                renderContext: "label-selection",
                                onLabelClick: e.onLabelClick,
                                onMultiSelect: function(e) {
                                    e && (P[e] === k ? M.add("{labelId}_changed") : M.has(e) ? M.delete(e) : M.add(e), w())
                                }
                            })
                        }), D, (0, j.jsxs)("div", {
                            className: v.default.actionBtns,
                            children: [O, L]
                        })]
                    }, "mange_label_modal")
                })
            };
            var i = r(a(96486)),
                l = a(67294),
                o = r(a(51599)),
                s = r(a(53187)),
                d = r(a(18345)),
                u = n(a(19288)),
                c = a(2629),
                f = r(a(45159)),
                p = r(a(45042)),
                h = a(80549),
                v = r(a(94831)),
                m = r(a(50507)),
                g = n(a(73454)),
                _ = r(a(18336)),
                C = r(a(73524)),
                x = a(68220),
                y = r(a(7665)),
                S = r(a(57811)),
                E = r(a(39394)),
                j = a(85893),
                I = 0,
                b = 1,
                k = 2
        },
        76885: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = a(67294),
                l = r(a(77353)),
                o = r(a(53187)),
                s = r(a(18345)),
                d = n(a(19288)),
                u = r(a(45159)),
                c = a(85893),
                f = (0, i.forwardRef)((function(e, t) {
                    return (0, c.jsxs)(o.default, {
                        ref: t,
                        children: [(0, c.jsx)(d.default, {
                            a8n: "drawer-title-auto-download",
                            title: u.default.t(280),
                            onBack: e.onClose,
                            type: d.DRAWER_HEADER_TYPE.LARGE
                        }), (0, c.jsx)(s.default, {
                            children: (0, c.jsx)(l.default, {}, "auto-download")
                        })]
                    })
                }));
            t.default = f
        },
        64533: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(a(34575)),
                l = r(a(93913)),
                o = r(a(2205)),
                s = r(a(99842)),
                d = r(a(96486)),
                u = a(67294),
                c = r(a(40501)),
                f = r(a(65901)),
                p = a(94520),
                h = r(a(53187)),
                v = r(a(81218)),
                m = r(a(18345)),
                g = n(a(19288)),
                _ = r(a(46821)),
                C = r(a(96150)),
                x = r(a(74715)),
                y = a(1577),
                S = a(15503),
                E = a(62782),
                j = r(a(45159)),
                I = a(12231),
                b = r(a(25850)),
                k = a(76110),
                T = r(a(49309)),
                M = r(a(80385)),
                w = r(a(7665)),
                P = a(22552),
                L = r(a(68544)),
                O = r(a(60806)),
                D = a(85893),
                N = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, s.default)(a);

                    function a(e) {
                        var n, r, l, o;
                        if ((0, i.default)(this, a), (l = t.call(this, e)).handleImageSet = function(e, t) {
                                l.setState({
                                    thumb: e,
                                    full: t
                                })
                            }, l.handleContinue = function() {
                                var e = (0, C.default)(l.state.text.trim());
                                (0, p.createGroup)(e, l.state.thumb, l.state.full, l.props.participants, l.state.ephemeralDuration, l.state.dogfoodingGroupsInternalOnly), l.props.onContinue()
                            }, l.handleSubjectChange = function(e) {
                                l.setState({
                                    text: e
                                })
                            }, l.setRefEmojiInput = function(e) {
                                l.refEmojiInput = e
                            }, l._handleDogfoodingGroupChange = function() {
                                var e = !l.state.dogfoodingGroupsInternalOnly;
                                l.setState({
                                    dogfoodingGroupsInternalOnly: e
                                })
                            }, l._handleEphemeralDurationChange = function(e) {
                                l.setState({
                                    ephemeralDuration: e
                                })
                            }, l._onEphemeralDurationClick = function() {
                                f.default.openModal((0, D.jsx)(x.default, {
                                    initialDuration: l.state.ephemeralDuration,
                                    onDurationSelected: l._handleEphemeralDurationChange
                                }))
                            }, l._renderEphemeralDurationBlock = function() {
                                if (!(0, I.isDisappearingModeEnabled)()) return null;
                                var e, t = l.state.ephemeralDuration;
                                e = t > 0 ? (0, I.isEphemeral24HDurationEnabled)() ? (0, E.getDisappearingMessageDurationString)(t) : j.default.t(880) : j.default.t(879);
                                var a = (0, D.jsx)(w.default, {
                                    className: b.default.chevronIcon,
                                    name: "chevron-right-alt",
                                    directional: !0
                                });
                                return (0, D.jsx)(_.default, {
                                    children: (0, D.jsxs)(v.default, {
                                        onClick: l._onEphemeralDurationClick,
                                        side: a,
                                        multiline: !0,
                                        children: [(0, D.jsx)("div", {
                                            className: b.default.header,
                                            children: (0, D.jsx)(P.TextHeader, {
                                                level: "3",
                                                theme: "title",
                                                children: j.default.t(1009)
                                            })
                                        }), (0, D.jsx)(P.TextParagraph, {
                                            theme: "muted",
                                            children: e
                                        })]
                                    })
                                })
                            }, (0, I.isDisappearingModeEnabled)()) {
                            var s = (0, y.getMaybeMeUser)();
                            s && (o = (0, S.getDisappearingModeSettingForUser)(s))
                        }
                        return l.state = {
                            text: e.subject || "",
                            thumb: e.thumb,
                            full: e.full,
                            dogfoodingGroupsInternalOnly: !1,
                            ephemeralDuration: null !== (n = null === (r = o) || void 0 === r ? void 0 : r.duration) && void 0 !== n ? n : 0
                        }, l
                    }
                    return (0, l.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            this.refEmojiInput && this.refEmojiInput.restoreFocus()
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e = this.state.text.trim().length > 0,
                                t = e ? (0, D.jsx)("div", {
                                    className: b.default.nextButton,
                                    children: (0, D.jsx)(M.default, {
                                        a8nText: "create-group-btn",
                                        onClick: d.default.once(this.handleContinue),
                                        children: (0, D.jsx)(w.default, {
                                            name: "checkmark-medium"
                                        })
                                    })
                                }) : null;
                            return (0, D.jsxs)(h.default, {
                                children: [(0, D.jsx)(g.default, {
                                    title: j.default.t(1382),
                                    type: g.DRAWER_HEADER_TYPE.LARGE,
                                    onBack: this.props.onBack
                                }), (0, D.jsxs)(m.default, {
                                    children: [(0, D.jsxs)(_.default, {
                                        children: [(0, D.jsx)("div", {
                                            className: b.default.section,
                                            children: (0, D.jsx)(k.PhotoPickerLoadable, {
                                                type: T.default.GROUP,
                                                attachToChat: !1,
                                                startImage: this.state.full,
                                                onImageSet: this.handleImageSet
                                            })
                                        }), (0, D.jsx)("div", {
                                            "data-a8n": c.default.key("group-subject"),
                                            className: b.default.section,
                                            children: (0, D.jsx)(L.default, {
                                                ref: this.setRefEmojiInput,
                                                value: this.state.text,
                                                maxLength: 25,
                                                showRemaining: !0,
                                                onChange: this.handleSubjectChange,
                                                placeholder: j.default.t(1019),
                                                onEnter: e ? d.default.once(this.handleContinue) : function() {},
                                                supportsEmoji: !0
                                            })
                                        }), null]
                                    }), this._renderEphemeralDurationBlock(), (0, D.jsx)(O.default, {
                                        transitionName: "btn",
                                        children: t
                                    })]
                                })]
                            })
                        }
                    }]), a
                }(u.Component);
            t.default = N, N.displayName = "NewGroupDrawer"
        },
        93581: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(a(34575)),
                l = r(a(93913)),
                o = r(a(2205)),
                s = r(a(99842)),
                d = r(a(94184)),
                u = a(18077),
                c = r(a(96486)),
                f = a(67294),
                p = r(a(40501)),
                h = a(84533),
                v = r(a(65901)),
                m = r(a(86777)),
                g = r(a(20050)),
                _ = r(a(6080)),
                C = r(a(53187)),
                x = r(a(18345)),
                y = n(a(19288)),
                S = a(75993),
                E = n(a(18286)),
                j = r(a(23803)),
                I = r(a(92546)),
                b = r(a(92919)),
                k = r(a(29832)),
                T = r(a(58342)),
                M = r(a(45159)),
                w = r(a(48566)),
                P = r(a(98232)),
                L = r(a(98755)),
                O = r(a(5202)),
                D = r(a(80385)),
                N = a(96197),
                R = r(a(43890)),
                A = r(a(85651)),
                F = r(a(7665)),
                B = n(a(92428)),
                U = r(a(60806)),
                G = a(85893),
                H = (0, B.genId)("max_participant_toast"),
                V = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, s.default)(a);

                    function a() {
                        var e;
                        (0, i.default)(this, a);
                        for (var n = arguments.length, r = new Array(n), l = 0; l < n; l++) r[l] = arguments[l];
                        return (e = t.call.apply(t, [this].concat(r))).state = {
                            searchText: "",
                            participants: e.props.participants,
                            shouldFocus: !0,
                            isBusy: !1
                        }, e.flatListController = new I.default, e.setRefParticipantList = function(t) {
                            e.refParticipantList = t
                        }, e.setRefList = function(t) {
                            e.refList = t
                        }, e.handleKeyDown = function(t) {
                            if ("Backspace" === t.key && !e.state.searchText && !c.default.isEmpty(e.state.participants)) {
                                t.preventDefault();
                                var a = e.state.participants;
                                e.setState({
                                    participants: a.slice(0, a.length - 1),
                                    shouldFocus: !0
                                })
                            }
                        }, e.handleInput = function(t) {
                            e.setState({
                                searchText: t.target.value
                            })
                        }, e.handleReset = function() {
                            e.setState({
                                searchText: "",
                                shouldFocus: !0
                            })
                        }, e.focus = function() {
                            k.default.focus(e.refInput)
                        }, e.handleBack = function() {
                            e.props.onBack()
                        }, e.handleContinue = function() {
                            e.props.onContinue(e.state.participants)
                        }, e.handleDelete = function(t, a) {
                            var n = c.default.filter(e.state.participants, (function(e) {
                                return !e.id.equals(a.id)
                            }));
                            e.setState({
                                participants: n,
                                shouldFocus: !n.length
                            })
                        }, e.handleContactClick = function(t, a) {
                            e.state.participants.find((function(e) {
                                return e.id.equals(a.id)
                            })) ? e._removeContact(a) : a.isBlocked() ? v.default.openModal((0, G.jsx)(m.default, {
                                title: M.default.t(234),
                                onOK: function() {
                                    e._unblockAndAddContact(a), v.default.closeModal()
                                },
                                onCancel: function() {
                                    return v.default.closeModal()
                                },
                                okText: M.default.t(2266),
                                cancelText: M.default.t(2122),
                                children: M.default.t(232)
                            })) : e.addContact(a)
                        }, e.handleFocusList = function(t) {
                            e.refList && (t.preventDefault(), t.stopPropagation(), b.default.shouldIndicateFocus(), e.refList && e.refList.focusFirst())
                        }, e._handleFocusParticipants = function(t) {
                            t.repeat || e.refInput && 0 !== e.refInput.selectionStart || e.refParticipantList && (t.preventDefault(), t.stopPropagation(), T.default.flashFocus = 0, e.refParticipantList && e.refParticipantList.focusLast())
                        }, e.handleSelectFirst = function(t) {
                            t.preventDefault(), t.stopPropagation();
                            var a = e.getFilteredContacts()[0];
                            a && e.handleContactClick(t, a)
                        }, e.handleFocusSearch = function() {
                            b.default.shouldIndicateFocus(), k.default.focus(e.refInput)
                        }, e.setRefInput = function(t) {
                            e.refInput = t
                        }, e._setRefSizer = function(t) {
                            e._refSizer = t
                        }, e
                    }
                    return (0, l.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            this.focus()
                        }
                    }, {
                        key: "componentDidUpdate",
                        value: function() {
                            this._adjustInput()
                        }
                    }, {
                        key: "getFilteredContacts",
                        value: function() {
                            var e = c.default.difference(g.default.getFilteredContacts(), this.state.participants),
                                t = this.state.searchText;
                            if (!t) return e;
                            t = M.default.accentFold(t);
                            var a = (0, P.default)(t);
                            return e.filter((function(e) {
                                return e.searchMatch(t, a)
                            }))
                        }
                    }, {
                        key: "_adjustInput",
                        value: function() {
                            if (this.refInput) {
                                var e, t = this.refInput.offsetParent.offsetWidth - 10,
                                    a = this._refSizer.offsetWidth,
                                    n = a > t ? t : a;
                                this.refInput.style.width = n + "px", e = t - this.refInput.offsetLeft - n > 0 ? t - this.refInput.offsetLeft : t, this.refInput.style.width = e + "px", this.state.shouldFocus && this.focus()
                            }
                        }
                    }, {
                        key: "addContact",
                        value: function(e) {
                            var t = this.state.participants;
                            if (t.length >= R.default.maxParticipants) {
                                var a = M.default.t(123, {
                                    max: R.default.maxParticipants
                                });
                                v.default.openToast((0, G.jsx)(B.default, {
                                    msg: a,
                                    id: H
                                }))
                            } else this.setState({
                                participants: t.concat(e),
                                searchText: "",
                                shouldFocus: !0
                            })
                        }
                    }, {
                        key: "_removeContact",
                        value: function(e) {
                            var t = this.state.participants;
                            this.setState({
                                participants: c.default.filter(t, (function(t) {
                                    return !e.id.equals(t.id)
                                })),
                                shouldFocus: !0
                            })
                        }
                    }, {
                        key: "_unblockAndAddContact",
                        value: function(e) {
                            var t = this;
                            this.setState({
                                isBusy: !0
                            }), (0, h.unblockContact)(e).checkpoint(this.props.rejectOnUnmount()).then((function() {
                                t.addContact(e), t.setState({
                                    isBusy: !1
                                })
                            })).catch((0, u.filteredCatch)(E.Unmount, (function() {}))).catch((function() {
                                t.setState({
                                    isBusy: !1
                                })
                            }))
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e;
                            this.state.isBusy ? e = (0, G.jsx)("div", {
                                className: w.default.spinner,
                                children: (0, G.jsx)(A.default, {
                                    stroke: 6,
                                    size: 24
                                })
                            }) : this.state.participants && this.state.participants.length && (e = (0, G.jsx)(D.default, {
                                a8nText: "group-participants-btn",
                                onClick: this.handleContinue,
                                children: (0, G.jsx)(F.default, {
                                    name: "arrow-forward",
                                    directional: !0
                                })
                            }));
                            var t = this.state.participants && this.state.participants.length ? " " : M.default.t(1006),
                                a = {
                                    down: this.handleFocusList,
                                    enter: this.state.searchText ? this.handleSelectFirst : this.state.participants && this.state.participants.length ? this.handleContinue : function() {},
                                    up: this._handleFocusParticipants
                                };
                            a[M.default.LR("left", "right")] = this._handleFocusParticipants;
                            var n, r = this.getFilteredContacts();
                            return n = 0 === r.length ? (0, G.jsx)(S.SearchContacts, {}) : (0, G.jsx)(_.default, {
                                ref: this.setRefList,
                                flatListController: this.flatListController,
                                contacts: r,
                                onClick: this.handleContactClick,
                                onFocusSearch: this.handleFocusSearch,
                                showPersonGroupDivisionHeader: !1
                            }), (0, G.jsxs)(C.default, {
                                children: [(0, G.jsx)(y.default, {
                                    title: M.default.t(241),
                                    type: y.DRAWER_HEADER_TYPE.LARGE,
                                    onBack: this.handleBack
                                }), (0, G.jsxs)(x.default, {
                                    children: [(0, G.jsx)("div", {
                                        className: w.default.search,
                                        children: (0, G.jsx)("div", {
                                            children: (0, G.jsxs)(T.default, {
                                                handlers: a,
                                                className: w.default.inputLine,
                                                children: [(0, G.jsx)("div", {
                                                    "data-list-scroll-container": !0,
                                                    children: (0, G.jsx)(L.default, {
                                                        ref: this.setRefParticipantList,
                                                        theme: "list-names",
                                                        contacts: this.state.participants,
                                                        onDelete: this.handleDelete,
                                                        onFocusSearch: this.handleFocusSearch
                                                    })
                                                }), (0, G.jsx)("input", {
                                                    "data-a8n": p.default.key("inputarea"),
                                                    className: (0, d.default)(w.default.inputarea, N.SELECTABLE_INPUT_CSS_CLASS),
                                                    ref: this.setRefInput,
                                                    placeholder: t,
                                                    onKeyDown: this.handleKeyDown,
                                                    onChange: this.handleInput,
                                                    value: this.state.searchText,
                                                    type: "text"
                                                }), (0, G.jsx)("span", {
                                                    className: w.default.inputareaSizer,
                                                    ref: this._setRefSizer,
                                                    children: this.state.searchText
                                                })]
                                            })
                                        })
                                    }), (0, G.jsx)(j.default, {
                                        className: w.default.contacts,
                                        flatListControllers: [this.flatListController],
                                        children: n
                                    }), (0, G.jsx)(U.default, {
                                        transitionName: "btn",
                                        className: w.default.drawerSection,
                                        children: e
                                    })]
                                })]
                            })
                        }
                    }]), a
                }(f.Component);
            V.defaultProps = {
                participants: []
            }, V.displayName = "NewGroupParticipantsDrawer";
            var W = (0, O.default)(V);
            t.default = W
        },
        71238: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = a(67294),
                l = r(a(26004)),
                o = r(a(53187)),
                s = r(a(18345)),
                d = n(a(19288)),
                u = r(a(45159)),
                c = r(a(66821)),
                f = a(85893),
                p = (0, i.forwardRef)((function(e, t) {
                    return (0, f.jsxs)(o.default, {
                        ref: t,
                        children: [(0, f.jsx)(d.default, {
                            a8n: "drawer-title-notifications",
                            title: u.default.t(1403),
                            onBack: e.onClose,
                            type: d.DRAWER_HEADER_TYPE.LARGE
                        }), (0, f.jsx)(s.default, {
                            children: (0, f.jsx)(l.default, {
                                mute: c.default.globalMute()
                            }, "notifications")
                        })]
                    })
                }));
            t.default = p
        },
        98533: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(a(81109)),
                l = r(a(34575)),
                o = r(a(93913)),
                s = r(a(2205)),
                d = r(a(99842)),
                u = a(18077),
                c = a(67294),
                f = (r(a(56720)), r(a(40501))),
                p = r(a(18330)),
                h = a(28210),
                v = r(a(65901)),
                m = r(a(86777)),
                g = r(a(73929)),
                _ = r(a(94253)),
                C = r(a(80966)),
                x = r(a(53187)),
                y = r(a(18345)),
                S = r(a(96706)),
                E = n(a(19288)),
                j = r(a(46821)),
                I = r(a(87894)),
                b = r(a(96150)),
                k = n(a(18286)),
                T = a(27968),
                M = r(a(50177)),
                w = a(1577),
                P = a(2629),
                L = r(a(2424)),
                O = r(a(33333)),
                D = r(a(45159)),
                N = a(44852),
                R = r(a(50507)),
                A = a(49942),
                F = r(a(20870)),
                B = r(a(77429)),
                U = r(a(35456)),
                G = r(a(70486)),
                H = r(a(5202)),
                V = a(96197),
                W = a(7080),
                z = r(a(61897)),
                K = a(54504),
                Y = r(a(7665)),
                q = a(22552),
                Z = r(a(68544)),
                X = r(a(55234)),
                $ = a(85893),
                J = function(e) {
                    (0, s.default)(a, e);
                    var t = (0, d.default)(a);

                    function a() {
                        var e;
                        (0, l.default)(this, a);
                        for (var n = arguments.length, r = new Array(n), i = 0; i < n; i++) r[i] = arguments[i];
                        return (e = t.call.apply(t, [this].concat(r))).openMerchantDetailsForm = function() {
                            var t = (0, w.getMeUser)();
                            e.push((0, $.jsx)(N.MerchantDetailsFormFlowLoadable, {
                                contactId: t,
                                onBack: e.pop
                            }))
                        }, e.openCatalogDetailsForm = function() {
                            (0, h.createCatalogManagementFlowObject)((function(t, a) {
                                t ? e.push((0, $.jsx)(h.CatalogManagementFlowLoadable, {
                                    catalog: t,
                                    catalogId: a,
                                    product: null,
                                    onBack: e.pop
                                })) : e.push((0, $.jsx)(h.CatalogManagementFlowLoadable, {
                                    catalogId: a,
                                    product: null,
                                    onBack: e.pop
                                }))
                            }))
                        }, e
                    }
                    return (0, o.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            this.push((0, $.jsx)(te, {
                                openMerchantDetailsForm: this.openMerchantDetailsForm,
                                openCatalogDetailsForm: this.openCatalogDetailsForm,
                                conn: this.props.conn,
                                contact: this.props.contact,
                                profilePicThumb: this.props.profilePicThumb,
                                status: this.props.status,
                                onClose: this.pop
                            }))
                        }
                    }, {
                        key: "componentWillUnMount",
                        value: function() {
                            var e, t;
                            null === (e = (t = this.props).onClose) || void 0 === e || e.call(t)
                        }
                    }]), a
                }(M.default);
            t.default = J;
            var Q = {
                    businessComplianceIconWrapper: {
                        paddingEnd: "htg54gjl",
                        color: "s4k44ver"
                    },
                    businessComplianceText: {
                        flexGrow: "ggj6brxn",
                        color: "tviruh8d"
                    },
                    businessComplianceRightAltIcon: {
                        color: "cs9t9or5"
                    }
                },
                ee = function(e) {
                    (0, s.default)(a, e);
                    var t = (0, d.default)(a);

                    function a(e) {
                        var n;
                        return (0, l.default)(this, a), (n = t.call(this, e)).handleBack = function() {
                            n.props.onClose ? n.props.onClose() : n.props.uim.uie.requestDismiss()
                        }, n._validateStatus = function(e) {
                            return !!(e || "").trim()
                        }, n._handleStatusBegin = function() {
                            n._isEditingStatus = !0
                        }, n._handleSetStatusError = function() {
                            v.default.openModal((0, $.jsx)(m.default, {
                                onOK: function() {
                                    return v.default.closeModal()
                                },
                                okText: D.default.t(2125),
                                children: D.default.t(222)
                            }))
                        }, n._handleSetStatus = function() {
                            if (null != n.state.status) {
                                n._isEditingStatus = !1;
                                var e = n.props.status.status,
                                    t = (0, b.default)(n.state.status);
                                if (t === e) return n.setState({
                                    status: t
                                });
                                n.setState({
                                    pendingStatus: !0
                                }), (0, K.setMyStatus)((0, b.default)(n.state.status)).checkpoint(n.props.rejectOnUnmount()).then((function() {
                                    n.setState({
                                        pendingStatus: !1
                                    })
                                })).catch((0, u.filteredCatch)(k.Unmount, (function() {})))
                            } else n._handleCancelStatus()
                        }, n.handleStatusChange = function(e) {
                            n.setState({
                                status: e
                            })
                        }, n._handleCancelStatus = function() {
                            n._isEditingStatus = !1, n.setState({
                                status: n.props.status.status
                            })
                        }, n._handlePushnameBegin = function() {
                            n._isEditingPushname = !0
                        }, n._validatePushname = function() {
                            var e, t = n.state.pushname;
                            return (t = (t || "").trim()) ? /[\u2714\u2705\u2611]/g.test(t) && (e = D.default.t(217)) : e = D.default.t(214), !e || (n._handleSetPushnameError(e), !1)
                        }, n._handleSetPushname = function() {
                            if (n._isEditingPushname = !1, g.default.canSetMyPushname()) {
                                var e = n.state.pushname;
                                if ((e = (0, b.default)((e || "").trim())) === n.props.conn.pushname) return n.setState({
                                    pushname: e
                                });
                                n.setState({
                                    pendingPushname: !0
                                }), (0, W.setPushname)(e).checkpoint(n.props.rejectOnUnmount()).then((function() {
                                    n.setState({
                                        pendingPushname: !1
                                    })
                                })).catch((0, u.filteredCatch)(k.Unmount, (function() {})))
                            }
                        }, n._handleSetPushnameError = function(e) {
                            v.default.openModal((0, $.jsx)(m.default, {
                                onOK: function() {
                                    return v.default.closeModal()
                                },
                                okText: D.default.t(2125),
                                children: e
                            }))
                        }, n._handlePushnameChange = function(e) {
                            n.setState({
                                pushname: e
                            })
                        }, n._handleCancelPushname = function() {
                            n._isEditingPushname = !1, n.setState({
                                pushname: n.props.conn.pushname
                            })
                        }, n.state = {
                            pushname: e.conn.pushname,
                            status: e.status.status,
                            pendingPushname: !1,
                            pendingStatus: !1,
                            catalog: null
                        }, n
                    }
                    return (0, o.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this;
                            g.default.isSMB && (p.default.findCarouselCatalog((0, w.getMeUser)()).then((function(t) {
                                var a = Array.isArray(t) ? t[0] : t;
                                e.setState({
                                    catalog: a
                                })
                            })).catch((function() {})), (0, A.getProductCatalogContext)(this.context).session.isAccidental() && v.default.setDrawerContext("left", (0, A.buildProductCatalogContext)(new B.default, R.default.BIZ_PLATFORM.SMB, R.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_SETTINGS)))
                        }
                    }, {
                        key: "renderProductCatalogSection",
                        value: function() {
                            return (0, P.blockCatalogCreationECommerceComplianceIndia)(this.props.contact.businessProfile) || (0, A.getProductCatalogContext)(this.context).session.isAccidental() ? null : (0, $.jsx)(F.default, {
                                businessProfile: this.props.contact.businessProfile,
                                catalog: this.state.catalog,
                                openCatalog: this.props.openCatalogDetailsForm
                            })
                        }
                    }, {
                        key: "renderMerchantDetailsFormSection",
                        value: function() {
                            return (0, $.jsx)(j.default, {
                                title: (0, $.jsxs)(T.FlexRow, {
                                    align: "center",
                                    children: [(0, $.jsx)(T.FlexItem, {
                                        xstyle: Q.businessComplianceIconWrapper,
                                        children: (0, $.jsx)(Y.default, {
                                            name: "business"
                                        })
                                    }), (0, $.jsx)(T.FlexItem, {
                                        xstyle: Q.businessComplianceText,
                                        children: D.default.t(399)
                                    }), (0, $.jsx)(T.FlexItem, {
                                        children: (0, $.jsx)(Y.default, {
                                            xstyle: Q.businessComplianceRightAltIcon,
                                            name: "chevron-right-alt",
                                            directional: !0
                                        })
                                    })]
                                }),
                                theme: "refresh-padding-title",
                                titleOnClick: this.props.openMerchantDetailsForm
                            })
                        }
                    }, {
                        key: "_renderAboutInput",
                        value: function() {
                            var e = this.props.status,
                                t = this._isEditingStatus || this.state.pendingStatus ? this.state.status : e.status;
                            return (0, $.jsx)(Z.default, {
                                a8n: "col-main-profile-input",
                                value: t,
                                editable: !0,
                                pending: this.state.pendingStatus,
                                showRemaining: !0,
                                validate: this._validateStatus,
                                maxLength: _.default.MAX_STATUS_LENGTH,
                                onBeginEdit: this._handleStatusBegin,
                                onChange: this.handleStatusChange,
                                onSave: this._handleSetStatus,
                                onError: this._handleSetStatusError,
                                onCancel: this._handleCancelStatus,
                                theme: "text-input",
                                fieldName: D.default.t(37),
                                supportsEmoji: !0,
                                lockable: !0,
                                lowProfile: !0
                            })
                        }
                    }, {
                        key: "_renderStandardEditSection",
                        value: function() {
                            var e = this.props.conn,
                                t = this._isEditingPushname || this.state.pendingPushname ? this.state.pushname : e.pushname,
                                a = g.default.isSMB ? D.default.t(441) : D.default.t(1526),
                                n = (0, $.jsx)(j.default, {
                                    a8nText: "col-main-profile",
                                    title: D.default.t(2209),
                                    theme: "padding",
                                    children: this._renderAboutInput()
                                });
                            return (0, $.jsxs)($.Fragment, {
                                children: [(0, $.jsx)(j.default, {
                                    a8nText: "col-main-profile",
                                    title: D.default.t(1525),
                                    theme: "padding",
                                    children: (0, $.jsx)(Z.default, {
                                        a8n: "col-main-profile-input",
                                        value: t,
                                        editable: g.default.canSetMyPushname(),
                                        pending: this.state.pendingPushname,
                                        showRemaining: !0,
                                        validate: this._validatePushname,
                                        maxLength: _.default.MAX_PUSHNAME_LENGTH,
                                        onBeginEdit: this._handlePushnameBegin,
                                        onChange: this._handlePushnameChange,
                                        onSave: this._handleSetPushname,
                                        onCancel: this._handleCancelPushname,
                                        supportsEmoji: !0,
                                        lockable: !0,
                                        lowProfile: !0
                                    })
                                }), (0, $.jsx)("div", {
                                    "data-a8n": f.default.key("pushname-description"),
                                    className: U.default.nameWrapper,
                                    children: (0, $.jsx)(q.TextSpan, {
                                        theme: "muted",
                                        children: a
                                    })
                                }), n]
                            })
                        }
                    }, {
                        key: "_renderSection",
                        value: function(e) {
                            return (0, $.jsx)(O.default, (0, i.default)({}, e))
                        }
                    }, {
                        key: "_renderAboutSection",
                        value: function() {
                            var e = this._renderSection({
                                    icon: "info",
                                    content: this._renderAboutInput()
                                }),
                                t = this._renderSection({
                                    icon: "call-phone",
                                    iconClass: U.default.phoneIcon,
                                    content: (0, $.jsxs)("div", {
                                        children: [(0, $.jsx)(V.SelectableDiv, {
                                            className: U.default.phoneField,
                                            selectable: !0,
                                            children: (0, X.default)((0, w.assertGetMe)())
                                        }), (0, $.jsx)("div", {
                                            className: U.default.infoText,
                                            children: D.default.t(461)
                                        })]
                                    })
                                });
                            return (0, $.jsxs)(j.default, {
                                title: D.default.t(451),
                                theme: "refresh",
                                children: [e, t]
                            })
                        }
                    }, {
                        key: "_renderEditBizProfileEditSection",
                        value: function() {
                            return (0, $.jsxs)("div", {
                                children: [(0, $.jsx)(I.default, {}), (0, P.canSeeECommerceComplianceIndiaBusinessJourney)(this.props.contact.id.user) && this.renderMerchantDetailsFormSection(), this.renderProductCatalogSection(), this._renderAboutSection()]
                            })
                        }
                    }, {
                        key: "_renderCoverPhoto",
                        value: function() {
                            return (0, $.jsx)(j.default, {
                                theme: "padding-no-margin",
                                children: (0, $.jsx)(C.default, {
                                    contact: this.props.contact,
                                    editable: !0,
                                    profilePicThumb: this.props.profilePicThumb,
                                    hideStatusV3: !0
                                })
                            })
                        }
                    }, {
                        key: "_renderProfilePicture",
                        value: function() {
                            return (0, $.jsx)("div", {
                                className: U.default.photoPickerWrapper,
                                children: (0, $.jsx)(G.default, {
                                    profilePicThumb: this.props.profilePicThumb
                                })
                            })
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e = (0, P.canSeeBizProfileV3)() && g.default.isSMB ? this._renderCoverPhoto() : this._renderProfilePicture(),
                                t = g.default.isSMB ? this._renderEditBizProfileEditSection() : this._renderStandardEditSection(),
                                a = D.default.t(1238);
                            return (0, $.jsxs)(x.default, {
                                children: [(0, $.jsx)(E.default, {
                                    a8n: "drawer-title-profile",
                                    title: a,
                                    onBack: this.handleBack,
                                    type: E.DRAWER_HEADER_TYPE.LARGE
                                }), (0, $.jsxs)(y.default, {
                                    children: [e, t]
                                })]
                            })
                        }
                    }]), a
                }(c.Component);
            ee.contextType = S.default, ee.CONCERNS = {
                contact: ["businessProfile", "id", "statusMute"],
                profilePicThumb: ["imgFull", "id"],
                status: ["status"],
                conn: ["pushname"]
            }, ee.displayName = "ProfileDrawer";
            var te = (0, L.default)((0, H.default)((0, z.default)(ee, ee.CONCERNS)))
        },
        85492: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                return (0, l.jsx)(r.default, {
                    primary: e.choiceText,
                    onClick: e.onChoose,
                    theme: "radio-button-row",
                    image: (0, l.jsx)(i.default, {
                        checked: e.isChosen,
                        hover: !1,
                        radio: !0,
                        onChange: e.onChoose,
                        systemUncheckedColor: !0
                    })
                })
            };
            var r = n(a(88186)),
                i = n(a(22630)),
                l = a(85893)
        },
        75331: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(a(34575)),
                l = r(a(93913)),
                o = r(a(2205)),
                s = r(a(99842)),
                d = a(67294),
                u = (r(a(56720)), a(59566)),
                c = r(a(91404)),
                f = r(a(53187)),
                p = r(a(18345)),
                h = n(a(19288)),
                v = r(a(46821)),
                m = r(a(49012)),
                g = a(29281),
                _ = a(27968),
                C = a(1577),
                x = r(a(45159)),
                y = r(a(83968)),
                S = r(a(43890)),
                E = a(76367),
                j = r(a(7665)),
                I = a(22552),
                b = a(85893),
                k = {
                    icon: {
                        position: "g0rxnol2",
                        boxSizing: "cm280p3y",
                        width: "cnprk2g9",
                        height: "j74n1y92",
                        paddingTop: "n1yiu2zv",
                        marginTop: "tt8xd2xn",
                        marginEnd: "k1jo73ug",
                        marginBottom: "mpdn4nr2",
                        marginStart: "isfiuinm",
                        color: "t63vcusb",
                        backgroundColor: "je90h8md",
                        borderTopStartRadius: "g9p5wyxn",
                        borderTopEndRadius: "i0tg5vk9",
                        borderBottomEndRadius: "aoogvgrq",
                        borderBottomStartRadius: "o2zu3hjb"
                    },
                    iconLock: {
                        position: "lhggkp7q",
                        start: "tkdu00h0",
                        end: "ebjesfe0",
                        top: "qq0sjtgm",
                        bottom: "lrw9n60e",
                        color: "ml33x45x"
                    },
                    controls: {
                        paddingBottom: "sq87qsu4",
                        marginTop: "ignnouf6"
                    }
                },
                T = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, s.default)(a);

                    function a(e) {
                        var n;
                        return (0, i.default)(this, a), (n = t.call(this, e))._onSecurityNotificationChange = function() {
                            var e = !n.state.securityNotificationEnabled;
                            (0, C.setGlobalSecurityNotifications)(e), n.setState({
                                securityNotificationEnabled: e
                            })
                        }, n.state = {
                            securityNotificationEnabled: (0, C.getGlobalSecurityNotifications)()
                        }, n
                    }
                    return (0, l.default)(a, [{
                        key: "render",
                        value: function() {
                            var e = S.default.bspSystemMessageEnabled,
                                t = e ? x.default.t(1607) : x.default.t(1605);
                            return (0, u.getABPropConfigValue)("adv_v2_m6") && (t = x.default.t(1606)), (0, b.jsxs)(f.default, {
                                children: [(0, b.jsx)(h.default, {
                                    a8n: "drawer-title-security",
                                    title: x.default.t(1612),
                                    onBack: this.props.onClose,
                                    type: h.DRAWER_HEADER_TYPE.LARGE
                                }), (0, b.jsx)(p.default, {
                                    children: (0, b.jsxs)(v.default, {
                                        theme: "padding-large",
                                        animation: !1,
                                        children: [(0, b.jsxs)(_.FlexColumn, {
                                            xstyle: k.icon,
                                            align: "center",
                                            justify: "center",
                                            children: [(0, b.jsx)(_.FlexItem, {
                                                children: (0, b.jsx)(j.default, {
                                                    name: "security-shield"
                                                })
                                            }), (0, b.jsx)(_.FlexColumn, {
                                                xstyle: k.iconLock,
                                                align: "center",
                                                justify: "center",
                                                children: (0, b.jsx)(_.FlexItem, {
                                                    children: (0, b.jsx)(j.default, {
                                                        name: "security-lock"
                                                    })
                                                })
                                            })]
                                        }), (0, b.jsxs)("div", {
                                            className: y.default.text,
                                            children: [e ? x.default.t(1611) : x.default.t(1610), " ", (0, b.jsx)(m.default, {
                                                href: (0, E.securityUrl)(),
                                                children: x.default.t(1120)
                                            })]
                                        }), (0, b.jsxs)(_.FlexRow, {
                                            xstyle: k.controls,
                                            children: [(0, b.jsx)("div", {
                                                className: y.default.checkbox,
                                                children: (0, b.jsx)(c.default, {
                                                    onChange: this._onSecurityNotificationChange,
                                                    checked: this.state.securityNotificationEnabled
                                                })
                                            }), (0, b.jsxs)(_.FlexItem, {
                                                children: [(0, b.jsx)("div", {
                                                    className: y.default.header,
                                                    children: (0, b.jsx)(I.TextSpan, {
                                                        theme: "title",
                                                        children: x.default.t(1609)
                                                    })
                                                }), (0, b.jsxs)(I.TextDiv, {
                                                    theme: "muted",
                                                    children: [t, " ", (0, b.jsx)(m.default, {
                                                        href: (0, g.getCodeChangeFaqUrl)(),
                                                        children: x.default.t(1120)
                                                    })]
                                                })]
                                            })]
                                        })]
                                    })
                                })]
                            })
                        }
                    }]), a
                }(d.PureComponent);
            t.default = T, T.displayName = "SecurityDrawer"
        },
        93886: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.onOK,
                    a = e.name || o.default.t(721),
                    n = o.default.t(1643, {
                        name: a
                    });
                return (0, s.jsx)(i.default, {
                    onOK: function() {
                        r.default.closeModal(), t()
                    },
                    okText: o.default.t(2125),
                    children: (0, s.jsx)("div", {
                        children: (0, s.jsx)(l.default, {
                            text: n
                        })
                    })
                })
            };
            var r = n(a(65901)),
                i = n(a(86777)),
                l = n(a(73008)),
                o = n(a(45159)),
                s = a(85893)
        },
        79348: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                return (0, d.jsx)("div", {
                    className: s.default.container,
                    children: e.children
                })
            }, t.SettingsCheckListSection = u, t.SettingsCheckListItem = function(e) {
                return (0, d.jsxs)(u, {
                    disabled: e.disabled,
                    children: [(0, d.jsx)("div", {
                        "data-a8n": l.default.key(e.a8nText),
                        className: s.default.control,
                        children: (0, d.jsx)(o.default, {
                            id: e.id,
                            onChange: e.onChange,
                            checked: e.checked,
                            disabled: e.disabled
                        })
                    }), (0, d.jsx)("label", {
                        className: s.default.label,
                        htmlFor: e.id,
                        children: e.children
                    })]
                })
            };
            var r = n(a(59713)),
                i = n(a(94184)),
                l = n(a(40501)),
                o = n(a(91404)),
                s = n(a(50717)),
                d = a(85893);

            function u(e) {
                return (0, d.jsx)("div", {
                    className: (0, i.default)(s.default.section, (0, r.default)({}, s.default.disabled, e.disabled)),
                    children: e.children
                })
            }
        },
        77685: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = a(67294),
                l = r(a(88186)),
                o = r(a(73929)),
                s = n(a(66834)),
                d = r(a(53187)),
                u = r(a(18345)),
                c = r(a(61876)),
                f = n(a(19288)),
                p = r(a(73008)),
                h = a(1577),
                v = r(a(38032)),
                m = a(2629),
                g = r(a(45159)),
                _ = r(a(61359)),
                C = r(a(7665)),
                x = r(a(69283)),
                y = a(85893);

            function S(e, t) {
                var a, n, r, i, S, E = (0, x.default)(e.settings, ["archive"]),
                    j = (0, y.jsx)(_.default, {
                        id: e.profileId
                    }),
                    I = (0, y.jsx)(s.default, {
                        id: (0, h.getMaybeMeUser)(),
                        size: 82,
                        quality: s.DETAIL_IMAGE_QUALITY.HIGH
                    }),
                    b = (0, y.jsx)(p.default, {
                        text: o.default.pushname,
                        ellipsify: !0,
                        titlify: !0
                    });
                return !v.default.supportsFeature(v.default.F.MD_BACKEND) && (0, m.archiveV2Supported)() && E.archive.enabled && (i = (0, y.jsx)(c.default, {
                    icon: (0, y.jsx)(C.default, {
                        name: "archived"
                    }),
                    onClick: e.onArchiveSettings,
                    children: g.default.t(257)
                })), v.default.supportsFeature(v.default.F.MD_BACKEND) && (r = (0, y.jsx)(c.default, {
                    a8nText: "li-security",
                    icon: (0, y.jsx)(C.default, {
                        name: "settings-security"
                    }),
                    onClick: e.onSecurity,
                    children: g.default.t(1240)
                })), (0, m.webMediaAutoDownloadEnabled)() && (S = (0, y.jsx)(c.default, {
                    a8nText: "li-media-auto-download",
                    icon: (0, y.jsx)(C.default, {
                        name: "media-download"
                    }),
                    onClick: e.onMediaAutoDownload,
                    children: g.default.t(1235)
                })), process.mas || process.windowsStore || (a = (0, y.jsx)(c.default, {
                    a8nText: "li-desktop",
                    icon: (0, y.jsx)(C.default, {
                        name: "settings-desktop"
                    }),
                    onClick: e.onDesktopSettings,
                    children: g.default.t(1230)
                })), n = (0, y.jsx)(c.default, {
                    a8nText: "li-keyboard-shortcuts",
                    icon: (0, y.jsx)(C.default, {
                        name: "settings-keyboard"
                    }),
                    onClick: e.onKeyboardShortcuts,
                    children: g.default.t(1104)
                }), (0, y.jsxs)(d.default, {
                    ref: t,
                    theme: "settings",
                    children: [(0, y.jsx)(f.default, {
                        title: g.default.t(1647),
                        onBack: e.onClose,
                        type: f.DRAWER_HEADER_TYPE.LARGE
                    }), (0, y.jsxs)(u.default, {
                        children: [(0, y.jsx)(l.default, {
                            onClick: e.onProfile,
                            image: I,
                            primary: b,
                            theme: "identity",
                            secondary: j
                        }), (0, y.jsx)(c.default, {
                            a8nText: "li-notifications",
                            icon: (0, y.jsx)(C.default, {
                                name: "settings-notifications"
                            }),
                            onClick: e.onNotifications,
                            children: g.default.t(1236)
                        }), r, (0, y.jsx)(c.default, {
                            icon: (0, y.jsx)(C.default, {
                                name: "settings-theme"
                            }),
                            onClick: e.onThemeSettings,
                            children: g.default.t(1243)
                        }), (0, y.jsx)(c.default, {
                            icon: (0, y.jsx)(C.default, {
                                name: "settings-wallpaper"
                            }),
                            onClick: e.onWallpaper,
                            children: g.default.t(1244)
                        }), i, (0, y.jsx)(c.default, {
                            a8nText: "li-blocked",
                            icon: (0, y.jsx)(C.default, {
                                name: "settings-blocked"
                            }),
                            onClick: e.onBlocked,
                            children: g.default.t(1229)
                        }), S, a, n, (0, y.jsx)(c.default, {
                            a8nText: "li-help",
                            icon: (0, y.jsx)(C.default, {
                                name: "settings-help"
                            }),
                            onClick: e.onHelp,
                            children: g.default.t(1231)
                        }), undefined, undefined, undefined, undefined, undefined, undefined]
                    })]
                })
            }
            var E = (0, i.forwardRef)(S);
            t.default = E
        },
        64982: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(a(34575)),
                l = r(a(93913)),
                o = r(a(2205)),
                s = r(a(99842)),
                d = a(18077),
                u = r(a(96486)),
                c = a(67294),
                f = a(29656),
                p = r(a(10399)),
                h = r(a(65901)),
                v = r(a(94253)),
                m = r(a(54864)),
                g = r(a(53187)),
                _ = r(a(18345)),
                C = n(a(19288)),
                x = a(75993),
                y = n(a(18286)),
                S = r(a(29832)),
                E = a(1577),
                j = r(a(38032)),
                I = r(a(2424)),
                b = r(a(58342)),
                k = r(a(45159)),
                T = r(a(63641)),
                M = a(91823),
                w = r(a(5202)),
                P = r(a(96895)),
                L = r(a(39916)),
                O = r(a(85651)),
                D = r(a(78350)),
                N = r(a(73812)),
                R = r(a(79402)),
                A = r(a(7665)),
                F = r(a(60806)),
                B = a(85893);
            var U = function(e) {
                (0, o.default)(a, e);
                var t = (0, s.default)(a);

                function a(e) {
                    var n;
                    return (0, i.default)(this, a), (n = t.call(this, e))._msgRefs = {}, n._setRefHotKeys = function(e) {
                        n._refHotKeys = e
                    }, n._refScrollContainer = (0, c.createRef)(), n._getInitialState = function() {
                        var e = n.props.starredMsgs;
                        return {
                            cursor: P.default.create({
                                msgCollection: e,
                                type: v.default.RENDER_CURSOR.STARRED_DRAWER
                            }).loadAfter(e, {
                                count: v.default.MSG_PRELOAD_THRESHOLD
                            })
                        }
                    }, n._handleStarChange = function() {
                        n._initSelectionObjects(), n.forceUpdate()
                    }, n._initSelectionObjects = function() {
                        var e = n.props.starredMsgs.toArray();
                        n._currSelection.init(e, !0), n._activeSelection.init(e)
                    }, n.setRefMsgComponent = function(e, t) {
                        t ? n._msgRefs[e.id.toString()] = t : delete n._msgRefs[e.id.toString()]
                    }, n.loadEarlierMsgs = function() {
                        var e = n.state.cursor,
                            t = n.props.chat && n.props.chat.id,
                            a = n.props.starredMsgs,
                            r = a.models;
                        if (e.getEnd(a) < r.length) n.setState({
                            cursor: e.loadAfter(a)
                        });
                        else {
                            if (a.isSynced) return;
                            n.props.starredMsgs.sync(t).checkpoint(n.props.rejectOnUnmount()).then((function() {
                                e.hasAfter(a) && n.setState({
                                    cursor: e.loadAfter(a)
                                })
                            })).catch((0, d.filteredCatch)(y.Unmount, (function() {}))).catch((function(e) {
                                __LOG__(2)`StarredDrawer:loadEarlierMsgs failed\n${e}`
                            }))
                        }
                    }, n.handleClose = function() {
                        n.props.onClose ? n.props.onClose() : n.props.uim.uie.requestDismiss()
                    }, n.focus = function() {
                        n._refHotKeys && S.default.focus(n._refHotKeys)
                    }, n.handleFocusGain = function(e) {
                        n._refHotKeys && ((e ? e.target : document.activeElement) === n._refHotKeys && (n._currSelection.index < 0 ? n._currSelection.setFirst(!0) : n._currSelection.reset(!1)))
                    }, n._handleNextMsg = function(e) {
                        e && (e.preventDefault(), e.stopPropagation());
                        var t = n._currSelection.next();
                        n._currSelection.index !== t && n._currSelection.setNext(!0)
                    }, n._handlePrevMsg = function(e) {
                        e && (e.stopPropagation(), e.preventDefault()), n._currSelection.prev() > -1 && n._currSelection.setPrev(!0)
                    }, n.onScroll = function(e) {
                        n.handleScroll(e.currentTarget)
                    }, n._handleScroll = function(e) {
                        n.updateMsgListInfo(),
                            function(e) {
                                return e.scrollTop + v.default.SCROLL_FUDGE > e.scrollHeight - e.clientHeight
                            }(e) && n.loadEarlierMsgs()
                    }, n._selectMsg = function(e) {
                        n._currSelection.setVal(e), n._activeSelection.setVal(e), h.default.openChatAt(e.chat, e.chat.getSearchContext(e)), h.default.focusShowMsg(e.id)
                    }, n._getMsgList = function() {
                        var e = n.state.cursor,
                            t = n.props.starredMsgs,
                            a = t.toArray(),
                            r = t.isSynced ? e.getEnd(t) : Math.min(e.getEnd(t), a.length);
                        return a = a.slice(e.getStart(t), r), n.length = a.length, a
                    }, n.getMsgVisibility = function(e) {
                        if (!e) return v.default.VISIBILITY.BELOW;
                        var t = n._refScrollContainer.current;
                        if (t) {
                            var a = t.previousSibling;
                            if (a && a instanceof HTMLElement) {
                                var r = a.clientHeight,
                                    i = t.scrollTop + r,
                                    l = i + t.clientHeight,
                                    o = e.getContainerElement();
                                return o ? o.offsetTop + o.clientHeight <= i ? v.default.VISIBILITY.ABOVE : o.offsetTop >= l ? v.default.VISIBILITY.BELOW : v.default.VISIBILITY.VISIBLE : v.default.VISIBILITY.BELOW
                            }
                        }
                    }, n.isMsgVisible = function(e) {
                        var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                        return !!n._msgListInfo.visibleMsgs[e.toString()] && (!!t || n.getMsgComponent(e))
                    }, n.getMsgComponent = function(e) {
                        var t = n._msgRefs[e.toString()];
                        if (t) {
                            var a = t.getWrapperRef();
                            return a && "function" == typeof a.getMsgComponentRef ? a.getMsgComponentRef() : void 0
                        }
                    }, n._updateMsgListInfo = function() {
                        for (var e = n._getMsgList(), t = {}, a = 0, r = n.length - 1; a < r;) {
                            var i = Math.floor((a + r) / 2),
                                l = n._msgRefs[e[i].id.toString()];
                            n.getMsgVisibility(l) === v.default.VISIBILITY.ABOVE ? a = i + 1 : r = i
                        }
                        for (var o = a; o < e.length; o++) {
                            var s = n._msgRefs[e[o].id.toString()];
                            if (n.getMsgVisibility(s) !== v.default.VISIBILITY.VISIBLE) break;
                            t[e[o].id.toString()] = !0
                        }
                        n.pauseHiddenGifs(n._msgListInfo.visibleMsgs, t), n._msgListInfo.visibleMsgs = t
                    }, n.pauseHiddenGifs = function(e, t) {
                        for (var a in e)
                            if (!t[a]) {
                                var r = n.props.starredMsgs.get(a);
                                if (r && r.isGif) {
                                    var i = n.getMsgComponent(a);
                                    i && i.getPlayCount() && i.pause()
                                }
                            }
                    }, n.handleScroll = u.default.throttle(n._handleScroll, 100), n.updateMsgListInfo = u.default.throttle(n._updateMsgListInfo, 100), n._msgListInfo = {
                        visibleMsgs: {}
                    }, n.state = n._getInitialState(), n._currSelection = new L.default([], (function(e) {
                        return e.id.toString()
                    })), n._activeSelection = new L.default([], (function(e) {
                        return e.id.toString()
                    })), n._initSelectionObjects(), n
                }
                return (0, l.default)(a, [{
                    key: "componentDidMount",
                    value: function() {
                        var e = this;
                        this.focus(), this.props.listeners.add(window, "resize", this.updateMsgListInfo), !this.props.starredMsgs.isSynced && this.props.starredMsgs.length < v.default.PAGE_SIZE && this.props.listeners.uiIdle(this.loadEarlierMsgs), this.props.listeners.add(this.props.starredMsgs, "reset sync", (function() {
                            e._initSelectionObjects(), e.forceUpdate()
                        })), this.props.listeners.add(this.props.starredMsgs, "add remove", this._handleStarChange), this.handleFocusGain(), this.props.listeners.add(this.props.starredMsgs, "reset", (function() {
                            e._msgListInfo = {
                                visibleMsgs: {}
                            }, e.setState(e._getInitialState()), e.loadEarlierMsgs()
                        }))
                    }
                }, {
                    key: "componentWillUnmount",
                    value: function() {
                        this.handleScroll.cancel(), this.updateMsgListInfo.cancel()
                    }
                }, {
                    key: "componentDidUpdate",
                    value: function() {
                        this.updateMsgListInfo()
                    }
                }, {
                    key: "render",
                    value: function() {
                        var e, t, a = this,
                            n = this._getMsgList(),
                            r = this.state.cursor,
                            i = this.props.starredMsgs,
                            l = this.props.chat || null;
                        if (t = i.isSynced && r.getEnd(i) >= n.length ? null : this.props.starredMsgs.syncPromise ? (0, B.jsx)("div", {
                                className: D.default.more,
                                title: k.default.t(1163),
                                children: (0, B.jsx)(O.default, {
                                    stroke: 6,
                                    size: 24
                                })
                            }) : (0, B.jsx)("div", {
                                className: D.default.more,
                                children: (0, B.jsx)("div", {
                                    title: k.default.t(1160),
                                    onClick: this.loadEarlierMsgs,
                                    children: (0, B.jsx)(A.default, {
                                        name: "refresh"
                                    })
                                })
                            }), n.length > 0) {
                            var o = n.map((function(e) {
                                var t = e.type === v.default.MSG_TYPE.IMAGE || e.type === v.default.MSG_TYPE.VIDEO || e.type === v.default.MSG_TYPE.AUDIO;
                                return (0, B.jsx)(R.default, {
                                    ref: function(t) {
                                        a.setRefMsgComponent(e, t)
                                    },
                                    msg: e,
                                    isMsgVisible: t ? a.isMsgVisible : function() {},
                                    currSelection: a._currSelection,
                                    activeSelection: a._activeSelection,
                                    onClickMsg: a._selectMsg
                                }, e.id.toString())
                            }));
                            e = (0, B.jsx)(F.default, {
                                transitionName: "slide",
                                children: o
                            })
                        } else this.props.starredMsgs.isSynced ? e = (0, B.jsx)(x.StarredMsgs, {}) : (e = (0, B.jsx)(x.Loading, {}), t = null);
                        var s, d = {
                                down: this._handleNextMsg,
                                up: this._handlePrevMsg
                            },
                            u = n.length > 0 ? (0, B.jsx)(M.MenuBarItem, {
                                a8nText: "starred-menu",
                                icon: (0, B.jsx)(A.default, {
                                    name: "menu"
                                }),
                                title: k.default.t(1246),
                                children: (0, B.jsx)(N.default, {
                                    chat: l,
                                    msgs: n
                                })
                            }) : null;
                        if (j.default.supportsFeature(j.default.F.MD_BACKEND) && (!l || l && l.endOfHistoryTransferType === f.ConversationEndOfHistoryTransferModelPropType.COMPLETE_BUT_MORE_MESSAGES_REMAIN_ON_PRIMARY)) {
                            var c = p.default.relativeDateStr((0, E.getHistorySyncEarliestDate)());
                            s = (0, B.jsx)(m.default, {
                                theme: "md-chat-search-list",
                                children: k.default.t(744, {
                                    date: c
                                })
                            })
                        }
                        return (0, B.jsx)(g.default, {
                            theme: "gallery",
                            children: (0, B.jsxs)(b.default, {
                                className: D.default.hotKeyWraper,
                                handlers: d,
                                onFocus: this.handleFocusGain,
                                "data-tab": v.default.TAB_ORDERS.CHAT_STARRED_DRAWER,
                                onRef: this._setRefHotKeys,
                                children: [(0, B.jsx)(C.default, {
                                    title: k.default.t(1661),
                                    onBack: this.handleClose,
                                    type: C.DRAWER_HEADER_TYPE.LARGE,
                                    menu: u
                                }), (0, B.jsxs)(_.default, {
                                    onScroll: this.onScroll,
                                    ref: this._refScrollContainer,
                                    children: [e, t, s]
                                })]
                            })
                        })
                    }
                }]), a
            }(c.Component);
            U.displayName = "StarredDrawer";
            var G = (0, I.default)((0, w.default)((0, T.default)(U)));
            t.default = G
        },
        73812: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(a(34575)),
                l = r(a(93913)),
                o = r(a(2205)),
                s = r(a(99842)),
                d = a(67294),
                u = r(a(65901)),
                c = n(a(98169)),
                f = r(a(94680)),
                p = r(a(45159)),
                h = r(a(7729)),
                v = a(85893),
                m = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, s.default)(a);

                    function a() {
                        var e;
                        (0, i.default)(this, a);
                        for (var n = arguments.length, r = new Array(n), l = 0; l < n; l++) r[l] = arguments[l];
                        return (e = t.call.apply(t, [this].concat(r))).sendUnstarAll = function() {
                            u.default.openModal((0, v.jsx)(h.default, {
                                msgs: e.props.msgs,
                                chat: e.props.chat
                            }))
                        }, e
                    }
                    return (0, l.default)(a, [{
                        key: "getElement",
                        value: function() {
                            return this._refDropdown
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e = this,
                                t = this.props.msgs;
                            return (0, v.jsx)(c.default, {
                                onRef: function(t) {
                                    e._refDropdown = t
                                },
                                type: "dropdown_menu",
                                flipOnRTL: !0,
                                dirX: c.DirX.LEFT,
                                children: (0, v.jsx)(f.default, {
                                    a8n: "mi-unstar-all menu-item",
                                    action: this.sendUnstarAll,
                                    disabled: 0 === t.length,
                                    children: p.default.t(1742)
                                })
                            }, "StarredDrawerHeader")
                        }
                    }]), a
                }(d.Component);
            t.default = m, m.displayName = "StarredHeaderDropdown"
        },
        2777: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(a(319)),
                l = r(a(34575)),
                o = r(a(93913)),
                s = r(a(2205)),
                d = r(a(99842)),
                u = r(a(48842)),
                c = a(67294),
                f = r(a(40501)),
                p = r(a(10399)),
                h = r(a(20050)),
                v = r(a(66834)),
                m = a(75993),
                g = n(a(73568)),
                _ = r(a(23803)),
                C = r(a(92546)),
                x = a(1577),
                y = r(a(38032)),
                S = r(a(45159)),
                E = r(a(63641)),
                j = r(a(69466)),
                I = r(a(87691)),
                b = r(a(93326)),
                k = r(a(24533)),
                T = r(a(7665)),
                M = a(85893),
                w = "SEC_UNREAD",
                P = "SEC_READ",
                L = "SEC_MUTED",
                O = "ROW_STATUS",
                D = function(e) {
                    (0, s.default)(a, e);
                    var t = (0, d.default)(a);

                    function a() {
                        var e;
                        (0, l.default)(this, a), (e = t.apply(this, arguments)).flatListController = new C.default, e.handleStatusChange = function() {
                            var t = e._getUnreadStatusList(),
                                a = e._getReadStatusList(),
                                n = [].concat((0, i.default)(t), (0, i.default)(a)).filter((function(e) {
                                    return e.contact.statusMute
                                }));
                            e.setState({
                                unreadStatusList: t.filter((function(e) {
                                    return !e.contact.statusMute
                                })),
                                readStatusList: a.filter((function(e) {
                                    return !e.contact.statusMute
                                })),
                                mutedStatusList: n,
                                myStatus: I.default.getMyStatus()
                            })
                        }, e._handleContactMuteChange = function() {
                            var t = e._getUnreadStatusList(),
                                a = e._getReadStatusList(),
                                n = [].concat((0, i.default)(t), (0, i.default)(a)).filter((function(e) {
                                    return e.contact.statusMute
                                }));
                            e.setState({
                                unreadStatusList: t.filter((function(e) {
                                    return !e.contact.statusMute
                                })),
                                readStatusList: a.filter((function(e) {
                                    return !e.contact.statusMute
                                })),
                                mutedStatusList: n,
                                myStatus: I.default.getMyStatus()
                            })
                        }, e._toggleMuted = function() {
                            e.setState((function(e) {
                                return {
                                    isMutedExpanded: !e.isMutedExpanded
                                }
                            }))
                        }, e.renderItem = function(t) {
                            switch (t.type) {
                                case w:
                                    return (0, M.jsxs)("div", {
                                        className: b.default.listSectionSep,
                                        children: [(0, M.jsx)("hr", {}), (0, M.jsx)("div", {
                                            className: b.default.listSectionText,
                                            children: (0, M.jsx)("span", {
                                                children: S.default.t(1672)
                                            })
                                        })]
                                    });
                                case P:
                                    return (0, M.jsxs)("div", {
                                        className: b.default.listSectionSep,
                                        children: [(0, M.jsx)("hr", {}), (0, M.jsx)("div", {
                                            className: b.default.listSectionText,
                                            children: (0, M.jsx)("span", {
                                                children: S.default.t(1679)
                                            })
                                        })]
                                    });
                                case L:
                                    return (0, M.jsxs)("div", {
                                        className: b.default.listSectionSep,
                                        children: [(0, M.jsx)("hr", {}), (0, M.jsxs)("div", {
                                            className: b.default.listSectionText,
                                            children: [(0, M.jsx)("span", {
                                                children: S.default.t(1668)
                                            }), (0, M.jsx)("button", {
                                                className: b.default.listSectionAction,
                                                onClick: e._toggleMuted,
                                                children: t.expanded ? S.default.t(1665) : S.default.t(1666)
                                            })]
                                        })]
                                    });
                                case O:
                                    return (0, M.jsx)(j.default, {
                                        statusV3: t.status,
                                        onClick: function() {
                                            return e.props.onOpenStatus(t.status, void 0, t.index)
                                        },
                                        contact: t.status.contact
                                    });
                                default:
                                    throw new g.UnknownDataError(t)
                            }
                        };
                        var n = e._getUnreadStatusList(),
                            r = e._getReadStatusList(),
                            o = [].concat((0, i.default)(n), (0, i.default)(r)).filter((function(e) {
                                return e.contact.statusMute
                            }));
                        return e.state = {
                            unreadStatusList: n.filter((function(e) {
                                return !e.contact.statusMute
                            })),
                            readStatusList: r.filter((function(e) {
                                return !e.contact.statusMute
                            })),
                            mutedStatusList: o,
                            myStatus: I.default.getMyStatus(),
                            isMutedExpanded: !1
                        }, e
                    }
                    return (0, o.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this;
                            this.props.listeners.add(I.default, "add remove bulk_add sort change:msgsChanged change:hasUnread", this.handleStatusChange), this.props.listeners.add(h.default, "change:statusMute", this._handleContactMuteChange), this.props.listeners.add(I.default, "sync", (function() {
                                e.forceUpdate()
                            }))
                        }
                    }, {
                        key: "_getUnreadStatusList",
                        value: function() {
                            return I.default.getUnexpired(!0)
                        }
                    }, {
                        key: "_getReadStatusList",
                        value: function() {
                            return I.default.getUnexpired(!1)
                        }
                    }, {
                        key: "getData",
                        value: function() {
                            var e = this.state,
                                t = e.unreadStatusList,
                                a = e.readStatusList,
                                n = e.mutedStatusList,
                                r = [];
                            return t.length > 0 && (r.push({
                                type: w,
                                itemKey: "section-unread",
                                height: 48
                            }), r.push.apply(r, (0, i.default)(t.map((function(e, t) {
                                return {
                                    type: O,
                                    itemKey: e.id.toString(),
                                    height: 64,
                                    status: e,
                                    index: t
                                }
                            }))))), a.length > 0 && (r.push({
                                type: P,
                                itemKey: "section-read",
                                height: 48
                            }), r.push.apply(r, (0, i.default)(a.map((function(e, t) {
                                return {
                                    type: O,
                                    itemKey: e.id.toString(),
                                    height: 64,
                                    status: e,
                                    index: t
                                }
                            }))))), n.length > 0 && (r.push({
                                type: L,
                                itemKey: "section-muted",
                                height: 48,
                                expanded: this.state.isMutedExpanded
                            }), this.state.isMutedExpanded && r.push.apply(r, (0, i.default)(n.map((function(e, t) {
                                return {
                                    type: O,
                                    itemKey: e.id.toString(),
                                    height: 64,
                                    status: e,
                                    index: t
                                }
                            }))))), r
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e, t = this.getData();
                            return e = I.default.hasSynced() && t.length > 0 ? (0, M.jsx)(g.default, {
                                className: "statusList",
                                itemEnterAnimationsEnabled: !0,
                                flatListController: this.flatListController,
                                direction: "vertical",
                                data: t,
                                renderItem: this.renderItem
                            }) : (0, M.jsx)(m.ListStatus, {}), (0, M.jsxs)("div", {
                                className: b.default.listPanel,
                                children: [(0, M.jsx)(N, {
                                    statusV3: this.state.myStatus,
                                    onOpenStatus: this.props.onOpenStatus
                                }), (0, M.jsx)(_.default, {
                                    className: b.default.listBody,
                                    flatListControllers: [this.flatListController],
                                    children: e
                                })]
                            })
                        }
                    }]), a
                }(c.Component);

            function N(e) {
                var t, a, n, r = e.statusV3;
                r && (n = r.msgs);
                var i, l, o, s, d = function() {
                    var t = r && r.msgs;
                    r && t && t.length && e.onOpenStatus(r, t.head(), 0)
                };
                if (r && n && n.length) {
                    t = (0, M.jsx)(k.default, {
                        statusV3: r,
                        contact: r.contact,
                        onClick: d
                    });
                    var c = (0, u.default)(n.last(), "myMsgs.last()").t;
                    a = (0, M.jsx)("span", {
                        className: b.default.secondaryHeaderText,
                        children: p.default.relativeDateAndTimeStr(c)
                    }), l = {
                        cursor: "pointer"
                    }, i = d
                } else t = (0, M.jsx)(v.default, {
                    id: (0, x.getMaybeMeUser)(),
                    theme: "status_v3",
                    size: 40
                }), a = (0, M.jsx)("span", {
                    "data-a8n": f.default.key("status-no-updates"),
                    className: b.default.secondaryHeaderText,
                    children: S.default.t(1670)
                });
                y.default.supportsFeature(y.default.F.STATUS_V3_UI_SENDING) && (o = (0, M.jsx)(T.default, {
                    name: "menu"
                }), s = (0, M.jsx)(T.default, {
                    name: "status-v3-create"
                }));
                var h = (0, M.jsx)("span", {
                    "data-a8n": f.default.key("my-status"),
                    className: b.default.primaryHeaderText,
                    children: S.default.t(1669)
                });
                return (0, M.jsxs)("div", {
                    className: b.default.panelHeader,
                    style: l,
                    onClick: i,
                    children: [(0, M.jsx)("div", {
                        className: b.default.headerButtonsPrimary,
                        children: t
                    }), (0, M.jsxs)("div", {
                        className: b.default.headerText,
                        children: [h, a]
                    }), (0, M.jsxs)("div", {
                        className: b.default.headerButtonsSecondary,
                        children: [s, o]
                    })]
                })
            }
            D.displayName = "StatusV3ListPanel";
            var R = (0, E.default)(D);
            t.default = R
        },
        84224: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(a(59713)),
                i = n(a(34575)),
                l = n(a(93913)),
                o = n(a(2205)),
                s = n(a(99842)),
                d = n(a(94184)),
                u = a(67294),
                c = n(a(65901)),
                f = a(1577),
                p = n(a(63641)),
                h = n(a(87691)),
                v = n(a(2777)),
                m = n(a(64133)),
                g = n(a(81515)),
                _ = n(a(7665)),
                C = n(a(45159)),
                x = a(85893),
                y = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, s.default)(a);

                    function a(e) {
                        var n;
                        return (0, i.default)(this, a), (n = t.call(this, e))._handleStatusAddRemove = function() {
                            n.setState({
                                status: h.default.getMyStatus()
                            })
                        }, n.state = {
                            status: h.default.getMyStatus()
                        }, n
                    }
                    return (0, l.default)(a, [{
                        key: "shouldComponentUpdate",
                        value: function(e, t) {
                            return t.status !== this.state.status
                        }
                    }, {
                        key: "componentDidMount",
                        value: function() {
                            var e = this,
                                t = this.props,
                                a = t.sessionId,
                                n = t.listeners;
                            (0, f.setLastStatusUsage)(), n.add(h.default, "add remove", this._handleStatusAddRemove), n.add(c.default, "dismiss_status_v3_viewer", (function() {
                                e.props.closeStatusViewer(!0)
                            })), null != a && h.default.logMetrics({
                                type: "session",
                                sessionId: a
                            })
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e = this,
                                t = this.props.onOpenStatus,
                                a = (0, d.default)(m.default.v3_x, (0, r.default)({}, m.default.v3_x_mac, C.default.isRTL()));
                            return (0, x.jsx)("div", {
                                className: m.default.modalBackground,
                                "data-animate-status-v3-modal-background": !0,
                                children: (0, x.jsxs)("div", {
                                    className: m.default.mainWrapper,
                                    children: [(0, x.jsx)(v.default, {
                                        onOpenStatus: t
                                    }), (0, x.jsx)(g.default, {
                                        status: this.state.status,
                                        onOpenStatus: t
                                    }), (0, x.jsx)("button", {
                                        className: a,
                                        onClick: function() {
                                            return e.props.closeStatusViewer(!0)
                                        },
                                        children: (0, x.jsx)(_.default, {
                                            name: "x-viewer"
                                        })
                                    })]
                                })
                            })
                        }
                    }]), a
                }(u.Component);
            y.displayName = "StatusV3Main";
            var S = (0, p.default)(y);
            t.default = S
        },
        81515: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, a, n = (0, I.jsx)(k, {
                    statusV3: e.status,
                    onOpenStatus: e.onOpenStatus
                });
                v.default.supportsFeature(v.default.F.STATUS_V3_UI_SENDING) && (t = (0, I.jsxs)("div", {
                    className: x.default.updateWrapper,
                    children: [(0, I.jsx)("div", {
                        className: x.default.updateTitle,
                        children: m.default.t(1675)
                    }), (0, I.jsxs)("div", {
                        className: x.default.uploadButtons,
                        children: [(0, I.jsxs)("div", {
                            className: x.default.buttonContainer,
                            children: [(0, I.jsx)(E.default, {
                                name: "status-v3-upload",
                                className: x.default.buttonIcon
                            }), m.default.t(1676)]
                        }), (0, I.jsxs)("div", {
                            className: x.default.buttonContainer,
                            children: [(0, I.jsx)(E.default, {
                                name: "status-v3-camera",
                                className: x.default.buttonIcon
                            }), m.default.t(1664)]
                        })]
                    })]
                }), a = (0, I.jsx)("hr", {}));
                return (0, I.jsxs)("div", {
                    className: x.default.outStatusPanel,
                    children: [t, a, n]
                })
            };
            var i = r(a(34575)),
                l = r(a(93913)),
                o = r(a(2205)),
                s = r(a(99842)),
                d = a(18077),
                u = a(67294),
                c = r(a(40501)),
                f = r(a(10399)),
                p = r(a(66834)),
                h = n(a(18286)),
                v = r(a(38032)),
                m = r(a(45159)),
                g = r(a(63641)),
                _ = r(a(29289)),
                C = r(a(5202)),
                x = r(a(39310)),
                y = r(a(45829)),
                S = r(a(24533)),
                E = r(a(7665)),
                j = a(59175),
                I = a(85893);
            var b = function(e) {
                (0, o.default)(a, e);
                var t = (0, s.default)(a);

                function a() {
                    var e;
                    (0, i.default)(this, a);
                    for (var n = arguments.length, r = new Array(n), l = 0; l < n; l++) r[l] = arguments[l];
                    return (e = t.call.apply(t, [this].concat(r))).rerender = function() {
                        e.forceUpdate()
                    }, e
                }
                return (0, l.default)(a, [{
                    key: "componentDidMount",
                    value: function() {
                        var e = this.props,
                            t = e.statusV3,
                            a = e.listeners;
                        t && (a.add(t, "change:msgsChanged", this.rerender), t.loadMore(t.totalCount).catch((function(e) {
                            __LOG__(3)`error while loading all out status: ${String(e)}`
                        })))
                    }
                }, {
                    key: "componentDidUpdate",
                    value: function(e) {
                        var t = this.props,
                            a = t.listeners,
                            n = t.statusV3,
                            r = e.statusV3;
                        r !== n && (r && a.remove(r, "change:msgsChanged", this.rerender), n && a.add(n, "change:msgsChanged", this.rerender))
                    }
                }, {
                    key: "render",
                    value: function() {
                        var e = this,
                            t = this.props.statusV3;
                        if (t && t.msgs.length > 0) {
                            var a = t.msgs.map((function(a) {
                                return (0, I.jsx)(M, {
                                    msg: a,
                                    status: t,
                                    onOpenStatus: e.props.onOpenStatus
                                }, a.id.toString())
                            }));
                            return (0, I.jsxs)("div", {
                                className: x.default.viewWrapper,
                                children: [(0, I.jsx)("div", {
                                    className: x.default.viewTitle,
                                    children: m.default.t(1678)
                                }), (0, I.jsx)("div", {
                                    className: x.default.viewUpdates,
                                    children: a
                                })]
                            })
                        }
                        return (0, I.jsxs)("div", {
                            className: x.default.viewWrapper,
                            children: [(0, I.jsx)("div", {
                                className: x.default.placeholderIcon,
                                children: (0, I.jsx)(E.default, {
                                    name: "status-v3-placeholder"
                                })
                            }), (0, I.jsx)("div", {
                                "data-a8n": c.default.key("status-placeholder"),
                                className: x.default.placeholderText,
                                children: m.default.t(1671)
                            })]
                        })
                    }
                }]), a
            }(u.Component);
            b.displayName = "StatusV3OutViewerImpl";
            var k = (0, g.default)(b),
                T = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, s.default)(a);

                    function a() {
                        var e;
                        return (0, i.default)(this, a), (e = t.apply(this, arguments)).state = {}, e
                    }
                    return (0, l.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this;
                            _.default.find(this.props.msg.id).checkpoint(this.props.rejectOnUnmount()).then((function(t) {
                                e.props.listeners.add(t.read, "add remove", (function() {
                                    e.setState({
                                        seenCount: t.read.length
                                    })
                                })), e.setState({
                                    seenCount: t.read.length
                                })
                            })).catch((0, d.filteredCatch)(h.Unmount, (function() {}))).catch((0, d.filteredCatch)(j.EphemeralDrop, (function() {})))
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e = this,
                                t = this.props,
                                a = t.msg,
                                n = t.status,
                                r = (0, I.jsx)(p.default, {
                                    id: a.sender,
                                    theme: "status_v3",
                                    size: 80
                                });
                            return (0, I.jsxs)("div", {
                                className: x.default.outDetail,
                                children: [(0, I.jsx)(S.default, {
                                    statusV3: n,
                                    msg: a,
                                    onClick: function() {
                                        return e.props.onOpenStatus(n, a)
                                    },
                                    contact: n.contact,
                                    role: "button",
                                    theme: "status-panel",
                                    thumbnailPlaceholder: r
                                }), (0, I.jsx)("div", {
                                    className: x.default.seen,
                                    children: (0, I.jsx)(y.default, {
                                        seenCount: this.state.seenCount
                                    })
                                }), (0, I.jsx)("div", {
                                    className: x.default.timestamp,
                                    children: f.default.relativeDateAndTimeStr(a.t)
                                })]
                            })
                        }
                    }]), a
                }(u.Component);
            T.displayName = "StatusV3OutDetailImpl";
            var M = (0, C.default)((0, g.default)(T))
        },
        59742: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(a(34575)),
                i = n(a(93913)),
                l = n(a(2205)),
                o = n(a(99842)),
                s = a(67294),
                d = n(a(65901)),
                u = n(a(86777)),
                c = n(a(45159)),
                f = n(a(37388)),
                p = n(a(83530)),
                h = n(a(63443)),
                v = a(85893),
                m = function(e) {
                    (0, l.default)(a, e);
                    var t = (0, o.default)(a);

                    function a() {
                        var e;
                        (0, r.default)(this, a);
                        for (var n = arguments.length, i = new Array(n), l = 0; l < n; l++) i[l] = arguments[l];
                        return (e = t.call.apply(t, [this].concat(i))).state = {
                            theme: "system"
                        }, e._handleThemeChange = function(t) {
                            var a = t.target.value;
                            "light" !== a && "dark" !== a && "system" !== a || e.setState({
                                theme: a
                            })
                        }, e._handleOk = function() {
                            var t = e.state.theme;
                            "system" === t ? (e.context.setSystemThemeMode(!0), e.context.setTheme(p.default.currentTheme)) : (e.context.setSystemThemeMode(!1), e.context.setTheme(t)), d.default.closeModal()
                        }, e._handleCancel = function() {
                            d.default.closeModal()
                        }, e
                    }
                    return (0, i.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            this.setState({
                                theme: this.context.systemThemeMode ? "system" : this.context.theme
                            })
                        }
                    }, {
                        key: "_renderNewChatInfoSetting",
                        value: function() {
                            return null
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e = this.state.theme;
                            return (0, v.jsxs)(u.default, {
                                title: c.default.t(1720),
                                onOK: this._handleOk,
                                onCancel: this._handleCancel,
                                children: [(0, v.jsx)("form", {
                                    children: (0, v.jsxs)("ol", {
                                        children: [(0, v.jsx)("li", {
                                            children: (0, v.jsxs)("label", {
                                                className: f.default.label,
                                                children: [(0, v.jsx)("input", {
                                                    type: "radio",
                                                    name: "theme",
                                                    value: "light",
                                                    className: f.default.input,
                                                    checked: "light" === e,
                                                    onChange: this._handleThemeChange
                                                }), c.default.t(1719)]
                                            })
                                        }, "light"), (0, v.jsx)("li", {
                                            children: (0, v.jsxs)("label", {
                                                className: f.default.label,
                                                children: [(0, v.jsx)("input", {
                                                    type: "radio",
                                                    name: "theme",
                                                    value: "dark",
                                                    className: f.default.input,
                                                    checked: "dark" === e,
                                                    onChange: this._handleThemeChange
                                                }), c.default.t(1718)]
                                            })
                                        }, "dark"), (0, v.jsx)("li", {
                                            children: (0, v.jsxs)("label", {
                                                className: f.default.label,
                                                children: [(0, v.jsx)("input", {
                                                    type: "radio",
                                                    name: "theme",
                                                    value: "system",
                                                    className: f.default.input,
                                                    checked: "system" === e,
                                                    onChange: this._handleThemeChange
                                                }), c.default.t(1721)]
                                            })
                                        }, "system")]
                                    })
                                }), this._renderNewChatInfoSetting()]
                            })
                        }
                    }]), a
                }(s.PureComponent);
            t.default = m, m.contextType = h.default, m.displayName = "ThemePopup"
        },
        7729: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.chat,
                    a = e.msgs;
                return (0, d.jsx)(l.default, {
                    onOK: function() {
                        t && t.pendingAction++, r.default.unstarAllMessages(a, t).finally((function() {
                            t && t.pendingAction--
                        })), i.default.closeModal()
                    },
                    okText: s.default.t(1743),
                    onCancel: function() {
                        i.default.closeModal()
                    },
                    children: (0, d.jsx)("div", {
                        children: (0, d.jsx)(o.default, {
                            text: s.default.t(1744)
                        })
                    })
                })
            };
            var r = n(a(4481)),
                i = n(a(65901)),
                l = n(a(86777)),
                o = n(a(73008)),
                s = n(a(45159)),
                d = a(85893)
        },
        92717: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, a = e.contactList,
                    n = e.onSend,
                    r = e.onBack,
                    m = e.chat;
                switch (m.kind) {
                    case i.CHAT_KIND.CHAT:
                        t = c.default.t(709, {
                            chat: m.title(),
                            count: c.default.n(a.length),
                            _plural: a.length
                        });
                        break;
                    case i.CHAT_KIND.GROUP:
                        t = c.default.t(710, {
                            chat: m.title(),
                            count: c.default.n(a.length),
                            _plural: a.length
                        });
                        break;
                    case i.CHAT_KIND.BROADCAST:
                        t = c.default.t(708, {
                            chat: m.title(),
                            count: c.default.n(a.length),
                            _plural: a.length
                        })
                }
                var x = t ? (0, _.jsx)(d.default, {
                    text: t,
                    direction: "auto",
                    titlify: !0,
                    ellipsify: !0
                }) : null;
                return (0, _.jsx)(f.default, {
                    type: f.ModalTheme.Box,
                    children: (0, _.jsxs)(l.default, {
                        children: [(0, _.jsx)(s.default, {
                            type: s.DRAWER_HEADER_TYPE.POPUP,
                            onBack: r,
                            children: x
                        }), (0, _.jsx)(o.default, {
                            children: (0, _.jsx)(u.default, {
                                children: (0, _.jsx)("div", {
                                    className: v.default.body,
                                    children: a.map((function(e, t) {
                                        return (0, _.jsx)(C, {
                                            contact: (0, g.vcardFromContactModel)(e)
                                        }, t.toString())
                                    }))
                                })
                            })
                        }), (0, _.jsx)("div", {
                            className: v.default.btnContainer,
                            children: (0, _.jsx)("div", {
                                className: v.default.btnPosition,
                                children: (0, _.jsx)(p.default, {
                                    large: !0,
                                    onClick: n,
                                    children: (0, _.jsx)(h.default, {
                                        name: "send",
                                        directional: !0
                                    })
                                })
                            })
                        })]
                    })
                })
            };
            var i = a(29656),
                l = r(a(53187)),
                o = r(a(18345)),
                s = n(a(19288)),
                d = r(a(73008)),
                u = r(a(58342)),
                c = r(a(45159)),
                f = n(a(73454)),
                p = r(a(80385)),
                h = r(a(7665)),
                v = r(a(55771)),
                m = r(a(63311)),
                g = a(4973),
                _ = a(85893);

            function C(e) {
                var t = e.contact,
                    a = (0, g.parseVcard)(t.vcard);
                return a ? (0, _.jsx)("div", {
                    className: v.default.vcardWrapper,
                    children: (0, _.jsx)(m.default, {
                        parsedVcard: a,
                        thumbnail: (0, g.vcardThumbnail)(a)
                    })
                }) : null
            }
        },
        9242: (e, t, a) => {
            "use strict";
            var n = a(52108).default,
                r = a(20862),
                i = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var l = i(a(34575)),
                o = i(a(93913)),
                s = i(a(2205)),
                d = i(a(99842)),
                u = i(a(94184)),
                c = a(18077),
                f = a(26845),
                p = i(a(31339)),
                h = a(67294),
                v = i(a(2210)),
                m = i(a(51599)),
                g = i(a(65901)),
                _ = i(a(94253)),
                C = i(a(20050)),
                x = i(a(32784)),
                y = i(a(53187)),
                S = i(a(18345)),
                E = r(a(19288)),
                j = r(a(18286)),
                I = i(a(49012)),
                b = a(29281),
                k = a(76151),
                T = a(953),
                M = a(1577),
                w = i(a(16556)),
                P = i(a(38032)),
                L = r(a(7244)),
                O = i(a(2424)),
                D = a(94939),
                N = i(a(45159)),
                R = i(a(63641)),
                A = r(a(29550)),
                F = i(a(5202)),
                B = i(a(37360)),
                U = a(96197),
                G = i(a(93886)),
                H = i(a(85651)),
                V = i(a(61897)),
                W = i(a(7665)),
                z = a(22552),
                K = i(a(36450)),
                Y = i(a(42037)),
                q = i(a(61566)),
                Z = a(37261),
                X = a(59566),
                $ = i(a(78176)),
                J = a(85893),
                Q = function(e) {
                    (0, s.default)(a, e);
                    var t = (0, d.default)(a);

                    function a() {
                        var e;
                        (0, l.default)(this, a);
                        for (var n = arguments.length, r = new Array(n), i = 0; i < n; i++) r[i] = arguments[i];
                        return (e = t.call.apply(t, [this].concat(r))).state = {
                            hover: !1,
                            currentQRBinary: null,
                            currentQRData: null
                        }, e.handleMouseOver = function() {
                            e.state.hover || e.setState({
                                hover: !0
                            })
                        }, e.handleMouseEnter = function() {
                            e.state.hover || e.setState({
                                hover: !0
                            })
                        }, e.handleMouseLeave = function() {
                            e.state.hover && e.setState({
                                hover: !1
                            })
                        }, e._setRefQRCodeContainer = function(t) {
                            e._refQRCodeContainer = t
                        }, e
                    }
                    return (0, o.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            this.props.binary && this._generateQRCode()
                        }
                    }, {
                        key: "componentDidUpdate",
                        value: function() {
                            this._generateQRCode()
                        }
                    }, {
                        key: "shouldComponentUpdate",
                        value: function(e, t) {
                            return !(this._compareBinary(e.binary, this.props.binary) && this._compareBinary(t.currentQRBinary, this.state.currentQRBinary) && e.visible === this.props.visible && t.hover === this.state.hover && t.currentQRData === this.state.currentQRData)
                        }
                    }, {
                        key: "_fingerprintsMatched",
                        value: function(e, t) {
                            return !!e && !!t && me(e.publicKey, t.publicKey) && me(e.identifier, t.identifier)
                        }
                    }, {
                        key: "_compareBinary",
                        value: function(e, t) {
                            if (!e && !t) return !0;
                            var a = (0, f.decodeProtobuf)(T.CombinedFingerprintSpec, e),
                                n = (0, f.decodeProtobuf)(T.CombinedFingerprintSpec, t);
                            if (!a && !n) return !0;
                            if (!(null != a.version || null != n.version || a.localFingerprint || n.localFingerprint || a.remoteFingerprint || n.remoteFingerprint)) return !0;
                            if (a.version !== n.version) return !1;
                            var r = this._fingerprintsMatched(a.localFingerprint, n.localFingerprint),
                                i = this._fingerprintsMatched(a.remoteFingerprint, n.remoteFingerprint);
                            return r && i
                        }
                    }, {
                        key: "_generateQRCode",
                        value: function() {
                            var e = this._refQRCodeContainer,
                                t = this.props.binary;
                            if (e && t) {
                                if (!this._compareBinary(this.state.currentQRBinary, t)) {
                                    for (this.qr && delete this.qr; e.firstChild;) e.removeChild(e.firstChild);
                                    this.qr = new B.default(e, {
                                        text: t,
                                        width: _.default.QR_EDGE / 2,
                                        height: _.default.QR_EDGE / 2,
                                        correctLevel: B.default.CorrectLevel.L
                                    }), this.setState({
                                        currentQRBinary: t
                                    });
                                    var a = e.getElementsByTagName("canvas")[0];
                                    a ? this._storeQRData(a) : this.setState({
                                        currentQRData: null
                                    })
                                }
                            } else this.setState({
                                currentQRBinary: null,
                                currentQRData: null
                            })
                        }
                    }, {
                        key: "_storeQRData",
                        value: function(e) {
                            var t = this,
                                a = document.createElement("canvas");
                            a.width = e.width + 10, a.height = e.height + 10;
                            var n = a.getContext("2d");
                            n.fillStyle = "white", n.fillRect(0, 0, a.width, a.height), n.drawImage(e, 5, 5), a.toBlob((function(e) {
                                return t.setState({
                                    currentQRData: e
                                })
                            }), "image/png")
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e = null;
                            if (this.props.visible) {
                                var t = null;
                                if (this.state.hover && this.state.currentQRData) {
                                    var a = this.props.contact.formattedUser || "",
                                        n = C.default.assertGet((0, M.getMaybeMeUser)()).formattedUser;
                                    t = (0, J.jsx)(x.default, {
                                        file: this.state.currentQRData,
                                        download: "Verification Code between " + n + " and " + a,
                                        extension: k.AllowedFileExtensions.PNG,
                                        children: (0, J.jsx)(v.default, {
                                            text: N.default.t(2252)
                                        })
                                    })
                                }
                                e = (0, J.jsxs)("div", {
                                    onMouseOver: this.handleMouseOver,
                                    onMouseEnter: this.handleMouseEnter,
                                    onMouseLeave: this.handleMouseLeave,
                                    children: [t, (0, J.jsx)("div", {
                                        className: Y.default.circle,
                                        ref: this._setRefQRCodeContainer
                                    })]
                                })
                            }
                            return e
                        }
                    }]), a
                }(h.Component);

            function ee(e) {
                var t = null;
                return e.visible && (t = (0, J.jsx)("div", {
                    className: Y.default.circle,
                    children: (0, J.jsx)("div", {
                        className: Y.default.spinner,
                        children: (0, J.jsx)(H.default, {
                            size: 52,
                            stroke: 4
                        })
                    })
                })), t
            }

            function te(e) {
                var t = e.binary,
                    a = e.contact,
                    n = null;
                return e.visible && (n = (0, J.jsxs)("div", {
                    className: (0, u.default)(Y.default.container, Y.default.circleContainer),
                    children: [(0, J.jsx)(Q, {
                        visible: !!t,
                        binary: t,
                        contact: a
                    }), (0, J.jsx)(ee, {
                        visible: !t
                    })]
                })), n
            }
            Q.defaultProps = {
                binary: null
            }, Q.displayName = "VerificationQRCode";
            var ae = function(e) {
                (0, s.default)(a, e);
                var t = (0, d.default)(a);

                function a() {
                    return (0, l.default)(this, a), t.apply(this, arguments)
                }
                return (0, o.default)(a, [{
                    key: "shouldComponentUpdate",
                    value: function(e) {
                        return e.string !== this.props.string
                    }
                }, {
                    key: "_numDigitsInVerificationString",
                    value: function() {
                        return 60
                    }
                }, {
                    key: "render",
                    value: function() {
                        if (!this.props.string) return (0, J.jsx)("div", {
                            children: N.default.t(1162)
                        });
                        var e = this.props.string;
                        if (e.length !== this._numDigitsInVerificationString()) return __LOG__(3)`verificationString:render this.props.stringshould be ${this._numDigitsInVerificationString()} characters long instead of ${e.length}.`, (0, J.jsx)("div", {
                            children: N.default.t(2258)
                        });
                        for (var t = [], a = 0; a < 3; a++) {
                            for (var n = [], r = 0; r < 4; r++) {
                                for (var i = [], l = 0; l < 5; l++) {
                                    var o = e.charAt(5 * a * 4 + 5 * r + l);
                                    i.push((0, J.jsx)("span", {
                                        className: Y.default.digit,
                                        children: o
                                    }, l))
                                }
                                n.push((0, J.jsx)("span", {
                                    className: Y.default.block,
                                    children: i
                                }, r))
                            }
                            t.push((0, J.jsx)(U.SelectableDiv, {
                                className: Y.default.row,
                                selectable: !0,
                                children: n
                            }, a))
                        }
                        return (0, J.jsx)(U.SelectableDiv, {
                            selectable: !0,
                            children: t
                        })
                    }
                }]), a
            }(h.Component);

            function ne(e) {
                var t = null;
                return e.visible && (t = (0, J.jsx)("div", {
                    className: (0, u.default)(Y.default.container, Y.default.checkmarkContainer),
                    children: (0, J.jsx)("div", {
                        className: Y.default.checkmark,
                        children: " "
                    })
                })), t
            }

            function re(e) {
                var t = null;
                return e.visible && (t = (0, J.jsx)("div", {
                    className: (0, u.default)(Y.default.container, Y.default.errorContainer),
                    children: (0, J.jsx)("div", {
                        className: Y.default.error,
                        children: "!"
                    })
                })), t
            }

            function ie(e) {
                var t = e.children;
                return (0, J.jsx)("div", {
                    className: Y.default.errorBanner,
                    children: t
                })
            }
            ae.defaultProps = {
                string: null
            }, ae.displayName = "VerificationString";
            var le = function(e) {
                (0, s.default)(a, e);
                var t = (0, d.default)(a);

                function a() {
                    var e;
                    (0, l.default)(this, a);
                    for (var n = arguments.length, r = new Array(n), i = 0; i < n; i++) r[i] = arguments[i];
                    return (e = t.call.apply(t, [this].concat(r)))._refVerificationVideo = (0, h.createRef)(), e.handleVideoLoaded = function() {
                        null == e._captureInterval && (e._adjustOverlayPosition(), e._captureInterval = e.props.setInterval(e.capture, 200))
                    }, e.capture = function() {
                        var t, a = null === (t = e._refVerificationVideo.current) || void 0 === t ? void 0 : t.underlyingVideo();
                        if (a) {
                            var n = document.createElement("canvas");
                            n.width = a.videoWidth / 2, n.height = a.videoHeight / 2, n.getContext("2d").drawImage(a, n.width / 2, n.height / 2, n.width, n.height, 0, 0, n.width, n.height), n.toBlob((function(t) {
                                var a = window.URL.createObjectURL(t);
                                __LOG__(2)`objectURL: ${a}`, e.props.onCapture(a)
                            }), "image/jpeg", 1)
                        }
                    }, e._adjustOverlayPosition = function() {
                        var t, a = null === (t = e._refVerificationVideo.current) || void 0 === t ? void 0 : t.underlyingVideo(),
                            n = e._refVerificationOverlay;
                        if (a && n) {
                            var r = a.offsetHeight,
                                i = a.offsetWidth,
                                l = i / 3,
                                o = l;
                            n.style.width = l + "px", n.style.height = o + "px", n.style.margin = (r - o) / 2 + "px " + (i - l) / 2 + "px"
                        }
                    }, e._setRefVerificationOverlay = function(t) {
                        e._refVerificationOverlay = t
                    }, e
                }
                return (0, o.default)(a, [{
                    key: "componentDidMount",
                    value: function() {
                        this.props.listeners.add(window, "resize", this._adjustOverlayPosition), (0, A.isSrcObjectInVideoElement)() || (this._videoURL = window.URL.createObjectURL(this.props.stream))
                    }
                }, {
                    key: "componentWillUnmount",
                    value: function() {
                        var e, t;
                        null != this._captureInterval && this.props.clearInterval(this._captureInterval), this.props.stream && (null === (e = (t = this.props).disposeStream) || void 0 === e || e.call(t), this._videoURL && window.URL.revokeObjectURL(this._videoURL))
                    }
                }, {
                    key: "render",
                    value: function() {
                        var e = null;
                        return this.props.stream && (e = (0, J.jsxs)("div", {
                            className: Y.default.webcam,
                            children: [(0, J.jsx)("div", {
                                className: Y.default.webcamVideo,
                                children: (0, J.jsx)(q.default, {
                                    autoPlay: !0,
                                    ref: this._refVerificationVideo,
                                    onPlay: this.handleVideoLoaded,
                                    src: this._videoURL ? this._videoURL : void 0,
                                    srcObject: this._videoURL ? void 0 : this.props.stream,
                                    width: "100%"
                                })
                            }), (0, J.jsx)("div", {
                                className: Y.default.overlay,
                                ref: this._setRefVerificationOverlay
                            }), (0, J.jsx)("button", {
                                onClick: this.props.onClose,
                                className: Y.default.btnClose,
                                children: (0, J.jsx)(W.default, {
                                    name: "x-alt"
                                })
                            })]
                        })), e
                    }
                }]), a
            }(h.Component);
            le.displayName = "VerificationWebcamComponent";
            var oe = (0, R.default)((0, K.default)(le)),
                se = 0,
                de = 1,
                ue = 2,
                ce = 3,
                fe = 4,
                pe = 5,
                he = function(e) {
                    (0, s.default)(a, e);
                    var t = (0, d.default)(a);

                    function a() {
                        var e;
                        (0, l.default)(this, a);
                        for (var n = arguments.length, r = new Array(n), i = 0; i < n; i++) r[i] = arguments[i];
                        return (e = t.call.apply(t, [this].concat(r))).state = {
                            circleVisible: !0,
                            checkmarkVisible: !1,
                            errorIconVisible: !1,
                            webcamVisible: !1,
                            bannerVisible: !1,
                            bannerText: null,
                            stream: null,
                            isDragging: !1,
                            binaryMD: null,
                            stringMD: null
                        }, e._handleIdentityKeyMissing = function() {
                            g.default.openModal((0, J.jsx)(G.default, {
                                name: e.props.contact.formattedUser,
                                onOK: function() {
                                    e.props.onClose ? e.props.onClose() : e.props.uim.uie.requestDismiss()
                                }
                            }))
                        }, e.handleDragChange = function(t) {
                            e.setState({
                                isDragging: t
                            })
                        }, e.handleDrop = function(t) {
                            e.props.contact.verificationBinary && e.props.contact.verificationString && e._handleUploadSelect(t)
                        }, e._setIdentityState = function() {
                            (0, $.default)(e.props.contact.id).checkpoint(e.props.rejectOnUnmount()).then((function(t) {
                                t ? (me(e.state.binaryMD, t.binary) && !t.string !== e.state.stringMD || (null != e.state.binaryMD && g.default.openModal((0, J.jsx)(Z.E2EChangeModal, {
                                    contact: e.props.contact
                                })), e.setState({
                                    binaryMD: t.binary,
                                    stringMD: t.string
                                })), e._refreshTimer = e.props.setTimeout((function() {
                                    e._setIdentityState()
                                }), 1e3)) : (null != e._refreshTimer && e.props.clearTimeout(e._refreshTimer), e._handleIdentityKeyMissing())
                            })).catch((0, c.filteredCatch)(j.Unmount, (function() {})))
                        }, e._showWebcamHint = function() {
                            e.state.webcamVisible && !e.state.bannerVisible && e._showBanner(N.default.t(2262))
                        }, e._handleWebcamOpen = function() {
                            var t = A.start("camera"),
                                a = t.asyncStream,
                                n = t.disposeStream;
                            e._disposeStream = n, a.then((function(t) {
                                return e._showWebcamStream(t)
                            })).catch((0, c.filteredCatch)(j.GUM.NotAllowedError, (function() {
                                g.default.openModal((0, J.jsx)(L.default, {
                                    messaging: L.Messaging.CAMERA_FAIL,
                                    type: L.TYPE.GUIDE_UNBLOCK
                                }))
                            }))).catch((0, c.filteredCatch)(j.GUM.GUMError, (function() {
                                g.default.openModal((0, J.jsx)(L.default, {
                                    messaging: L.Messaging.CAMERA_MISSING,
                                    type: L.TYPE.GUIDE_NONE
                                }))
                            })))
                        }, e._handleWebcamClose = function() {
                            e.setState({
                                webcamVisible: !1,
                                bannerVisible: !1,
                                stream: null
                            }), e._disposeStream = null
                        }, e._handleWebcamCapture = function(t) {
                            e._verifyImage(t, !0)
                        }, e._handleUploadClick = function() {
                            var t = e._refVerificationFilePickerInput;
                            t && t.click()
                        }, e._handleUploadSelect = function(t) {
                            t.stopPropagation();
                            var a = t.target.files || t.dataTransfer.files;
                            if (a && a[0]) {
                                var n = a[0],
                                    r = URL.createObjectURL(n);
                                e._verifyImage(r, !1);
                                var i = e._refVerificationFilePickerForm;
                                i && i.reset()
                            }
                        }, e.handleClose = function() {
                            e.props.onClose ? e.props.onClose() : e.props.uim.uie.requestDismiss()
                        }, e._hideCheckmark = function() {
                            e.state.errorIconVisible || e.setState({
                                circleVisible: !0
                            }), e.setState({
                                checkmarkVisible: !1
                            })
                        }, e._hideError = function() {
                            e.state.checkmarkVisible || e.setState({
                                circleVisible: !0
                            }), e.setState({
                                errorIconVisible: !1
                            })
                        }, e._hideBanner = function() {
                            e.setState({
                                bannerVisible: !1
                            })
                        }, e._setRefVerificationFilePickerForm = function(t) {
                            e._refVerificationFilePickerForm = t
                        }, e._setRefVerificationFilePickerInput = function(t) {
                            e._refVerificationFilePickerInput = t
                        }, e
                    }
                    return (0, o.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            P.default.supportsFeature(P.default.F.MD_BACKEND) ? this._setIdentityState() : (0, D.queryIdentity)(this.props.contact)
                        }
                    }, {
                        key: "componentDidUpdate",
                        value: function(e) {
                            e.contact === this.props.contact || P.default.supportsFeature(P.default.F.MD_BACKEND) || (0, D.queryIdentity)(this.props.contact)
                        }
                    }, {
                        key: "componentWillUnmount",
                        value: function() {
                            var e;
                            null === (e = this._disposeStream) || void 0 === e || e.call(this)
                        }
                    }, {
                        key: "_showWebcamStream",
                        value: function(e) {
                            this.setState({
                                webcamVisible: !0,
                                circleVisible: !0,
                                checkmarkVisible: !1,
                                errorIconVisible: !1,
                                stream: e
                            }), null != this._hintTimer && (this.props.clearTimeout(this._hintTimer), delete this._hintTimer), this._hintTimer = this.props.setTimeout(this._showWebcamHint, 7e3)
                        }
                    }, {
                        key: "_getErrorBannerText",
                        value: function(e) {
                            var t, a = this.props.contact.formattedShortName;
                            switch (e) {
                                case ue:
                                    t = N.default.t(2256, {
                                        contact: a
                                    });
                                    break;
                                case ce:
                                case fe:
                                    t = N.default.t(2255, {
                                        contact: a
                                    });
                                    break;
                                case pe:
                                default:
                                    t = N.default.t(2254)
                            }
                            return t
                        }
                    }, {
                        key: "_showCheckmark",
                        value: function() {
                            this._handleWebcamClose(), this.setState({
                                circleVisible: !1,
                                checkmarkVisible: !0,
                                errorIconVisible: !1,
                                bannerVisible: !1
                            }), null != this._iconTimer && (this.props.clearTimeout(this._iconTimer), delete this._iconTimer), this._iconTimer = this.props.setTimeout(this._hideCheckmark, 3e3)
                        }
                    }, {
                        key: "_showErrorIcon",
                        value: function() {
                            this._handleWebcamClose(), this.setState({
                                circleVisible: !1,
                                checkmarkVisible: !1,
                                errorIconVisible: !0,
                                bannerVisible: !1
                            }), null != this._iconTimer && (this.props.clearTimeout(this._iconTimer), delete this._iconTimer), this._iconTimer = this.props.setTimeout(this._hideError, 3e3)
                        }
                    }, {
                        key: "_showErrorBanner",
                        value: function(e) {
                            var t = this._getErrorBannerText(e);
                            this._showBanner(t)
                        }
                    }, {
                        key: "_showBanner",
                        value: function(e) {
                            this.setState({
                                circleVisible: !0,
                                checkmarkVisible: !1,
                                errorIconVisible: !1,
                                bannerVisible: !0,
                                bannerText: e
                            }), null != this._bannerTimer && (this.props.clearTimeout(this._bannerTimer), delete this._bannerTimer), this._bannerTimer = this.props.setTimeout(this._hideBanner, 5e3)
                        }
                    }, {
                        key: "_validateFingerprint",
                        value: function(e) {
                            if (!e || 0 === !e.version || !e.localFingerprint || !e.remoteFingerprint) return pe;
                            var t = new ArrayBuffer(0);
                            t = P.default.supportsFeature(P.default.F.MD_BACKEND) ? this.state.binaryMD : this.props.contact.verificationBinary;
                            var a = (0, f.decodeProtobuf)(T.CombinedFingerprintSpec, t);
                            if (me(e.localFingerprint && e.localFingerprint.identifier, a.localFingerprint && a.localFingerprint.identifier) && me(e.remoteFingerprint && e.remoteFingerprint.identifier, a.remoteFingerprint && a.remoteFingerprint.identifier)) return se;
                            var n = me(e.remoteFingerprint && e.remoteFingerprint.identifier, a.localFingerprint && a.localFingerprint.identifier),
                                r = me(e.localFingerprint && e.localFingerprint.identifier, a.remoteFingerprint && a.remoteFingerprint.identifier);
                            if (!n && !r) return fe;
                            if (!n) return ue;
                            if (!r) return ce;
                            var i = me(e.remoteFingerprint && e.remoteFingerprint.publicKey, a.localFingerprint && a.localFingerprint.publicKey),
                                l = me(e.localFingerprint && e.localFingerprint.publicKey, a.remoteFingerprint && a.remoteFingerprint.publicKey);
                            return i && l ? se : de
                        }
                    }, {
                        key: "_decodeQRCode",
                        value: function(e) {
                            return new n((function(t, a) {
                                p.default.callback = function(e, n) {
                                    if (n) a(n);
                                    else if (e.length < 1) a("QR decoder did not return decoded binary");
                                    else {
                                        var r = new Uint8Array(e[0]);
                                        t(r)
                                    }
                                }, p.default.decode(e)
                            }))
                        }
                    }, {
                        key: "_verifyImage",
                        value: function(e, t) {
                            var a = this;
                            this._decodeQRCode(e).then((function(e) {
                                return (0, f.decodeProtobuf)(T.CombinedFingerprintSpec, e)
                            })).then((function(e) {
                                var n = a._validateFingerprint(e);
                                n ? t && n === pe || (a.setState({
                                    errorType: n
                                }), n === de ? a._showErrorIcon() : a._showErrorBanner(n)) : a._showCheckmark()
                            })).catch((function() {
                                t || (a.setState({
                                    errorType: pe
                                }), a._showErrorBanner(pe))
                            })).finally((function() {
                                window.URL.revokeObjectURL(e)
                            }))
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e = null,
                                t = null,
                                a = null,
                                n = null,
                                r = null,
                                i = null,
                                l = new ArrayBuffer(0),
                                o = "";
                            return P.default.supportsFeature(P.default.F.MD_BACKEND) ? (l = this.state.binaryMD, o = this.state.stringMD, i = (0, X.getABPropConfigValue)("adv_v2_m6") ? N.default.t(2103, {
                                contactName: this.props.contact.formattedShortName
                            }) : N.default.t(2102, {
                                contactName: this.props.contact.formattedShortName
                            })) : (l = this.props.contact.verificationBinary, o = this.props.contact.verificationString, i = N.default.t(2257)), l && (w.default && (e = (0, J.jsx)("div", {
                                className: Y.default.section,
                                children: (0, J.jsx)(m.default, {
                                    type: "primary",
                                    onClick: this.state.webcamVisible ? this._handleWebcamClose : this._handleWebcamOpen,
                                    children: this.state.webcamVisible ? N.default.t(2261) : N.default.t(2263)
                                })
                            })), t = (0, J.jsxs)("div", {
                                className: Y.default.section,
                                children: [(0, J.jsx)(m.default, {
                                    type: "primary",
                                    onClick: this._handleUploadClick,
                                    children: N.default.t(2260)
                                }), (0, J.jsx)("p", {
                                    className: Y.default.dragAndDropExplanation,
                                    children: this.state.isDragging ? N.default.t(2253) : null
                                })]
                            }), a = (0, J.jsx)("form", {
                                ref: this._setRefVerificationFilePickerForm,
                                children: (0, J.jsx)("input", {
                                    ref: this._setRefVerificationFilePickerInput,
                                    accept: "image/*",
                                    type: "file",
                                    style: {
                                        display: "none"
                                    },
                                    onChange: this._handleUploadSelect,
                                    onClick: function(e) {
                                        return e.stopPropagation()
                                    }
                                })
                            })), this.state.webcamVisible && this.state.stream && (n = (0, J.jsx)(oe, {
                                stream: this.state.stream,
                                disposeStream: this._disposeStream,
                                onCapture: this._handleWebcamCapture,
                                onClose: this._handleWebcamClose
                            })), this.state.bannerVisible && (r = (0, J.jsx)(ie, {
                                children: this.state.bannerText
                            })), (0, J.jsxs)(y.default, {
                                theme: "verification",
                                onDrop: this.handleDrop,
                                onDragChange: this.handleDragChange,
                                children: [(0, J.jsxs)(E.default, {
                                    type: E.DRAWER_HEADER_TYPE.SMALL,
                                    darwinRtlFix: !0,
                                    onBack: this.handleClose,
                                    children: [(0, J.jsx)(z.TextDiv, {
                                        theme: "title",
                                        children: N.default.t(2259)
                                    }), (0, J.jsxs)(z.TextDiv, {
                                        theme: "small",
                                        children: [N.default.t(2269), ", ", this.props.contact.formattedUser]
                                    })]
                                }), n, r, (0, J.jsx)(S.default, {
                                    children: (0, J.jsxs)("div", {
                                        className: Y.default.form,
                                        children: [(0, J.jsxs)("div", {
                                            className: Y.default.photo,
                                            children: [(0, J.jsx)(te, {
                                                binary: l,
                                                contact: this.props.contact,
                                                visible: this.state.circleVisible
                                            }), (0, J.jsx)(ne, {
                                                visible: this.state.checkmarkVisible
                                            }), (0, J.jsx)(re, {
                                                visible: this.state.errorIconVisible
                                            })]
                                        }), (0, J.jsx)("div", {
                                            className: Y.default.section,
                                            children: (0, J.jsx)("div", {
                                                className: Y.default.code,
                                                children: (0, J.jsx)(ae, {
                                                    string: o
                                                })
                                            })
                                        }), (0, J.jsx)("div", {
                                            className: Y.default.section,
                                            children: (0, J.jsxs)("p", {
                                                className: Y.default.explanation,
                                                children: [(0, J.jsxs)("span", {
                                                    children: [i, ""]
                                                }), (0, J.jsx)(I.default, {
                                                    href: (0, b.getE2EFaqUrl)(),
                                                    children: N.default.t(1120)
                                                })]
                                            })
                                        }), e, t, a]
                                    })
                                })]
                            })
                        }
                    }]), a
                }(h.Component);
            he.CONCERNS = {
                contact: ["verificationBinary", "verificationString", "formattedUser", "formattedShortName", "id"]
            }, he.displayName = "VerificationDrawer";
            var ve = (0, O.default)((0, F.default)((0, K.default)((0, V.default)(he, he.CONCERNS))));

            function me(e, t) {
                if (!e || !t) return !1;
                var a = new Uint8Array(e),
                    n = new Uint8Array(t),
                    r = a.length;
                if (r !== n.length) return !1;
                for (var i = 0; i < r; i++)
                    if (a[i] !== n[i]) return !1;
                return !0
            }
            t.default = ve
        },
        30869: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(a(59713)),
                l = r(a(34575)),
                o = r(a(93913)),
                s = r(a(2205)),
                d = r(a(99842)),
                u = r(a(94184)),
                c = a(67294),
                f = r(a(40501)),
                p = r(a(88549)),
                h = r(a(91404)),
                v = r(a(65901)),
                m = r(a(94253)),
                g = r(a(53187)),
                _ = r(a(18345)),
                C = n(a(19288)),
                x = r(a(45159)),
                y = r(a(43890)),
                S = r(a(61897)),
                E = a(22552),
                j = r(a(63443)),
                I = n(a(92428)),
                b = a(29518),
                k = r(a(98129)),
                T = a(85893),
                M = function(e) {
                    (0, s.default)(a, e);
                    var t = (0, d.default)(a);

                    function a() {
                        var e;
                        (0, l.default)(this, a);
                        for (var n = arguments.length, r = new Array(n), i = 0; i < n; i++) r[i] = arguments[i];
                        return (e = t.call.apply(t, [this].concat(r))).state = {
                            hover: !1
                        }, e.handleClick = function() {
                            var t = e._encodeColor(),
                                a = p.default.get("defaultPreference");
                            a && t !== a.wallpaperColor && (a.set("wallpaperColor", t), v.default.openToast((0, T.jsx)(I.default, {
                                msg: x.default.t(1913),
                                id: (0, I.genId)()
                            })))
                        }, e.handleMouseOver = function() {
                            e.state.hover || (e.setState({
                                hover: !0
                            }), p.default.trigger("wallpaper_color_preview", e._encodeColor()))
                        }, e.handleMouseEnter = function() {
                            e.state.hover || (e.setState({
                                hover: !0
                            }), p.default.trigger("wallpaper_color_preview", e._encodeColor()))
                        }, e.handleMouseLeave = function() {
                            e.state.hover && (e.setState({
                                hover: !1
                            }), p.default.trigger("wallpaper_color_preview"))
                        }, e._encodeColor = function() {
                            var t = e.props,
                                a = t.colorHex;
                            return t.isDefault ? m.default.DEFAULT_CHAT_WALLPAPER : a
                        }, e
                    }
                    return (0, o.default)(a, [{
                        key: "render",
                        value: function() {
                            var e, t = this.props.isDefault ? (0, T.jsx)("span", {
                                    className: k.default.wallpaperDefaultTitle,
                                    "data-a8n": f.default.key("wallpaper-default-title"),
                                    children: x.default.t(753)
                                }) : null,
                                a = (0, u.default)(k.default.wallpaperColorCanvas, (e = {}, (0, i.default)(e, k.default.canvasHover, this.state.hover), (0, i.default)(e, k.default.canvasActive, this.props.isSelected), (0, i.default)(e, k.default.canvasDefault, this.props.isDefault), e));
                            return (0, T.jsx)("span", {
                                className: a,
                                style: {
                                    backgroundColor: this.props.colorHex
                                },
                                onMouseOver: this.handleMouseOver,
                                onMouseEnter: this.handleMouseEnter,
                                onMouseLeave: this.handleMouseLeave,
                                onClick: this.handleClick,
                                title: this.props.isDefault ? x.default.t(753) : null,
                                children: t
                            })
                        }
                    }]), a
                }(c.Component);
            M.displayName = "ColorCanvas";
            var w = function(e) {
                (0, s.default)(a, e);
                var t = (0, d.default)(a);

                function a() {
                    var e;
                    (0, l.default)(this, a);
                    for (var n = arguments.length, r = new Array(n), i = 0; i < n; i++) r[i] = arguments[i];
                    return (e = t.call.apply(t, [this].concat(r)))._handleWallpaperDoodleChange = function() {
                        var t = e.props.chatPreference;
                        if (t) {
                            var a = !t.showDoodle;
                            t.set("showDoodle", a), v.default.openToast((0, T.jsx)(I.default, {
                                msg: a ? x.default.t(1914) : x.default.t(1915),
                                id: (0, I.genId)()
                            }))
                        }
                    }, e
                }
                return (0, o.default)(a, [{
                    key: "render",
                    value: function() {
                        var e, t = this.props,
                            a = t.chatPreference,
                            n = t.colors,
                            r = a && a.wallpaperColor,
                            i = a && a.showDoodle,
                            l = n.map((function(e) {
                                return (0, T.jsx)(M, {
                                    colorHex: e,
                                    isSelected: r === e,
                                    isDefault: !1
                                }, e)
                            })),
                            o = (0, T.jsx)(M, {
                                isSelected: r === m.default.DEFAULT_CHAT_WALLPAPER,
                                isDefault: !0
                            }, m.default.DEFAULT_CHAT_WALLPAPER);
                        l.unshift(o);
                        for (var s = 0; s < 2; s++) l.push((0, T.jsx)("div", {
                            className: k.default.wallpaperColorEmpty
                        }, "emptyEl" + s));
                        return y.default.wallpapersV2 && (e = (0, T.jsxs)("div", {
                            className: k.default.wallpaperApplyDoodle,
                            children: [(0, T.jsx)(h.default, {
                                onChange: this._handleWallpaperDoodleChange,
                                checked: !!i
                            }), (0, T.jsx)(E.TextSpan, {
                                className: k.default.checkboxLabel,
                                theme: "small",
                                children: x.default.t(1912)
                            })]
                        })), (0, T.jsxs)(T.Fragment, {
                            children: [e, (0, T.jsx)("div", {
                                className: k.default.wallpaperColorGrid,
                                children: l
                            })]
                        })
                    }
                }]), a
            }(c.Component);
            w.CONCERNS = {
                chatPreference: ["wallpaperColor", "showDoodle"]
            }, w.displayName = "ColorGridClass";
            var P = (0, S.default)(w, w.CONCERNS),
                L = function(e) {
                    (0, s.default)(a, e);
                    var t = (0, d.default)(a);

                    function a() {
                        return (0, l.default)(this, a), t.apply(this, arguments)
                    }
                    return (0, o.default)(a, [{
                        key: "componentWillUnmount",
                        value: function() {
                            p.default.trigger("wallpaper_color_preview"), y.default.wallpapersV2 && p.default.trigger("wallpaper_drawer_close")
                        }
                    }, {
                        key: "componentDidMount",
                        value: function() {
                            y.default.wallpapersV2 && p.default.trigger("wallpaper_drawer_open")
                        }
                    }, {
                        key: "render",
                        value: function() {
                            return (0, T.jsxs)(g.default, {
                                children: [(0, T.jsx)(C.default, {
                                    title: x.default.t(1916),
                                    onBack: this.props.onClose,
                                    type: C.DRAWER_HEADER_TYPE.LARGE
                                }), (0, T.jsx)(_.default, {
                                    children: (0, T.jsx)(P, {
                                        colors: (0, b.getWallpaperColors)(this.context.theme),
                                        chatPreference: p.default.get("defaultPreference")
                                    })
                                })]
                            })
                        }
                    }]), a
                }(c.Component);
            t.default = L, L.contextType = j.default, L.displayName = "WallpaperDrawer"
        },
        54928: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(a(34575)),
                l = r(a(93913)),
                o = r(a(2205)),
                s = r(a(99842)),
                d = a(18077),
                u = a(67294),
                c = r(a(10399)),
                f = r(a(65901)),
                p = r(a(86777)),
                h = n(a(71150)),
                v = r(a(53187)),
                m = r(a(18345)),
                g = n(a(19288)),
                _ = r(a(29661)),
                C = r(a(92546)),
                x = r(a(45159)),
                y = r(a(6658)),
                S = r(a(15805)),
                E = r(a(9531)),
                j = a(22552),
                I = a(59175),
                b = a(85893),
                k = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, s.default)(a);

                    function a(e) {
                        var n;
                        return (0, i.default)(this, a), (n = t.call(this, e))._orderFlatListController = new C.default, n.state = {
                            isLoading: !0,
                            fetchState: "PENDING",
                            order: null
                        }, n
                    }
                    return (0, l.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this,
                                t = this.props,
                                a = t.orderId,
                                n = t.token,
                                r = t.sellerJid;
                            y.default.findOrder(a, r, n).then((function(t) {
                                e.setState({
                                    fetchState: "SUCCESS",
                                    isLoading: !1,
                                    order: t
                                })
                            })).catch((0, d.filteredCatch)(I.E404, (function() {
                                e._showNotFoundErrorToast(), e.setState({
                                    fetchState: "ERROR",
                                    isLoading: !1
                                })
                            }))).catch((function() {
                                e.setState({
                                    fetchState: "ERROR",
                                    isLoading: !1
                                }), __LOG__(4, !0, new Error, !0)`Catalog Order Display failed`, SEND_LOGS("OrderDetails: failed to display")
                            }))
                        }
                    }, {
                        key: "_getDrawerContent",
                        value: function() {
                            var e = this.props.sellerJid,
                                t = this.state,
                                a = t.fetchState,
                                n = t.order;
                            if (this.state.isLoading || null == n) return (0, b.jsx)(_.default, {
                                fetchState: a
                            });
                            var r = "";
                            r = n.products.length > 0 ? x.default.t(1109, {
                                count: n.totalItemCount || 0,
                                _plural: n.totalItemCount || 0
                            }) : x.default.t(1444);
                            var i = (0, b.jsx)(j.TextDiv, {
                                    theme: "title",
                                    children: r
                                }),
                                l = null;
                            l = null != n.total && 0 !== n.total ? x.default.t(1439, {
                                subtotal: h.formatAmount1000(n.currency, n.total)
                            }) : x.default.t(1435);
                            var o = (0, b.jsx)(j.TextDiv, {
                                    theme: "muted-small",
                                    children: l
                                }),
                                s = null;
                            if (null != n.createdAt) {
                                var d = c.default.timeStr(n.createdAt);
                                s = (0, b.jsx)(j.TextSpan, {
                                    theme: "muted-small",
                                    children: `${d}`
                                })
                            }
                            return (0, b.jsxs)(b.Fragment, {
                                children: [(0, b.jsx)(_.default, {
                                    fetchState: a
                                }), (0, b.jsxs)("div", {
                                    className: S.default.info,
                                    children: [i, o]
                                }), (0, b.jsx)(E.default, {
                                    flatListController: this._orderFlatListController,
                                    onProductDetail: this.props.onProductDetail,
                                    order: n,
                                    sellerJid: e
                                }), (0, b.jsx)("div", {
                                    className: S.default.date,
                                    children: s
                                })]
                            })
                        }
                    }, {
                        key: "_showNotFoundErrorToast",
                        value: function() {
                            f.default.openModal((0, b.jsx)(p.default, {
                                onOK: function() {
                                    f.default.closeModal()
                                },
                                okText: x.default.t(2125),
                                children: x.default.t(1436)
                            }))
                        }
                    }, {
                        key: "handleClose",
                        value: function() {
                            f.default.closeDrawerRight()
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e = this.props.userIsCartOwner;
                            return (0, b.jsxs)(v.default, {
                                theme: "striped",
                                onDrop: this.handleClose,
                                children: [(0, b.jsx)(g.default, {
                                    title: e ? x.default.t(501) : x.default.t(500),
                                    type: g.DRAWER_HEADER_TYPE.SMALL,
                                    onBack: this.handleClose
                                }), (0, b.jsx)(m.default, {
                                    flatListControllers: [this._orderFlatListController],
                                    children: this._getDrawerContent()
                                })]
                            })
                        }
                    }]), a
                }(u.Component);
            t.default = k, k.displayName = "OrderDetailDrawer"
        },
        9531: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.order,
                    a = e.onProductDetail,
                    n = e.sellerJid,
                    f = function(e) {
                        var a = t.orderItemCollection.toArray();
                        return (0, s.logOrderListImpression)({
                            catalogContext: e,
                            orderId: t.id,
                            productCount: a.length,
                            catalogOwnerJid: n
                        }), a.map((function(e) {
                            return {
                                itemKey: e.id.toString(),
                                product: e
                            }
                        }))
                    };
                return (0, c.jsx)(i.default.Consumer, {
                    children: function(t) {
                        var n = (0, u.getProductCatalogContext)(t);
                        return (0, c.jsx)(o.default, {
                            flatListControllers: [e.flatListController],
                            children: (0, c.jsx)(l.default, {
                                a8nKey: "order-product-list",
                                flatListController: e.flatListController,
                                direction: "vertical",
                                forceConsistentRenderCount: !1,
                                data: f(n),
                                renderItem: function(t) {
                                    return function(t, n) {
                                        var r = e.sellerJid,
                                            i = t.product,
                                            l = {
                                                productId: i.id,
                                                businessOwnerJid: r
                                            };
                                        return (0, c.jsx)(d.default, {
                                            product: i,
                                            onClick: function() {
                                                (0, s.logOrderListItemClick)({
                                                    catalogContext: n,
                                                    orderId: e.order.id,
                                                    catalogOwnerJid: r
                                                }), a(l)
                                            }
                                        })
                                    }(t, n)
                                },
                                defaultItemHeight: r.default.PRODUCT_LIST_ITEM_HEIGHT
                            })
                        })
                    }
                })
            };
            var r = n(a(94253)),
                i = n(a(96706)),
                l = n(a(73568)),
                o = n(a(23803)),
                s = a(37582),
                d = n(a(10246)),
                u = a(49942),
                c = a(85893)
        },
        10246: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.product,
                    a = e.onClick,
                    n = (0, p.jsx)(s.default, {
                        text: t.name,
                        ellipsify: !0,
                        titlify: !0
                    }),
                    r = (0, p.jsx)(c.default, {
                        mediaData: t.mediaData,
                        theme: "list"
                    }),
                    h = d.default.t(1440, {
                        quantity: t.quantity.toString()
                    }),
                    v = null;
                t.quantity && (v = (0, p.jsx)(f.TextSpan, {
                    className: u.default.quantity,
                    children: h
                }));
                var m = null;
                m = (0, i.isNonZeroNumber)(t.price) ? o.formatAmount1000(t.currency, t.price) : d.default.t(493);
                var g = (0, p.jsx)(f.TextSpan, {
                        className: u.default.price,
                        children: m
                    }),
                    _ = null;
                null != v && (_ = (0, p.jsx)("span", {
                    className: u.default.separator,
                    children: ""
                }));
                var C = (0, p.jsxs)("div", {
                    children: [g, _, v]
                });
                return (0, p.jsx)(l.default, {
                    image: r,
                    customImage: !0,
                    primary: n,
                    secondary: C,
                    theme: "order-product",
                    onClick: a
                }, t.id.toString())
            };
            var i = a(8587),
                l = r(a(88186)),
                o = n(a(71150)),
                s = r(a(73008)),
                d = r(a(45159)),
                u = r(a(16248)),
                c = r(a(27610)),
                f = a(22552),
                p = a(85893)
        },
        9586: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = t.CatalogSettingsDrawer = void 0;
            var i = r(a(34575)),
                l = r(a(93913)),
                o = r(a(2205)),
                s = r(a(99842)),
                d = a(67294),
                u = a(95519),
                c = r(a(96466)),
                f = r(a(8371)),
                p = r(a(81288)),
                h = r(a(65901)),
                v = r(a(53187)),
                m = r(a(18345)),
                g = n(a(19288)),
                _ = r(a(46821)),
                C = a(49012),
                x = a(29281),
                y = a(1577),
                S = r(a(45159)),
                E = r(a(62848)),
                j = r(a(63641)),
                I = r(a(5202)),
                b = r(a(85492)),
                k = r(a(85651)),
                T = a(22552),
                M = n(a(92428)),
                w = a(85893);

            function P(e) {
                var t = e.cartEnabled,
                    a = e.setCartEnabled,
                    n = function(e) {
                        a(e), (0, u.updateCartEnabled)(e).catch((function() {
                            __LOG__(4, !0, new Error, !0)`Failed to update cartEnabled value`, SEND_LOGS("updateCartEnabled: cartEnabled toggle error"), h.default.openToast((0, w.jsx)(M.default, {
                                msg: S.default.t(554),
                                duration: 6e3,
                                id: (0, M.genId)()
                            })), a(t)
                        }))
                    },
                    r = (0, x.getCatalogCartOnOffFaqUrl)(),
                    i = (0, w.jsx)(p.default, {
                        href: r,
                        onClick: function(e) {
                            e.preventDefault(), (0, C.openExternalLink)(r)
                        },
                        children: S.default.t(1120)
                    }),
                    l = (0, w.jsx)(E.default, {
                        id: 556,
                        params: {
                            learn_more_link: i
                        }
                    });
                return (0, w.jsxs)(w.Fragment, {
                    children: [(0, w.jsxs)(_.default, {
                        title: S.default.t(555),
                        theme: "title-larger",
                        animation: !1,
                        children: [(0, w.jsx)(b.default, {
                            isChosen: t,
                            onChoose: function() {
                                n(!0)
                            },
                            choiceText: S.default.t(560)
                        }), (0, w.jsx)(b.default, {
                            isChosen: !t,
                            onChoose: function() {
                                n(!1)
                            },
                            choiceText: S.default.t(559)
                        })]
                    }), (0, w.jsx)(T.TextDiv, {
                        theme: "plain",
                        className: f.default.descriptionText,
                        children: l
                    })]
                })
            }
            var L = function(e) {
                (0, o.default)(a, e);
                var t = (0, s.default)(a);

                function a(e) {
                    var n;
                    return (0, i.default)(this, a), (n = t.call(this, e)).updateCartEnabled = function(e) {
                        n.setState({
                            cartEnabled: e
                        })
                    }, n.state = {
                        isLoading: !0,
                        cartEnabled: !1
                    }, n
                }
                return (0, l.default)(a, [{
                    key: "componentDidMount",
                    value: function() {
                        var e = this;
                        c.default.fetchBizProfile((0, y.getMeUser)()).then((function(t) {
                            var a = t.profileOptions;
                            e.setState({
                                cartEnabled: null != a && a.cartEnabled,
                                isLoading: !1
                            })
                        })).catch((function() {
                            __LOG__(4, !0, new Error)`Error fetching the business profile.`, h.default.openToast((0, w.jsx)(M.default, {
                                msg: S.default.t(557),
                                duration: 6e3,
                                id: (0, M.genId)()
                            })), e.props.onBack()
                        }))
                    }
                }, {
                    key: "_getDrawerContent",
                    value: function() {
                        return (0, w.jsx)(P, {
                            cartEnabled: this.state.cartEnabled,
                            setCartEnabled: this.updateCartEnabled
                        })
                    }
                }, {
                    key: "render",
                    value: function() {
                        return (0, w.jsxs)(v.default, {
                            theme: "catalog",
                            onDrop: this.props.onBack,
                            children: [(0, w.jsx)(g.default, {
                                title: S.default.t(558),
                                type: g.DRAWER_HEADER_TYPE.LARGE,
                                onBack: this.props.onBack
                            }), (0, w.jsx)(m.default, {
                                children: this.state.isLoading ? (0, w.jsx)("div", {
                                    className: f.default.loadingSpinner,
                                    children: (0, w.jsx)(k.default, {})
                                }) : this._getDrawerContent()
                            })]
                        })
                    }
                }]), a
            }(d.Component);
            t.CatalogSettingsDrawer = L, L.displayName = "CatalogSettingsDrawer";
            var O = (0, I.default)((0, j.default)(L));
            t.default = O
        },
        20716: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.selections,
                    a = e.active,
                    n = e.onSelectionChanged,
                    d = e.catalog,
                    u = function(e) {
                        ! function(e, r, i) {
                            t.setVal(e, r, i), a.setVal(e, i), n()
                        }(e, !t.isSelected(e), !1)
                    };
                return (0, s.jsx)(l.default, {
                    flatListControllers: [e.flatListController],
                    children: (0, s.jsx)(i.default, {
                        flatListController: e.flatListController,
                        direction: "vertical",
                        forceConsistentRenderCount: !1,
                        data: d.productCollection.getProductModels(!0).map((function(e) {
                            return {
                                itemKey: e.id.toString(),
                                product: e
                            }
                        })),
                        renderItem: function(e) {
                            var n = e.product;
                            return (0, s.jsx)(o.default, {
                                product: n,
                                selections: t,
                                onClick: function() {
                                    return u(n)
                                },
                                active: a
                            }, n.id.toString())
                        },
                        defaultItemHeight: r.default.PRODUCT_LIST_ITEM_HEIGHT
                    })
                })
            };
            var r = n(a(94253)),
                i = n(a(73568)),
                l = n(a(23803)),
                o = n(a(55727)),
                s = a(85893)
        },
        63936: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = t.EditCollectionContent = void 0;
            var i = r(a(59713)),
                l = r(a(87757)),
                o = r(a(48926)),
                s = r(a(34575)),
                d = r(a(93913)),
                u = r(a(2205)),
                c = r(a(99842)),
                f = r(a(94184)),
                p = r(a(96486)),
                h = a(67294),
                v = a(9812),
                m = a(52716),
                g = r(a(20716)),
                _ = r(a(94253)),
                C = r(a(53187)),
                x = r(a(18345)),
                y = r(a(96706)),
                S = n(a(19288)),
                E = r(a(40198)),
                j = r(a(92546)),
                I = r(a(5029)),
                b = r(a(45159)),
                k = r(a(63641)),
                T = a(73475),
                M = r(a(73524)),
                w = a(49942),
                P = r(a(5202)),
                L = r(a(80385)),
                O = r(a(39916)),
                D = r(a(85651)),
                N = r(a(7665)),
                R = r(a(68544)),
                A = a(85893),
                F = function(e) {
                    (0, u.default)(n, e);
                    var t, a = (0, c.default)(n);

                    function n(e) {
                        var t, r, i;
                        return (0, s.default)(this, n), (i = a.call(this, e)).active = new O.default([], (function(e) {
                            return e.id
                        })), i.selections = new M.default([], (function(e) {
                            return e.id.toString()
                        })), i._collectionFlatListController = new j.default, i.handleNameChange = function(e) {
                            var t = i.state.errorName;
                            t && e && (t = null), i.setState({
                                name: e,
                                errorName: t
                            })
                        }, i._handleScroll = function(e, t) {
                            var a, n;
                            (null === (a = i.state.scrollHelper) || void 0 === a ? void 0 : a.willLoadMore(t)) && i.setState({
                                loadingMore: !0
                            }), null === (n = i.state.scrollHelper) || void 0 === n || n.onScroll(e, t).then((function(e) {
                                e && i.setState({
                                    loadingMore: !1
                                })
                            })).catch((function(e) {
                                throw i.setState({
                                    loadingMore: !1
                                }), e
                            }))
                        }, i.handleScroll = p.default.throttle(i._handleScroll, 100), i.onScroll = function(e) {
                            i.handleScroll(e, e.currentTarget)
                        }, i.state = {
                            saveEnabled: !0,
                            dataSource: null,
                            scrollHelper: null,
                            name: null === (t = e.collection) || void 0 === t ? void 0 : t.name,
                            lastNameSaved: null === (r = e.collection) || void 0 === r ? void 0 : r.name,
                            errorName: null,
                            isUpdating: !1,
                            loadingMore: !0
                        }, i
                    }
                    return (0, d.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            this._setupDataSource()
                        }
                    }, {
                        key: "_setupDataSource",
                        value: function() {
                            var e, t = this,
                                a = new m.CollectionsContentDataSource(this.props.catalog, _.default.PRODUCT_LIST_ITEM_HEIGHT, null === (e = this.props.collection) || void 0 === e ? void 0 : e.id),
                                n = new m.CatalogListItemScrollHelper(a);
                            this.setState({
                                dataSource: a,
                                scrollHelper: n
                            }, (function() {
                                a.loadInitialItems().then((function() {
                                    t.setState({
                                        loadingMore: !1
                                    }), t.forceUpdate()
                                }))
                            }))
                        }
                    }, {
                        key: "getNameEdit",
                        value: function() {
                            return (0, A.jsx)(R.default, {
                                editable: !0,
                                focusOnMount: !0,
                                showRemaining: !0,
                                value: this.state.name,
                                onChange: this.handleNameChange,
                                inputPlaceholder: b.default.t(511),
                                theme: "text-input",
                                error: this.state.errorName,
                                maxLength: 30
                            })
                        }
                    }, {
                        key: "getFooter",
                        value: function(e) {
                            var t, a = this,
                                n = this.syncSelection();
                            if (n > 0 || this.props.collection && this.state.name !== this.props.collection.name) {
                                var r = b.default.t(517, {
                                    updated: n,
                                    _plural: n
                                });
                                t = (0, A.jsxs)("div", {
                                    className: E.default.footer,
                                    children: [r, (0, A.jsx)("div", {
                                        className: E.default.saveButton,
                                        children: (0, A.jsx)(L.default, {
                                            large: !0,
                                            onClick: function() {
                                                a.save(e)
                                            },
                                            children: (0, A.jsx)(N.default, {
                                                name: "checkmark-medium"
                                            })
                                        })
                                    })]
                                })
                            }
                            return t
                        }
                    }, {
                        key: "_getDrawerContent",
                        value: function() {
                            var e = this,
                                t = this.state.isUpdating ? (0, A.jsx)("div", {
                                    className: E.default.spinner,
                                    children: (0, A.jsx)(D.default, {
                                        size: 50,
                                        stroke: 3
                                    })
                                }) : null;
                            return (0, A.jsx)(y.default.Consumer, {
                                children: function(a) {
                                    var n = (0, w.getProductCatalogContext)(a);
                                    return (0, A.jsxs)(A.Fragment, {
                                        children: [t, (0, A.jsxs)("div", {
                                            className: E.default.nameContainer,
                                            children: [(0, A.jsx)("span", {
                                                className: E.default.nameIcon,
                                                children: (0, A.jsx)(N.default, {
                                                    name: "collections_folder"
                                                })
                                            }), (0, A.jsx)("span", {
                                                className: E.default.nameEdit,
                                                children: e.getNameEdit(n)
                                            })]
                                        }), (0, A.jsx)("div", {
                                            className: E.default.operation,
                                            children: e.props.collection ? b.default.t(522) : b.default.t(508)
                                        }), (0, A.jsxs)("div", {
                                            className: E.default.listContainer,
                                            children: [(0, A.jsx)(g.default, {
                                                catalog: e.props.catalog,
                                                flatListController: e._collectionFlatListController,
                                                active: e.active,
                                                selections: e.selections,
                                                onSelectionChanged: function() {
                                                    return e.forceUpdate()
                                                }
                                            }), e.state.loadingMore && (0, A.jsx)("div", {
                                                className: E.default.loadingSpinner,
                                                children: (0, A.jsx)(I.default, {})
                                            })]
                                        }), e.getFooter(n)]
                                    })
                                }
                            })
                        }
                    }, {
                        key: "syncSelection",
                        value: function() {
                            var e = this,
                                t = this.props.catalog.productCollection.getProductModels(!0),
                                a = 0;
                            return t.forEach((function(t) {
                                e.selections.isInList(t) ? t.checkmark !== e.selections.isSelected(t) && a++ : e.selections.setVal(t, t.checkmark)
                            })), a
                        }
                    }, {
                        key: "getProductDeltas",
                        value: function() {
                            var e = this,
                                t = this.props.catalog.productCollection.getProductModels(!0),
                                a = [],
                                n = [];
                            return t.forEach((function(t) {
                                var r = e.selections.isSelected(t);
                                t.checkmark !== r && (r ? n.push(t) : a.push(t))
                            })), {
                                added: n,
                                removed: a
                            }
                        }
                    }, {
                        key: "save",
                        value: (t = (0, o.default)(l.default.mark((function e(t) {
                            var a, n, r, i, o, s, d, u, c, f;
                            return l.default.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        if (a = (0, w.getProductCatalogContext)(t), this.state.name && "" !== this.state.name.trim()) {
                                            e.next = 5;
                                            break
                                        }
                                        this.setState({
                                            errorName: b.default.t(518)
                                        }), e.next = 18;
                                        break;
                                    case 5:
                                        return this.setState({
                                            isUpdating: !0
                                        }), n = this.getProductDeltas(), r = n.added, i = n.removed, e.prev = 7, o = this.props, s = o.collection, d = o.catalog, u = o.onBack, e.next = 11, (0, v.handleCollectionSave)(d, s, this.state.name || "", r, i, a);
                                    case 11:
                                        e.sent ? (u(), c = null == s ? void 0 : s.id, f = this.state.name !== this.state.lastNameSaved, c && f && ((0, T.logCollectionRenamed)({
                                            catalogContext: a,
                                            collectionId: c
                                        }), this.setState({
                                            lastNameSaved: this.state.name
                                        })), s && (0, T.logCollectionItemsAssignment)({
                                            collectionId: s.id,
                                            addedCount: r.length,
                                            removedCount: i.length,
                                            catalogContext: a
                                        })) : this.setState({
                                            isUpdating: !1
                                        }), e.next = 18;
                                        break;
                                    case 15:
                                        e.prev = 15, e.t0 = e.catch(7), this.setState({
                                            isUpdating: !1
                                        });
                                    case 18:
                                    case "end":
                                        return e.stop()
                                }
                            }), e, this, [
                                [7, 15]
                            ])
                        }))), function() {
                            return t.apply(this, arguments)
                        })
                    }, {
                        key: "render",
                        value: function() {
                            var e, t = (0, f.default)(E.default.container, (0, i.default)({}, E.default.isSending, this.state.isUpdating)),
                                a = (null === (e = this.props.collection) || void 0 === e ? void 0 : e.name) || b.default.t(520);
                            return (0, A.jsxs)(C.default, {
                                theme: "products",
                                onDrop: this.props.onBack,
                                children: [(0, A.jsx)(S.default, {
                                    title: a,
                                    type: S.DRAWER_HEADER_TYPE.LARGE,
                                    onBack: this.props.onBack,
                                    menu: (0, A.jsx)(A.Fragment, {})
                                }), (0, A.jsx)(x.default, {
                                    className: t,
                                    flatListControllers: [this._collectionFlatListController],
                                    onScroll: this.onScroll,
                                    children: this._getDrawerContent()
                                })]
                            })
                        }
                    }]), n
                }(h.Component);
            t.EditCollectionContent = F, F.displayName = "EditCollectionContent";
            var B = (0, P.default)((0, k.default)(F));
            t.default = B
        },
        8879: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.ComplianceInfoFields = te, t.default = t.EditProductDrawer = void 0;
            var i = r(a(59713)),
                l = r(a(87757)),
                o = r(a(81109)),
                s = r(a(48926)),
                d = r(a(34575)),
                u = r(a(93913)),
                c = r(a(2205)),
                f = r(a(99842)),
                p = r(a(94184)),
                h = a(18077),
                v = r(a(48842)),
                m = a(67294),
                g = (r(a(56720)), a(9812)),
                _ = r(a(51599)),
                C = r(a(18330)),
                x = r(a(91404)),
                y = r(a(65901)),
                S = a(65971),
                E = r(a(94253)),
                j = a(60543),
                I = a(11919),
                b = n(a(71150)),
                k = r(a(19868)),
                T = r(a(53187)),
                M = r(a(18345)),
                w = r(a(96706)),
                P = n(a(19288)),
                L = r(a(27334)),
                O = a(27968),
                D = a(1577),
                N = a(2629),
                R = r(a(2424)),
                A = r(a(45159)),
                F = r(a(63641)),
                B = a(10951),
                U = n(a(52795)),
                G = a(18756),
                H = a(49942),
                V = r(a(77554)),
                W = r(a(5202)),
                z = r(a(85651)),
                K = r(a(61897)),
                Y = a(22552),
                q = r(a(68544)),
                Z = n(a(92428)),
                X = r(a(29034)),
                $ = a(59175),
                J = a(85893),
                Q = {
                    complianceInfoHelpCenterBanner: {
                        paddingTop: "nlnf8xo7",
                        paddingEnd: "f9ovudaz",
                        paddingBottom: "jzp2c175",
                        paddingStart: "gx1rr48f"
                    }
                },
                ee = function(e) {
                    (0, c.default)(n, e);
                    var t, a = (0, f.default)(n);

                    function n(e) {
                        var t, r;
                        (0, d.default)(this, n), (r = a.call(this, e))._imagePanelRef = (0, m.createRef)(), r._handleNameChange = function(e) {
                            r.setState({
                                name: e,
                                nameError: "" === e ? A.default.t(892) : "",
                                isModified: !0
                            })
                        }, r.getServerPrice = function(e) {
                            return parseInt(parseFloat(e).toFixed(2).toString().replace(/\.|,/g, ""), 10)
                        }, r._handlePriceChange = function(e) {
                            var t = b.valueFromString(r.state.currency, e),
                                a = "";
                            "" === e || b.validatePriceString(r.state.currency, e, U.MIN_PRICE, U.MAX_PRICE) || (a = A.default.t(893)), r.setState({
                                priceAmount1000: "" === e ? null : t,
                                priceStr: `${e}`,
                                priceError: a,
                                isModified: !0
                            })
                        }, r.handleDescriptionChange = function(e) {
                            r.setState({
                                description: e,
                                isModified: !0
                            })
                        }, r._handleUrlChange = function(e) {
                            var t = "";
                            "" === e || X.default.isValid(e) || (t = A.default.t(898)), r.setState({
                                url: e,
                                urlError: t,
                                isModified: !0
                            })
                        }, r._handleUrlBlur = function() {
                            var e = r.state.url;
                            "" === e || X.default.isHttps(e) || X.default.isHttp(e) || r.setState({
                                url: `https://${e}`
                            })
                        }, r._handleRetailerIdChange = function(e) {
                            r.setState({
                                retailerId: e,
                                retailerIdError: "",
                                isModified: !0
                            })
                        }, r._showComplianceInfoImporterAddress = function() {
                            var e, t = null === (e = r.state.complianceInfo) || void 0 === e ? void 0 : e.countryCodeOrigin;
                            return !!t && t !== E.default.COMPLIANCE_INFO_CODES.INDIA
                        }, r._handleComplianceInfoChange = function() {
                            var e = (0, s.default)(l.default.mark((function e(t, a) {
                                var n, i;
                                return l.default.wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                        case 0:
                                            if (i = (0, o.default)((0, o.default)({}, r.state.complianceInfo), {}, {
                                                    importerAddress: (0, o.default)({}, null === (n = r.state.complianceInfo) || void 0 === n ? void 0 : n.importerAddress)
                                                }), "countryCodeOrigin" !== t) {
                                                e.next = 5;
                                                break
                                            }
                                            return e.next = 4, (0, j.getCountryName)(a);
                                        case 4:
                                            i.countryNameOrigin = e.sent;
                                        case 5:
                                            i[t] = a || void 0, r.setState({
                                                complianceInfo: i,
                                                isModified: !0
                                            });
                                        case 7:
                                        case "end":
                                            return e.stop()
                                    }
                                }), e)
                            })));
                            return function() {
                                return e.apply(this, arguments)
                            }
                        }(), r._getImporterAddressFieldValueOnChange = function(e, t, a) {
                            var n = (r.state.complianceInfo || {}).importerAddress;
                            return t === e ? a : n[e]
                        }, r._handleComplianceInfoImporterAddressChange = function() {
                            var e = (0, s.default)(l.default.mark((function e(t, a) {
                                var n, i, s, d, u, c, f, p, h;
                                return l.default.wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                        case 0:
                                            if (i = r._getImporterAddressFieldValueOnChange("street1", t, a), s = r._getImporterAddressFieldValueOnChange("street2", t, a), d = r._getImporterAddressFieldValueOnChange("postalCode", t, a), u = r._getImporterAddressFieldValueOnChange("city", t, a), c = r._getImporterAddressFieldValueOnChange("region", t, a), f = r._getImporterAddressFieldValueOnChange("countryCode", t, a), p = [i, s, d, u, c, f].some((function(e) {
                                                    return e
                                                })), h = (0, o.default)((0, o.default)({}, r.state.complianceInfo), {}, {
                                                    importerAddress: (0, o.default)({}, null === (n = r.state.complianceInfo) || void 0 === n ? void 0 : n.importerAddress)
                                                }), "countryCode" !== t) {
                                                e.next = 15;
                                                break
                                            }
                                            return e.next = 11, (0, j.getCountryName)(a);
                                        case 11:
                                            if (e.t0 = e.sent, e.t0) {
                                                e.next = 14;
                                                break
                                            }
                                            e.t0 = void 0;
                                        case 14:
                                            h.importerAddress.countryName = e.t0;
                                        case 15:
                                            h.importerAddress[t] = a || void 0, h.importerAddress.street1Error = p && !i ? A.default.t(1488) : "", h.importerAddress.cityError = p && !u ? A.default.t(1482) : "", h.importerAddress.countryCodeError = p && !f ? A.default.t(1484) : "", r.setState({
                                                complianceInfo: h,
                                                isModified: !0
                                            });
                                        case 20:
                                        case "end":
                                            return e.stop()
                                    }
                                }), e)
                            })));
                            return function() {
                                return e.apply(this, arguments)
                            }
                        }(), r._handleHiddenChange = function() {
                            r.setState({
                                isHidden: !r.state.isHidden
                            })
                        }, r._getProductChanges = function() {
                            var e = r.props,
                                t = e.catalog,
                                a = e.product,
                                n = r.state,
                                i = n.name,
                                l = n.priceAmount1000,
                                o = n.currency,
                                s = n.description,
                                d = n.url,
                                u = n.retailerId,
                                c = n.complianceInfo,
                                f = n.isHidden;
                            return new U.default({
                                id: a.id,
                                priceAmount1000: l,
                                currency: o,
                                description: s || "",
                                imageCdnUrl: a.imageCdnUrl,
                                additionalImageCdnUrl: a.additionalImageCdnUrl,
                                name: i,
                                retailerId: u,
                                url: d,
                                isHidden: f,
                                complianceInfo: (0, N.canSeeECommerceComplianceIndiaBusinessJourney)(t.id.user) ? {
                                    countryCodeOrigin: null == c ? void 0 : c.countryCodeOrigin,
                                    importerName: null == c ? void 0 : c.importerName,
                                    importerAddress: {
                                        street1: null == c ? void 0 : c.importerAddress.street1,
                                        street2: null == c ? void 0 : c.importerAddress.street2,
                                        postalCode: null == c ? void 0 : c.importerAddress.postalCode,
                                        city: null == c ? void 0 : c.importerAddress.city,
                                        region: null == c ? void 0 : c.importerAddress.region,
                                        countryCode: null == c ? void 0 : c.importerAddress.countryCode
                                    }
                                } : void 0
                            })
                        }, r._handleSaveItem = function() {
                            var e, t = r.props,
                                a = t.catalog,
                                n = t.product,
                                i = t.newProduct,
                                l = r._getProductChanges();
                            (i ? (0, B.logAddProductClick)((0, H.getProductCatalogContext)(r.context)) : (0, B.logEditProductClick)(n, (0, H.getProductCatalogContext)(r.context)), r.setState({
                                isUpdating: !0
                            }), i || r.state.isModified) ? null === (e = r._imagePanelRef.current) || void 0 === e || e.component.uploadImages().then((function(e) {
                                l.imageCdnUrl = e[0], l.additionalImageCdnUrl = e.slice(1), (i ? a.addProduct : a.editProduct).call(a, l).then(r._handleEditSuccess).catch((0, h.filteredCatch)($.CatalogEditServerError, r._handleEditError)).finally((function() {
                                    r.setState({
                                        isUpdating: !1
                                    })
                                }))
                            })).catch((function(e) {
                                throw r.setState({
                                    isUpdating: !1
                                }), e
                            })): (0, G.productVisibilitySet)([{
                                productId: n.id.toString(),
                                isHidden: l.isHidden
                            }]).then((function() {
                                n.isHidden = l.isHidden, r._handleEditSuccess(n)
                            })).catch((0, h.filteredCatch)($.CatalogEditServerError, r._handleEditError)).finally((function() {
                                r.setState({
                                    isUpdating: !1
                                })
                            }))
                        }, r._handleEditError = function(e) {
                            r.props.newProduct ? (0, B.logAddProductFailed)((0, H.getProductCatalogContext)(r.context)) : (0, B.logEditProductFailed)(r.props.product, (0, H.getProductCatalogContext)(r.context), e.statusCode), null != e.errors && e.errors.map((function(e) {
                                "media" === e.name && "duplicate" === e.reason && r.setState({
                                    imageError: A.default.t(888)
                                }), "retailer_id" !== e.name && "retailer-id" !== e.name || "duplicate" !== e.reason || r.setState({
                                    retailerIdError: A.default.t(889)
                                })
                            })), y.default.openToast((0, J.jsx)(Z.default, {
                                msg: A.default.t(552),
                                id: (0, Z.genId)("catalog_save_item_failed")
                            }))
                        }, r._handleEditSuccess = function(e) {
                            var t = r.props,
                                a = t.catalog,
                                n = t.onEditSuccess,
                                i = t.newProduct,
                                l = t.onCreate;
                            a.productCollection.add(e, {
                                merge: !0
                            }), r.props.newProduct ? (0, B.logAddProductSuccess)((0, H.getProductCatalogContext)(r.context)) : (0, B.logEditProductSuccess)(r.props.product, (0, H.getProductCatalogContext)(r.context)), y.default.openToast((0, J.jsx)(Z.default, {
                                msg: A.default.t(542),
                                id: (0, Z.genId)("catalog_item_saved")
                            })), n(e), null != i && l && l()
                        }, r._handleDeleteItem = function() {
                            var e = r.props,
                                t = e.catalog,
                                a = e.product,
                                n = e.onDelete;
                            (0, g.handleProductDelete)(t, a, (0, H.getProductCatalogContext)(r.context)).then((function(e) {
                                e && (y.default.closeDrawerMid(), n && n())
                            }))
                        }, r._handleImageChange = function(e) {
                            var t = "";
                            0 === e.length && (t = A.default.t(891)), r.setState({
                                imageError: t,
                                hasImages: e.length > 0,
                                isModified: !0
                            })
                        }, r.handleDrop = function(e) {
                            var t;
                            null === (t = r._imagePanelRef.current) || void 0 === t || t.component.handleFilePick(e)
                        }, r.handleDragChange = function(e) {
                            r.setState({
                                isDragging: e
                            })
                        };
                        var i = r.props.product,
                            u = null == i.priceAmount1000 ? null : i.priceAmount1000,
                            c = "";
                        if (null != u && null != i.currency) {
                            var f = b.formatAmount1000ToParts(i.currency, u);
                            c = `${f.integer}${f.decimal}`
                        }
                        return r.state = {
                            name: i.name || "",
                            priceAmount1000: u,
                            description: i.description || "",
                            url: i.url || "",
                            retailerId: i.retailerId || "",
                            priceStr: c,
                            currency: i.currency || b.currencyForCountryShortcode((0, I.getCountryShortcodeByPhone)(null === (t = (0, D.getMaybeMeUser)()) || void 0 === t ? void 0 : t.user)),
                            isUpdating: !1,
                            nameError: "",
                            priceError: "",
                            urlError: "",
                            retailerIdError: "",
                            imageError: "",
                            hasImages: !!i.imageCdnUrl,
                            isDragging: !1,
                            isHidden: i.isHidden,
                            isModified: !1,
                            isComplianceInfoAvailable: !1,
                            complianceInfo: void 0
                        }, r
                    }
                    return (0, u.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this,
                                t = this.props,
                                a = t.listeners,
                                n = t.catalog,
                                r = t.product;
                            (0, N.canSeeECommerceComplianceIndiaBusinessJourney)(n.id.user) && this.setComplianceInfo(), a.add(r, "change:isHidden", (function() {
                                e.setState({
                                    isHidden: e.props.product.isHidden
                                })
                            }))
                        }
                    }, {
                        key: "setComplianceInfo",
                        value: (t = (0, s.default)(l.default.mark((function e() {
                            var t, a, n, r, i, o, s, d, u, c;
                            return l.default.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        if (t = this.props, a = t.product, n = t.catalog, !t.newProduct) {
                                            e.next = 5;
                                            break
                                        }
                                        this.setState({
                                            isComplianceInfoAvailable: !0
                                        }), e.next = 22;
                                        break;
                                    case 5:
                                        return e.next = 7, C.default.findProduct({
                                            catalogWid: n.id,
                                            productId: a.id.toString(),
                                            shouldFetchComplianceFields: !0
                                        });
                                    case 7:
                                        if (r = (0, v.default)(n, "catalog").productCollection.get(a.id), i = (null == r ? void 0 : r.complianceInfo) || {}, o = i.countryCodeOrigin, s = i.importerName, d = i.importerAddress, e.t0 = o, !e.t0) {
                                            e.next = 14;
                                            break
                                        }
                                        return e.next = 13, (0, j.getCountryName)(o);
                                    case 13:
                                        e.t0 = e.sent;
                                    case 14:
                                        if (u = e.t0, e.t1 = null == d ? void 0 : d.countryCode, !e.t1) {
                                            e.next = 20;
                                            break
                                        }
                                        return e.next = 19, (0, j.getCountryName)(d.countryCode);
                                    case 19:
                                        e.t1 = e.sent;
                                    case 20:
                                        c = e.t1, this.setState({
                                            isComplianceInfoAvailable: !0,
                                            complianceInfo: {
                                                countryCodeOrigin: o,
                                                countryNameOrigin: u,
                                                countryCodeOriginError: "",
                                                importerName: s,
                                                importerAddress: {
                                                    street1: null == d ? void 0 : d.street1,
                                                    street1Error: "",
                                                    street2: null == d ? void 0 : d.street2,
                                                    postalCode: null == d ? void 0 : d.postalCode,
                                                    city: null == d ? void 0 : d.city,
                                                    cityError: "",
                                                    region: null == d ? void 0 : d.region,
                                                    countryCode: null == d ? void 0 : d.countryCode,
                                                    countryName: c,
                                                    countryCodeError: ""
                                                }
                                            }
                                        });
                                    case 22:
                                    case "end":
                                        return e.stop()
                                }
                            }), e, this)
                        }))), function() {
                            return t.apply(this, arguments)
                        })
                    }, {
                        key: "isValid",
                        value: function() {
                            var e = this.state,
                                t = e.name,
                                a = e.nameError,
                                n = e.priceError,
                                r = e.urlError,
                                i = e.retailerIdError,
                                l = e.imageError,
                                o = e.hasImages,
                                s = e.complianceInfo;
                            if ("" === t || !1 === o) return !1;
                            var d = [a, n, r, i, l];
                            return this._showComplianceInfoImporterAddress() && d.push(null == s ? void 0 : s.importerAddress.street1Error, null == s ? void 0 : s.importerAddress.cityError, null == s ? void 0 : s.importerAddress.countryCodeError), d.every((function(e) {
                                return !e
                            }))
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e = this.props,
                                t = e.catalog,
                                a = e.product,
                                n = e.onBack,
                                r = e.onCancel,
                                l = e.newProduct,
                                o = this.state,
                                s = o.isUpdating,
                                d = o.isDragging,
                                u = o.currency,
                                c = o.nameError,
                                f = o.priceError,
                                h = o.urlError,
                                v = o.retailerIdError,
                                m = o.imageError,
                                g = o.complianceInfo,
                                C = o.isComplianceInfoAvailable,
                                y = (0, J.jsx)(_.default, {
                                    type: "primary",
                                    onClick: this._handleSaveItem,
                                    disabled: !this.isValid(),
                                    a8nText: "product-edit-drawer-save-button",
                                    children: l ? A.default.t(248) : A.default.t(1581)
                                }),
                                S = (0, J.jsxs)("div", {
                                    className: L.default.drawerHeader,
                                    children: [(0, J.jsx)(Y.TextHeader, {
                                        level: "2",
                                        weight: "normal",
                                        customSize: "inherit",
                                        children: l ? A.default.t(565) : A.default.t(566)
                                    }), (0, J.jsx)("div", {
                                        className: L.default.drawerHeaderButtonContainer,
                                        children: y
                                    })]
                                }),
                                E = l ? null : (0, J.jsx)("div", {
                                    className: L.default.deleteButtonContainer,
                                    children: (0, J.jsx)(_.default, {
                                        type: "warning",
                                        onClick: this._handleDeleteItem,
                                        a8nText: "product-edit-drawer-delete-button",
                                        children: A.default.t(762)
                                    })
                                }),
                                j = (0, p.default)(L.default.productWrapper, (0, i.default)({}, L.default.isSending, s)),
                                I = d ? (0, J.jsx)(k.default, {}) : null,
                                w = s ? (0, J.jsx)("div", {
                                    className: L.default.spinner,
                                    children: (0, J.jsx)(z.default, {
                                        size: 50,
                                        stroke: 3
                                    })
                                }) : null,
                                O = (0, J.jsxs)("div", {
                                    className: L.default.hiddenContainer,
                                    children: [(0, J.jsx)(x.default, {
                                        id: "product-hidden-check",
                                        onChange: this._handleHiddenChange,
                                        checked: this.state.isHidden,
                                        disabled: !1
                                    }), (0, J.jsx)("label", {
                                        className: L.default.hiddenLabel,
                                        htmlFor: "product-hidden-check",
                                        children: A.default.t(538)
                                    }), (0, J.jsx)("div", {
                                        className: L.default.hiddenDescr,
                                        children: A.default.t(537)
                                    })]
                                });
                            return (0, J.jsxs)(T.default, {
                                theme: "catalog",
                                onDrop: this.handleDrop,
                                onDragChange: this.handleDragChange,
                                children: [I, (0, J.jsx)(P.default, {
                                    a8n: "catalog-link-title",
                                    title: S,
                                    type: P.DRAWER_HEADER_TYPE.SMALL,
                                    onBack: n,
                                    onCancel: r,
                                    focusBackOrCancel: !0
                                }), (0, J.jsx)(M.default, {
                                    children: (0, J.jsxs)("div", {
                                        className: j,
                                        children: [w, (0, J.jsx)(V.default, {
                                            product: a,
                                            maxImageCount: U.MAX_PRODUCT_IMAGES,
                                            onChange: this._handleImageChange,
                                            ref: this._imagePanelRef,
                                            error: m
                                        }), (0, J.jsx)(q.default, {
                                            a8n: "product-edit-drawer-name-input",
                                            value: this.state.name,
                                            placeholder: A.default.t(1114),
                                            onChange: this._handleNameChange,
                                            theme: "small",
                                            customStyleThemes: ["desaturated"],
                                            maxLength: 150,
                                            error: c,
                                            title: A.default.t(54)
                                        }), (0, J.jsx)(q.default, {
                                            a8n: "product-edit-drawer-price-input",
                                            value: this.state.priceStr,
                                            placeholder: A.default.t(1115, {
                                                currencySymbol: b.formatAmount1000ToParts(u, 0).symbol
                                            }),
                                            onChange: this._handlePriceChange,
                                            theme: "small",
                                            maxLength: 30,
                                            customStyleThemes: ["desaturated"],
                                            error: f,
                                            title: A.default.t(55)
                                        }), (0, J.jsx)(q.default, {
                                            a8n: "product-edit-drawer-description-input",
                                            value: this.state.description,
                                            placeholder: A.default.t(1112),
                                            onChange: this.handleDescriptionChange,
                                            theme: "small",
                                            maxLength: 5e3,
                                            customStyleThemes: ["desaturated"],
                                            multiline: !0,
                                            title: A.default.t(51)
                                        }), (0, J.jsx)(q.default, {
                                            a8n: "product-edit-drawer-link-input",
                                            value: this.state.url,
                                            placeholder: A.default.t(1113),
                                            onChange: this._handleUrlChange,
                                            onBlur: this._handleUrlBlur,
                                            theme: "small",
                                            customStyleThemes: ["desaturated"],
                                            maxLength: 75,
                                            error: h,
                                            managed: !0,
                                            title: A.default.t(53)
                                        }), (0, J.jsx)(q.default, {
                                            a8n: "product-edit-drawer-retailer-id-input",
                                            value: this.state.retailerId,
                                            placeholder: A.default.t(1111),
                                            onChange: this._handleRetailerIdChange,
                                            theme: "small",
                                            customStyleThemes: ["desaturated"],
                                            maxLength: 100,
                                            error: v,
                                            title: A.default.t(52)
                                        }), (0, N.canSeeECommerceComplianceIndiaBusinessJourney)(t.id.user) ? (0, J.jsx)(te, {
                                            isComplianceInfoAvailable: C,
                                            showComplianceInfoImporterAddress: this._showComplianceInfoImporterAddress(),
                                            complianceInfo: g,
                                            onComplianceInfoChange: this._handleComplianceInfoChange,
                                            onComplianceInfoImporterAddressChange: this._handleComplianceInfoImporterAddressChange
                                        }) : null, O, E]
                                    })
                                })]
                            }, "catalog-link-drawer")
                        }
                    }]), n
                }(m.Component);

            function te(e) {
                var t = e.isComplianceInfoAvailable,
                    a = e.showComplianceInfoImporterAddress,
                    n = e.complianceInfo,
                    r = e.onComplianceInfoChange,
                    i = e.onComplianceInfoImporterAddressChange,
                    l = function(e) {
                        return `${e} (${A.default.t(1492)})`
                    },
                    o = function(e) {
                        return !n || Object.values(n.importerAddress).every((function(e) {
                            return !e
                        })) ? l(e) : e
                    };
                return t ? (0, J.jsxs)("div", {
                    a8n: "product-edit-drawer-compliance",
                    children: [(0, J.jsx)(q.default, {
                        a8n: "product-edit-drawer-compliance-country-of-origin-input",
                        value: null == n ? void 0 : n.countryNameOrigin,
                        placeholder: A.default.t(1479),
                        onChange: function() {},
                        theme: "small",
                        customStyleThemes: ["desaturated"],
                        managed: !0,
                        onFocus: function() {
                            return y.default.showCountrySelector(A.default.t(1479), null == n ? void 0 : n.countryCodeOrigin, (function(e) {
                                r("countryCodeOrigin", e)
                            }))
                        }
                    }), a && (0, J.jsxs)(J.Fragment, {
                        children: [(0, J.jsx)(q.default, {
                            a8n: "product-edit-drawer-compliance-importer-name-input",
                            value: null == n ? void 0 : n.importerName,
                            placeholder: A.default.t(1490),
                            onChange: function(e) {
                                r("importerName", e)
                            },
                            theme: "small",
                            customStyleThemes: ["desaturated"],
                            maxLength: 100
                        }), (0, J.jsx)(q.default, {
                            a8n: "product-edit-drawer-compliance-importer-address-street-1-input",
                            value: null == n ? void 0 : n.importerAddress.street1,
                            placeholder: o(A.default.t(1487)),
                            onChange: function(e) {
                                i("street1", e)
                            },
                            theme: "small",
                            customStyleThemes: ["desaturated"],
                            maxLength: E.default.COMPLIANCE_INFO_LENGTH.STREET1,
                            error: null == n ? void 0 : n.importerAddress.street1Error
                        }), (0, J.jsx)(q.default, {
                            a8n: "product-edit-drawer-compliance-importer-address-street-2-input",
                            value: null == n ? void 0 : n.importerAddress.street2,
                            placeholder: l(A.default.t(1489)),
                            onChange: function(e) {
                                i("street2", e)
                            },
                            theme: "small",
                            customStyleThemes: ["desaturated"],
                            maxLength: E.default.COMPLIANCE_INFO_LENGTH.STREET2
                        }), (0, J.jsx)(q.default, {
                            a8n: "product-edit-drawer-compliance-importer-address-city-input",
                            value: null == n ? void 0 : n.importerAddress.city,
                            placeholder: o(A.default.t(1481)),
                            onChange: function(e) {
                                i("city", e)
                            },
                            theme: "small",
                            customStyleThemes: ["desaturated"],
                            maxLength: E.default.COMPLIANCE_INFO_LENGTH.CITY,
                            error: null == n ? void 0 : n.importerAddress.cityError
                        }), (0, J.jsx)(q.default, {
                            a8n: "product-edit-drawer-compliance-importer-address-region-input",
                            value: null == n ? void 0 : n.importerAddress.region,
                            placeholder: l(A.default.t(1486)),
                            onChange: function(e) {
                                i("region", e)
                            },
                            theme: "small",
                            customStyleThemes: ["desaturated"],
                            maxLength: E.default.COMPLIANCE_INFO_LENGTH.REGION
                        }), (0, J.jsx)(q.default, {
                            a8n: "product-edit-drawer-compliance-importer-address-country-code-input",
                            value: null == n ? void 0 : n.importerAddress.countryName,
                            placeholder: o(A.default.t(1483)),
                            onChange: function() {},
                            theme: "small",
                            customStyleThemes: ["desaturated"],
                            managed: !0,
                            onFocus: function() {
                                return y.default.showCountrySelector(A.default.t(1483), null == n ? void 0 : n.importerAddress.countryCode, (function(e) {
                                    i("countryCode", e)
                                }))
                            },
                            error: null == n ? void 0 : n.importerAddress.countryCodeError
                        }), (0, J.jsx)(q.default, {
                            a8n: "product-edit-drawer-compliance-importer-address-postal-code-input",
                            value: null == n ? void 0 : n.importerAddress.postalCode,
                            placeholder: l(A.default.t(1485)),
                            onChange: function(e) {
                                i("postalCode", e)
                            },
                            theme: "small",
                            customStyleThemes: ["desaturated"],
                            maxLength: E.default.COMPLIANCE_INFO_LENGTH.POSTAL_CODE
                        }), (0, J.jsx)(S.ComplianceInfoHelpCenterBanner, {
                            xstyle: Q.complianceInfoHelpCenterBanner
                        })]
                    })]
                }) : (0, J.jsx)(O.FlexRow, {
                    align: "center",
                    justify: "center",
                    children: (0, J.jsx)(O.FlexItem, {
                        children: (0, J.jsx)(z.default, {})
                    })
                })
            }
            t.EditProductDrawer = ee, ee.contextType = w.default, ee.CONCERNS = {
                product: ["id", "additionalImageCdnUrl", "name", "priceAmount1000", "description", "productImageCollection", "reviewStatus", "url", "imageCdnUrl", "retailerId", "currency", "isHidden", "complianceInfo"]
            }, ee.displayName = "EditProductDrawer";
            var ae = (0, R.default)((0, W.default)((0, K.default)((0, F.default)(ee), ee.CONCERNS)));
            t.default = ae
        },
        14597: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.onBack,
                    a = e.onAddProductClick,
                    n = e.onCatalogAlreadyCreated,
                    r = (0, d.useState)(!1),
                    L = (0, l.default)(r, 2),
                    O = L[0],
                    D = L[1],
                    N = (0, P.jsx)("div", {
                        className: j.default.placeholderIcon
                    }),
                    R = (0, P.jsx)(f.default, {
                        href: h.default.FB_LEGAL_TERMS_URL,
                        onClick: function(e) {
                            e.preventDefault(), (0, x.openExternalLink)(h.default.FB_LEGAL_TERMS_URL)
                        },
                        children: y.default.t(904)
                    }),
                    A = (0, P.jsx)(f.default, {
                        href: h.default.FB_COMMERCE_POLICY_URL,
                        onClick: function(e) {
                            e.preventDefault(), (0, x.openExternalLink)(h.default.FB_COMMERCE_POLICY_URL)
                        },
                        children: y.default.t(903)
                    }),
                    F = (0, P.jsx)(f.default, {
                        href: h.default.WA_COMMERCE_POLICY_URL,
                        onClick: function(e) {
                            e.preventDefault(), (0, x.openExternalLink)(h.default.WA_COMMERCE_POLICY_URL)
                        },
                        children: y.default.t(2274)
                    }),
                    B = (0, P.jsx)(S.default, {
                        id: 532,
                        params: {
                            fb_product_link: R,
                            fb_commerce_link: A,
                            wa_commerce_policy_link: F
                        }
                    });
                var U = (0, o.default)((0, i.default)({}, j.default.isLoading, O)),
                    G = O ? (0, P.jsx)("div", {
                        className: j.default.spinner,
                        children: (0, P.jsx)(k.default, {
                            size: 50,
                            stroke: 3
                        })
                    }) : null,
                    H = O ? (0, P.jsx)(u.default, {
                        onClick: function() {},
                        theme: "default",
                        idle: !!O
                    }) : (0, P.jsx)(g.default.Consumer, {
                        children: function(e) {
                            return (0, P.jsx)(u.default, {
                                onClick: function() {
                                    ! function(e) {
                                        D(!0), (0, E.logCreateProductCatalogClick)(e), (0, I.createCatalog)().then((function() {
                                            (0, E.logCreateProductCatalogSuccess)(e), a()
                                        })).catch((0, s.filteredCatch)(w.ServerStatusCodeError, (function(t) {
                                            (0, E.logCreateProductCatalogFailed)(e, t.statusCode), p.default.openToast((0, P.jsx)(M.default, {
                                                msg: y.default.t(887),
                                                id: (0, M.genId)("err_catalog_already_created")
                                            })), n()
                                        }))).finally((function() {
                                            D(!1)
                                        }))
                                    }((0, b.getProductCatalogContext)(e))
                                },
                                theme: "default",
                                idle: !1
                            })
                        }
                    });
                return (0, P.jsxs)(v.default, {
                    children: [(0, P.jsx)(_.default, {
                        title: y.default.t(1477),
                        type: _.DRAWER_HEADER_TYPE.LARGE,
                        onBack: t
                    }), (0, P.jsx)(m.default, {
                        className: U,
                        children: (0, P.jsxs)(C.default, {
                            theme: "padding-small",
                            animation: !1,
                            children: [G, (0, P.jsx)(T.TextDiv, {
                                theme: "title",
                                children: y.default.t(505)
                            }), H, (0, P.jsx)(T.TextDiv, {
                                theme: "plain",
                                children: B
                            }), (0, P.jsxs)("div", {
                                className: j.default.placeholderContainer,
                                children: [(0, P.jsx)(c.default, {
                                    theme: "add-item-placeholder",
                                    image: N,
                                    customImage: !0,
                                    className: j.default.addItemPlaceholder,
                                    primary: "",
                                    secondary: "",
                                    idle: !0
                                }), (0, P.jsx)("div", {
                                    className: j.default.divider
                                }), (0, P.jsx)(c.default, {
                                    theme: "add-item-placeholder",
                                    image: N,
                                    customImage: !0,
                                    className: j.default.addItemPlaceholder,
                                    primary: "",
                                    secondary: "",
                                    idle: !0
                                }), (0, P.jsx)("div", {
                                    className: j.default.divider
                                })]
                            })]
                        })
                    })]
                }, "catalog-link-drawer")
            };
            var i = r(a(59713)),
                l = r(a(63038)),
                o = r(a(94184)),
                s = a(18077),
                d = a(67294),
                u = r(a(67482)),
                c = r(a(88186)),
                f = r(a(81288)),
                p = r(a(65901)),
                h = r(a(94253)),
                v = r(a(53187)),
                m = r(a(18345)),
                g = r(a(96706)),
                _ = n(a(19288)),
                C = r(a(46821)),
                x = a(49012),
                y = r(a(45159)),
                S = r(a(62848)),
                E = a(10951),
                j = r(a(29408)),
                I = a(18756),
                b = a(49942),
                k = r(a(85651)),
                T = a(22552),
                M = n(a(92428)),
                w = a(59175),
                P = a(85893)
        },
        79938: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = t.ProductInfoDrawer = void 0;
            var i = r(a(34575)),
                l = r(a(93913)),
                o = r(a(2205)),
                s = r(a(99842)),
                d = a(67294),
                u = r(a(51599)),
                c = r(a(53187)),
                f = r(a(18345)),
                p = r(a(96706)),
                h = n(a(19288)),
                v = r(a(46821)),
                m = r(a(5029)),
                g = a(1577),
                _ = r(a(2424)),
                C = r(a(45159)),
                x = a(10951),
                y = a(61689),
                S = a(49942),
                E = a(67315),
                j = r(a(90872)),
                I = r(a(66493)),
                b = r(a(85464)),
                k = r(a(45353)),
                T = r(a(66710)),
                M = r(a(61897)),
                w = r(a(48341)),
                P = a(22552),
                L = a(85893),
                O = function(e) {
                    (0, o.default)(a, e);
                    var t = (0, s.default)(a);

                    function a(e) {
                        var n;
                        return (0, i.default)(this, a), (n = t.call(this, e)).handleEditProduct = function() {
                            var e = n.props.product;
                            n.props.onEditProduct && n.props.onEditProduct(e)
                        }, n.handleShareProduct = function() {
                            var e = n.props.product;
                            n.props.onShareProduct && n.props.onShareProduct(e)
                        }, n.handleSendChat = function() {
                            n.props.onCancel(), (0, y.sendProductToChat)(n.props.product, n.props.catalog), (0, x.logProductMessageBusinessClick)(n.props.product, (0, S.getProductCatalogContext)(n.context))
                        }, n.state = {
                            isLoading: !0
                        }, n
                    }
                    return (0, l.default)(a, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this,
                                t = this.props,
                                a = t.catalog,
                                n = t.product,
                                r = t.collectionId;
                            a.pullProduct(n.id.toString()).finally((function() {
                                e.setState({
                                    isLoading: !1
                                })
                            })), (0, x.logProductDetailView)({
                                product: n,
                                catalogContext: (0, S.getProductCatalogContext)(this.context),
                                collectionId: r
                            })
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e = this.props,
                                t = e.product,
                                a = e.onCancel,
                                n = e.collectionId,
                                r = (0, g.getMaybeMeUser)(),
                                i = w.default.get(r),
                                l = (0, L.jsx)(P.TextDiv, {
                                    theme: "muted",
                                    className: I.default.businessInfoTitle,
                                    children: C.default.t(440)
                                }),
                                o = t.reviewStatus !== E.PRODUCT_REVIEW_STATUS.APPROVED || t.isHidden,
                                s = (0, L.jsxs)("div", {
                                    children: [(0, L.jsx)("div", {
                                        className: I.default.buttonSeparator,
                                        children: (0, L.jsx)(u.default, {
                                            type: "strong",
                                            onClick: this.handleEditProduct,
                                            a8nText: "product-info-drawer edit-button",
                                            children: C.default.t(809)
                                        })
                                    }), (0, L.jsx)(u.default, {
                                        type: "strong-primary",
                                        onClick: this.handleShareProduct,
                                        disabled: o,
                                        a8nText: "product-info-drawer share-button",
                                        children: C.default.t(2197)
                                    })]
                                }),
                                d = (0, L.jsxs)("div", {
                                    className: I.default.drawerHeader,
                                    children: [(0, L.jsx)("div", {
                                        className: I.default.productName,
                                        children: t.name
                                    }), (0, L.jsx)("div", {
                                        className: I.default.drawerHeaderButtonContainer,
                                        children: s
                                    })]
                                }),
                                p = i ? (0, L.jsx)(v.default, {
                                    title: l,
                                    theme: "no-padding",
                                    children: (0, L.jsx)(T.default, {
                                        status: i
                                    })
                                }) : null,
                                _ = this.state.isLoading ? (0, L.jsx)(m.default, {}) : (0, L.jsxs)(L.Fragment, {
                                    children: [(0, L.jsx)(k.default, {
                                        product: t,
                                        isAvailable: !0,
                                        fetching: !1
                                    }), (0, L.jsx)(b.default, {
                                        product: t
                                    }), (0, L.jsx)(j.default, {
                                        product: t,
                                        collectionId: n,
                                        onSendChat: this.handleSendChat,
                                        isAvailable: !0
                                    })]
                                });
                            return (0, L.jsxs)(c.default, {
                                theme: "catalog",
                                children: [(0, L.jsx)(h.default, {
                                    a8n: "catalog-product-title",
                                    title: d,
                                    type: h.DRAWER_HEADER_TYPE.SMALL,
                                    onCancel: a,
                                    headingLevel: "2",
                                    focusBackOrCancel: !0
                                }), (0, L.jsxs)(f.default, {
                                    children: [(0, L.jsx)(v.default, {
                                        theme: "center-column-fixed-width",
                                        children: _
                                    }), (0, L.jsx)("div", {
                                        className: I.default.productWrapper,
                                        children: p
                                    })]
                                })]
                            }, "catalog-link-drawer")
                        }
                    }]), a
                }(d.Component);
            t.ProductInfoDrawer = O, O.contextType = p.default, O.CONCERNS = {
                product: ["id", "catalogWid", "name", "priceAmount1000", "description", "productImageCollection", "reviewStatus", "url", "canAppeal", "imageCdnUrl", "retailerId", "currency", "isHidden"]
            }, O.displayName = "ProductInfoDrawer";
            var D = (0, _.default)((0, M.default)(O, O.CONCERNS));
            t.default = D
        },
        85464: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.product;
                var a = (0, _.jsx)(l.default, {
                    href: s.default.WA_COMMERCE_POLICY_URL,
                    onClick: function(e) {
                        e.preventDefault(), (0, u.openExternalLink)(s.default.WA_COMMERCE_POLICY_URL)
                    },
                    children: c.default.t(1120)
                });
                if (t.reviewStatus === h.PRODUCT_REVIEW_STATUS.APPROVED) return t.isHidden ? (0, _.jsxs)("div", {
                    className: v.default.root,
                    children: [(0, _.jsx)("div", {
                        className: v.default.icon,
                        children: (0, _.jsx)(m.default, {
                            name: "hide"
                        })
                    }), (0, _.jsx)("div", {
                        className: v.default.text,
                        children: (0, _.jsx)(g.TextDiv, {
                            children: c.default.t(1496)
                        })
                    })]
                }) : null;
                if (t.reviewStatus === h.PRODUCT_REVIEW_STATUS.REJECTED) {
                    if (!0 === t.canAppeal) {
                        var n = (0, _.jsx)(f.default, {
                                id: 540,
                                params: {
                                    learn_more_link: a
                                }
                            }),
                            C = (0, _.jsx)(l.default, {
                                onClick: function() {
                                    o.default.openModal((0, _.jsx)(d.default.Consumer, {
                                        children: function(e) {
                                            return (0, _.jsx)(i.default, {
                                                product: t,
                                                sessionId: (0, p.getProductCatalogSessionId)(e)
                                            })
                                        }
                                    }))
                                },
                                a8n: "product-appeal-button",
                                children: c.default.t(541)
                            }),
                            x = (0, _.jsx)(f.default, {
                                id: 533,
                                params: {
                                    request_review_link: C
                                },
                                className: v.default.appealText,
                                tabIndex: "0"
                            });
                        return (0, _.jsxs)("div", {
                            className: v.default.root,
                            "data-a8n": r.default.key("product-appeal-rejected-initial-review"),
                            children: [(0, _.jsx)("div", {
                                className: v.default.icon,
                                children: (0, _.jsx)(m.default, {
                                    name: "info"
                                })
                            }), (0, _.jsxs)("div", {
                                className: v.default.text,
                                children: [n, x]
                            })]
                        })
                    }
                    var y = (0, _.jsx)(f.default, {
                        id: 535,
                        params: {
                            learn_more_link: a
                        }
                    });
                    return (0, _.jsx)("div", {
                        className: v.default.root,
                        "data-a8n": r.default.key("product-appeal-rejected-final"),
                        children: y
                    })
                }
                if (t.reviewStatus === h.PRODUCT_REVIEW_STATUS.NO_REVIEW || t.reviewStatus === h.PRODUCT_REVIEW_STATUS.OUTDATED) {
                    var S = t.isHidden ? (0, _.jsx)(f.default, {
                        id: 550,
                        params: {
                            learn_more_link: a
                        }
                    }) : (0, _.jsx)(f.default, {
                        id: 549,
                        params: {
                            learn_more_link: a
                        }
                    });
                    return (0, _.jsx)("div", {
                        className: v.default.root,
                        "data-a8n": r.default.key("product-appeal-pending-initial-review"),
                        children: S
                    })
                }
                if (!1 === t.canAppeal) {
                    var E = c.default.t(534);
                    return (0, _.jsx)("div", {
                        className: v.default.root,
                        "data-a8n": r.default.key("product-appeal-pending-appeal"),
                        children: E
                    })
                }
                return null
            };
            var r = n(a(40501)),
                i = n(a(94928)),
                l = n(a(81288)),
                o = n(a(65901)),
                s = n(a(94253)),
                d = n(a(96706)),
                u = a(49012),
                c = n(a(45159)),
                f = n(a(62848)),
                p = a(49942),
                h = a(67315),
                v = n(a(79829)),
                m = n(a(7665)),
                g = a(22552),
                _ = a(85893)
        },
        66710: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(a(34575)),
                i = n(a(93913)),
                l = n(a(2205)),
                o = n(a(99842)),
                s = a(67294),
                d = n(a(88186)),
                u = n(a(73929)),
                c = n(a(66834)),
                f = a(1577),
                p = n(a(2424)),
                h = n(a(61897)),
                v = a(85893),
                m = function(e) {
                    (0, l.default)(a, e);
                    var t = (0, o.default)(a);

                    function a() {
                        return (0, r.default)(this, a), t.apply(this, arguments)
                    }
                    return (0, i.default)(a, [{
                        key: "render",
                        value: function() {
                            var e = this.props.status;
                            return (0, v.jsx)(d.default, {
                                image: (0, v.jsx)(c.default, {
                                    id: (0, f.getMaybeMeUser)()
                                }),
                                primary: u.default.pushname,
                                secondary: e.status,
                                idle: !0
                            })
                        }
                    }]), a
                }(s.Component);
            m.CONCERNS = {
                status: ["status"]
            }, m.displayName = "ProfileLockup";
            var g = (0, p.default)((0, h.default)(m, m.CONCERNS));
            t.default = g
        },
        20870: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.businessProfile,
                    a = e.catalog,
                    n = e.openCatalog,
                    o = void 0 === n ? h : n,
                    v = (0, i.hasShop)(t),
                    m = Boolean(v && c.default.shopsProductGrid);
                if ((0, r.useEffect)((function() {
                        (0, d.logShopsManagementEvent)(u.default.SHOPS_MANAGEMENT_ACTION.ACTION_SHOPS_PRODUCT_PREVIEW_VISIBLE, {
                            shouldLogJid: !1,
                            isShopsProductPreviewVisible: m
                        })
                    }), [m]), v) return m ? (0, p.jsx)(f.default, {
                    isEditMode: !0,
                    subtitle: s.default.t(1178),
                    businessProfile: t,
                    catalog: a,
                    productsToShow: 3
                }) : null;
                return (0, p.jsx)(l.default, {
                    catalog: a,
                    onProductDetail: o,
                    onProductCatalog: o,
                    productsToShow: 3,
                    catalogEntryLabel: null == a ? s.default.t(235) : s.default.t(1820),
                    showProductPlaceholders: !0,
                    seeMoreOverlay: !0,
                    sectionTheme: "refresh"
                })
            };
            var r = a(67294),
                i = a(19218),
                l = n(a(13833)),
                o = a(28210),
                s = n(a(45159)),
                d = a(62730),
                u = n(a(50507)),
                c = n(a(43890)),
                f = n(a(18815)),
                p = a(85893);

            function h() {
                (0, o.openCatalogManagementFlow)(null, u.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_PROFILE)
            }
        },
        92385: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var r = n(a(63038)),
                i = a(67294),
                l = n(a(27237)),
                o = n(a(67268)),
                s = n(a(94680)),
                d = n(a(73008)),
                u = n(a(45159)),
                c = n(a(7665)),
                f = n(a(16835)),
                p = n(a(93820)),
                h = a(85893);

            function v(e) {
                var t, a = e.collection,
                    n = e.theme,
                    v = e.onDelete,
                    m = e.onEdit,
                    g = e.onSeeCollection,
                    _ = e.canManage,
                    C = (0, i.useState)(!1),
                    x = (0, r.default)(C, 1)[0],
                    y = (0, i.useState)(null),
                    S = (0, r.default)(y, 2),
                    E = S[0],
                    j = S[1],
                    I = function(e) {
                        e.preventDefault(), e.stopPropagation(), v && v(a)
                    },
                    b = function(e) {
                        e.preventDefault(), e.stopPropagation(), m && m(a)
                    },
                    k = (0, h.jsx)("div", {
                        className: o.default.collectionIcon,
                        children: (0, h.jsx)("div", {
                            className: o.default.iconContainer,
                            children: (0, h.jsx)(c.default, {
                                name: "collections_folder"
                            })
                        })
                    }),
                    T = (0, h.jsx)(d.default, {
                        text: a.name,
                        ellipsify: !0,
                        titlify: !0
                    });
                return E && (t = (0, h.jsx)(f.default, {
                    displayName: "CollectionContextMenu",
                    escapable: !0,
                    popable: !0,
                    requestDismiss: function() {
                        j(null)
                    },
                    children: (0, h.jsx)(p.default, {
                        contextMenu: E
                    })
                })), (0, h.jsxs)(h.Fragment, {
                    children: [(0, h.jsx)(l.default, {
                        customImage: !0,
                        image: k,
                        primary: T,
                        theme: n,
                        active: x,
                        contextEnabled: function() {
                            return e.canManage
                        },
                        onContext: function(e) {
                            if (E) j(null);
                            else {
                                var t = [];
                                _ && (t.push((0, h.jsx)(s.default, {
                                    a8n: "mi-show-label",
                                    action: b,
                                    children: u.default.t(516)
                                }, "EditLabel")), t.push((0, h.jsx)(s.default, {
                                    a8n: "mi-show-label",
                                    action: I,
                                    children: u.default.t(514)
                                }, "DeleteLabel"))), j({
                                    menu: t,
                                    event: e.event,
                                    anchor: e.anchor
                                })
                            }
                        },
                        onClick: function(e) {
                            e.preventDefault(), e.stopPropagation(), g && g(a)
                        }
                    }, a.id.toString()), t]
                })
            }
            v.defaultProps = {
                theme: "collection-edit",
                isMuted: !1
            };
            var m = v;
            t.default = m
        },
        10558: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.data,
                    a = e.canManage,
                    n = e.onEditCollection,
                    h = e.onSeeCollection,
                    v = (0, f.default)(e.catalog, ["collections"]);
                return (0, p.jsx)(d.default, {
                    flatListControllers: [e.flatListController],
                    children: (0, p.jsx)(s.default, {
                        flatListController: e.flatListController,
                        direction: "vertical",
                        forceConsistentRenderCount: !1,
                        data: (m = [], t.forEach((function(e) {
                            e.collection && m.push({
                                itemKey: e.collection.id,
                                collection: e.collection
                            })
                        })), m),
                        renderItem: function(e) {
                            var t = e.collection;
                            return (0, p.jsx)(o.default.Consumer, {
                                children: function(e) {
                                    return (0, p.jsx)(i.default, {
                                        collection: t,
                                        canManage: a,
                                        onDelete: function() {
                                            return function(e, t) {
                                                (0, r.handleCollectionDelete)((0, c.unproxy)(v), e, t)
                                            }(t, (0, u.getProductCatalogContext)(e))
                                        },
                                        onEdit: n,
                                        onSeeCollection: h
                                    })
                                }
                            })
                        },
                        defaultItemHeight: l.default.PRODUCT_LIST_ITEM_HEIGHT
                    })
                });
                var m
            };
            var r = a(9812),
                i = n(a(92385)),
                l = n(a(94253)),
                o = n(a(96706)),
                s = n(a(73568)),
                d = n(a(23803)),
                u = a(49942),
                c = a(68220),
                f = n(a(69283)),
                p = a(85893)
        },
        74250: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = t.CollectionsManagementDrawer = void 0;
            var i = r(a(87757)),
                l = r(a(48926)),
                o = r(a(34575)),
                s = r(a(93913)),
                d = r(a(2205)),
                u = r(a(99842)),
                c = r(a(96486)),
                f = a(67294),
                p = r(a(67482)),
                h = r(a(18330)),
                v = a(52716),
                m = r(a(10558)),
                g = r(a(29025)),
                _ = r(a(94253)),
                C = r(a(53187)),
                x = r(a(18345)),
                y = n(a(19288)),
                S = r(a(92546)),
                E = r(a(5029)),
                j = a(1577),
                I = r(a(45159)),
                b = r(a(63641)),
                k = r(a(5202)),
                T = a(85893),
                M = function(e) {
                    (0, d.default)(n, e);
                    var t, a = (0, u.default)(n);

                    function n(e) {
                        var t;
                        return (0, o.default)(this, n), (t = a.call(this, e))._catalogFlatListController = new S.default, t._handleScroll = function(e, a) {
                            var n, r;
                            t.props.setScrollOffset && t.props.setScrollOffset(a.scrollTop), (null === (n = t.state.scrollHelper) || void 0 === n ? void 0 : n.willLoadMore(a)) && t.setState({
                                loadingMore: !0
                            }), null === (r = t.state.scrollHelper) || void 0 === r || r.onScroll(e, a).then((function(e) {
                                e && t.setState({
                                    loadingMore: !1
                                })
                            })).catch((function(e) {
                                throw t.setState({
                                    loadingMore: !1
                                }), e
                            }))
                        }, t.handleScroll = c.default.throttle(t._handleScroll, 100), t.onScroll = function(e) {
                            t.handleScroll(e, e.currentTarget)
                        }, t.state = {
                            loadingMore: !0,
                            dataSource: null,
                            scrollHelper: null
                        }, t
                    }
                    return (0, s.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this,
                                t = this.getCatalog();
                            if (t) {
                                var a = new v.CollectionsDataSource(t, !0, _.default.PRODUCT_LIST_ITEM_HEIGHT);
                                t.collections.on("add", c.default.debounce((function() {
                                    return e.forceUpdate()
                                }), 100)), t.collections.on("remove", c.default.debounce((function() {
                                    return e.forceUpdate()
                                }), 100));
                                var n = new v.CatalogListItemScrollHelper(a);
                                this.setState({
                                    dataSource: a,
                                    scrollHelper: n
                                }, (function() {
                                    e.loadInitialItems()
                                }))
                            }
                        }
                    }, {
                        key: "getCatalog",
                        value: function() {
                            var e = (0, j.getMeUser)();
                            return h.default.get(e)
                        }
                    }, {
                        key: "getDrawerContent",
                        value: function() {
                            var e = this,
                                t = this.getCatalog(),
                                a = this.state.dataSource;
                            return t && a ? (0, T.jsxs)("div", {
                                children: [(0, T.jsx)(p.default, {
                                    onClick: function() {
                                        e.props.editCollection(null)
                                    },
                                    theme: "collections",
                                    title: I.default.t(519)
                                }), (0, T.jsx)(m.default, {
                                    canManage: !0,
                                    catalog: t,
                                    onEditCollection: this.props.editCollection,
                                    data: a.getData(),
                                    flatListController: this._catalogFlatListController,
                                    onSeeCollection: this.props.onSeeCollection
                                }), this.state.loadingMore && (0, T.jsx)("div", {
                                    className: g.default.loadingSpinner,
                                    children: (0, T.jsx)(E.default, {})
                                })]
                            }) : null
                        }
                    }, {
                        key: "loadInitialItems",
                        value: (t = (0, l.default)(i.default.mark((function e() {
                            var t;
                            return i.default.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        return t = this.state.dataSource, e.next = 3, null == t ? void 0 : t.loadInitialItems();
                                    case 3:
                                        this.setState({
                                            loadingMore: !1
                                        });
                                    case 4:
                                    case "end":
                                        return e.stop()
                                }
                            }), e, this)
                        }))), function() {
                            return t.apply(this, arguments)
                        })
                    }, {
                        key: "render",
                        value: function() {
                            return (0, T.jsxs)(C.default, {
                                theme: "products",
                                onDrop: this.props.onBack,
                                children: [(0, T.jsx)(y.default, {
                                    title: I.default.t(523),
                                    type: y.DRAWER_HEADER_TYPE.LARGE,
                                    onBack: this.props.onBack,
                                    menu: (0, T.jsx)(T.Fragment, {})
                                }), (0, T.jsx)(x.default, {
                                    onScroll: this.onScroll,
                                    flatListControllers: [this._catalogFlatListController],
                                    scrollOffset: this.props.scrollOffset,
                                    children: this.getDrawerContent()
                                })]
                            })
                        }
                    }]), n
                }(f.Component);
            t.CollectionsManagementDrawer = M, M.displayName = "CollectionsManagementDrawer";
            var w = (0, k.default)((0, b.default)(M));
            t.default = w
        },
        77554: (e, t, a) => {
            "use strict";
            var n = a(52108).default,
                r = a(20862),
                i = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var l = i(a(319)),
                o = i(a(34575)),
                s = i(a(93913)),
                d = i(a(2205)),
                u = i(a(99842)),
                c = a(18077),
                f = a(67294),
                p = (i(a(56720)), i(a(71988))),
                h = i(a(65901)),
                v = i(a(94253)),
                m = a(53802),
                g = r(a(18286)),
                _ = i(a(45159)),
                C = a(18070),
                x = a(41655),
                y = a(82380),
                S = i(a(57393)),
                E = i(a(34860)),
                j = i(a(27610)),
                I = i(a(5202)),
                b = i(a(7665)),
                k = r(a(92428)),
                T = i(a(76080)),
                M = i(a(60806)),
                w = a(85893),
                P = {
                    btnDelete: {
                        position: "lhggkp7q",
                        top: "hdpg1tjz",
                        end: "ltcz4qz9",
                        zIndex: "mb8var44",
                        color: "k17s6i4e",
                        filter: "rhe1kc9j"
                    },
                    btnAdd: {
                        display: "p357zi0d",
                        flexDirection: "f8m0rgwh",
                        alignItems: "gndfcl4n",
                        justifyContent: "ac2vgrno",
                        width: "jkv2xdwy",
                        height: "sptw4ec9",
                        fontSize: "lak21jic",
                        fontWeight: "hnx8ox4h",
                        lineHeight: "gz7w46tb",
                        letterSpacing: "hql59cr1"
                    }
                },
                L = function(e) {
                    (0, d.default)(a, e);
                    var t = (0, u.default)(a);

                    function a(e) {
                        var r;
                        (0, o.default)(this, a), (r = t.call(this, e)).handleAddFileClick = function() {
                            r.refInput && r.refInput.click()
                        }, r.handleFilePick = function(e) {
                            (0, m.getFiles)(e, v.default.IMAGE_MIMES).then((function(e) {
                                var t = r.props.maxImageCount - r.state.images.length;
                                e.length > t && h.default.openToast((0, w.jsx)(k.default, {
                                    msg: _.default.t(1182),
                                    duration: 6e3,
                                    action: {
                                        onAction: function() {},
                                        actionText: _.default.t(964),
                                        dismiss: !0,
                                        theme: "success"
                                    },
                                    id: (0, k.genId)()
                                })), e.slice(0, r.props.maxImageCount - r.state.images.length).map((function(e) {
                                    return {
                                        file: e,
                                        filename: e.name,
                                        mimetype: e.type,
                                        type: y.TYPE.PRODUCT
                                    }
                                })).map((function(e) {
                                    var t, a = new p.default({
                                        file: n.resolve(e)
                                    });
                                    return null === (t = a.processPromise) || void 0 === t ? void 0 : t.then((function() {
                                        r._appendImage(a)
                                    }))
                                }))
                            })).checkpoint(r.props.rejectOnUnmount()).catch((0, c.filteredCatch)(g.Unmount, (function() {}))), e.target && e.target.value && (e.target.value = "")
                        }, r.uploadImages = function() {
                            var e = r.state.images.filter((function(e) {
                                return null == e.url
                            })).map((function(e) {
                                return (0, C.uploadProductImage)(e.mediaData.mediaBlob, e.mediaData.filehash).then((function(t) {
                                    e.url = t
                                }))
                            }));
                            return n.all(e).then((function() {
                                return r.state.images.map((function(e) {
                                    return e.url || ""
                                }))
                            }))
                        }, r.setRefInput = function(e) {
                            r.refInput = e
                        };
                        var i = e.product.productImageCollection.filter((function(e) {
                            return !e.old
                        })).map((function(e) {
                            return {
                                url: e.mediaUrl,
                                mediaData: e.mediaData
                            }
                        }));
                        return r.state = {
                            images: i
                        }, r
                    }
                    return (0, s.default)(a, [{
                        key: "_appendImage",
                        value: function(e) {
                            var t = this;
                            e.mediaPrep.waitForPrep().then((function(a) {
                                if (t._validateImage(a)) {
                                    a.mediaStage = x.MEDIA_DATA_STAGE.RESOLVED, a.renderableUrl = e.fullPreview;
                                    var n = a.mediaBlob;
                                    !n || n instanceof S.default || S.default.createFromData(n, n.type).then((function(e) {
                                        a.mediaBlob = e
                                    })), t.setState({
                                        images: [].concat((0, l.default)(t.state.images), [{
                                            url: null,
                                            mediaData: a
                                        }])
                                    }), t.props.onChange && t.props.onChange(t.state.images)
                                }
                            }))
                        }
                    }, {
                        key: "_validateImage",
                        value: function(e) {
                            return !(this.state.images.filter((function(t) {
                                return t.mediaData.filehash === e.filehash
                            })).length > 0) || (h.default.openToast((0, w.jsx)(k.default, {
                                id: (0, k.genId)(),
                                msg: _.default.t(888)
                            })), !1)
                        }
                    }, {
                        key: "_deleteImage",
                        value: function(e) {
                            var t = this.state.images.filter((function(t) {
                                return t !== e
                            }));
                            this.setState({
                                images: t
                            }), this.props.onChange && this.props.onChange(t)
                        }
                    }, {
                        key: "_renderTiles",
                        value: function() {
                            var e = this;
                            return this.state.images.filter((function(e) {
                                return e.mediaData
                            })).map((function(t, a) {
                                return (0, w.jsxs)("div", {
                                    className: E.default.imageTile,
                                    children: [(0, w.jsx)(T.default, {
                                        xstyle: P.btnDelete,
                                        "aria-label": _.default.t(42, {
                                            imageNumber: a + 1
                                        }),
                                        a8nText: "delete-image",
                                        onClick: function() {
                                            return e._deleteImage(t)
                                        },
                                        children: (0, w.jsx)(b.default, {
                                            className: E.default.deleteIcon,
                                            name: "x-alt"
                                        })
                                    }), (0, w.jsx)(j.default, {
                                        mediaData: t.mediaData,
                                        className: E.default.imageThumb
                                    })]
                                }, t.mediaData.filehash)
                            }))
                        }
                    }, {
                        key: "_renderAddImageButton",
                        value: function() {
                            return this.state.images.length < this.props.maxImageCount ? (0, w.jsx)("div", {
                                className: E.default.btnAddContainer,
                                children: (0, w.jsxs)(T.default, {
                                    xstyle: P.btnAdd,
                                    "aria-label": _.default.t(2),
                                    onClick: this.handleAddFileClick,
                                    a8nText: "add-image",
                                    children: [(0, w.jsx)(b.default, {
                                        name: "camera"
                                    }), (0, w.jsx)("div", {
                                        className: E.default.btnAddText,
                                        children: _.default.t(504)
                                    })]
                                })
                            }) : null
                        }
                    }, {
                        key: "_renderFileInput",
                        value: function() {
                            return (0, w.jsx)("input", {
                                ref: this.setRefInput,
                                type: "file",
                                accept: v.default.IMAGE_MIMES,
                                style: {
                                    display: "none"
                                },
                                onChange: this.handleFilePick,
                                multiple: !0
                            })
                        }
                    }, {
                        key: "renderErrorMessage",
                        value: function() {
                            return (0, w.jsx)("div", {
                                className: E.default.errorMessage,
                                role: "alert",
                                children: this.props.error
                            })
                        }
                    }, {
                        key: "render",
                        value: function() {
                            return (0, w.jsxs)("div", {
                                className: E.default.panel,
                                children: [(0, w.jsxs)("div", {
                                    className: E.default.tileContainer,
                                    children: [(0, w.jsxs)(M.default, {
                                        transitionAppear: !0,
                                        transitionName: "thumb-scale-flex",
                                        children: [this._renderTiles(), this._renderAddImageButton()]
                                    }), this._renderFileInput()]
                                }), this.renderErrorMessage()]
                            })
                        }
                    }]), a
                }(f.Component);
            L.displayName = "ProductImagesEditPanel";
            var O = (0, I.default)(L);
            t.default = O
        },
        14244: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, a = e.flatListController,
                    n = e.onProductDetail,
                    x = e.productMessageList,
                    y = x.productCollection.getProductModels(),
                    S = x.getSections(),
                    E = x.getSectionsCount() > 0,
                    j = x.getTotalProductsFetchedOrFailed(),
                    I = x.getProductSize() === j && 0 === y.length,
                    b = [];
                S.forEach((function(e, t) {
                    var a = e.title,
                        n = e.products,
                        r = [];
                    n.forEach((function(e) {
                        var a = e.productId,
                            n = y.find((function(e) {
                                return e.id === a
                            }));
                        null != n && r.push({
                            itemKey: `section-${t}-${n.id.toString()}`,
                            product: n,
                            type: "product",
                            height: s.default.PRODUCT_LIST_ITEM_HEIGHT
                        })
                    })), r.length > 0 && (null != a && "" !== a && b.push({
                        itemKey: `header-${t}-${a}`,
                        label: a,
                        type: "section",
                        height: 72
                    }), b.push.apply(b, r))
                }));
                var k = (0, l.useCallback)((function(e, t) {
                        return (0, f.logCatalogListDetailClick)({
                            product: (0, _.unproxy)(e),
                            catalogContext: t
                        }), n(e)
                    }), [n]),
                    T = (0, l.useCallback)((function(e) {
                        var t = null;
                        switch (e.type) {
                            case "section":
                                var a = e.label;
                                t = (0, C.jsx)(g.default, {
                                    header: a
                                });
                                break;
                            case "product":
                                var n = e.product;
                                t = (0, C.jsx)(d.default.Consumer, {
                                    children: function(e) {
                                        return (0, C.jsx)(h.default, {
                                            product: n,
                                            onClick: function() {
                                                return k(n, (0, p.getProductCatalogContext)(e))
                                            },
                                            canManageCatalog: !1
                                        })
                                    }
                                })
                        }
                        return t
                    }), [k]);
                return (0, l.useEffect)((function() {
                    I && o.default.openModal((0, C.jsx)(m.default, {
                        onConfirm: function() {
                            o.default.closeDrawerRight(), o.default.closeModal()
                        }
                    }))
                }), [I]), (0, C.jsx)("div", {
                    className: (0, i.default)((t = {}, (0, r.default)(t, v.default.list, !0), (0, r.default)(t, v.default.noSections, !E), t)),
                    children: (0, C.jsx)(c.default, {
                        flatListControllers: [a],
                        children: (0, C.jsx)(u.default, {
                            flatListController: a,
                            direction: "vertical",
                            forceConsistentRenderCount: !1,
                            data: b,
                            renderItem: T,
                            itemEnterAnimationsEnabled: !0
                        })
                    })
                })
            };
            var r = n(a(59713)),
                i = n(a(94184)),
                l = a(67294),
                o = n(a(65901)),
                s = n(a(94253)),
                d = n(a(96706)),
                u = n(a(73568)),
                c = n(a(23803)),
                f = a(10951),
                p = a(49942),
                h = n(a(98166)),
                v = n(a(89557)),
                m = n(a(82745)),
                g = n(a(44533)),
                _ = a(68220),
                C = a(85893)
        },
        44770: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = t.ProductMessageListDrawer = void 0;
            var i = r(a(87757)),
                l = r(a(48926)),
                o = r(a(34575)),
                s = r(a(93913)),
                d = r(a(2205)),
                u = r(a(99842)),
                c = a(18077),
                f = r(a(96486)),
                p = a(67294),
                h = r(a(41325)),
                v = r(a(10114)),
                m = r(a(76816)),
                g = r(a(94253)),
                _ = r(a(53187)),
                C = r(a(18345)),
                x = r(a(96706)),
                y = n(a(19288)),
                S = r(a(73008)),
                E = n(a(18286)),
                j = a(50317),
                I = r(a(29661)),
                b = r(a(92546)),
                k = r(a(5029)),
                T = r(a(45159)),
                M = r(a(63641)),
                w = a(11613),
                P = a(91823),
                L = a(49942),
                O = r(a(14244)),
                D = r(a(29318)),
                N = r(a(14644)),
                R = r(a(5202)),
                A = r(a(61897)),
                F = a(82118),
                B = a(85893),
                U = function(e) {
                    (0, d.default)(n, e);
                    var t, a = (0, u.default)(n);

                    function n(e) {
                        var t;
                        (0, o.default)(this, n), (t = a.call(this, e))._productListFlatListController = new b.default, t._handleScroll = function(e) {
                            t.state.loadingMore || e.scrollTop + g.default.SCROLL_FUDGE > e.scrollHeight - e.clientHeight && t._loadMoreProduct()
                        }, t.handleScroll = f.default.throttle(t._handleScroll, 100), t._loadMoreProduct = function() {
                            var e = t.props.productListId,
                                a = t.state,
                                n = a.stopLoading,
                                r = a.loadedProducts;
                            if (!n) {
                                var i = D.default.assertGet(e),
                                    l = i.getTotalProductsFetchedOrFailed(),
                                    o = i.getProductSize();
                                l !== o ? (t.setState({
                                    loadingMore: !0,
                                    loadedProducts: l
                                }), D.default.update(e).checkpoint(t.props.rejectOnUnmount()).then((function(e) {
                                    t.setState({
                                        loadingMore: !1
                                    }), (Array.isArray(e) ? e[0] : e).getTotalProductsFetchedOrFailed() === r && t.setState({
                                        stopLoading: !0
                                    }), l * g.default.PRODUCT_LIST_ITEM_HEIGHT < window.innerHeight && t._loadMoreProduct()
                                })).catch((0, c.filteredCatch)(E.Unmount, (function() {}))).catch((function() {
                                    t.setState({
                                        loadingMore: !1,
                                        stopLoading: !0
                                    })
                                }))) : t.setState({
                                    stopLoading: !0
                                })
                            }
                        }, t.onScroll = function(e) {
                            t.handleScroll(e.currentTarget), t.props.setScrollOffset && t.props.setScrollOffset(e.currentTarget.scrollTop)
                        }, t._handleCartChange = function() {
                            var e = t.state.cart.itemCount;
                            t.state.cartCount !== e && t.setState({
                                cartCount: e
                            })
                        }, t._handleCartClick = function() {
                            var e = t.props,
                                a = e.contact,
                                n = e.onCartClick;
                            n && n(a.id.toString())
                        };
                        var r = D.default.get(t.props.productListId),
                            i = h.default.findCart(t.props.contact.id.toString());
                        return t.state = {
                            loadingMore: !1,
                            loadedProducts: 0,
                            stopLoading: !1,
                            productMessageList: r,
                            cart: i,
                            cartCount: i.itemCount,
                            cartEnabled: !1,
                            productMessageListFetchState: r ? "SUCCESS" : "NONE"
                        }, t
                    }
                    return (0, s.default)(n, [{
                        key: "componentDidMount",
                        value: function() {
                            var e = this,
                                t = this.props,
                                a = t.listeners,
                                n = t.contact;
                            a.add(this.state.cart, "all", this._handleCartChange), this.state.productMessageList ? this._loadMoreProduct() : this._findProductMessageList(), (0, m.default)(n.id).checkpoint(this.props.rejectOnUnmount()).then((function(t) {
                                e.setState({
                                    cartEnabled: t
                                })
                            })).catch((0, c.filteredCatch)(E.Unmount, (function() {})))
                        }
                    }, {
                        key: "_findProductMessageList",
                        value: (t = (0, l.default)(i.default.mark((function e() {
                            var t, a = this;
                            return i.default.wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        return e.prev = 0, e.next = 3, D.default.find(this.props.productListId).checkpoint(this.props.rejectOnUnmount());
                                    case 3:
                                        t = e.sent, this.setState({
                                            productMessageList: t,
                                            productMessageListFetchState: "SUCCESS"
                                        }), this._loadMoreProduct(), e.next = 11;
                                        break;
                                    case 8:
                                        e.prev = 8, e.t0 = e.catch(0), (0, j.parseErrorState)(e.t0, (function(e) {
                                            return a.setState({
                                                productMessageListFetchState: e
                                            })
                                        }));
                                    case 11:
                                    case "end":
                                        return e.stop()
                                }
                            }), e, this, [
                                [0, 8]
                            ])
                        }))), function() {
                            return t.apply(this, arguments)
                        })
                    }, {
                        key: "_getDrawerContent",
                        value: function() {
                            var e = this.state.productMessageList;
                            return e ? (0, B.jsx)(B.Fragment, {
                                children: (0, B.jsxs)("div", {
                                    children: [(0, B.jsx)(O.default, {
                                        productMessageList: e,
                                        flatListController: this._productListFlatListController,
                                        onProductDetail: this.props.onProductDetail
                                    }), this.state.loadingMore && (0, B.jsx)(k.default, {})]
                                })
                            }) : (0, B.jsx)(I.default, {
                                fetchState: this.state.productMessageListFetchState
                            })
                        }
                    }, {
                        key: "_getCartIcon",
                        value: function() {
                            var e = this.props,
                                t = e.onCartClick,
                                a = e.contact;
                            if (t && this.state.cartEnabled) {
                                var n = this.state.cartCount,
                                    r = (0, F.isNumber)(n) && n > 0 ? n.toString() : void 0,
                                    i = (0, w.getOnCartClickWithLog)(this._handleCartClick, a.id.toString(), (0, L.getProductCatalogContext)(this.context));
                                return (0, B.jsx)(P.MenuBarItem, {
                                    a8nText: "menu-bar-cart-link",
                                    icon: (0, B.jsx)(v.default, {
                                        theme: "inherit-color"
                                    }),
                                    text: r,
                                    title: T.default.t(490),
                                    onClick: i
                                })
                            }
                            return null
                        }
                    }, {
                        key: "render",
                        value: function() {
                            var e = this.state.productMessageList;
                            return (0, B.jsxs)(_.default, {
                                theme: "products",
                                onDrop: this.props.onBack,
                                children: [(0, B.jsx)(y.default, {
                                    title: (0, B.jsx)("div", {
                                        className: N.default.title,
                                        children: (0, B.jsx)(S.default, {
                                            text: null == e ? void 0 : e.title,
                                            ellipsify: !0
                                        })
                                    }),
                                    type: y.DRAWER_HEADER_TYPE.SMALL,
                                    onBack: this.props.onBack,
                                    menu: this._getCartIcon()
                                }), (0, B.jsx)(C.default, {
                                    onScroll: this.onScroll,
                                    flatListControllers: [this._productListFlatListController],
                                    scrollOffset: this.props.scrollOffset,
                                    children: this._getDrawerContent()
                                })]
                            })
                        }
                    }]), n
                }(p.Component);
            t.ProductMessageListDrawer = U, U.contextType = x.default, U.CONCERNS = {
                contact: ["id"]
            }, U.displayName = "ProductMessageListDrawer";
            var G = (0, R.default)((0, M.default)((0, A.default)(U, U.CONCERNS)));
            t.default = G
        },
        82745: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.onConfirm;
                return (0, o.jsx)(r.default, {
                    onOK: t,
                    okText: l.default.t(2125),
                    children: (0, o.jsx)(i.default, {
                        text: l.default.t(1499)
                    })
                })
            };
            var r = n(a(86777)),
                i = n(a(73008)),
                l = n(a(45159)),
                o = a(85893)
        },
        77104: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = void 0;
            var i = r(a(63038)),
                l = r(a(48842)),
                o = a(67294),
                s = r(a(18330)),
                d = r(a(45159)),
                u = n(a(64803)),
                c = r(a(35005)),
                f = a(85893),
                p = function(e, t) {
                    var a = (0, o.useState)(!1),
                        n = (0, i.default)(a, 2),
                        r = n[0],
                        p = n[1],
                        h = (0, o.useState)([]),
                        v = (0, i.default)(h, 2),
                        m = v[0],
                        g = v[1],
                        _ = (0, f.jsx)(c.default, {
                            disabled: !r,
                            onClick: function() {
                                var t, a = (0, l.default)(null === (t = m[0]) || void 0 === t ? void 0 : t.catalogWid, "products[0]?.catalogWid"),
                                    n = (0, l.default)(s.default.get(a), "CatalogCollection.get(catalogWid)");
                                e.onShare(n)
                            }
                        });
                    return (0, f.jsx)(u.default, {
                        ref: t,
                        title: d.default.t(1645),
                        onCancel: e.onCancel,
                        onConfirm: e.onConfirm,
                        listType: u.ListType.PRODUCT_SELECT_MODAL,
                        enableSearchBox: !1,
                        customHeader: _,
                        onSelectionChanged: function(e, t, a) {
                            p(0 === a.length)
                        },
                        onDataLoaded: function(e) {
                            var t = e;
                            g(t), p(t.length > 0)
                        }
                    })
                },
                h = (0, o.forwardRef)(p);
            t.default = h
        },
        35005: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = e.disabled ? o.default.disabled : "",
                    a = e.disabled ? null : e.onClick,
                    n = (0, d.jsx)("span", {
                        className: o.default.title,
                        children: i.default.t(1474)
                    }),
                    u = (0, d.jsx)(l.default, {
                        theme: "compact",
                        disabled: e.disabled,
                        children: (0, d.jsx)(s.default, {
                            name: "catalog"
                        })
                    });
                return (0, d.jsx)(r.default, {
                    image: u,
                    onClick: a,
                    primary: n,
                    theme: "list-button-compact",
                    className: t
                })
            };
            var r = n(a(88186)),
                i = n(a(45159)),
                l = n(a(84287)),
                o = n(a(32375)),
                s = n(a(7665)),
                d = a(85893)
        },
        69466: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t = (0, c.default)(e.statusV3, ["id", "t", "hasUnread", "unreadCount", "totalCount", "contact"]),
                    a = (0, c.default)(e.contact, ["formattedName", "statusMute", "isPSA"]),
                    n = (0, i.default)((0, r.default)({}, s.default.dimmed, a.statusMute)),
                    p = o.default.relativeDateAndTimeStr(t.t),
                    h = a.formattedName;
                a.isPSA && (h = (0, f.jsxs)("span", {
                    className: s.default.verified,
                    children: [a.formattedName, (0, f.jsx)("div", {
                        className: s.default.icon,
                        children: (0, f.jsx)(u.default, {
                            name: "psa-verified"
                        })
                    })]
                }));
                return (0, f.jsx)(l.default, {
                    className: n,
                    customImage: !0,
                    theme: "status-list",
                    image: (0, f.jsx)(d.default, {
                        statusV3: t,
                        contact: a,
                        onClick: e.onClick
                    }),
                    primary: h,
                    secondary: p,
                    onClick: e.onClick,
                    contextEnabled: function() {
                        return !1
                    }
                }, t.id.toString())
            };
            var r = n(a(59713)),
                i = n(a(94184)),
                l = n(a(27237)),
                o = n(a(10399)),
                s = n(a(49787)),
                d = n(a(24533)),
                u = n(a(7665)),
                c = n(a(69283)),
                f = a(85893)
        },
        24533: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                var t, a = e.theme,
                    n = e.thumbnailPlaceholder,
                    i = e.msg,
                    o = (0, c.default)(e.statusV3, ["lastStatus"]),
                    d = (0, c.default)(e.contact, ["statusMute"]),
                    f = null != i ? i : o.lastStatus,
                    v = h(a);
                t = null != n ? n : f ? (0, p.jsx)(l.default, {
                    id: f.sender,
                    theme: "status_v3",
                    size: 40
                }) : null;
                return (0, p.jsxs)("div", {
                    className: (0, r.default)(u.default.container, v),
                    role: e.role || "",
                    onContextMenu: null,
                    onClickCapture: function(t) {
                        var a;
                        null === (a = e.onClick) || void 0 === a || a.call(e), t.stopPropagation(), t.preventDefault()
                    },
                    children: [d.statusMute || "status-panel" === a ? null : (0, p.jsx)(s.default, {
                        statusV3: o
                    }), (0, p.jsx)(m, {
                        msg: f,
                        theme: a,
                        thumbnailPlaceholder: t
                    })]
                })
            };
            var r = n(a(94184)),
                i = n(a(94253)),
                l = n(a(66834)),
                o = n(a(2618)),
                s = n(a(84245)),
                d = a(18740),
                u = n(a(39756)),
                c = n(a(69283)),
                f = n(a(78208)),
                p = a(85893);

            function h(e) {
                return "status-panel" === e ? u.default.thumbSizeLarge : u.default.thumbSizeSmall
            }

            function v(e) {
                var t = e.msg,
                    a = e.theme;
                return (0, p.jsx)("div", {
                    className: (0, r.default)(u.default.statusImage, h(a)),
                    style: {
                        backgroundColor: t.statusV3TextBg
                    },
                    children: (0, p.jsx)("div", {
                        className: (0, r.default)(u.default.textThumb, h(a)),
                        children: (0, p.jsx)(d.StatusV3Text, {
                            msg: t,
                            theme: null != a ? a : "status-thumbnail"
                        })
                    })
                })
            }

            function m(e) {
                var t = e.msg,
                    a = e.theme,
                    n = e.thumbnailPlaceholder,
                    l = h(a),
                    s = u.default.statusImage;
                return t ? f.default.isPSA(t.sender) ? (0, p.jsx)("div", {
                    className: (0, r.default)(u.default.thumbContainer, l, u.default.statusImageFallbackBackground),
                    children: n
                }) : t.type === i.default.MSG_TYPE.CHAT ? (0, p.jsx)(v, {
                    msg: t,
                    theme: a
                }) : (0, p.jsx)(o.default, {
                    containerClassName: (0, r.default)(u.default.thumbContainer, l, u.default.statusImageFallbackBackground),
                    childClassName: (0, r.default)(s, l),
                    msg: t,
                    thumbnailPlaceholder: n
                }) : (0, p.jsx)("div", {
                    className: (0, r.default)(s, l, u.default.statusImageFallbackBackground)
                })
            }
        },
        39205: (e, t, a) => {
            "use strict";
            var n = a(20862),
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.search = function() {
                return m.apply(this, arguments)
            };
            var i = r(a(87757)),
                l = r(a(48926)),
                o = n(a(18286)),
                s = r(a(45159)),
                d = r(a(29034)),
                u = r(a(85306)),
                c = "https://www.bingapis.com/api/v6/images/search",
                f = "D41D8CD98F00B204E9800998ECF8427E4F4A7492",
                p = "Square",
                h = "Medium",
                v = {
                    ar: "ar-SA",
                    da: "da-DK",
                    de: "de-DE",
                    en: "en-US",
                    es: "es-US",
                    fi: "fi-FI",
                    fr: "fr-FR",
                    it: "it-IT",
                    ko: "ko-KR",
                    nl: "nl-NL",
                    pl: "pl-PL",
                    "pt-BR": "pt-BR",
                    ru: "ru-RU",
                    sv: "sv-SE",
                    tr: "tr-TR",
                    "zh-CN": "zh-CN",
                    "zh-TW": "zh-TW",
                    "zh-HK": "zh-HK"
                };

            function m() {
                return (m = (0, l.default)(i.default.mark((function e(t, a) {
                    var n, r, l, m, g, _ = arguments;
                    return i.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                return n = _.length > 2 && void 0 !== _[2] ? _[2] : 30, r = {
                                    q: t,
                                    SafeSearch: "Strict",
                                    appid: f,
                                    mkt: v[s.default.getLocale()] || v.en,
                                    size: h,
                                    aspect: p,
                                    count: n,
                                    offset: a
                                }, l = d.default.build(c, r), e.next = 5, u.default.get(l, u.default.RESP_TYPE.JSON);
                            case 5:
                                if ((m = e.sent).response.hasOwnProperty("_type")) {
                                    e.next = 8;
                                    break
                                }
                                throw new o.InvalidServerResponseError(l, status, `Not a valid Bing response: ${JSON.stringify(m.response)}`);
                            case 8:
                                if ("ErrorResponse" !== m.response._type) {
                                    e.next = 11;
                                    break
                                }
                                throw g = m.response, new o.BingServerError(t, m.status, g);
                            case 11:
                                if ("Images" === m.response._type) {
                                    e.next = 13;
                                    break
                                }
                                throw new o.InvalidServerResponseError(l, status, `Did not receive an image search response, potentially malformed query ${JSON.stringify(m.response)}`);
                            case 13:
                                return e.abrupt("return", m.response);
                            case 14:
                            case "end":
                                return e.stop()
                        }
                    }), e)
                })))).apply(this, arguments)
            }
        },
        78176: (e, t, a) => {
            "use strict";
            var n = a(52108).default,
                r = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function() {
                return j.apply(this, arguments)
            };
            var i = r(a(63038)),
                l = r(a(87757)),
                o = r(a(48926)),
                s = a(26552),
                d = a(32559),
                u = a(73159),
                c = a(953),
                f = a(1577),
                p = a(21283),
                h = r(a(36512)),
                v = a(30625);
            var m = /^([17]|2[07]|3[0123469]|4[013456789]|5[12345678]|6[0123456]|8[1246]|9[0123458]|\d{3})\d*?(\d{4,6})$/;

            function g(e) {
                var t = m.exec(function(e) {
                    return e.user.split("@")[0]
                }(e));
                return s.Binary.build(t ? t[1] + t[2] : e.toString()).readByteArray()
            }

            function _(e, t) {
                return `00000${256*e.getUint32(t,!1)+e.getUint8(t+4)}`.slice(-5)
            }

            function C() {
                return x.apply(this, arguments)
            }

            function x() {
                return (x = (0, o.default)(l.default.mark((function e(t, a) {
                    var r, i, o, d;
                    return l.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                for (r = n.resolve(s.Binary.build(0, 0, a, t).readByteArray()), i = 0; i < 5200; i++) r = r.then((function(e) {
                                    return self.crypto.subtle.digest({
                                        name: "SHA-512"
                                    }, s.Binary.build(e, a).readByteArray())
                                }));
                                return e.next = 4, r;
                            case 4:
                                return o = e.sent, d = new DataView(o instanceof ArrayBuffer ? o.slice(0, 30) : o.slice(0, 30).buffer), e.abrupt("return", [_(d, 0), _(d, 5), _(d, 10), _(d, 15), _(d, 20), _(d, 25)].join(""));
                            case 7:
                            case "end":
                                return e.stop()
                        }
                    }), e)
                })))).apply(this, arguments)
            }

            function y() {
                return S.apply(this, arguments)
            }

            function S() {
                return (S = (0, o.default)(l.default.mark((function e(t, a, r, i) {
                    var o;
                    return l.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2, n.all([C(t, a), C(r, i)]);
                            case 2:
                                return o = e.sent, e.abrupt("return", o.sort().join(""));
                            case 4:
                            case "end":
                                return e.stop()
                        }
                    }), e)
                })))).apply(this, arguments)
            }

            function E(e, t, a, n) {
                var r = new s.Binary;
                return (0, d.encodeProtobuf)(c.CombinedFingerprintSpec, {
                    version: 0,
                    localFingerprint: {
                        publicKey: t,
                        identifier: e
                    },
                    remoteFingerprint: {
                        publicKey: n,
                        identifier: a
                    }
                }, r), r.readBuffer()
            }

            function j() {
                return (j = (0, o.default)(l.default.mark((function e(t) {
                    var a, r, o, s, d, c, m, _, C, x, S, j, I, b, k;
                    return l.default.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                            case 0:
                                return a = (0, f.assertGetMe)(), e.next = 3, (0, u.getFanOutList)([t, a]);
                            case 3:
                                return r = e.sent, e.prev = 4, e.next = 7, (0, p.ensureE2ESessions)(r);
                            case 7:
                                e.next = 12;
                                break;
                            case 9:
                                e.prev = 9, e.t0 = e.catch(4), __LOG__(4, void 0, new Error)`ensureE2ESessions with error`;
                            case 12:
                                return o = [], s = [], r.forEach((function(e) {
                                    e.user === a.user ? s.push(e) : o.push(e)
                                })), e.prev = 15, e.next = 18, (0, v.getAllIdentityKeysBytesOrThrow)(o);
                            case 18:
                                return d = e.sent, e.next = 21, (0, v.getAllIdentityKeysBytesOrThrow)(s);
                            case 21:
                                return c = e.sent, e.next = 24, h.default.getIdentityKeyPair();
                            case 24:
                                if (m = e.sent) {
                                    e.next = 28;
                                    break
                                }
                                return __LOG__(3)`getIdentityVerificationData: missing identity for device verification`, e.abrupt("return", null);
                            case 28:
                                return c.push(new Uint8Array(m.pubKey)), _ = (0, v.identityKeysToBinary)(c), C = (0, v.identityKeysToBinary)(d), x = g((0, f.getMeUser)()), S = g(t), e.next = 35, n.all([y(x, _, S, C), E(x, _, S, C)]);
                            case 35:
                                if (null != (j = e.sent)) {
                                    e.next = 38;
                                    break
                                }
                                return e.abrupt("return", null);
                            case 38:
                                return I = (0, i.default)(j, 2), b = I[0], k = I[1], e.abrupt("return", {
                                    binary: k,
                                    string: b
                                });
                            case 42:
                                return e.prev = 42, e.t1 = e.catch(15), __LOG__(3)`getIdentityVerificationData: error ${e.t1} when trying to generate identtiy QR code`, e.abrupt("return", null);
                            case 46:
                            case "end":
                                return e.stop()
                        }
                    }), e, null, [
                        [4, 9],
                        [15, 42]
                    ])
                })))).apply(this, arguments)
            }
        },
        79459: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.getAction = function(e) {
                var t = e.key,
                    a = e.ctrlKey,
                    n = e.metaKey,
                    r = e.altKey,
                    i = e.shiftKey;
                if ("Control" === t || "Meta" === t || "Alt" === t || "Shift" === t) return;
                return a && n || a && r ? d[function(e, t) {
                    if (t && ("Tab" === e || "Enter" === e || "Backspace" === e || " " === e)) return `Shift+${e}`;
                    return e
                }(t, i)] : void 0
            }, t.getKey = function(e) {
                var t = o(e);
                if (!t.length) return;
                var a = t[0],
                    n = a.key,
                    r = a.nativeKey,
                    i = a.nativeModifier,
                    l = r || n;
                return l ? u(l, i) : void 0
            }, t.getAdditionalShortcuts = function() {
                var e = {};
                return (0, r.default)(l.default.members()).forEach((function(t) {
                    var a = o(t);
                    a.length <= 1 || a.slice(1).forEach((function(a) {
                        var n = a.key,
                            r = a.nativeKey,
                            i = a.nativeModifier,
                            l = r || n;
                        l && (e[u(l, i)] = t)
                    }))
                })), e
            }, t.getShortcutKey = function(e) {
                var t = o(e);
                if (t.length) {
                    var a = t[0],
                        n = a.key,
                        r = a.nativeKey;
                    a.webKey;
                    return r || n
                }
                return
            };
            var r = n(a(319)),
                i = n(a(96486)),
                l = n(a(49305));

            function o(e) {
                switch (e) {
                    case l.default.CONTACT_US:
                        return [{
                            key: "H"
                        }];
                    case l.default.DELETE_OR_EXIT_CHAT:
                        return [{
                            key: "Backspace",
                            nativeKey: "D"
                        }];
                    case l.default.GO_TO_NEXT_CHAT:
                        return [{
                            key: "Tab",
                            nativeModifier: "Ctrl"
                        }, {
                            key: "}"
                        }];
                    case l.default.GO_TO_PREV_CHAT:
                        return [{
                            key: "Shift+Tab",
                            nativeModifier: "Ctrl"
                        }, {
                            key: "{"
                        }];
                    case l.default.LOGOUT:
                        return [];
                    case l.default.OPEN_NEW_CHAT:
                        return [{
                            key: "n"
                        }];
                    case l.default.OPEN_NEW_GROUP:
                        return [{
                            key: "N"
                        }];
                    case l.default.OPEN_PROFILE:
                        return [{
                            key: "p"
                        }];
                    case l.default.OPEN_SETTINGS:
                        return [{
                            key: ","
                        }];
                    case l.default.SEARCH:
                        return [{
                            webKey: "/",
                            nativeKey: "f"
                        }];
                    case l.default.SEARCH_IN_CHAT:
                        return [{
                            key: "F"
                        }];
                    case l.default.TOGGLE_ARCHIVE:
                        return [{
                            key: "E"
                        }];
                    case l.default.TOGGLE_MUTE:
                        return [{
                            key: "M"
                        }];
                    case l.default.TOGGLE_PIN:
                        return [{
                            key: "P"
                        }];
                    case l.default.TOGGLE_UNREAD:
                        return [{
                            key: "U"
                        }];
                    case l.default.ZOOM_IN:
                        return [{
                            key: "+"
                        }, {
                            key: "="
                        }];
                    case l.default.ZOOM_OUT:
                        return [{
                            key: "-"
                        }];
                    case l.default.ZOOM_RESET:
                        return [{
                            key: "0"
                        }];
                    case l.default.INCREASE_PTT_SPEED:
                        return [{
                            key: ">"
                        }];
                    case l.default.DECREASE_PTT_SPEED:
                        return [{
                            key: "<"
                        }];
                    case l.default.OPEN_EMOJI_PANEL:
                        return [{
                            key: "e"
                        }];
                    case l.default.OPEN_GIF_PANEL:
                        return [{
                            key: "g"
                        }];
                    case l.default.OPEN_STICKER_PANEL:
                        return [{
                            key: "s"
                        }];
                    case l.default.TOGGLE_STICKER_MAKER:
                        return [{
                            key: "S"
                        }];
                    default:
                        return []
                }
            }
            var s, d = (s = {}, (0, r.default)(l.default.members()).forEach((function(e) {
                o(e).forEach((function(t) {
                    var a = t.key,
                        n = t.webKey || a;
                    n && (s[n] = e)
                }))
            })), s);

            function u(e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "CmdOrCtrl",
                    a = "+" !== e ? e : "Plus",
                    n = 1 === a.length && a.match(/[a-z]/i);
                if (!n) return `${t}+${i.default.upperFirst(a)}`;
                var r = a.match(/[a-z]/);
                return r ? `${t}+${i.default.upperFirst(a)}` : `Shift+${t}+${a}`
            }
        },
        22395: (e, t, a) => {
            "use strict";
            var n = a(52108).default,
                r = a(20862),
                i = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.default = function(e) {
                return (0, d.promiseLoop)(function() {
                    var t = (0, o.default)(l.default.mark((function t(a, n, r) {
                        var i, o;
                        return l.default.wrap((function(t) {
                            for (;;) switch (t.prev = t.next) {
                                case 0:
                                    return i = (0, s.delayMs)(c.expBackoff(r, 6e4, void 0, .1)), t.prev = 1, t.next = 4, h();
                                case 4:
                                    return t.next = 6, e();
                                case 6:
                                    if (!((o = t.sent).status >= 500 && o.status < 600)) {
                                        t.next = 11;
                                        break
                                    }
                                    return t.abrupt("return", i);
                                case 11:
                                    a(o);
                                case 12:
                                    t.next = 17;
                                    break;
                                case 14:
                                    return t.prev = 14, t.t0 = t.catch(1), t.abrupt("return", i);
                                case 17:
                                case "end":
                                    return t.stop()
                            }
                        }), t, null, [
                            [1, 14]
                        ])
                    })));
                    return function() {
                        return t.apply(this, arguments)
                    }
                }())
            };
            var l = i(a(87757)),
                o = i(a(48926)),
                s = a(74733),
                d = a(10980),
                u = i(a(96486)),
                c = r(a(45951)),
                f = i(a(85443)),
                p = r(a(74950));

            function h() {
                return p.default.state === p.STATE.CONNECTED ? n.resolve() : (0, f.default)(p.default, "change:state", u.default.matches({
                    state: p.STATE.CONNECTED
                }))
            }
        },
        98110: (e, t, a) => {
            "use strict";
            var n = a(95318);
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.getTosUrl = function() {
                return `${i}?lg=${r.default.getLocale()}`
            }, t.TOS_BASE_URL = void 0;
            var r = n(a(45159)),
                i = "https://www.whatsapp.com/legal/";
            t.TOS_BASE_URL = i
        },
        97843: (e, t, a) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            }), t.validateURL = t.validateEmail = t.EMAIL_REGEX = void 0;
            var n = a(29034),
                r = new RegExp(/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/);
            t.EMAIL_REGEX = r;
            t.validateEmail = function(e) {
                return !e || r.test(e)
            };
            t.validateURL = function(e) {
                return !e || n.URL_REGEX.test(e)
            }
        },
        9349: (e, t, a) => {
            e.exports = a.p + "img/animated-doodle_600127bdb5f7627ede5cd4ef320f55b0.png"
        },
        13237: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                editMain: "_2I1Ow",
                dayMain: "JQF0C",
                timeWrapper: "_3MRIR",
                hoursAnd: "_2JxoB",
                hoursMain: "_28Fp0",
                dayCheckbox: "_2TA8L",
                dayInfo: "_1nLa3",
                dayInfoText: "_3nHg5"
            }
        },
        31942: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                editMain: "_3JLJ7",
                list: "_2E4iI",
                rowMain: "uomL_",
                rowCheckbox: "x3Vkl",
                rowLabel: "_2H7gl",
                disabled: "_2rN2h",
                loadingSpinner: "_2ZkHo",
                searchBackground: "kkGAP"
            }
        },
        20230: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                businessHoursDayColumn: "_2e5cd",
                businessHoursTimeColumn: "ePJ9B",
                businessHoursSection: "_25cLK",
                businessHoursTime: "_1Fbr2",
                addAnotherWebsite: "_2ic4J",
                businessMap: "_2lFZs",
                mapOverlay: "_3KH8A",
                overlayHint: "zLudj",
                infoText: "egL-4",
                verifiedNameIcon: "vr8kz",
                noPaddingTop: "_3-G7O"
            }
        },
        51875: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                loadingSpinner: "_3YfhH"
            }
        },
        41671: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                info: "_3_VBJ",
                footer: "_1fPbz",
                emptyCartContainer: "_2o_Dj",
                emptyCardHeader: "_3hoSO",
                emptyCardText: "_8jb_l",
                btnSend: "_5P7L4",
                cartMessage: "_2F64R"
            }
        },
        95827: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                price: "JOk72",
                actions: "_31IdY",
                deleteIcon: "_2fSr8",
                cartListItem: "_1kVL7"
            }
        },
        98307: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                select: "_1xCOB"
            }
        },
        86536: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                deleteIcon: "_19lTm"
            }
        },
        4389: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                title: "_3Q5hz"
            }
        },
        70180: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                title: "_13MJe",
                text: "hM3sj",
                icon: "_1p9YY"
            }
        },
        96257: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                header: "_1vhuQ"
            }
        },
        87240: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                container: "_2RE0a",
                border: "_3t6bN",
                square: "_36Gk7",
                avatar: "_1b8fw",
                count: "_1gLP4",
                two: "_1EzI5",
                first: "JOgRb",
                second: "_3Q0g1",
                three: "_33l2L",
                third: "_1MivT",
                four: "_18BoY",
                fourth: "_1P7KC"
            }
        },
        19122: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                overlay: "gDU26",
                icon: "_28Ee5",
                text: "_3D1Iu"
            }
        },
        34531: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                imageGallery: "_3uMAp",
                imageGalleryList: "_1WX5F",
                imageGalleryItem: "MkTEt",
                imageGalleryItemSpacer: "_2ppZW",
                imageGalleryItemImage: "_6CxGV",
                imageGalleryItemOverlay: "_7mUkD",
                selected: "_1KnO5",
                imageGalleryFooter: "PYlBE",
                focusAnimation: "_30mp5",
                focusAnimationKeyframes: "_3i50e"
            }
        },
        64917: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                key: "_3XnBm"
            }
        },
        16899: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                inputEmoji: "_3K0ya",
                wrapper: "_1paHP",
                textInput: "_3yEml",
                labelText: "_2YN70",
                clearInput: "_1U7gF",
                float: "_24wuh",
                textActive: "_1nfyj",
                suggestionsPositioner: "_25axk",
                suggestionsContainer: "_3X1SA",
                charCounter: "_3yMv6",
                inputControls: "_202sS",
                charCounterWithClearBtn: "T2VTG",
                spacer: "_3vk_J",
                noPlaceholder: "_1KJOl",
                buttonContainer: "_3Ai1P",
                active: "_2359L"
            }
        },
        60039: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                container: "_3cOtp",
                body: "_1YLvc"
            }
        },
        85747: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                container: "_1w1m1",
                disabled: "_3Sg2g",
                count: "ItnCt",
                large: "_3OTTU"
            }
        },
        82823: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                tabContainer: "_2kl47",
                tab: "_3fLXe",
                selected: "_2TdgQ"
            }
        },
        39567: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                versionInfo: "AwT3E"
            }
        },
        52144: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                positioner: "_388vZ",
                container: "ewANj",
                resizableInput: "_1L8rJ",
                emojiButton: "_3tKNQ",
                buttonIconWrapper: "_1F5dF",
                inputContainer: "_3DCJ3",
                hiddenText: "_269u7",
                hiddenTextLine: "_3F7_-",
                emojiPlaceholder: "_39TQD"
            }
        },
        50907: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                container: "_2nStn",
                inputContainer: "_1VmmK",
                videoCaption: "_2M4pc",
                buttonContainer: "_26J91",
                clearBtn: "_3EUIt",
                inputEmoji: "I1HlI",
                charCounter: "_3HWI2",
                suggestionsPositioner: "_3-qS1",
                suggestionsContainer: "_1Uy4i",
                secondaryButtonContainer: "_3g507"
            }
        },
        30635: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                thumb: "_2AkjL",
                active: "_31gut",
                bodyWrapper: "_1iECW",
                body: "_1hZLd",
                bodyIcon: "_299B_",
                btnDelete: "_1By33"
            }
        },
        90388: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                container: "_34aQy",
                header: "qAj2u",
                headerRight: "_3PqRX",
                canvasContainer: "_1PFn9",
                cropRotateContainer: "_3zRbB",
                closeButton: "_1gvdP",
                closeButtonPlaceholder: "_1Ao72",
                canvas: "_153i9",
                footer: "_1nPzf",
                bottomToolbar: "_1nNuD",
                captionInputContainer: "_1iQr1",
                captionInputHidden: "_6dYhh"
            }
        },
        79334: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                container: "_1Mcu-",
                previewOnly: "_2NB7f",
                dropOverlay: "_1PdGl",
                dropOverlayOutline: "_2HexZ",
                spinner: "pzFG8",
                footer: "_1HI4Y",
                addMediaButton: "_1xotB",
                addMediaButtonDisabled: "WAMhx",
                filmstripContainer: "_1vAZI",
                thumbs: "_7Tfhi",
                sendButton: "_33pCO",
                captureFooter: "_1z1Aw"
            }
        },
        10706: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                container: "_3gx1m",
                cropperContainer: "_2mSFk"
            }
        },
        45134: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                body: "_25wph",
                previewContainer: "OW_mU",
                previewIcon: "_4FGL4",
                header: "_1Xi6x",
                metadata: "_3QpE7"
            }
        },
        84130: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                container: "_2oWjT",
                header: "Ku3Q6",
                title: "_2RTJr",
                pageCount: "_1aYm8",
                closeButton: "_3gqDa"
            }
        },
        58099: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                container: "jcXC6"
            }
        },
        91976: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                container: "_2SXhH",
                footer: "UJ-0N"
            }
        },
        86382: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                container: "_2wtUo",
                disabled: "wZyqj",
                icon: "ZZ0GN",
                rotate: "_2X1cd",
                body: "_2O4Bw",
                caret: "_104hn"
            }
        },
        4837: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                container: "_3eK79",
                colorChipsContainer: "_1E-L7"
            }
        },
        88501: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                colorButton: "_2J8i-",
                primaryColorChip: "fteqj",
                primaryColorChipMedium: "_1Rjww",
                secondaryColorChip: "_1H9V5",
                active: "_3Jsf_",
                hover: "_1jiBu",
                selected: "_1lanH",
                colorChipWithBorder: "_2WYx6"
            }
        },
        60755: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                container: "_1uNZ6",
                input: "_1bDiJ"
            }
        },
        50889: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                canvas: "_3ZCwl",
                cursor: "_1YJQa"
            }
        },
        90560: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                container: "fZGUF"
            }
        },
        52418: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                container: "_1LRKO",
                rotateLeftButton: "_3dKFO"
            }
        },
        43384: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                container: "QUfeO",
                fontLabel: "_3OMGG",
                icon: "_3SJCV"
            }
        },
        16702: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                item: "_1j1xr",
                selected: "_2DKLD",
                sansSerif: "_106wS",
                serif: "_1yqqW",
                noricanRegular: "bzq8z",
                bryndanWrite: "_3Pj9c",
                oswaldHeavy: "ah3iR",
                alignmentContainer: "_2lKFu",
                alignmentIcon: "mi3vs",
                alignmentIconSelected: "_1KlZW"
            }
        },
        89046: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                cirle: "_10ZsU",
                circleFilled: "_1ZATr",
                unchecked: "_1B4g5",
                checked: "_3s-4-"
            }
        },
        60349: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                container: "_1_bv-",
                thicknessButton: "_3bAiP",
                thicknessChip: "_3iRrK",
                selected: "_32C9L"
            }
        },
        29351: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                inputContainer: "XVAlv",
                label: "_3zFV7",
                input: "_3RaCQ"
            }
        },
        77046: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                container: "JKr_m",
                media: "_3R3yC"
            }
        },
        71003: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                container: "_3fFxj",
                media: "_3lqv9",
                document: "hH6sl",
                text: "eAWMI",
                icon: "fDWKK"
            }
        },
        58523: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                container: "_1ULgK",
                media: "_2gN82",
                img: "OunMM",
                audio: "_3ZDt1",
                videoContainer: "_33jN5",
                spinner: "_1-L7X",
                video: "_2Vd8_",
                staticPreview: "sWhPU"
            }
        },
        38728: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                container: "_2nVq-",
                preview: "_1K_xd",
                caption: "_3xLDc",
                img: "_2zsdh",
                imgBorder: "_2Cuay"
            }
        },
        60994: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                text: "woR8K"
            }
        },
        88191: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                list: "_2i0C9",
                hint: "_3sZ4R",
                button: "AoASc"
            }
        },
        26616: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                container: "_3zKdl",
                body: "Sy3TC",
                captionInput: "_32AUO",
                footer: "_11gZr",
                retakeBtn: "rKFEM",
                retakeIcon: "_2rZzC",
                caption: "_1sxcB",
                videoContainer: "_2xIhM",
                video: "_2jZjN",
                btn: "_2kkeT",
                videoInactive: "_2eCp4",
                btnSend: "_1103Z",
                image: "_288ya",
                snapshot: "_3sE1m"
            }
        },
        33621: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                newGroupButton: "EptxG"
            }
        },
        40261: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                icon: "_2WtuC",
                body: "_3TCJd",
                spinner: "_1PKms",
                ack: "YYcY9",
                statusBlue: "_13UwK"
            }
        },
        25958: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                section: "Yc7EA",
                container: "_3Q-IP",
                control: "_2-cwr",
                label: "_22inq"
            }
        },
        45082: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                dropOverlay: "PHaD9",
                dropOverlayOutline: "WsbTY"
            }
        },
        65548: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                btnSend: "_1WEiG",
                attributionLink: "_4yicW",
                mediaBody: "_1YZ48",
                attribution: "_1nd00",
                footer: "iajo1",
                containerBackground: "_3rPvK",
                retake: "_3r-Fa",
                retakeIcon: "_3SS26",
                mediaElementBase: "_3ULIF",
                mediaElement: "_38bBM _3ULIF"
            }
        },
        214: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                mediaViewerImg: "_2rSfC",
                cropOverlay: "pKKiG"
            }
        },
        50922: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                scaler: "_3QxRj",
                scalerButton: "P6r3N"
            }
        },
        83123: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                wrapper: "fvxZ_",
                icon: "_3kxe5",
                text: "sfUBV"
            }
        },
        57363: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                linkContainer: "_3eSYR",
                descContainer: "_1r8tU",
                icon: "_3qnQ8"
            }
        },
        26297: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                confirmationText: "_2rM2V"
            }
        },
        67371: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                title: "_3X4ur",
                titleIcon: "_3v5-C",
                ack: "_3hJA9",
                statusBlue: "_31P1q",
                forwardCount: "_36jfD",
                spinner: "_3pJTm",
                list: "_34Zzk",
                footer: "W5HdQ"
            }
        },
        4025: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                commentInput: "_2_o99",
                search: "_1Plju",
                groupInfo: "_2wLei",
                onSendInvite: "_2-WpU"
            }
        },
        77798: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                animation: "o43XS",
                "play-ltr": "_1-zyO",
                playLtr: "_1-zyO",
                "play-rtl": "_27Hce",
                playRtl: "_27Hce",
                versionInfo: "_1hWGI"
            }
        },
        95694: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                container: "Ph7CX",
                list: "_3_bJS",
                section: "_3FmxE",
                action: "_1rse8",
                shortcut: "_1Cbf3"
            }
        },
        66995: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                container: "srSIT",
                wallpaperColorCanvas: "_33YuY",
                wallpaperColorEmpty: "_1BHKm",
                canvasActive: "_3o6gY",
                canvasHover: "_3zuY0"
            }
        },
        35180: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                addLabelBtContainer: "ohbFn"
            }
        },
        64791: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                container: "_2BtE_",
                textContainer: "_2Tvyf",
                spinner: "HYKvS"
            }
        },
        50521: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                container: "_2136P",
                list: "C1Dd9",
                header: "K1c_P",
                item: "_16f8P",
                right: "DMk3i",
                left: "_1mO8w",
                close: "_38Gu8",
                name: "_2z4ea",
                time: "_4VLPt"
            }
        },
        94692: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                wrapper: "_9Gs_R",
                offline: "_3rEcJ",
                circle: "_2Xn1u",
                text: "_1nFpn",
                notification: "p9CjV",
                ended: "_2OrJW",
                lastUpdated: "_3VPfk"
            }
        },
        26658: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                wrapper: "_26J0I",
                inactive: "_2ZG5x",
                offline: "Pc7bU",
                circle: "_1487t",
                text: "_2WNWn",
                backToCenter: "_3LWZ9",
                visible: "_2Ozk7"
            }
        },
        89332: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                container: "_2BPRJ",
                map: "_312iE",
                authFailed: "xgGDH",
                loading: "L5P7F"
            }
        },
        92018: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                container: "_3rs7K",
                selected: "_10G_J",
                glow: "h5TUN",
                stale: "_3WyhQ",
                expired: "_1HO_K",
                pin: "_2JeQm"
            }
        },
        6304: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                list: "D0Q5P",
                stopSharingButton: "_8wYL"
            }
        },
        22828: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                popup: "_1O7kH",
                container: "_1qWAL",
                twoLines: "_2dn9y",
                name: "_2UN5N",
                status: "_1fM0V",
                menuButton: "_2UenO",
                triangle: "_1NoUg"
            }
        },
        94831: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                actionBtns: "_1s6Xm",
                newLabelBtn: "_3bYuL",
                plus: "_2ZM_7"
            }
        },
        25850: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                nextButton: "_1Opmc",
                section: "_1p7Ee",
                label: "_1I3g8",
                control: "gwZYu",
                header: "_1AdYi",
                chevronIcon: "_3Xfdv"
            }
        },
        48566: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                spinner: "_27bPO",
                search: "_3zFPA",
                inputarea: "_1x9wV",
                inputLine: "etp_f",
                contacts: "_2DdHI",
                drawerSection: "_37Xh5",
                inputareaSizer: "_2-opG"
            }
        },
        35456: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                photoPickerWrapper: "_1Mc0y",
                scale: "_55HVY",
                nameWrapper: "_2LTDQ",
                "well-animation": "_1EgwP",
                wellAnimation: "_1EgwP",
                phoneIcon: "_9P72S",
                phoneField: "_1zywm",
                infoText: "_3FDYs"
            }
        },
        83968: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                text: "_2QEzO",
                checkbox: "_3xbR9",
                header: "_1_8IZ"
            }
        },
        50717: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                container: "_1J075",
                section: "_2BZQN",
                control: "_1iSYt",
                label: "_3AXj8",
                disabled: "_1Aj3d"
            }
        },
        78350: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                more: "_394Lu",
                hotKeyWraper: "_3lwKF"
            }
        },
        55771: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                body: "nWPOn",
                vcardWrapper: "j80SY",
                btnContainer: "_386ov",
                btnPosition: "_3o41r"
            }
        },
        98129: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                wallpaperApplyDoodle: "_1aWJq",
                checkboxLabel: "XvSmy",
                wallpaperColorGrid: "KzJy3",
                wallpaperColorCanvas: "Iwkc0",
                wallpaperDefaultTitle: "_2jzUd",
                wallpaperColorEmpty: "_1qqLM",
                canvasHover: "_3Mp8z",
                canvasActive: "_2MCR7",
                canvasDefault: "GRVkn"
            }
        },
        15805: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                date: "DFImE",
                info: "_22yfR"
            }
        },
        16248: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                price: "_3VVtW",
                separator: "I8-Ql",
                quantity: "_3hg85"
            }
        },
        8371: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                descriptionText: "HZZS9",
                loadingSpinner: "_1D_wr"
            }
        },
        40198: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                nameContainer: "_29TgP",
                nameIcon: "_2VsX7",
                nameEdit: "ajaQb",
                listContainer: "g5Pwo",
                footer: "gsAan",
                saveButton: "_2992-",
                operation: "Ky876",
                spinner: "_10Kpf",
                isSending: "_2saS4",
                container: "g0kY2",
                loadingSpinner: "_1mBPZ"
            }
        },
        27334: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                productWrapper: "nwLZK",
                drawerHeader: "_9loHN",
                drawerHeaderButtonContainer: "_3UHa1",
                deleteButtonContainer: "_1GJGf",
                isSending: "R3KoU",
                spinner: "_3Of6S",
                hiddenLabel: "_1wTLv",
                hiddenDescr: "_133oH",
                hiddenContainer: "dhIGH"
            }
        },
        29408: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                addItemPlaceholder: "_13K6_",
                placeholderIcon: "_21z7W",
                placeholderContainer: "j43hv",
                divider: "_1fHvf",
                isLoading: "_3cWYA",
                spinner: "_3skoT"
            }
        },
        66493: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                drawerHeader: "_361UW",
                productName: "_3oqif",
                buttonSeparator: "_1dmnE",
                drawerHeaderButtonContainer: "G-hW5",
                productWrapper: "_2OajO",
                businessInfoTitle: "_2Wol_"
            }
        },
        79829: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                root: "_28jDA",
                appealText: "Cifen",
                icon: "_3fJrr",
                text: "_2ZAuC"
            }
        },
        67268: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                collectionIcon: "_1hToA",
                iconContainer: "_16Vdq"
            }
        },
        29025: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                loadingSpinner: "_15oXt"
            }
        },
        34860: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                panel: "_2k6IR",
                tileContainer: "hFwyO",
                imageTile: "_37Ag3",
                imageThumb: "_2gPsu",
                deleteIcon: "_2ICL9",
                btnAddContainer: "_JDHz",
                btnAddText: "_1rMC8",
                errorMessage: "_3Ueu_"
            }
        },
        89557: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                list: "_3hjFg",
                noSections: "_3UBYX"
            }
        },
        14644: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                title: "jm-c-"
            }
        },
        32375: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                disabled: "_29h2z",
                title: "_2AWxj"
            }
        },
        49787: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                dimmed: "khEuM",
                verified: "_3e7DF",
                icon: "_3OVY5"
            }
        },
        39756: (e, t, a) => {
            "use strict";
            a.r(t), a.d(t, {
                default: () => n
            });
            const n = {
                textThumb: "qgEhU",
                thumbSizeSmall: "_14N8a",
                thumbSizeLarge: "_2dKet",
                statusImage: "_37ckN",
                statusImageFallbackBackground: "_14MS9",
                container: "_3xFA4",
                thumbContainer: "_1cDhn"
            }
        }
    }
]);